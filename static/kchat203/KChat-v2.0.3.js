!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!b[e]||!v[e])return;for(var n in v[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(A[n]=t[n]);0==--h&&0===m&&S()}(e,n),t&&t(e,n)};var n,r=!0,o="71aa4bd1e952878cb8e5",i={},s=[],a=[];function u(e){var t=_[e];if(!t)return w;var r=function(r){return t.hot.active?(_[r]?-1===_[r].parents.indexOf(e)&&_[r].parents.push(e):(s=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),s=[]),w(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return w[e]},set:function(t){w[e]=t}}};for(var i in w)Object.prototype.hasOwnProperty.call(w,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===d&&f("prepare"),m++,w.e(e).then(t,(function(e){throw t(),e}));function t(){m--,"prepare"===d&&(y[e]||T(e),0===m&&0===h&&S())}},r.t=function(e,t){return 1&t&&(e=r(e)),w.t(e,-2&t)},r}function c(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:C,apply:x,status:function(e){if(!e)return d;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:i[e]};return n=void 0,t}var l=[],d="idle";function f(e){d=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var p,A,g,h=0,m=0,y={},v={},b={};function E(e){return+e+""===e?+e:e}function C(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=w.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return f("idle"),null;v={},y={},b=e.c,g=e.h,f("prepare");var t=new Promise((function(e,t){p={resolve:e,reject:t}}));A={};return T(0),"prepare"===d&&0===m&&0===h&&S(),t}));var t}function T(e){b[e]?(v[e]=!0,h++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=w.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):y[e]=!0}function S(){f("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then((function(){return x(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in A)Object.prototype.hasOwnProperty.call(A,n)&&t.push(E(n));e.resolve(t)}}function x(t){if("ready"!==d)throw new Error("apply() is only allowed in ready status");var n,r,a,u,c;function l(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,s=o.chain;if((u=_[i])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(u.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var a=0;a<u.parents.length;a++){var c=u.parents[a],l=_[c];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(l.hot._acceptedDependencies[i]?(n[c]||(n[c]=[]),p(n[c],[i])):(delete n[c],t.push(c),r.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var h={},m=[],y={},v=function(){console.warn("[HMR] unexpected require("+T.moduleId+") to disposed module")};for(var C in A)if(Object.prototype.hasOwnProperty.call(A,C)){var T;c=E(C);var S=!1,x=!1,B=!1,I="";switch((T=A[C]?l(c):{type:"disposed",moduleId:C}).chain&&(I="\nUpdate propagation: "+T.chain.join(" -> ")),T.type){case"self-declined":t.onDeclined&&t.onDeclined(T),t.ignoreDeclined||(S=new Error("Aborted because of self decline: "+T.moduleId+I));break;case"declined":t.onDeclined&&t.onDeclined(T),t.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+T.moduleId+" in "+T.parentId+I));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(T),t.ignoreUnaccepted||(S=new Error("Aborted because "+c+" is not accepted"+I));break;case"accepted":t.onAccepted&&t.onAccepted(T),x=!0;break;case"disposed":t.onDisposed&&t.onDisposed(T),B=!0;break;default:throw new Error("Unexception type "+T.type)}if(S)return f("abort"),Promise.reject(S);if(x)for(c in y[c]=A[c],p(m,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,c)&&(h[c]||(h[c]=[]),p(h[c],T.outdatedDependencies[c]));B&&(p(m,[T.moduleId]),y[c]=v)}var R,O=[];for(r=0;r<m.length;r++)c=m[r],_[c]&&_[c].hot._selfAccepted&&y[c]!==v&&O.push({module:c,errorHandler:_[c].hot._selfAccepted});f("dispose"),Object.keys(b).forEach((function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)}));for(var N,M,U=m.slice();U.length>0;)if(c=U.pop(),u=_[c]){var L={},F=u.hot._disposeHandlers;for(a=0;a<F.length;a++)(n=F[a])(L);for(i[c]=L,u.hot.active=!1,delete _[c],delete h[c],a=0;a<u.children.length;a++){var P=_[u.children[a]];P&&((R=P.parents.indexOf(c))>=0&&P.parents.splice(R,1))}}for(c in h)if(Object.prototype.hasOwnProperty.call(h,c)&&(u=_[c]))for(M=h[c],a=0;a<M.length;a++)N=M[a],(R=u.children.indexOf(N))>=0&&u.children.splice(R,1);for(c in f("apply"),o=g,y)Object.prototype.hasOwnProperty.call(y,c)&&(e[c]=y[c]);var j=null;for(c in h)if(Object.prototype.hasOwnProperty.call(h,c)&&(u=_[c])){M=h[c];var D=[];for(r=0;r<M.length;r++)if(N=M[r],n=u.hot._acceptedDependencies[N]){if(-1!==D.indexOf(n))continue;D.push(n)}for(r=0;r<D.length;r++){n=D[r];try{n(M)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:c,dependencyId:M[r],error:e}),t.ignoreErrored||j||(j=e)}}}for(r=0;r<O.length;r++){var k=O[r];c=k.module,s=[c];try{w(c)}catch(e){if("function"==typeof k.errorHandler)try{k.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:n,originalError:e}),t.ignoreErrored||j||(j=n),j||(j=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:c,error:e}),t.ignoreErrored||j||(j=e)}}return j?(f("fail"),Promise.reject(j)):(f("idle"),new Promise((function(e){e(m)})))}var _={};function w(t){if(_[t])return _[t].exports;var n=_[t]={i:t,l:!1,exports:{},hot:c(t),parents:(a=s,s=[],a),children:[]};return e[t].call(n.exports,n,n.exports,u(t)),n.l=!0,n.exports}return w.m=e,w.c=_,w.d=function(e,t,n){w.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},w.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},w.t=function(e,t){if(1&t&&(e=w(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(w.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)w.d(n,r,function(t){return e[t]}.bind(null,r));return n},w.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return w.d(t,"a",t),t},w.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},w.p="",w.h=function(){return o},u(186)(w.s=186)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e[e.UNKNOW=4]="UNKNOW"}(t.SocketState||(t.SocketState={})),function(e){e[e.SEND=0]="SEND",e[e.RECV=1]="RECV",e[e.SEND_RECV=2]="SEND_RECV"}(t.WebrtcMode||(t.WebrtcMode={})),function(e){e[e.LIVE=1]="LIVE",e[e.VIDEO=2]="VIDEO"}(t.LiveType||(t.LiveType={})),function(e){e[e.UNKNOW=0]="UNKNOW",e[e.PTT=1]="PTT",e[e.LIVE=2]="LIVE",e[e.VIDEO=3]="VIDEO",e[e.MULTIVIDEO=4]="MULTIVIDEO"}(t.TalkType||(t.TalkType={})),function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO"}(t.VideoType||(t.VideoType={})),function(e){e[e.NONE=0]="NONE",e[e.VIDEO_ONLY=1]="VIDEO_ONLY",e[e.AUDIO_ONLY=2]="AUDIO_ONLY",e[e.AUDIO_VIDEO=3]="AUDIO_VIDEO"}(t.VideoOps||(t.VideoOps={})),function(e){e[e.CAMERA_OFF=0]="CAMERA_OFF",e[e.CAMERA_ON=1]="CAMERA_ON",e[e.MICRO_OFF=2]="MICRO_OFF",e[e.MICRO_ON=3]="MICRO_ON"}(t.VideoAction||(t.VideoAction={})),function(e){e[e.OFFLINE=0]="OFFLINE",e[e.ONLINE=1]="ONLINE",e[e.BUSY=2]="BUSY",e[e.AWAY=3]="AWAY",e[e.ABNORMAL=4]="ABNORMAL"}(t.StatusType||(t.StatusType={})),function(e){e[e.SELF=0]="SELF",e[e.OTHER=1]="OTHER"}(t.MessageTarget||(t.MessageTarget={})),function(e){e[e.REQUEST=0]="REQUEST",e[e.RESPONSE=1]="RESPONSE",e[e.PUSH=2]="PUSH"}(t.OptType||(t.OptType={})),function(e){e[e.FORWARD=1]="FORWARD",e[e.BACK=2]="BACK"}(t.HistoryReverse||(t.HistoryReverse={})),function(e){e[e.USER=0]="USER",e[e.GROUP=1]="GROUP",e[e.BROADCAST=2]="BROADCAST"}(t.ChatType||(t.ChatType={})),function(e){e[e.USER=2]="USER",e[e.LINE=3]="LINE"}(t.SenderType||(t.SenderType={})),function(e){e[e.ADD=0]="ADD",e[e.DEL=1]="DEL"}(t.GroupModifyType||(t.GroupModifyType={})),function(e){e[e.FIXED=0]="FIXED",e[e.TEMP=1]="TEMP",e[e.SINGLE=2]="SINGLE",e[e.GUARD=3]="GUARD"}(t.GroupType||(t.GroupType={})),function(e){e[e.ADD=0]="ADD",e[e.DEL=1]="DEL"}(t.MarkModifyType||(t.MarkModifyType={})),function(e){e[e.UP=0]="UP",e[e.DISTURB=1]="DISTURB"}(t.MarkType||(t.MarkType={})),function(e){e[e.ONE=0]="ONE",e[e.TWO=1]="TWO",e[e.THREE=2]="THREE",e[e.FOUR=3]="FOUR",e[e.FIVE=4]="FIVE",e[e.SIX=5]="SIX",e[e.SEVEN=6]="SEVEN",e[e.EIGHT=7]="EIGHT",e[e.NINE=8]="NINE",e[e.TEN=9]="TEN",e[e.DEFAULT=10]="DEFAULT"}(t.GroupPriority||(t.GroupPriority={})),function(e){e[e.TEXT=45]="TEXT",e[e.FILE=43]="FILE",e[e.END_SEND_FILE=44]="END_SEND_FILE",e[e.START_SPEAK=41]="START_SPEAK",e[e.END_SPEAK=42]="END_SPEAK",e[e.ACTIVE_CALL=40]="ACTIVE_CALL",e[e.LOCATION=54]="LOCATION",e[e.STATUS=52]="STATUS",e[e.APPLY_NEW_CHANNEL=55]="APPLY_NEW_CHANNEL",e[e.INVITE_VIDEO=60]="INVITE_VIDEO",e[e.ACCEPT_VIDEO=61]="ACCEPT_VIDEO",e[e.REFUSE_VIDEO=62]="REFUSE_VIDEO",e[e.QUIT_VIDEO=63]="QUIT_VIDEO",e[e.APPLY_JOIN=66]="APPLY_JOIN",e[e.GET_GROUP_INFO=67]="GET_GROUP_INFO",e[e.APPLY_UPLOAD_VIDEO=68]="APPLY_UPLOAD_VIDEO",e[e.ACCEPT_UPLOAD_VIDEO=69]="ACCEPT_UPLOAD_VIDEO",e[e.REFUSE_UPLOAD_VIDEO=70]="REFUSE_UPLOAD_VIDEO",e[e.TOOGLE_MEDIA_TYPE=72]="TOOGLE_MEDIA_TYPE",e[e.DEVICE_LOGIN=80]="DEVICE_LOGIN",e[e.DEVICE_LOGOUT=81]="DEVICE_LOGOUT",e[e.GET_OWNER_VIDEO_INFO=82]="GET_OWNER_VIDEO_INFO",e[e.STREAM_MONITOR=73]="STREAM_MONITOR",e[e.TRANSPARENT=101]="TRANSPARENT",e[e.RECALL=90]="RECALL",e[e.BILLBOARD=91]="BILLBOARD",e[e.IM_COMBIND=92]="IM_COMBIND",e[e.IM_REPLY=93]="IM_REPLY"}(t.MessageType||(t.MessageType={})),function(e){e.SHAKE="kc-shake",e.NONE="none",e.ZOOM_IN="kc-zoom-in",e.ZOOM_OUT="kc-zoom-out",e.SLIDE_IN_RIGHT="kc-slide-in-right",e.SLIDE_IN_LEFT="kc-slide-in-left",e.SLIDE_IN_UP="kc-slide-in-up",e.SLIDE_IN_DOWN="kc-slide-in-down",e.SLIDE_OUT_LEFT="kc-slide-out-left",e.SLIDE_OUT_RIGHT="kc-slide-out-right",e.SLIDE_OUT_UP="kc-slide-out-up",e.SLIDE_OUT_DOWN="kc-slide-out-down",e.ROTATE="kc-rotate",e.FADE_IN_LEFT="kc-fade-in-left",e.FADE_IN_TOP="kc-fade-in-top",e.MESSAGE_IN="kc-message-in",e.MESSAGE_OUT="kc-message-out"}(t.AnimationType||(t.AnimationType={})),function(e){e.LEFT_TOP="left top",e.RIGHT_TOP="right top",e.LEFT_BOTTOM="left bottom",e.RIGHT_BOTTOM="right bottom",e.LEFT_CENTER="lfet center",e.RIGHT_CENTER="right center",e.TOP_CENTER="top center",e.BOTTOM_CENTER="bottom center",e.CENTER="center center"}(t.AnimationOrigin||(t.AnimationOrigin={})),function(e){e.LINEAR="linear",e.EASE="ease",e.EASE_IN="ease-in",e.EASE_OUT="ease-out",e.EASE_IN_OUT="ease-in-out"}(t.AnimationTimeFunction||(t.AnimationTimeFunction={})),function(e){e.NORMAL="normal",e.ALTERNATE="alternate"}(t.AnimationDirection||(t.AnimationDirection={})),function(e){e[e.TEXT=0]="TEXT",e[e.PTT=1]="PTT",e[e.IMAGE=2]="IMAGE",e[e.VIDEO_FILE=3]="VIDEO_FILE",e[e.FILE=5]="FILE",e[e.VOICE_FILE=6]="VOICE_FILE",e[e.NOTICE=7]="NOTICE",e[e.LOCATION=9]="LOCATION",e[e.SHARE=11]="SHARE",e[e.GROUP_ANNOUNCEMENT=12]="GROUP_ANNOUNCEMENT",e[e.IM_COMBIND=13]="IM_COMBIND",e[e.IM_REPLY=14]="IM_REPLY",e[e.POKE=15]="POKE",e[e.BIDVIDEO=16]="BIDVIDEO",e[e.BIDVOICE=17]="BIDVOICE",e[e.LIVE=18]="LIVE",e[e.REVOKE=19]="REVOKE",e[e.CROUP_CREATE=100]="CROUP_CREATE",e[e.GROUP_JOIN=101]="GROUP_JOIN",e[e.GROUP_KICK=102]="GROUP_KICK",e[e.GROUP_RENAME=103]="GROUP_RENAME",e[e.GROUP_BREAKIN=104]="GROUP_BREAKIN",e[e.GROUP_BREAKOUT=105]="GROUP_BREAKOUT",e[e.GROUP_DISMISS=106]="GROUP_DISMISS",e[e.GROUP_QUIT=107]="GROUP_QUIT",e[e.VIDEO=999]="VIDEO",e[e.OTHER=1e3]="OTHER"}(t.SignalType||(t.SignalType={})),function(e){e.MOUNTED="mounted"}(t.HookType||(t.HookType={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.TOKEN=1]="TOKEN",e[e.SECURITY=2]="SECURITY",e[e.NODSTSECURITY=3]="NODSTSECURITY"}(t.LoginType||(t.LoginType={})),function(e){e[e.FORCE_LOGIN=0]="FORCE_LOGIN",e[e.BE_FORCE_LOGIN=1]="BE_FORCE_LOGIN",e[e.OFF_LINE=2]="OFF_LINE",e[e.TIME_OUT=3]="TIME_OUT"}(t.LoginStatus||(t.LoginStatus={})),function(e){e[e.LOGIN_START=0]="LOGIN_START",e[e.LOGIN=1]="LOGIN",e[e.FORCE_LOGIN=2]="FORCE_LOGIN",e[e.LOGIN_OUT=3]="LOGIN_OUT",e[e.LOGIN_SERVER_ERROR=4]="LOGIN_SERVER_ERROR",e[e.DRAG_CONTAINER=5]="DRAG_CONTAINER",e[e.LOGIN_SUCCESS=6]="LOGIN_SUCCESS",e[e.PANEL_TAB_CHANGE=7]="PANEL_TAB_CHANGE",e[e.TOGGLE_CHAT_AREA_CONTENT=8]="TOGGLE_CHAT_AREA_CONTENT",e[e.CHAT_AREA_SHOW_GROUP=9]="CHAT_AREA_SHOW_GROUP",e[e.CHAT_AREA_SHOW_USER=10]="CHAT_AREA_SHOW_USER",e[e.SHOW_CUT_IMG=11]="SHOW_CUT_IMG",e[e.PANEL_SEARCHING=12]="PANEL_SEARCHING",e[e.SEARCH_CONTACTS=13]="SEARCH_CONTACTS",e[e.PANEL_SEARCH_CLOSE=14]="PANEL_SEARCH_CLOSE",e[e.SELECT_MEMBER_SEARCH_CLOSE=15]="SELECT_MEMBER_SEARCH_CLOSE",e[e.COLLECTION_SEARCH=16]="COLLECTION_SEARCH",e[e.SHOW_SEARCH_RESULT=17]="SHOW_SEARCH_RESULT",e[e.MEMBER_SELECT=18]="MEMBER_SELECT",e[e.MEMBER_DESELECT=19]="MEMBER_DESELECT",e[e.CHAT_FOOTER_TOOL_TIP=20]="CHAT_FOOTER_TOOL_TIP",e[e.SHOW_SELECT_MEMBER=21]="SHOW_SELECT_MEMBER",e[e.SELECTED_MEMBER_COMMIT=22]="SELECTED_MEMBER_COMMIT",e[e.SELECTED_MEMBER_CANCEL=23]="SELECTED_MEMBER_CANCEL",e[e.CHAT_FOOTER_MENU_CLICK=24]="CHAT_FOOTER_MENU_CLICK",e[e.SCREEN_FORWARD=25]="SCREEN_FORWARD",e[e.SCREENSHOT_SUBMIT=26]="SCREENSHOT_SUBMIT",e[e.MULTI_FORWARD_MENU_SHOW=27]="MULTI_FORWARD_MENU_SHOW",e[e.UPDATE_CUR_CHAT_TARGET=28]="UPDATE_CUR_CHAT_TARGET",e[e.SEND_FILE_START=29]="SEND_FILE_START",e[e.SEND_FILE_END=30]="SEND_FILE_END",e[e.UPDATE_PROGRESS=31]="UPDATE_PROGRESS",e[e.FORWARD_FILE_START=32]="FORWARD_FILE_START",e[e.FORWARD_FILE_END=33]="FORWARD_FILE_END",e[e.BROADCAST_FORWARD_MESSAGE=34]="BROADCAST_FORWARD_MESSAGE",e[e.SEND_TEXT_START=35]="SEND_TEXT_START",e[e.SEND_TEXT_END=36]="SEND_TEXT_END",e[e.SEND_IM_REPLY=37]="SEND_IM_REPLY",e[e.SEND_IM_COMBIND=38]="SEND_IM_COMBIND",e[e.SEND_AUDIO_END=39]="SEND_AUDIO_END",e[e.SHOW_RIGHT_MOUSE=40]="SHOW_RIGHT_MOUSE",e[e.CLICK_RIGHT_MOUSE=41]="CLICK_RIGHT_MOUSE",e[e.SET_RIGHT_MOUSE=42]="SET_RIGHT_MOUSE",e[e.ADD_UNREAD_MSG=43]="ADD_UNREAD_MSG",e[e.UPDATE_LATEST_MSG=44]="UPDATE_LATEST_MSG",e[e.UPDATE_TOTAL_MSG_LEN=45]="UPDATE_TOTAL_MSG_LEN",e[e.COPY_MESSAGE=46]="COPY_MESSAGE",e[e.EXPOSE_STAR_ICON_POS=47]="EXPOSE_STAR_ICON_POS",e[e.SEND_EMPTY_MESSAGE=48]="SEND_EMPTY_MESSAGE",e[e.SEND_NOT_EMPTY_MESSAGE=49]="SEND_NOT_EMPTY_MESSAGE",e[e.GET_SHORTCUT_KEY_TYPE=50]="GET_SHORTCUT_KEY_TYPE",e[e.INIT_PAGE=51]="INIT_PAGE",e[e.SELECT_PAGE=52]="SELECT_PAGE",e[e.RECV_INVITED=53]="RECV_INVITED",e[e.APPLY_JOIN=54]="APPLY_JOIN",e[e.UPDATE_LIVING_INFO_START=55]="UPDATE_LIVING_INFO_START",e[e.UPDATE_LIVING_INFO_END=56]="UPDATE_LIVING_INFO_END",e[e.TOP_CONTACTS_CHANGE=57]="TOP_CONTACTS_CHANGE",e[e.BROADCAST_PTT_STATUS=58]="BROADCAST_PTT_STATUS",e[e.BROADCAST_LIVE_STATUS=59]="BROADCAST_LIVE_STATUS",e[e.START_PTT_IN_LIVE=60]="START_PTT_IN_LIVE",e[e.END_PTT_IN_LIVE=61]="END_PTT_IN_LIVE",e[e.RECV_PTT_IN_LIVE=62]="RECV_PTT_IN_LIVE",e[e.BROADCAST_LIVE_TARGET=63]="BROADCAST_LIVE_TARGET",e[e.BROADCAST_ALL_REFUSE=64]="BROADCAST_ALL_REFUSE",e[e.BROADCAST_ACCEPT=65]="BROADCAST_ACCEPT",e[e.BROADCAST_QUIT=66]="BROADCAST_QUIT",e[e.DO_ACCEPT=67]="DO_ACCEPT",e[e.DO_REFUSE=68]="DO_REFUSE",e[e.DO_CANCEL=69]="DO_CANCEL",e[e.HANGUP_LIVE=70]="HANGUP_LIVE",e[e.TOGGLE_SETTING_VIEW=71]="TOGGLE_SETTING_VIEW",e[e.SELECT_COLLECTION_TYPE=72]="SELECT_COLLECTION_TYPE",e[e.ENTER_GROUP=73]="ENTER_GROUP",e[e.QUIT_GROUP=74]="QUIT_GROUP",e[e.DISSMISS_GROUP=75]="DISSMISS_GROUP",e[e.REMOVE_GROUP_MEMBER=76]="REMOVE_GROUP_MEMBER",e[e.MODIFY_GROUP_INFO=77]="MODIFY_GROUP_INFO",e[e.SHOW_MESSAGE=78]="SHOW_MESSAGE",e[e.SHOW_COMBIND_POPUP=79]="SHOW_COMBIND_POPUP",e[e.CLOSE_COMBIND_POPUP=80]="CLOSE_COMBIND_POPUP",e[e.MARK_TARGET=81]="MARK_TARGET",e[e.CHECK_TARGET_MARK=82]="CHECK_TARGET_MARK",e[e.UPDATE_LOCATION_ADDRESS=83]="UPDATE_LOCATION_ADDRESS",e[e.SHOW_LOCATION=84]="SHOW_LOCATION",e[e.SEND_LOCATION_START=85]="SEND_LOCATION_START",e[e.SEND_LOCATION_END=86]="SEND_LOCATION_END",e[e.SHOW_CONFIRM=87]="SHOW_CONFIRM",e[e.SHOW_IMAGE=88]="SHOW_IMAGE",e[e.CLICK_CONTROLLER=89]="CLICK_CONTROLLER",e[e.RESET_CONTROLLER=90]="RESET_CONTROLLER",e[e.DELETE_CONTACT=91]="DELETE_CONTACT",e[e.CHANGE_STAR_USER_INFO=92]="CHANGE_STAR_USER_INFO",e[e.CHANGE_HISTORY_USER_INFO=93]="CHANGE_HISTORY_USER_INFO",e[e.CHANGE_CHAT_AREA_USER_INFO=94]="CHANGE_CHAT_AREA_USER_INFO",e[e.CHANGE_GROUP_USER_INFO=95]="CHANGE_GROUP_USER_INFO",e[e.UPDATE_HEADER_BACK_STATUS=96]="UPDATE_HEADER_BACK_STATUS",e[e.GET_TARGET_INFO=97]="GET_TARGET_INFO",e[e.ADD_CONTACT=98]="ADD_CONTACT",e[e.GROUP_OPERATION=99]="GROUP_OPERATION",e[e.HIDE_JOIN_BAR=100]="HIDE_JOIN_BAR",e[e.CONTACT_LOADED=101]="CONTACT_LOADED",e[e.UPDATE_AT_BAR_STATUS=102]="UPDATE_AT_BAR_STATUS",e[e.RECALL_MESSAGE=103]="RECALL_MESSAGE",e[e.RECALL_EDIT=104]="RECALL_EDIT",e[e.UPDATE_GROUP_MRAK=105]="UPDATE_GROUP_MRAK"}(t.RxjsEventNames||(t.RxjsEventNames={})),function(e){e[e.CREATE=0]="CREATE",e[e.DISSMISS=1]="DISSMISS",e[e.QUIT=2]="QUIT",e[e.INVITE=3]="INVITE",e[e.REMOVE=4]="REMOVE"}(t.GroupOperate||(t.GroupOperate={})),function(e){e[e.HISTORY=0]="HISTORY",e[e.MAP=1]="MAP",e[e.IMAGE_DETAIL=2]="IMAGE_DETAIL",e[e.CONTAINER=3]="CONTAINER",e[e.LIVE=4]="LIVE",e[e.DEFAULT=5]="DEFAULT"}(t.ControllerType||(t.ControllerType={})),function(e){e[e.SMALL=0]="SMALL",e[e.BIG=1]="BIG",e[e.EXIT_BIG=2]="EXIT_BIG",e[e.CLOSE=3]="CLOSE"}(t.ControllerName||(t.ControllerName={})),function(e){e[e.WARNING=0]="WARNING",e[e.ERROR=1]="ERROR",e[e.SUCCESS=2]="SUCCESS",e[e.TIP=3]="TIP"}(t.GlobalMessageTip||(t.GlobalMessageTip={})),function(e){e[e.VOLUME=0]="VOLUME",e[e.VOLUME_OFF=1]="VOLUME_OFF",e[e.PTT=2]="PTT",e[e.PTT_SEND=3]="PTT_SEND",e[e.PTT_RECV_ONE=4]="PTT_RECV_ONE",e[e.PTT_RECV_TWO=5]="PTT_RECV_TWO",e[e.PTT_RECV_THREE=6]="PTT_RECV_THREE",e[e.PTT_RECV_FOUR=7]="PTT_RECV_FOUR",e[e.PTT_RECV_FIVE=8]="PTT_RECV_FIVE",e[e.LIVE=9]="LIVE",e[e.UNABLE_UPLOAD_LIVE=10]="UNABLE_UPLOAD_LIVE",e[e.HANGUP=11]="HANGUP"}(t.LiveToolType||(t.LiveToolType={})),function(e){e[e.HISTORY=0]="HISTORY",e[e.STAR=1]="STAR",e[e.MAP=2]="MAP",e[e.NONE=3]="NONE"}(t.PageType||(t.PageType={})),function(e){e[e.CHAT_CONTENT=0]="CHAT_CONTENT",e[e.COLLECTION=1]="COLLECTION",e[e.USER_INFO=2]="USER_INFO",e[e.GROUP_INFO=3]="GROUP_INFO",e[e.DEFAULT=4]="DEFAULT"}(t.ChatContentType||(t.ChatContentType={})),function(e){e[e.SEND_MESSAGE=0]="SEND_MESSAGE",e[e.SCREENSHOT=1]="SCREENSHOT",e[e.UNKNOW=2]="UNKNOW"}(t.ShortcutKeyType||(t.ShortcutKeyType={})),function(e){e[e.MARK_CONTACT=0]="MARK_CONTACT",e[e.CHAT_CONTENT=1]="CHAT_CONTENT",e[e.CHAT_HISTORY=2]="CHAT_HISTORY",e[e.STAR_LIST=3]="STAR_LIST",e[e.CONTACT_LIST=4]="CONTACT_LIST",e[e.SEARCH_RESULT=5]="SEARCH_RESULT"}(t.RightMouseType||(t.RightMouseType={})),function(e){e[e.COPY=0]="COPY",e[e.FORWARD=1]="FORWARD",e[e.FORWARD_MORE=2]="FORWARD_MORE",e[e.STAR=3]="STAR",e[e.CANCEL=4]="CANCEL",e[e.SAVE=5]="SAVE",e[e.CONTACT_REMOVE=6]="CONTACT_REMOVE",e[e.CONTACT_ISTOP=7]="CONTACT_ISTOP",e[e.CONTACT_ISTOP_CANCEL=8]="CONTACT_ISTOP_CANCEL",e[e.CONTACT_MUTE=9]="CONTACT_MUTE",e[e.CONTACT_MUTE_CANCEL=10]="CONTACT_MUTE_CANCEL",e[e.START_REMOVE=11]="START_REMOVE",e[e.VIEW_GROUP_DETAILS=12]="VIEW_GROUP_DETAILS",e[e.VIEW_USER_DETAILS=13]="VIEW_USER_DETAILS",e[e.RECALL=14]="RECALL",e[e.IM_REPLY=15]="IM_REPLY"}(t.RightMouseName||(t.RightMouseName={})),function(e){e[e.IMAGE=0]="IMAGE",e[e.FILE=1]="FILE",e[e.SCREENSHOT=2]="SCREENSHOT",e[e.MAP=3]="MAP",e[e.HISTORY=4]="HISTORY",e[e.PTT=5]="PTT",e[e.AUDIO=6]="AUDIO",e[e.VIDEO=7]="VIDEO",e[e.LIVE=8]="LIVE",e[e.VIDEO_CHAT=9]="VIDEO_CHAT",e[e.AUDIO_CHAT=10]="AUDIO_CHAT"}(t.MenuType||(t.MenuType={})),function(e){e[e.RECT=0]="RECT",e[e.ELLIPSIS=1]="ELLIPSIS",e[e.TEXT=2]="TEXT",e[e.BACK=3]="BACK",e[e.FORWARD=4]="FORWARD",e[e.CANCEL=5]="CANCEL",e[e.SUBMIT=6]="SUBMIT"}(t.ScreenshotFunctionMenuType||(t.ScreenshotFunctionMenuType={})),function(e){e[e.CREATE_GROUP=0]="CREATE_GROUP",e[e.FORWARD=1]="FORWARD",e[e.GROUP_ADD_MEMBER=2]="GROUP_ADD_MEMBER",e[e.GROUP_DEL_MEMBER=3]="GROUP_DEL_MEMBER",e[e.LIVE_INVITE_MEMBER=4]="LIVE_INVITE_MEMBER"}(t.SelectMemberType||(t.SelectMemberType={})),function(e){e.CONTACTS="contacts",e.ADDRESS_BOOK="addressBook",e.COLLECTION="collection",e.EQUIPMENT="equipment",e.SETTING="setting"}(t.PanelTabType||(t.PanelTabType={})),function(e){e[e.OLD=0]="OLD",e[e.PHONE=1]="PHONE",e[e.BODY_WORN_CAMERA=2]="BODY_WORN_CAMERA",e[e.WINDOWS_PC=3]="WINDOWS_PC",e[e.WEB_CHROME=4]="WEB_CHROME",e[e.WEB_MANAGEMENT=5]="WEB_MANAGEMENT",e[e.VEHICLE=6]="VEHICLE",e[e.INDIVIDUAL=7]="INDIVIDUAL",e[e.TACHOGRAPH=8]="TACHOGRAPH",e[e.TABLET_PC=9]="TABLET_PC",e[e.TWO_WAY_RADIO=10]="TWO_WAY_RADIO",e[e.PORTABLE=11]="PORTABLE",e[e.UAV=12]="UAV",e[e.CONTROL_BALL=13]="CONTROL_BALL",e[e.WEB_CHROME_SUP=14]="WEB_CHROME_SUP"}(t.DeviceType||(t.DeviceType={})),function(e){e[e.WEEK=0]="WEEK",e[e.MONTH=1]="MONTH",e[e.SEASON=2]="SEASON",e[e.ALL=3]="ALL"}(t.HistoryRange||(t.HistoryRange={})),function(e){e[e.ACCOUNT_SETTING=0]="ACCOUNT_SETTING",e[e.SHORTCUT_KEY=1]="SHORTCUT_KEY",e[e.OTHER_INFO=2]="OTHER_INFO"}(t.SettingType||(t.SettingType={})),function(e){e[e.ACCOUNT_IS_ANCHOR=3408]="ACCOUNT_IS_ANCHOR",e[e.CLIENT_NOT_SUPPORT=3409]="CLIENT_NOT_SUPPORT",e[e.REPEAT_INVITE=3410]="REPEAT_INVITE",e[e.DST_OFFLINE=3412]="DST_OFFLINE",e[e.ROOM_ERROR=3413]="ROOM_ERROR",e[e.TALK_COMPLETED=3414]="TALK_COMPLETED",e[e.NOT_IN_ROOM=3415]="NOT_IN_ROOM",e[e.SN_NOT_CONSISTENCE=3416]="SN_NOT_CONSISTENCE",e[e.FAILURE=3400]="FAILURE",e[e.ERR_WEBRTC_FUN_ABNORMAL=3701]="ERR_WEBRTC_FUN_ABNORMAL",e[e.ERR_WEBRTC_MEDIA_ABNORMAL=3702]="ERR_WEBRTC_MEDIA_ABNORMAL",e[e.ERR_WEBRTC_RECORD_ABNORMAL=3703]="ERR_WEBRTC_RECORD_ABNORMAL",e[e.ERR_WEBRTC_DEVICE_ABNORMAL=3704]="ERR_WEBRTC_DEVICE_ABNORMAL",e[e.ERR_NM_WS_CONNECT_FAILED=3603]="ERR_NM_WS_CONNECT_FAILED",e[e.ERR_NM_WS_CLOSED=3604]="ERR_NM_WS_CLOSED",e[e.ERR_WS_MSG_RECV_ABNORMAL=3618]="ERR_WS_MSG_RECV_ABNORMAL"}(t.UploadErrorCodes||(t.UploadErrorCodes={})),function(e){e[e.ELSE=0]="ELSE",e[e.VLINE_SIGNAL=1]="VLINE_SIGNAL",e[e.STREAMING_SIGNAL=2]="STREAMING_SIGNAL",e[e.STREAMING_MEDIA=3]="STREAMING_MEDIA",e[e.HTTP_REQUEST=4]="HTTP_REQUEST",e[e.ENVIRONMENT_CONFIGURATION=5]="ENVIRONMENT_CONFIGURATION",e[e.LOCAL_PROCESSING=6]="LOCAL_PROCESSING"}(t.ErrorUploadTypes||(t.ErrorUploadTypes={})),function(e){e[e.IDEL=0]="IDEL",e[e.TALKING=1]="TALKING",e[e.UNKNOWN=2]="UNKNOWN"}(t.UserActionStatus||(t.UserActionStatus={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.RECALL=1]="RECALL"}(t.MessageStatus||(t.MessageStatus={})),function(e){e[e.SINGLEFORWARD=0]="SINGLEFORWARD",e[e.COMBINDFORWARD=1]="COMBINDFORWARD"}(t.ForwardTypes||(t.ForwardTypes={}))},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"$mobx",(function(){return _})),n.d(t,"FlowCancellationError",(function(){return xt})),n.d(t,"IDerivationState",(function(){return $})),n.d(t,"ObservableMap",(function(){return bn})),n.d(t,"ObservableSet",(function(){return Tn})),n.d(t,"Reaction",(function(){return ze})),n.d(t,"_allowStateChanges",(function(){return Te})),n.d(t,"_allowStateChangesInsideComputed",(function(){return _e})),n.d(t,"_allowStateReadsEnd",(function(){return Ae})),n.d(t,"_allowStateReadsStart",(function(){return pe})),n.d(t,"_endAction",(function(){return Ce})),n.d(t,"_getAdministration",(function(){return Mn})),n.d(t,"_getGlobalState",(function(){return je})),n.d(t,"_interceptReads",(function(){return It})),n.d(t,"_isComputingDerivation",(function(){return se})),n.d(t,"_resetGlobalState",(function(){return De})),n.d(t,"_startAction",(function(){return Ee})),n.d(t,"action",(function(){return ot})),n.d(t,"autorun",(function(){return ut})),n.d(t,"comparer",(function(){return R})),n.d(t,"computed",(function(){return ne})),n.d(t,"configure",(function(){return gt})),n.d(t,"createAtom",(function(){return I})),n.d(t,"decorate",(function(){return ht})),n.d(t,"entries",(function(){return Dt})),n.d(t,"extendObservable",(function(){return mt})),n.d(t,"flow",(function(){return wt})),n.d(t,"get",(function(){return Gt})),n.d(t,"getAtom",(function(){return Nn})),n.d(t,"getDebugName",(function(){return Un})),n.d(t,"getDependencyTree",(function(){return bt})),n.d(t,"getObserverTree",(function(){return Ct})),n.d(t,"has",(function(){return Qt})),n.d(t,"intercept",(function(){return Rt})),n.d(t,"isAction",(function(){return st})),n.d(t,"isArrayLike",(function(){return b})),n.d(t,"isBoxedObservable",(function(){return Be})),n.d(t,"isComputed",(function(){return Nt})),n.d(t,"isComputedProp",(function(){return Mt})),n.d(t,"isFlowCancellationError",(function(){return _t})),n.d(t,"isObservable",(function(){return Lt})),n.d(t,"isObservableArray",(function(){return mn})),n.d(t,"isObservableMap",(function(){return En})),n.d(t,"isObservableObject",(function(){return On})),n.d(t,"isObservableProp",(function(){return Ft})),n.d(t,"isObservableSet",(function(){return Sn})),n.d(t,"keys",(function(){return Pt})),n.d(t,"observable",(function(){return J})),n.d(t,"observe",(function(){return Vt})),n.d(t,"onBecomeObserved",(function(){return ft})),n.d(t,"onBecomeUnobserved",(function(){return pt})),n.d(t,"onReactionError",(function(){return Xe})),n.d(t,"reaction",(function(){return dt})),n.d(t,"remove",(function(){return Ht})),n.d(t,"runInAction",(function(){return it})),n.d(t,"set",(function(){return kt})),n.d(t,"spy",(function(){return et})),n.d(t,"toJS",(function(){return zt})),n.d(t,"trace",(function(){return Xt})),n.d(t,"transaction",(function(){return Jt})),n.d(t,"untracked",(function(){return le})),n.d(t,"values",(function(){return jt})),n.d(t,"when",(function(){return qt}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var c=[];Object.freeze(c);var l={};function d(){return++Pe.mobxGuid}function f(e){throw p(!1,e),"X"}function p(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(l);function A(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var g=function(){};function h(e){return null!==e&&"object"==typeof e}function m(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function y(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function v(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return h(e)&&!0===e[n]}}function b(e){return Array.isArray(e)||mn(e)}function E(e){return e instanceof Map}function C(e){return e instanceof Set}function T(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function S(e){return e&&e.toString?e.toString():new String(e).toString()}function x(e){return null===e?null:"object"==typeof e?""+e:e}var _=Symbol("mobx administration"),w=function(){function e(e){void 0===e&&(e="Atom@"+d()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=$.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return Ke(this)},e.prototype.reportChanged=function(){Ge(),function(e){if(e.lowestObserverState===$.STALE)return;e.lowestObserverState=$.STALE,e.observers.forEach((function(t){t.dependenciesState===$.UP_TO_DATE&&(t.isTracing!==Z.NONE&&We(t,e),t.onBecomeStale()),t.dependenciesState=$.STALE}))}(this),Ve()},e.prototype.toString=function(){return this.name},e}(),B=v("Atom",w);function I(e,t,n){void 0===t&&(t=g),void 0===n&&(n=g);var r=new w(e);return t!==g&&ft(r,t),n!==g&&pt(r,n),r}var R={identity:function(e,t){return e===t},structural:function(e,t){return Fn(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return Fn(e,t,1)}},O=Symbol("mobx did run lazy initializers"),N=Symbol("mobx pending decorators"),M={},U={};function L(e,t){var n=t?M:U;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return F(this),this[e]},set:function(t){F(this),this[e]=t}})}function F(e){var t,n;if(!0!==e[O]){var r=e[N];if(r){y(e,O,!0);var o=u(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=s(o),a=i.next();!a.done;a=i.next()){var c=r[a.value];c.propertyCreator(e,c.prop,c.descriptor,c.decoratorTarget,c.decoratorArguments)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}}}function P(e,t){return function(){var n,r=function(r,o,s,a){if(!0===a)return t(r,o,s,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,N)){var u=r[N];y(r,N,i({},u))}return r[N][o]={prop:o,propertyCreator:t,descriptor:s,decoratorTarget:r,decoratorArguments:n},L(o,e)};return j(arguments)?(n=c,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function j(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function D(e,t,n){return Lt(e)?e:Array.isArray(e)?J.array(e,{name:n}):m(e)?J.object(e,void 0,{name:n}):E(e)?J.map(e,{name:n}):C(e)?J.set(e,{name:n}):e}function k(e){return e}function H(t){p(t);var n=P(!0,(function(e,n,r,o,i){var s=r?r.initializer?r.initializer.call(e):r.value:void 0;_n(e).addObservableProp(n,s,t)})),r=(void 0!==e&&e.env,n);return r.enhancer=t,r}var Q={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function G(e){return null==e?Q:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(Q);var V=H(D),K=H((function(e,t,n){return null==e||On(e)||mn(e)||En(e)||Sn(e)?e:Array.isArray(e)?J.array(e,{name:n,deep:!1}):m(e)?J.object(e,void 0,{name:n,deep:!1}):E(e)?J.map(e,{name:n,deep:!1}):C(e)?J.set(e,{name:n,deep:!1}):f(!1)})),W=H(k),z=H((function(e,t,n){return Fn(e,t)?t:e}));function X(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?k:D}var Y={box:function(e,t){arguments.length>2&&q("box");var n=G(t);return new we(e,X(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&q("array");var n=G(t);return fn(e,X(n),n.name)},map:function(e,t){arguments.length>2&&q("map");var n=G(t);return new bn(e,X(n),n.name)},set:function(e,t){arguments.length>2&&q("set");var n=G(t);return new Tn(e,X(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&q("object");var r=G(n);if(!1===r.proxy)return mt({},e,t,r);var o=yt(r),i=mt({},void 0,void 0,r),s=rn(i);return vt(s,e,t,o),s},ref:W,shallow:K,deep:V,struct:z},J=function(e,t,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return V.apply(null,arguments);if(Lt(e))return e;var r=m(e)?J.object(e,t,n):Array.isArray(e)?J.array(e,t):E(e)?J.map(e,t):C(e)?J.set(e,t):e;if(r!==e)return r;f(!1)};function q(e){f("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(Y).forEach((function(e){return J[e]=Y[e]}));var $,Z,ee=P(!1,(function(e,t,n,r,o){var s=n.get,a=n.set,u=o[0]||{};_n(e).addComputedProp(e,t,i({get:s,set:a,context:e},u))})),te=ee({equals:R.structural}),ne=function(e,t,n){if("string"==typeof t)return ee.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ee.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new Ie(r)};ne.struct=te,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}($||($={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Z||(Z={}));var re=function(e){this.cause=e};function oe(e){return e instanceof re}function ie(e){switch(e.dependenciesState){case $.UP_TO_DATE:return!1;case $.NOT_TRACKING:case $.STALE:return!0;case $.POSSIBLY_STALE:for(var t=pe(!0),n=de(),r=e.observing,o=r.length,i=0;i<o;i++){var s=r[i];if(Re(s)){if(Pe.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return fe(n),Ae(t),!0}if(e.dependenciesState===$.STALE)return fe(n),Ae(t),!0}}return ge(e),fe(n),Ae(t),!1}}function se(){return null!==Pe.trackingDerivation}function ae(e){var t=e.observers.size>0;Pe.computationDepth>0&&t&&f(!1),Pe.allowStateChanges||!t&&"strict"!==Pe.enforceActions||f(!1)}function ue(e,t,n){var r=pe(!0);ge(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Pe.runId;var o,i=Pe.trackingDerivation;if(Pe.trackingDerivation=e,!0===Pe.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(e){o=new re(e)}return Pe.trackingDerivation=i,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=$.UP_TO_DATE,o=0,i=e.unboundDepsCount,s=0;s<i;s++){0===(a=n[s]).diffValue&&(a.diffValue=1,o!==s&&(n[o]=a),o++),a.dependenciesState>r&&(r=a.dependenciesState)}n.length=o,e.newObserving=null,i=t.length;for(;i--;){0===(a=t[i]).diffValue&&He(a,e),a.diffValue=0}for(;o--;){var a;1===(a=n[o]).diffValue&&(a.diffValue=0,ke(a,e))}r!==$.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),Ae(r),o}function ce(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)He(t[n],e);e.dependenciesState=$.NOT_TRACKING}function le(e){var t=de();try{return e()}finally{fe(t)}}function de(){var e=Pe.trackingDerivation;return Pe.trackingDerivation=null,e}function fe(e){Pe.trackingDerivation=e}function pe(e){var t=Pe.allowStateReads;return Pe.allowStateReads=e,t}function Ae(e){Pe.allowStateReads=e}function ge(e){if(e.dependenciesState!==$.UP_TO_DATE){e.dependenciesState=$.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=$.UP_TO_DATE}}var he=0,me=1,ye=Object.getOwnPropertyDescriptor((function(){}),"name");ye&&ye.configurable;function ve(e,t,n){var r=function(){return be(e,t,n||this,arguments)};return r.isMobxAction=!0,r}function be(e,t,n,r){var o=Ee(e,n,r);try{return t.apply(n,r)}catch(e){throw o.error=e,e}finally{Ce(o)}}function Ee(e,t,n){var r=0,o=de();Ge();var i={prevDerivation:o,prevAllowStateChanges:Se(!0),prevAllowStateReads:pe(!0),notifySpy:!1,startTime:r,actionId:me++,parentActionId:he};return he=i.actionId,i}function Ce(e){he!==e.actionId&&f("invalid action stack. did you forget to finish an action?"),he=e.parentActionId,void 0!==e.error&&(Pe.suppressReactionErrors=!0),xe(e.prevAllowStateChanges),Ae(e.prevAllowStateReads),Ve(),fe(e.prevDerivation),e.notifySpy,Pe.suppressReactionErrors=!1}function Te(e,t){var n,r=Se(e);try{n=t()}finally{xe(r)}return n}function Se(e){var t=Pe.allowStateChanges;return Pe.allowStateChanges=e,t}function xe(e){Pe.allowStateChanges=e}function _e(e){var t,n=Pe.computationDepth;Pe.computationDepth=0;try{t=e()}finally{Pe.computationDepth=n}return t}var we=function(e){function t(t,n,r,o,i){void 0===r&&(r="ObservableValue@"+d()),void 0===o&&(o=!0),void 0===i&&(i=R.default);var s=e.call(this,r)||this;return s.enhancer=n,s.name=r,s.equals=i,s.hasUnreportedChange=!1,s.value=n(t,void 0,r),s}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value;if((e=this.prepareNewValue(e))!==Pe.UNCHANGED){0,this.setNewValue(e)}},t.prototype.prepareNewValue=function(e){if(ae(this),on(this)){var t=an(this,{object:this,type:"update",newValue:e});if(!t)return Pe.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Pe.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),un(this)&&ln(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return sn(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),cn(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return x(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(w),Be=v("ObservableValue",we),Ie=function(){function e(e){this.dependenciesState=$.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=$.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+d(),this.value=new re(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Z.NONE,p(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+d(),e.set&&(this.setter=ve(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?R.structural:R.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==$.UP_TO_DATE)return;e.lowestObserverState=$.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===$.UP_TO_DATE&&(t.dependenciesState=$.POSSIBLY_STALE,t.isTracing!==Z.NONE&&We(t,e),t.onBecomeStale())}))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&f("Cycle detected in computation "+this.name+": "+this.derivation),0!==Pe.inBatch||0!==this.observers.size||this.keepAlive?(Ke(this),ie(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===$.STALE)return;e.lowestObserverState=$.STALE,e.observers.forEach((function(t){t.dependenciesState===$.POSSIBLY_STALE?t.dependenciesState=$.STALE:t.dependenciesState===$.UP_TO_DATE&&(e.lowestObserverState=$.UP_TO_DATE)}))}(this)):ie(this)&&(this.warnAboutUntrackedRead(),Ge(),this.value=this.computeValue(!1),Ve());var e=this.value;if(oe(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(oe(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){p(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else p(!1,!1)},e.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===$.NOT_TRACKING,n=this.computeValue(!0),r=t||oe(e)||oe(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Pe.computationDepth++,e)t=ue(this,this.derivation,this.scope);else if(!0===Pe.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new re(e)}return Pe.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ce(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return ut((function(){var i=n.get();if(!r||t){var s=de();e({type:"update",object:n,newValue:i,oldValue:o}),fe(s)}r=!1,o=i}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return x(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),Re=v("ComputedValue",Ie),Oe=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Ne=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Me={};function Ue(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:Me}var Le=!0,Fe=!1,Pe=function(){var e=Ue();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Le=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Ne).version&&(Le=!1),Le?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Ne):(setTimeout((function(){Fe||f("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Ne)}();function je(){return Pe}function De(){var e=new Ne;for(var t in e)-1===Oe.indexOf(t)&&(Pe[t]=e[t]);Pe.allowStateChanges=!Pe.enforceActions}function ke(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function He(e,t){e.observers.delete(t),0===e.observers.size&&Qe(e)}function Qe(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Pe.pendingUnobservations.push(e))}function Ge(){Pe.inBatch++}function Ve(){if(0==--Pe.inBatch){Je();for(var e=Pe.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Ie&&n.suspend())}Pe.pendingUnobservations=[]}}function Ke(e){var t=Pe.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&Pe.inBatch>0&&Qe(e),!1)}function We(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===Z.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)}))}(bt(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Ie?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var ze=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+d()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=$.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+d(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Z.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Pe.pendingReactions.push(this),Je())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Ge(),this._isScheduled=!1,ie(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}Ve()}},e.prototype.track=function(e){if(!this.isDisposed){Ge();0,this._isRunning=!0;var t=ue(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ce(this),oe(t)&&this.reportExceptionInDerivation(t.cause),Ve()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Pe.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Pe.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),Pe.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ge(),ce(this),Ve()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[_]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),Xt(this,e)},e}();function Xe(e){return Pe.globalReactionErrorHandlers.push(e),function(){var t=Pe.globalReactionErrorHandlers.indexOf(e);t>=0&&Pe.globalReactionErrorHandlers.splice(t,1)}}var Ye=function(e){return e()};function Je(){Pe.inBatch>0||Pe.isRunningReactions||Ye(qe)}function qe(){Pe.isRunningReactions=!0;for(var e=Pe.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Pe.isRunningReactions=!1}var $e=v("Reaction",ze);function Ze(e){var t=Ye;Ye=function(n){return e((function(){return t(n)}))}}function et(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function tt(){f(!1)}function nt(e){return function(t,n,r){if(r){if(r.value)return{value:ve(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return ve(e,o.call(this))}}}return rt(e).apply(this,arguments)}}function rt(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){y(this,n,ot(e,t))}})}}var ot=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?ve(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?ve(e,t):1===arguments.length&&"string"==typeof e?nt(e):!0!==r?nt(t).apply(null,arguments):void y(e,t,ve(e.name||t,n.value,this))};function it(e,t){return be("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t,this,void 0)}function st(e){return"function"==typeof e&&!0===e.isMobxAction}function at(e,t,n){y(e,t,ve(t,n.bind(e)))}function ut(e,t){void 0===t&&(t=l);var n,r=t&&t.name||e.name||"Autorun@"+d();if(!t.scheduler&&!t.delay)n=new ze(r,(function(){this.track(s)}),t.onError,t.requiresObservable);else{var o=lt(t),i=!1;n=new ze(r,(function(){i||(i=!0,o((function(){i=!1,n.isDisposed||n.track(s)})))}),t.onError,t.requiresObservable)}function s(){e(n)}return n.schedule(),n.getDisposer()}ot.bound=function(e,t,n,r){return!0===r?(at(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return at(this,t,n.value||n.initializer.call(this)),this[t]},set:tt}:{enumerable:!1,configurable:!0,set:function(e){at(this,t,e)},get:function(){}}};var ct=function(e){return e()};function lt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ct}function dt(e,t,n){void 0===n&&(n=l);var r,o,i,s=n.name||"Reaction@"+d(),a=ot(s,n.onError?(r=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e)}}):t),u=!n.scheduler&&!n.delay,c=lt(n),f=!0,p=!1,A=n.compareStructural?R.structural:n.equals||R.default,g=new ze(s,(function(){f||u?h():p||(p=!0,c(h))}),n.onError,n.requiresObservable);function h(){if(p=!1,!g.isDisposed){var t=!1;g.track((function(){var n=e(g);t=f||!A(i,n),i=n})),f&&n.fireImmediately&&a(i,g),f||!0!==t||a(i,g),f&&(f=!1)}}return g.schedule(),g.getDisposer()}function ft(e,t,n){return At("onBecomeObserved",e,t,n)}function pt(e,t,n){return At("onBecomeUnobserved",e,t,n)}function At(e,t,n,r){var o="function"==typeof r?Nn(t,n):Nn(t),i="function"==typeof r?r:n,s=e+"Listeners";return o[s]?o[s].add(i):o[s]=new Set([i]),"function"!=typeof o[e]?f(!1):function(){var e=o[s];e&&(e.delete(i),0===e.size&&delete o[s])}}function gt(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.reactionScheduler,s=e.reactionRequiresObservable,a=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Pe.pendingReactions.length||Pe.inBatch||Pe.isRunningReactions)&&f("isolateGlobalState should be called before MobX is running any reactions"),Fe=!0,Le&&(0==--Ue().__mobxInstanceCount&&(Ue().__mobxGlobals=void 0),Pe=new Ne)),void 0!==t){var u=void 0;switch(t){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:f("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Pe.enforceActions=u,Pe.allowStateChanges=!0!==u&&"strict"!==u}void 0!==n&&(Pe.computedRequiresReaction=!!n),void 0!==s&&(Pe.reactionRequiresObservable=!!s),void 0!==a&&(Pe.observableRequiresReaction=!!a,Pe.allowStateReads=!Pe.observableRequiresReaction),void 0!==r&&(Pe.computedConfigurable=!!r),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Pe.disableErrorBoundaries=!!o),i&&Ze(i)}function ht(e,t){var n="function"==typeof e?e.prototype:e,r=function(e){var r=t[e];Array.isArray(r)||(r=[r]);var o=Object.getOwnPropertyDescriptor(n,e),i=r.reduce((function(t,r){return r(n,e,t)}),o);i&&Object.defineProperty(n,e,i)};for(var o in t)r(o);return e}function mt(e,t,n,r){var o=yt(r=G(r));return F(e),_n(e,r.name,o.enhancer),t&&vt(e,t,n,o),e}function yt(e){return e.defaultDecorator||(!1===e.deep?W:V)}function vt(e,t,n,r){var o,i;Ge();try{var a=T(t);try{for(var u=s(a),c=u.next();!c.done;c=u.next()){var l=c.value,d=Object.getOwnPropertyDescriptor(t,l);0;var f=(n&&l in n?n[l]:d.get?ee:r)(e,l,d,!0);f&&Object.defineProperty(e,l,f)}}catch(e){o={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}finally{Ve()}}function bt(e,t){return Et(Nn(e,t))}function Et(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(Et)),r}function Ct(e,t){return Tt(Nn(e,t))}function Tt(e){var t={name:e.name};return function(e){return e.observers&&e.observers.size>0}(e)&&(t.observers=Array.from(function(e){return e.observers}(e)).map(Tt)),t}var St=0;function xt(){this.message="FLOW_CANCELLED"}function _t(e){return e instanceof xt}function wt(e){1!==arguments.length&&f("Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++St,s=ot(t+" - runid: "+i+" - init",e).apply(r,o),a=void 0,u=new Promise((function(e,r){var o=0;function u(e){var n;a=void 0;try{n=ot(t+" - runid: "+i+" - yield "+o++,s.next).call(s,e)}catch(e){return r(e)}l(n)}function c(e){var n;a=void 0;try{n=ot(t+" - runid: "+i+" - yield "+o++,s.throw).call(s,e)}catch(e){return r(e)}l(n)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(a=Promise.resolve(t.value)).then(u,c);t.then(l,r)}n=r,u(void 0)}));return u.cancel=ot(t+" - runid: "+i+" - cancel",(function(){try{a&&Bt(a);var e=s.return(void 0),t=Promise.resolve(e.value);t.then(g,g),Bt(t),n(new xt)}catch(e){n(e)}})),u}}function Bt(e){"function"==typeof e.cancel&&e.cancel()}function It(e,t,n){var r;if(En(e)||mn(e)||Be(e))r=Mn(e);else{if(!On(e))return f(!1);if("string"!=typeof t)return f(!1);r=Mn(e,t)}return void 0!==r.dehancer?f(!1):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})}function Rt(e,t,n){return"function"==typeof n?function(e,t,n){return Mn(e,t).intercept(n)}(e,t,n):function(e,t){return Mn(e).intercept(t)}(e,t)}function Ot(e,t){if(null==e)return!1;if(void 0!==t){if(!1===On(e))return!1;if(!e[_].values.has(t))return!1;var n=Nn(e,t);return Re(n)}return Re(e)}function Nt(e){return arguments.length>1?f(!1):Ot(e)}function Mt(e,t){return"string"!=typeof t?f(!1):Ot(e,t)}function Ut(e,t){return null!=e&&(void 0!==t?!!On(e)&&e[_].values.has(t):On(e)||!!e[_]||B(e)||$e(e)||Re(e))}function Lt(e){return 1!==arguments.length&&f(!1),Ut(e)}function Ft(e,t){return"string"!=typeof t?f(!1):Ut(e,t)}function Pt(e){return On(e)?e[_].getKeys():En(e)||Sn(e)?Array.from(e.keys()):mn(e)?e.map((function(e,t){return t})):f(!1)}function jt(e){return On(e)?Pt(e).map((function(t){return e[t]})):En(e)?Pt(e).map((function(t){return e.get(t)})):Sn(e)?Array.from(e.values()):mn(e)?e.slice():f(!1)}function Dt(e){return On(e)?Pt(e).map((function(t){return[t,e[t]]})):En(e)?Pt(e).map((function(t){return[t,e.get(t)]})):Sn(e)?Array.from(e.entries()):mn(e)?e.map((function(e,t){return[t,e]})):f(!1)}function kt(e,t,n){if(2!==arguments.length||Sn(e))if(On(e)){var r=e[_],o=r.values.get(t);o?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(En(e))e.set(t,n);else if(Sn(e))e.add(t);else{if(!mn(e))return f(!1);"number"!=typeof t&&(t=parseInt(t,10)),p(t>=0,"Not a valid index: '"+t+"'"),Ge(),t>=e.length&&(e.length=t+1),e[t]=n,Ve()}else{Ge();var i=t;try{for(var s in i)kt(e,s,i[s])}finally{Ve()}}}function Ht(e,t){if(On(e))e[_].remove(t);else if(En(e))e.delete(t);else if(Sn(e))e.delete(t);else{if(!mn(e))return f(!1);"number"!=typeof t&&(t=parseInt(t,10)),p(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}}function Qt(e,t){return On(e)?Mn(e).has(t):En(e)||Sn(e)?e.has(t):mn(e)?t>=0&&t<e.length:f(!1)}function Gt(e,t){if(Qt(e,t))return On(e)?e[t]:En(e)?e.get(t):mn(e)?e[t]:f(!1)}function Vt(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return Mn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return Mn(e).observe(t,n)}(e,t,n)}xt.prototype=Object.create(Error.prototype);var Kt={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Wt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function zt(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Kt),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!Lt(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Be(t))return e(t.get(),n,r);if(Lt(t)&&Pt(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(mn(t)||Array.isArray(t)){var o=Wt(r,t,[],n),i=t.map((function(t){return e(t,n,r)}));o.length=i.length;for(var s=0,a=i.length;s<a;s++)o[s]=i[s];return o}if(Sn(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){var u=Wt(r,t,new Set,n);return t.forEach((function(t){u.add(e(t,n,r))})),u}var c=Wt(r,t,[],n);return t.forEach((function(t){c.push(e(t,n,r))})),c}if(En(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=Wt(r,t,new Map,n);return t.forEach((function(t,o){l.set(o,e(t,n,r))})),l}var d=Wt(r,t,{},n);return t.forEach((function(t,o){d[o]=e(t,n,r)})),d}var f=Wt(r,t,{},n);return T(t).forEach((function(o){f[o]=e(t[o],n,r)})),f}(e,t,n)}function Xt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=Yt(e);if(!r)return f(!1);r.isTracing===Z.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?Z.BREAK:Z.LOG}function Yt(e){switch(e.length){case 0:return Pe.trackingDerivation;case 1:return Nn(e[0]);case 2:return Nn(e[0],e[1])}}function Jt(e,t){void 0===t&&(t=void 0),Ge();try{return e.apply(t)}finally{Ve()}}function qt(e,t,n){return 1===arguments.length||t&&"object"==typeof t?Zt(e,t):$t(e,t,n||{})}function $t(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!i[_].isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+d();var o=ve(n.name+"-effect",t),i=ut((function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())}),n);return i}function Zt(e,t){var n;var r=new Promise((function(r,o){var s=$t(e,r,i(i({},t),{onError:o}));n=function(){s(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function en(e){return e[_]}function tn(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var nn={has:function(e,t){if(t===_||"constructor"===t||t===O)return!0;var n=en(e);return tn(t)?n.has(t):t in e},get:function(e,t){if(t===_||"constructor"===t||t===O)return e[t];var n=en(e),r=n.values.get(t);if(r instanceof w){var o=r.get();return void 0===o&&n.has(t),o}return tn(t)&&n.has(t),e[t]},set:function(e,t,n){return!!tn(t)&&(kt(e,t,n),!0)},deleteProperty:function(e,t){return!!tn(t)&&(en(e).remove(t),!0)},ownKeys:function(e){return en(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return f("Dynamic observable objects cannot be frozen"),!1}};function rn(e){var t=new Proxy(e,nn);return e[_].proxy=t,t}function on(e){return void 0!==e.interceptors&&e.interceptors.length>0}function sn(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),A((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function an(e,t){var n=de();try{for(var r=u(e.interceptors||[]),o=0,i=r.length;o<i&&(p(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{fe(n)}}function un(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function cn(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),A((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function ln(e,t){var n=de(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);fe(n)}}var dn={get:function(e,t){return t===_?e[_]:"length"===t?e[_].getArrayLength():"number"==typeof t?An.get.call(e,t):"string"!=typeof t||isNaN(t)?An.hasOwnProperty(t)?An[t]:e[t]:An.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[_].setArrayLength(n),"number"==typeof t&&An.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:An.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return f("Observable arrays cannot be frozen"),!1}};function fn(e,t,n,r){void 0===n&&(n="ObservableArray@"+d()),void 0===r&&(r=!1);var o,i,s,a=new pn(n,t,r);o=a.values,i=_,s=a,Object.defineProperty(o,i,{enumerable:!1,writable:!1,configurable:!0,value:s});var u=new Proxy(a.values,dn);if(a.proxy=u,e&&e.length){var c=Se(!0);a.spliceWithArray(0,0,e),xe(c)}return u}var pn=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new w(e||"ObservableArray@"+d()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return sn(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),cn(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;ae(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=c),on(this)){var i=an(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!i)return c;t=i.removedCount,n=i.added}n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}));var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,u([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,o=un(this),i=o||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),o&&ln(this,i)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,o=un(this),i=o||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),o&&ln(this,i)},e}(),An={intercept:function(e){return this[_].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[_].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[_];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[_];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[_].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[_];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[_].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[_];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[_],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[_];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[_],r=n.values;if(e<r.length){ae(n.atom);var o=r[e];if(on(n)){var i=an(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(e){An[e]=function(){var t=this[_];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)}}));var gn,hn=v("ObservableArrayAdministration",pn);function mn(e){return h(e)&&hn(e[_])}var yn,vn={},bn=function(){function e(e,t,n){if(void 0===t&&(t=D),void 0===n&&(n="ObservableMap@"+d()),this.enhancer=t,this.name=n,this[gn]=vn,this._keysAtom=I(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Pe.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new we(this._has(e),k,this.name+"."+S(e)+"?",!1);this._hasMap.set(e,r),pt(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(on(this)){var r=an(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(on(this)&&!(r=an(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=un(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return Jt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),n&&ln(this,r),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Pe.UNCHANGED){var r=un(this),o=r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;0,n.setNewValue(t),r&&ln(this,o)}},e.prototype._addValue=function(e,t){var n=this;ae(this._keysAtom),Jt((function(){var r=new we(t,n.enhancer,n.name+"."+S(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=un(this),o=r?{type:"add",object:this,name:e,newValue:t}:null;r&&ln(this,o)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=0,n=Array.from(this.keys());return Dn({next:function(){return t<n.length?{value:e.get(n[t++]),done:!1}:{done:!0}}})},e.prototype.entries=function(){var e=this,t=0,n=Array.from(this.keys());return Dn({next:function(){if(t<n.length){var r=n[t++];return{value:[r,e.get(r)],done:!1}}return{done:!0}}})},e.prototype[(gn=_,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var o=s(this),i=o.next();!i.done;i=o.next()){var u=a(i.value,2),c=u[0],l=u[1];e.call(t,l,c,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return En(e)&&(e=e.toJS()),Jt((function(){m(e)?T(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=a(e,2),r=n[0],o=n[1];return t.set(r,o)})):E(e)?(e.constructor!==Map&&f("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&f("Cannot initialize map from "+e)})),this},e.prototype.clear=function(){var e=this;Jt((function(){le((function(){var t,n;try{for(var r=s(e.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return Jt((function(){var n,r=m(n=e)?Object.keys(n):Array.isArray(n)?n.map((function(e){return a(e,1)[0]})):E(n)||En(n)?Array.from(n.keys()):f("Cannot get keys from '"+n+"'");Array.from(t.keys()).filter((function(e){return-1===r.indexOf(e)})).forEach((function(e){return t.delete(e)})),t.merge(e)})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=s(this),o=r.next();!o.done;o=r.next()){var i=a(o.value,2),u=i[0],c=i[1];n["symbol"==typeof u?u:S(u)]=c}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return S(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return cn(this,e)},e.prototype.intercept=function(e){return sn(this,e)},e}(),En=v("ObservableMap",bn),Cn={},Tn=function(){function e(e,t,n){if(void 0===t&&(t=D),void 0===n&&(n="ObservableSet@"+d()),this.name=n,this[yn]=Cn,this._data=new Set,this._atom=I(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Jt((function(){le((function(){var t,n;try{for(var r=s(e._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var o=s(this),i=o.next();!i.done;i=o.next()){var a=i.value;e.call(t,a,a,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((ae(this._atom),on(this))&&!(r=an(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Jt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=un(this),r=n?{type:"add",object:this,newValue:e}:null;0,n&&ln(this,r)}return this},e.prototype.delete=function(e){var t=this;if(on(this)&&!(r=an(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=un(this),r=n?{type:"delete",object:this,oldValue:e}:null;return Jt((function(){t._atom.reportChanged(),t._data.delete(e)})),n&&ln(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Dn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return Dn({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return Sn(e)&&(e=e.toJS()),Jt((function(){Array.isArray(e)||C(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&f("Cannot initialize set from "+e)})),this},e.prototype.observe=function(e,t){return cn(this,e)},e.prototype.intercept=function(e){return sn(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(yn=_,Symbol.iterator)]=function(){return this.values()},e}(),Sn=v("ObservableSet",Tn),xn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new w(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof Ie)r.set(t);else{if(on(this)){if(!(i=an(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=i.newValue}if((t=r.prepareNewValue(t))!==Pe.UNCHANGED){var o=un(this),i=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;0,r.setNewValue(t),o&&ln(this,i)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new we(r,k,this.name+"."+S(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(on(this)){var o=an(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var i=new we(t,n,this.name+"."+S(e),!1);this.values.set(e,i),t=i.value,Object.defineProperty(r,e,function(e){return wn[e]||(wn[e]={configurable:!0,enumerable:!0,get:function(){return this[_].read(e)},set:function(t){this[_].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r,o,i,s=this.target;n.name=n.name||this.name+"."+S(t),this.values.set(t,new Ie(n)),(e===s||(r=e,o=t,!(i=Object.getOwnPropertyDescriptor(r,o))||!1!==i.configurable&&!1!==i.writable))&&Object.defineProperty(e,t,function(e){return Bn[e]||(Bn[e]={configurable:Pe.computedConfigurable,enumerable:!1,get:function(){return In(this).read(e)},set:function(t){In(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(on(this))if(!(s=an(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Ge();var n=un(this),r=this.values.get(e),o=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!1)}delete this.target[e];var s=n?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;0,n&&ln(this,s)}finally{Ve()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return cn(this,e)},e.prototype.intercept=function(e){return sn(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=un(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&ln(this,r),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=s(this.values),o=r.next();!o.done;o=r.next()){var i=a(o.value,2),u=i[0];i[1]instanceof we&&n.push(u)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function _n(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=D),Object.prototype.hasOwnProperty.call(e,_))return e[_];m(e)||(t=(e.constructor.name||"ObservableObject")+"@"+d()),t||(t="ObservableObject@"+d());var r=new xn(e,new Map,S(t),n);return y(e,_,r),r}var wn=Object.create(null),Bn=Object.create(null);function In(e){var t=e[_];return t||(F(e),e[_])}var Rn=v("ObservableObjectAdministration",xn);function On(e){return!!h(e)&&(F(e),Rn(e[_]))}function Nn(e,t){if("object"==typeof e&&null!==e){if(mn(e))return void 0!==t&&f(!1),e[_].atom;if(Sn(e))return e[_];if(En(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||f(!1),r)}var r;if(F(e),t&&!e[_]&&e[t],On(e))return t?((r=e[_].values.get(t))||f(!1),r):f(!1);if(B(e)||Re(e)||$e(e))return e}else if("function"==typeof e&&$e(e[_]))return e[_];return f(!1)}function Mn(e,t){return e||f("Expecting some object"),void 0!==t?Mn(Nn(e,t)):B(e)||Re(e)||$e(e)||En(e)||Sn(e)?e:(F(e),e[_]?e[_]:void f(!1))}function Un(e,t){return(void 0!==t?Nn(e,t):On(e)||En(e)||Sn(e)?Mn(e):Nn(e)).name}var Ln=Object.prototype.toString;function Fn(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,o,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var s=typeof t;if("function"!==s&&"object"!==s&&"object"!=typeof n)return!1;var a=Ln.call(t);if(a!==Ln.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=Pn(t),n=Pn(n);var u="[object Array]"===a;if(!u){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,l=n.constructor;if(c!==l&&!("function"==typeof c&&c instanceof c&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);i=i||[];var d=(o=o||[]).length;for(;d--;)if(o[d]===t)return i[d]===n;if(o.push(t),i.push(n),u){if((d=t.length)!==n.length)return!1;for(;d--;)if(!e(t[d],n[d],r-1,o,i))return!1}else{var f=Object.keys(t),p=void 0;if(d=f.length,Object.keys(n).length!==d)return!1;for(;d--;)if(p=f[d],!jn(n,p)||!e(t[p],n[p],r-1,o,i))return!1}return o.pop(),i.pop(),!0}(e,t,n)}function Pn(e){return mn(e)?e.slice():E(e)||En(e)||C(e)||Sn(e)?Array.from(e.entries()):e}function jn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Dn(e){return e[Symbol.iterator]=kn,e}function kn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:et,extras:{getDebugName:Un},$mobx:_})}.call(this,n(327),n(83))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),o=n(44),i=n(80),s=n(16),a=n(64),u=n(31),c=n(56),l=function(e){function t(n,r,o){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.a;break;case 1:if(!n){s.destination=i.a;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,r,o)}return s}return r.a(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.a),d=function(e){function t(t,n,r,s){var a,u=e.call(this)||this;u._parentSubscriber=t;var c=u;return Object(o.a)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==i.a&&(c=Object.create(n),Object(o.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=r,u._complete=s,u}return r.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(c.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw e;Object(c.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return u.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(c.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(77),o=n(3),i=n(64),s=n(80);var a=n(39),u=n(63),c=n(31),l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,a=function(e,t,n){if(e){if(e instanceof o.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new o.a(e,t,n):new o.a(s.a)}(e,t,n);if(r?a.add(r.call(a,this.source)):a.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[a.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(u.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"audit",(function(){return s})),n.d(t,"auditTime",(function(){return d})),n.d(t,"buffer",(function(){return f})),n.d(t,"bufferCount",(function(){return h})),n.d(t,"bufferTime",(function(){return E})),n.d(t,"bufferToggle",(function(){return I})),n.d(t,"bufferWhen",(function(){return N})),n.d(t,"catchError",(function(){return F})),n.d(t,"combineAll",(function(){return k})),n.d(t,"combineLatest",(function(){return G})),n.d(t,"concat",(function(){return K})),n.d(t,"concatAll",(function(){return W.a})),n.d(t,"concatMap",(function(){return X})),n.d(t,"concatMapTo",(function(){return Y})),n.d(t,"count",(function(){return J})),n.d(t,"debounce",(function(){return Z})),n.d(t,"debounceTime",(function(){return ne})),n.d(t,"defaultIfEmpty",(function(){return se})),n.d(t,"delay",(function(){return de})),n.d(t,"delayWhen",(function(){return he})),n.d(t,"dematerialize",(function(){return Ee})),n.d(t,"distinct",(function(){return Se})),n.d(t,"distinctUntilChanged",(function(){return we})),n.d(t,"distinctUntilKeyChanged",(function(){return Re})),n.d(t,"elementAt",(function(){return Qe})),n.d(t,"endWith",(function(){return Ve})),n.d(t,"every",(function(){return Ke})),n.d(t,"exhaust",(function(){return Xe})),n.d(t,"exhaustMap",(function(){return $e})),n.d(t,"expand",(function(){return tt})),n.d(t,"filter",(function(){return Ne.a})),n.d(t,"finalize",(function(){return ot})),n.d(t,"find",(function(){return at})),n.d(t,"findIndex",(function(){return lt})),n.d(t,"first",(function(){return ft})),n.d(t,"groupBy",(function(){return pt.b})),n.d(t,"ignoreElements",(function(){return At})),n.d(t,"isEmpty",(function(){return mt})),n.d(t,"last",(function(){return Tt})),n.d(t,"map",(function(){return qe.a})),n.d(t,"mapTo",(function(){return St})),n.d(t,"materialize",(function(){return wt})),n.d(t,"max",(function(){return Lt})),n.d(t,"merge",(function(){return Pt})),n.d(t,"mergeAll",(function(){return jt.a})),n.d(t,"mergeMap",(function(){return z.a})),n.d(t,"flatMap",(function(){return z.a})),n.d(t,"mergeMapTo",(function(){return Dt})),n.d(t,"mergeScan",(function(){return kt})),n.d(t,"min",(function(){return Gt})),n.d(t,"multicast",(function(){return Kt})),n.d(t,"observeOn",(function(){return zt.b})),n.d(t,"onErrorResumeNext",(function(){return Xt})),n.d(t,"pairwise",(function(){return qt})),n.d(t,"partition",(function(){return tn})),n.d(t,"pluck",(function(){return nn})),n.d(t,"publish",(function(){return sn})),n.d(t,"publishBehavior",(function(){return un})),n.d(t,"publishLast",(function(){return ln})),n.d(t,"publishReplay",(function(){return fn})),n.d(t,"race",(function(){return An})),n.d(t,"reduce",(function(){return Ut})),n.d(t,"repeat",(function(){return gn})),n.d(t,"repeatWhen",(function(){return yn})),n.d(t,"retry",(function(){return En})),n.d(t,"retryWhen",(function(){return Sn})),n.d(t,"refCount",(function(){return wn.a})),n.d(t,"sample",(function(){return Bn})),n.d(t,"sampleTime",(function(){return On})),n.d(t,"scan",(function(){return Rt})),n.d(t,"sequenceEqual",(function(){return Ln})),n.d(t,"share",(function(){return kn})),n.d(t,"shareReplay",(function(){return Hn})),n.d(t,"single",(function(){return Qn})),n.d(t,"skip",(function(){return Kn})),n.d(t,"skipLast",(function(){return Xn})),n.d(t,"skipUntil",(function(){return qn})),n.d(t,"skipWhile",(function(){return er})),n.d(t,"startWith",(function(){return rr})),n.d(t,"subscribeOn",(function(){return ar})),n.d(t,"switchAll",(function(){return fr})),n.d(t,"switchMap",(function(){return cr})),n.d(t,"switchMapTo",(function(){return pr})),n.d(t,"take",(function(){return De})),n.d(t,"takeLast",(function(){return bt})),n.d(t,"takeUntil",(function(){return Ar})),n.d(t,"takeWhile",(function(){return mr})),n.d(t,"tap",(function(){return Cr})),n.d(t,"throttle",(function(){return _r})),n.d(t,"throttleTime",(function(){return Ir})),n.d(t,"throwIfEmpty",(function(){return Ue})),n.d(t,"timeInterval",(function(){return Ur})),n.d(t,"timeout",(function(){return Hr})),n.d(t,"timeoutWith",(function(){return Pr})),n.d(t,"timestamp",(function(){return Qr})),n.d(t,"toArray",(function(){return Kr})),n.d(t,"window",(function(){return Wr})),n.d(t,"windowCount",(function(){return Yr})),n.d(t,"windowTime",(function(){return $r})),n.d(t,"windowToggle",(function(){return io})),n.d(t,"windowWhen",(function(){return uo})),n.d(t,"withLatestFrom",(function(){return fo})),n.d(t,"zip",(function(){return ho})),n.d(t,"zipAll",(function(){return mo}));var r=n(0),o=n(10),i=n(9);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var n=Object(i.a)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,n,r){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(o.a),c=n(21),l=n(103);function d(e,t){return void 0===t&&(t=c.a),s((function(){return Object(l.a)(e,t)}))}function f(e){return function(t){return t.lift(new p(e))}}var p=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new A(e,this.closingNotifier))},e}(),A=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add(Object(i.a)(r,n)),r}return r.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,n,r,o){var i=this.buffer;this.buffer=[],this.destination.next(i)},t}(o.a),g=n(3);function h(e,t){return void 0===t&&(t=null),function(n){return n.lift(new m(e,t))}}var m=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?v:y}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),y=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r.a(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(g.a),v=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.bufferSize=n,o.startBufferEvery=r,o.buffers=[],o.count=0,o}return r.a(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,o=this.count;this.count++,o%n==0&&r.push([]);for(var i=r.length;i--;){var s=r[i];s.push(e),s.length===t&&(r.splice(i,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(g.a),b=n(24);function E(e){var t=arguments.length,n=c.a;Object(b.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new C(e,r,o,n))}}var C=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new S(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),T=function(){return function(){this.buffer=[]}}(),S=function(e){function t(t,n,r,o,i){var s=e.call(this,t)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=o,s.scheduler=i,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var u={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=i.schedule(x,n,u))}else{var c={subscriber:s,context:a},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:i};s.add(a.closeAction=i.schedule(w,n,c)),s.add(i.schedule(_,r,l))}return s}return r.a(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,o=0;o<r;o++){var i=n[o],s=i.buffer;s.push(e),s.length==this.maxBufferSize&&(t=i)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(x,n,r))}},t.prototype.openContext=function(){var e=new T;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(g.a);function x(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function _(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,o=e.scheduler,i=r.openContext();r.closed||(r.add(i.closeAction=o.schedule(w,n,{subscriber:r,context:i})),this.schedule(e,t))}function w(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var B=n(16);function I(e,t){return function(n){return n.lift(new R(e,t))}}var R=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new O(e,this.openings,this.closingSelector))},e}(),O=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.openings=n,o.closingSelector=r,o.contexts=[],o.add(Object(i.a)(o,n)),o}return r.a(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,o){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new B.a,r={buffer:[],subscription:n};t.push(r);var o=Object(i.a)(this,e,r);!o||o.closed?this.closeBuffer(r):(o.context=r,this.add(o),n.add(o))},t}(o.a);function N(e){return function(t){return t.lift(new M(e))}}var M=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new U(e,this.closingSelector))},e}(),U=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,r,o){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new B.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(i.a)(this,t)),this.subscribing=!1},t}(o.a),L=n(30);function F(e){return function(t){var n=new P(e),r=t.lift(n);return n.caught=r}}var P=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new j(e,this.selector,this.caught))},e}(),j=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.selector=n,o.caught=r,o}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new L.a(this,void 0,void 0);this.add(r);var o=Object(i.a)(this,n,void 0,void 0,r);o!==r&&this.add(o)}},t}(o.a),D=n(69);function k(e){return function(t){return t.lift(new D.a(e))}}var H=n(19),Q=n(27);function G(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(H.a)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(Q.a)([t].concat(e)),new D.a(n))}}var V=n(55);function K(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(V.a.apply(void 0,[t].concat(e)))}}var W=n(104),z=n(42);function X(e,t){return Object(z.a)(e,t,1)}function Y(e,t){return X((function(){return e}),t)}function J(e){return function(t){return t.lift(new q(e,t))}}var q=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new $(e,this.predicate,this.source))},e}(),$=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.source=r,o.count=0,o.index=0,o}return r.a(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(g.a);function Z(e){return function(t){return t.lift(new ee(e))}}var ee=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new te(e,this.durationSelector))},e}(),te=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r.durationSubscription=null,r}return r.a(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(i.a)(this,t))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,r,o){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(o.a);function ne(e,t){return void 0===t&&(t=c.a),function(n){return n.lift(new re(e,t))}}var re=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new oe(e,this.dueTime,this.scheduler))},e}(),oe=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.dueTime=n,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return r.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ie,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(g.a);function ie(e){e.debouncedNext()}function se(e){return void 0===e&&(e=null),function(t){return t.lift(new ae(e))}}var ae=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new ue(e,this.defaultValue))},e}(),ue=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.a(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(g.a);function ce(e){return e instanceof Date&&!isNaN(+e)}var le=n(34);function de(e,t){void 0===t&&(t=c.a);var n=ce(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new fe(n,t))}}var fe=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new pe(e,this.delay,this.scheduler))},e}(),pe=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.delay=n,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return r.a(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,o=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var i=Math.max(0,n[0].time-r.now());this.schedule(e,i)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new Ae(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(le.a.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(le.a.createComplete()),this.unsubscribe()},t}(g.a),Ae=function(){return function(e,t){this.time=e,this.notification=t}}(),ge=n(4);function he(e,t){return t?function(n){return new ve(n,t).lift(new me(e))}:function(t){return t.lift(new me(e))}}var me=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ye(e,this.delayDurationSelector))},e}(),ye=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(e),this.removeSubscription(o),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Object(i.a)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(o.a),ve=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.a(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new be(e,this.source))},t}(ge.a),be=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.a(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(g.a);function Ee(){return function(e){return e.lift(new Ce)}}var Ce=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Te(e))},e}(),Te=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(g.a);function Se(e,t){return function(n){return n.lift(new xe(e,t))}}var xe=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new _e(e,this.keySelector,this.flushes))},e}(),_e=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=n,o.values=new Set,r&&o.add(Object(i.a)(o,r)),o}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(o.a);function we(e,t){return function(n){return n.lift(new Be(e,t))}}var Be=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Ie(e,this.compare,this.keySelector))},e}(),Ie=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return r.a(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(e){return this.destination.error(e)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(g.a);function Re(e,t){return we((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}var Oe=n(43),Ne=n(33),Me=n(46);function Ue(e){return void 0===e&&(e=Pe),function(t){return t.lift(new Le(e))}}var Le=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new Fe(e,this.errorFactory))},e}(),Fe=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(g.a);function Pe(){return new Me.a}var je=n(26);function De(e){return function(t){return 0===e?Object(je.b)():t.lift(new ke(e))}}var ke=function(){function e(e){if(this.total=e,this.total<0)throw new Oe.a}return e.prototype.call=function(e,t){return t.subscribe(new He(e,this.total))},e}(),He=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(g.a);function Qe(e,t){if(e<0)throw new Oe.a;var n=arguments.length>=2;return function(r){return r.pipe(Object(Ne.a)((function(t,n){return n===e})),De(1),n?se(t):Ue((function(){return new Oe.a})))}}var Ge=n(57);function Ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(V.a)(t,Ge.a.apply(void 0,e))}}function Ke(e,t){return function(n){return n.lift(new We(e,t,n))}}var We=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new ze(e,this.predicate,this.thisArg,this.source))},e}(),ze=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.source=o,i.index=0,i.thisArg=r||i,i}return r.a(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(g.a);function Xe(){return function(e){return e.lift(new Ye)}}var Ye=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Je(e))},e}(),Je=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.a(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(i.a)(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(o.a),qe=n(22);function $e(e,t){return t?function(n){return n.pipe($e((function(n,r){return Object(Q.a)(e(n,r)).pipe(Object(qe.a)((function(e,o){return t(n,e,r,o)})))})))}:function(t){return t.lift(new Ze(e))}}var Ze=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new et(e,this.project))},e}(),et=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new L.a(this,t,n),o=this.destination;o.add(r);var s=Object(i.a)(this,e,void 0,void 0,r);s!==r&&o.add(s)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(o.a);function tt(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new nt(e,t,n))}}var nt=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new rt(e,this.project,this.concurrent,this.scheduler))},e}(),rt=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.scheduler=o,i.index=0,i.active=0,i.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(i.buffer=[]),i}return r.a(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,o=e.index;t.subscribeToProjection(n,r,o)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var o=(0,this.project)(e,r);if(this.scheduler){var i={subscriber:this,result:o,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,i))}else this.subscribeToProjection(o,e,r)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add(Object(i.a)(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,o){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(o.a);function ot(e){return function(t){return t.lift(new it(e))}}var it=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new st(e,this.callback))},e}(),st=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new B.a(n)),r}return r.a(t,e),t}(g.a);function at(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new ut(e,n,!1,t))}}var ut=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new ct(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),ct=function(e){function t(t,n,r,o,i){var s=e.call(this,t)||this;return s.predicate=n,s.source=r,s.yieldIndex=o,s.thisArg=i,s.index=0,s}return r.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(g.a);function lt(e,t){return function(n){return n.lift(new ut(e,n,!0,t))}}var dt=n(37);function ft(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(Ne.a)((function(t,n){return e(t,n,r)})):dt.a,De(1),n?se(t):Ue((function(){return new Me.a})))}}var pt=n(88);function At(){return function(e){return e.lift(new gt)}}var gt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new ht(e))},e}(),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype._next=function(e){},t}(g.a);function mt(){return function(e){return e.lift(new yt)}}var yt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new vt(e))},e}(),vt=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(g.a);function bt(e){return function(t){return 0===e?Object(je.b)():t.lift(new Et(e))}}var Et=function(){function e(e){if(this.total=e,this.total<0)throw new Oe.a}return e.prototype.call=function(e,t){return t.subscribe(new Ct(e,this.total))},e}(),Ct=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=t++%n;e.next(r[i])}e.complete()},t}(g.a);function Tt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(Ne.a)((function(t,n){return e(t,n,r)})):dt.a,bt(1),n?se(t):Ue((function(){return new Me.a})))}}function St(e){return function(t){return t.lift(new xt(e))}}var xt=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new _t(e,this.value))},e}(),_t=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r.a(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(g.a);function wt(){return function(e){return e.lift(new Bt)}}var Bt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new It(e))},e}(),It=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype._next=function(e){this.destination.next(le.a.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(le.a.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(le.a.createComplete()),e.complete()},t}(g.a);function Rt(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ot(e,t,n))}}var Ot=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new Nt(e,this.accumulator,this.seed,this.hasSeed))},e}(),Nt=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return r.a(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(g.a),Mt=n(63);function Ut(e,t){return arguments.length>=2?function(n){return Object(Mt.a)(Rt(e,t),bt(1),se(t))(n)}:function(t){return Object(Mt.a)(Rt((function(t,n,r){return e(t,n,r+1)})),bt(1))(t)}}function Lt(e){return Ut("function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}var Ft=n(105);function Pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Ft.a.apply(void 0,[t].concat(e)))}}var jt=n(70);function Dt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?Object(z.a)((function(){return e}),t,n):("number"==typeof t&&(n=t),Object(z.a)((function(){return e}),n))}function kt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new Ht(e,t,n))}}var Ht=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new Qt(e,this.accumulator,this.seed,this.concurrent))},e}(),Qt=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.accumulator=n,i.acc=r,i.concurrent=o,i.hasValue=!1,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(r,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n){var r=new L.a(this,t,n),o=this.destination;o.add(r);var s=Object(i.a)(this,e,void 0,void 0,r);s!==r&&o.add(s)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,o){var i=this.destination;this.acc=t,this.hasValue=!0,i.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(o.a);function Gt(e){return Ut("function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}var Vt=n(106);function Kt(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new Wt(r,t));var o=Object.create(n,Vt.b);return o.source=n,o.subjectFactory=r,o}}var Wt=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(e);return o.add(t.subscribe(r)),o},e}(),zt=n(107);function Xt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(H.a)(e[0])&&(e=e[0]),function(t){return t.lift(new Yt(e))}}var Yt=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new Jt(e,this.nextSources))},e}(),Jt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r.a(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new L.a(this,void 0,void 0),n=this.destination;n.add(t);var r=Object(i.a)(this,e,void 0,void 0,t);r!==t&&n.add(r)}else this.destination.complete()},t}(o.a);function qt(){return function(e){return e.lift(new $t)}}var $t=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Zt(e))},e}(),Zt=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r.a(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(g.a),en=n(117);function tn(e,t){return function(n){return[Object(Ne.a)(e,t)(n),Object(Ne.a)(Object(en.a)(e,t))(n)]}}function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Object(qe.a)(rn(e,n))(t)}}function rn(e,t){return function(n){for(var r=n,o=0;o<t;o++){var i=r[e[o]];if(void 0===i)return;r=i}return r}}var on=n(18);function sn(e){return e?Kt((function(){return new on.a}),e):Kt(new on.a)}var an=n(108);function un(e){return function(t){return Kt(new an.a(e))(t)}}var cn=n(49);function ln(){return function(e){return Kt(new cn.a)(e)}}var dn=n(73);function fn(e,t,n,r){n&&"function"!=typeof n&&(r=n);var o="function"==typeof n?n:void 0,i=new dn.a(e,t,r);return function(e){return Kt((function(){return i}),o)(e)}}var pn=n(109);function An(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(H.a)(e[0])&&(e=e[0]),t.lift.call(pn.a.apply(void 0,[t].concat(e)))}}function gn(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(je.b)():e<0?t.lift(new hn(-1,t)):t.lift(new hn(e-1,t))}}var hn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new mn(e,this.count,this.source))},e}(),mn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.count=n,o.source=r,o}return r.a(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(g.a);function yn(e){return function(t){return t.lift(new vn(e))}}var vn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new bn(e,this.notifier,t))},e}(),bn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.notifier=n,o.source=r,o.sourceIsBeingSubscribedTo=!0,o}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new on.a;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(i.a)(this,t)},t}(o.a);function En(e){return void 0===e&&(e=-1),function(t){return t.lift(new Cn(e,t))}}var Cn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Tn(e,this.count,this.source))},e}(),Tn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.count=n,o.source=r,o}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(g.a);function Sn(e){return function(t){return t.lift(new xn(e,t))}}var xn=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new _n(e,this.notifier,this.source))},e}(),_n=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.notifier=n,o.source=r,o}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new on.a;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}o=Object(i.a)(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,n,r,o){var i=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=i,this.source.subscribe(this)},t}(o.a),wn=n(72);function Bn(e){return function(t){return t.lift(new In(e))}}var In=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new Rn(e),r=t.subscribe(n);return r.add(Object(i.a)(n,this.notifier)),r},e}(),Rn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r.a(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,n,r,o){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(o.a);function On(e,t){return void 0===t&&(t=c.a),function(n){return n.lift(new Nn(e,t))}}var Nn=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Mn(e,this.period,this.scheduler))},e}(),Mn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.period=n,o.scheduler=r,o.hasValue=!1,o.add(r.schedule(Un,n,{subscriber:o,period:n})),o}return r.a(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(g.a);function Un(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function Ln(e,t){return function(n){return n.lift(new Fn(e,t))}}var Fn=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new Pn(e,this.compareTo,this.comparator))},e}(),Pn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.compareTo=n,o.comparator=r,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new jn(t,o))),o}return r.a(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,n=this.comparator;e.length>0&&t.length>0;){var r=e.shift(),o=t.shift(),i=!1;try{i=n?n(r,o):r===o}catch(e){this.destination.error(e)}i||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(g.a),jn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r.a(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(g.a);function Dn(){return new on.a}function kn(){return function(e){return Object(wn.a)()(Kt(Dn)(e))}}function Hn(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,o=void 0===r?Number.POSITIVE_INFINITY:r,i=e.windowTime,s=void 0===i?Number.POSITIVE_INFINITY:i,a=e.refCount,u=e.scheduler,c=0,l=!1,d=!1;return function(e){c++,t&&!l||(l=!1,t=new dn.a(o,s,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){d=!0,n=void 0,t.complete()}}));var r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!d&&a&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}function Qn(e){return function(t){return t.lift(new Gn(e,t))}}var Gn=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Vn(e,this.predicate,this.source))},e}(),Vn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.source=r,o.seenValue=!1,o.index=0,o}return r.a(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Me.a)},t}(g.a);function Kn(e){return function(t){return t.lift(new Wn(e))}}var Wn=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new zn(e,this.total))},e}(),zn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(g.a);function Xn(e){return function(t){return t.lift(new Yn(e))}}var Yn=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new Oe.a}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new g.a(e)):t.subscribe(new Jn(e,this._skipCount))},e}(),Jn=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.a(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,o=this._ring,i=o[r];o[r]=e,this.destination.next(i)}},t}(g.a);function qn(e){return function(t){return t.lift(new $n(e))}}var $n=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new Zn(e,this.notifier))},e}(),Zn=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var o=new L.a(r,void 0,void 0);r.add(o),r.innerSubscription=o;var s=Object(i.a)(r,n,void 0,void 0,o);return s!==o&&(r.add(s),r.innerSubscription=s),r}return r.a(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(e,t,n,r,o){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(o.a);function er(e){return function(t){return t.lift(new tr(e))}}var tr=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new nr(e,this.predicate))},e}(),nr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(g.a);function rr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(b.a)(n)?(e.pop(),function(t){return Object(V.a)(e,t,n)}):function(t){return Object(V.a)(e,t)}}var or=n(79),ir=n(51),sr=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=or.a);var o=e.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=r,(!Object(ir.a)(n)||n<0)&&(o.delayTime=0),r&&"function"==typeof r.schedule||(o.scheduler=or.a),o}return r.a(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=or.a),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(ge.a);function ar(e,t){return void 0===t&&(t=0),function(n){return n.lift(new ur(e,t))}}var ur=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new sr(t,this.delay,this.scheduler).subscribe(e)},e}();function cr(e,t){return"function"==typeof t?function(n){return n.pipe(cr((function(n,r){return Object(Q.a)(e(n,r)).pipe(Object(qe.a)((function(e,o){return t(n,e,r,o)})))})))}:function(t){return t.lift(new lr(e))}}var lr=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new dr(e,this.project))},e}(),dr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new L.a(this,t,n),s=this.destination;s.add(o),this.innerSubscription=Object(i.a)(this,e,void 0,void 0,o),this.innerSubscription!==o&&s.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t}(o.a);function fr(){return cr(dt.a)}function pr(e,t){return t?cr((function(){return e}),t):cr((function(){return e}))}function Ar(e){return function(t){return t.lift(new gr(e))}}var gr=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new hr(e),r=Object(i.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),hr=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(o.a);function mr(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new yr(e,t))}}var yr=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new vr(e,this.predicate,this.inclusive))},e}(),vr=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.inclusive=r,o.index=0,o}return r.a(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(g.a),br=n(32),Er=n(44);function Cr(e,t,n){return function(r){return r.lift(new Tr(e,t,n))}}var Tr=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new Sr(e,this.nextOrObserver,this.error,this.complete))},e}(),Sr=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._tapNext=br.a,i._tapError=br.a,i._tapComplete=br.a,i._tapError=r||br.a,i._tapComplete=o||br.a,Object(Er.a)(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||br.a,i._tapError=n.error||br.a,i._tapComplete=n.complete||br.a),i}return r.a(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(g.a),xr={leading:!0,trailing:!1};function _r(e,t){return void 0===t&&(t=xr),function(n){return n.lift(new wr(e,t.leading,t.trailing))}}var wr=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new Br(e,this.durationSelector,this.leading,this.trailing))},e}(),Br=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.destination=t,i.durationSelector=n,i._leading=r,i._trailing=o,i._hasValue=!1,i}return r.a(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(i.a)(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()},t.prototype.notifyNext=function(e,t,n,r,o){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(o.a);function Ir(e,t,n){return void 0===t&&(t=c.a),void 0===n&&(n=xr),function(r){return r.lift(new Rr(e,t,n.leading,n.trailing))}}var Rr=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new Or(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),Or=function(e){function t(t,n,r,o,i){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=r,s.leading=o,s.trailing=i,s._hasTrailingValue=!1,s._trailingValue=null,s}return r.a(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Nr,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(g.a);function Nr(e){e.subscriber.clearThrottle()}var Mr=n(74);function Ur(e){return void 0===e&&(e=c.a),function(t){return Object(Mr.a)((function(){return t.pipe(Rt((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),Object(qe.a)((function(e){var t=e.current,n=e.last,r=e.value;return new Lr(r,t-n)})))}))}}var Lr=function(){return function(e,t){this.value=e,this.interval=t}}(),Fr=n(110);function Pr(e,t,n){return void 0===n&&(n=c.a),function(r){var o=ce(e),i=o?+e-n.now():Math.abs(e);return r.lift(new jr(i,o,t,n))}}var jr=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new Dr(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),Dr=function(e){function t(t,n,r,o,i){var s=e.call(this,t)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=o,s.scheduler=i,s.action=null,s.scheduleTimeout(),s}return r.a(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(i.a)(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(o.a),kr=n(71);function Hr(e,t){return void 0===t&&(t=c.a),Pr(e,Object(kr.a)(new Fr.a),t)}function Qr(e){return void 0===e&&(e=c.a),Object(qe.a)((function(t){return new Gr(t,e.now())}))}var Gr=function(){return function(e,t){this.value=e,this.timestamp=t}}();function Vr(e,t,n){return 0===n?[t]:(e.push(t),e)}function Kr(){return Ut(Vr,[])}function Wr(e){return function(t){return t.lift(new zr(e))}}var zr=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new Xr(e),r=t.subscribe(n);return r.closed||n.add(Object(i.a)(n,this.windowBoundaries)),r},e}(),Xr=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new on.a,t.next(n.window),n}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new on.a;t.next(n)},t}(o.a);function Yr(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Jr(e,t))}}var Jr=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new qr(e,this.windowSize,this.startWindowEvery))},e}(),qr=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.destination=t,o.windowSize=n,o.startWindowEvery=r,o.windows=[new on.a],o.count=0,t.next(o.windows[0]),o}return r.a(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,o=this.windows,i=o.length,s=0;s<i&&!this.closed;s++)o[s].next(e);var a=this.count-r+1;if(a>=0&&a%t==0&&!this.closed&&o.shift().complete(),++this.count%t==0&&!this.closed){var u=new on.a;o.push(u),n.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(g.a);function $r(e){var t=c.a,n=null,r=Number.POSITIVE_INFINITY;return Object(b.a)(arguments[3])&&(t=arguments[3]),Object(b.a)(arguments[2])?t=arguments[2]:Object(ir.a)(arguments[2])&&(r=arguments[2]),Object(b.a)(arguments[1])?t=arguments[1]:Object(ir.a)(arguments[1])&&(n=arguments[1]),function(o){return o.lift(new Zr(e,n,r,t))}}var Zr=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new to(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),eo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r.a(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(on.a),to=function(e){function t(t,n,r,o,i){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=o,s.scheduler=i,s.windows=[];var a=s.openWindow();if(null!==r&&r>=0){var u={subscriber:s,window:a,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:i};s.add(i.schedule(oo,n,u)),s.add(i.schedule(ro,r,c))}else{var l={subscriber:s,window:a,windowTimeSpan:n};s.add(i.schedule(no,n,l))}return s}return r.a(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var o=t[r];o.closed||(o.next(e),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new eo;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(g.a);function no(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function ro(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,o=e.windowCreationInterval,i=n.openWindow(),s={action:this,subscription:null},a={subscriber:n,window:i,context:s};s.subscription=r.schedule(oo,t,a),this.add(s.subscription),this.schedule(e,o)}function oo(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}function io(e,t){return function(n){return n.lift(new so(e,t))}}var so=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new ao(e,this.openings,this.closingSelector))},e}(),ao=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.openings=n,o.closingSelector=r,o.contexts=[],o.add(o.openSubscription=Object(i.a)(o,n,n)),o}return r.a(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,o=-1;++o<r;){var i=n[o];i.window.error(t),i.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var o=t[r];o.window.complete(),o.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,o){if(e===this.openings){var s=void 0;try{s=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var a=new on.a,u=new B.a,c={window:a,subscription:u};this.contexts.push(c);var l=Object(i.a)(this,s,c);l.closed?this.closeWindow(this.contexts.length-1):(l.context=c,u.add(l)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,o=n.subscription;t.splice(e,1),r.complete(),o.unsubscribe()}},t}(o.a);function uo(e){return function(t){return t.lift(new co(e))}}var co=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new lo(e,this.closingSelector))},e}(),lo=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.openWindow(o)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new on.a;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=Object(i.a)(this,n))},t}(o.a);function fo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new po(r,n))}}var po=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new Ao(e,this.observables,this.project))},e}(),Ao=function(e){function t(t,n,r){var o=e.call(this,t)||this;o.observables=n,o.project=r,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(a=0;a<s;a++){var u=n[a];o.add(Object(i.a)(o,u,u,a))}return o}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.values[n]=t;var i=this.toRespond;if(i.length>0){var s=i.indexOf(n);-1!==s&&i.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.a),go=n(75);function ho(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(go.b.apply(void 0,[t].concat(e)))}}function mo(e){return function(t){return t.lift(new go.a(e))}}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(28);function s(e){return(e<10?"0":"")+e}t.nodeListToArray=function(e){return Array.prototype.map.call(e,(function(e){return e}))},t.animation=function(e,t,n){return n=r({duration:500,origin:o.AnimationOrigin.CENTER,timeFunction:o.AnimationTimeFunction.EASE,count:1,delay:0,direction:o.AnimationDirection.NORMAL},n),i.createObserver((function(r){e.animation=o.AnimationType.NONE,e.transformOrigin=o.AnimationOrigin.CENTER,clearTimeout(e.timer),e.animation=t+" "+n.duration/1e3+"s "+n.timeFunction+" "+n.delay/1e3+"s "+n.count+" "+n.direction,e.transformOrigin=n.origin,e.timer=setTimeout((function(){e.animation=o.AnimationType.NONE,e.transformOrigin=o.AnimationOrigin.CENTER,clearTimeout(e.timer),r.next()}),n.duration-50)}))},t.getCurTargetOffset=function(e){var t=e.target,n=e.currentTarget;if(t===n)return{x:e.offsetX,y:e.offsetY};for(var r=t.offsetParent,o={x:e.offsetX+t.offsetLeft,y:e.offsetY+t.offsetTop};r!==n;)o.x+=r.offsetLeft,o.y+=r.offsetTop,r=r.offsetParent;return o},t.getElementTop=function(e){return e.getBoundingClientRect().top},t.getElementLeft=function(e){return e.getBoundingClientRect().left},t.isDescendant=function(e,t,n){if(e===t)return!0;for(var r=n||null,o=e.parentNode;o!==t&&o!==r&&o;)o=o.parentNode;return!(!o||o===r)},t.toggleVisible=function(e,t){return t?e:r(r({},e),{display:"none"})},t.getFormatTimeStr=function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return t>0?s(t)+":"+s(n)+":"+s(r):s(n)+":"+s(r)}},function(e,t,n){"use strict";e.exports=n(326)},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(25),i=n(1),s=n(89),a=n(194),u=n(28),c=n(23),l=n(195);t.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},t.splitColon=function(e,t){t=t||":";var n=e.split(t);return":"!==t?n[0].trim():n.length>1?n[1]:n[0]},t.handleFileType=function(e){if(e.messageType===i.MessageType.FILE)switch(p(e.url)){case"jpg":case"jpeg":case"gif":case"png":case"jfif":e.signalType=i.SignalType.IMAGE;break;case"avi":case"wmv":case"mpg":case"mpeg":case"mov":case"rm":case"ram":case"flv":case"swf":case"mp4":e.signalType=i.SignalType.VIDEO_FILE;break;default:e.signalType=i.SignalType.FILE}return e},t.isVideoFile=function(e){var t=e.split("."),n=t[t.length-1];return["avi","wmv","mpg","mpeg","mov","rm","ram","flv","swf","mp4"].some((function(e){return e===n}))},t.handleRecvMessage=function(e){return e.srcCode&&(e.type===i.ChatType.GROUP&&(e.groupCodeStr=e.chatCode),e.userCode=e.srcCode),e};var d=/(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])(:\d+)?\//;var f=["headImageUrl","url","snapshotUrl"];function p(e){var t=e.lastIndexOf(".");return-1===t||t===e.length-1?"":e.slice(t+1)}t.handleUrl=function e(t){var n;if(t)if(Array.isArray(t))t.forEach((function(t){return e(t)}));else if("object"===(void 0===t?"undefined":r(t)))for(var i in t)"object"===r(t[i])&&t[i]&&e(t[i]),"string"==typeof t[i]&&t[i]&&-1!==f.indexOf(i)&&(t[i]=(n=t[i])?0!==n.indexOf("http")&&0!==n.indexOf("HTTP")?(n=n.replace(d,""),o.server.fileBaseUrl+(0===n.indexOf("/")?"":"/")+n):(0===n.indexOf("http://")&&(n=n.replace("http://","")),0===n.indexOf("https://")&&(n=n.replace("https://","")),0===n.indexOf("HTTP://")&&(n=n.replace("HTTP://","")),0===n.indexOf("HTTPS://")&&(n=n.replace("HTTPS://","")),n.replace(d,o.server.fileBaseUrl+"/")):n)},t.setDomain=function(e,t,n){if("object"===(void 0===e?"undefined":r(e))&&e.length)return n=n||"@",e.map((function(e){return-1===e.indexOf(n)?e+n+t:e}))},t.getExtName=p;var A={0:"不支持多端登录的设备",1:"手机",2:"执法记录仪",3:"WINDOWS桌面客户端",4:"CHROME浏览器网页客户端",5:"视信通后台管理页面",6:"车载",7:"单兵",8:"行车记录仪",9:"平板",10:"对讲机",11:"便携",12:"无人机",13:"布控球"};function g(e){return!!e.groupCodeStr}function h(e){var t=e.url;if(!t)return"";var n=t.lastIndexOf(".");return e.signalType===i.SignalType.VIDEO_FILE?t.slice(0,n)+".png":t.slice(0,n)+"_thumb"+t.slice(n)}function m(e){if(!e)return"";var t=e.split("/b64_")[1];if(!t)return e;var n=t.lastIndexOf("."),r="";return-1!==n&&(r=t.slice(n),t=t.slice(0,n)),decodeURI(a.base64decode(t))+r}function y(e){for(var t=/<img[\S\s]*?>/,n=[],r=/&i&m&g&/;t.test(e);)n.push(e.match(t)[0]),e=e.replace(t,"&i&m&g&");for(e=l.default(e).replace(/\n/g,"<br>").replace(/(<br>)((<br>)+)/g,(function(){return arguments[2]})).replace(/(<br>){2,}/g,"<br><br>");r.test(e);)e=e.replace(r,n.shift());return e}t.handleDeviceType=function(e){return{code:e,type:A[e]}},t.isGroup=g,t.isSelf=function(e){return e.target===i.MessageTarget.SELF},t.isFile=function(e){return e.signalType===i.SignalType.FILE||e.signalType===i.SignalType.IMAGE||e.signalType===i.SignalType.VIDEO_FILE||e.signalType===i.SignalType.VOICE_FILE||e.signalType===i.SignalType.PTT},t.getTargetCode=function(e){return e[g(e)?"groupCodeStr":"userCode"]},t.getUserHeader=function(e,t){return e.groupCodeStr?t.$groupDefaultHeader:e.headImageUrl?e.headImageUrl:"女"===e.userSex?t.$femaleDefaultHeader:t.$maleDefaultHeader},t.formatTime=function(e){var t=s.date(s.date().format("y")+"-"+s.date().format("m")+"-"+s.date().format("d")).toNumber()-288e5,n=t+864e5;return t<s.date(e).toNumber()&&s.date(e).toNumber()<n?s.date(e).format("H:i"):s.date(e).toNumber()<t&&s.date(e).toNumber()>t-864e5?"昨天":s.date(e).format("y/m/d")},t.formatLatestMsg=function(e){switch(e.signalType){case i.SignalType.FILE:return"[文件]";case i.SignalType.IMAGE:return"[图片]";case i.SignalType.PTT:return"[短语音]";case i.SignalType.VIDEO:return e.liveType===i.LiveType.LIVE?"[直播]":e.videoType===i.VideoType.AUDIO?"[语音聊天]":"[视频聊天]";case i.SignalType.REVOKE:return"[撤回消息]";case i.SignalType.LOCATION:return"[位置]";case i.SignalType.VIDEO_FILE:return"[视频文件]";case i.SignalType.VOICE_FILE:return"[语音文件]";case i.SignalType.IM_REPLY:return"[消息回复]";case i.SignalType.IM_COMBIND:return"[聊天记录]";default:return e.content.replace(/<br>/g," ")||""}},t.getAttachment=function(e){var t={};switch(e.signalType){case i.SignalType.TEXT:case i.SignalType.GROUP_ANNOUNCEMENT:t={msgType:e.signalType,text:e.content};break;case i.SignalType.OTHER:case i.SignalType.FILE:t={msgType:e.signalType,url:e.url,fileName:e.remark.fileName,size:e.remark.fileSize};break;case i.SignalType.IMAGE:t={msgType:e.signalType,url:e.url,previewUrl:h(e),fileName:e.remark.fileName,size:e.remark.fileSize,hasOriginal:0};break;case i.SignalType.VIDEO_FILE:case i.SignalType.VOICE_FILE:case i.SignalType.PTT:t={msgType:e.signalType,url:e.url,previewUrl:h(e),fileName:e.remark.fileName,size:e.remark.fileSize,duration:e.remark.duration};break;case i.SignalType.LOCATION:var n=e.location,r=n.longitude,o=n.latitude,s=n.address,a=n.name,u=n.zoom,c=n.csysType,l=n.csysLon,d=n.csysLat,f=n.snapshotUrl;t={msgType:e.signalType,snapshotUrl:f,longitude:r,latitude:o,address:s,name:a,zoom:u,csysType:c,csysLon:l,csysLat:d};break;case i.SignalType.SHARE:break;case i.SignalType.IM_COMBIND:t={title:e.combindBody.title,msgType:e.signalType,description:e.combindBody.description,items:e.combindBody.items};break;case i.SignalType.IM_REPLY:t={msgType:e.signalType,text:e.content,refItem:e.bodyMessage.refItem}}return t},t.getPreviewUrl=h,t.getFileName=m,t.formatFileSize=function(e){var t=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)};return void 0===e?"":e<1024?e+"B":e<1048576?t(e/1024,2)+"K":e<1073741824?t(e/1024/1024,2)+"M":t(e/1024/1024/1024,2)+"G"},t.fileToBase64=function(e){return u.createObserver((function(t){var n=new FileReader;n.onloadend=function(e){return t.next(e.target.result)},n.onerror=function(e){return t.error(e)},n.readAsDataURL(e)}))},t.imageToCanvas=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t},t.canvasToDataURL=function(e,t,n){return e.toDataURL(t||"image/jpeg",n||1)},t.dataURLToBlob=function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),o=r.length,i=new Uint8Array(o);o--;)i[o]=r.charCodeAt(o);return new Blob([i],{type:n})},t.isTarget=function(e,t){return!!t&&("string"==typeof e?t.groupCodeStr?e===t.groupCodeStr:e===t.userCode:e.groupCodeStr?e.groupCodeStr===t.groupCodeStr:!t.groupCodeStr&&e.userCode===t.userCode)},t.getTargetMember=function(e,t){if(!g(e)||!Array.isArray(e.groupMembers))throw c.default(1001,"第一个参数不为群组","getTargetMember");return e.groupMembers.filter((function(e){return e.userCode===t.userCode}))[0]||{}},t.loadImgError=function(e){var t=e.currentTarget;t&&(t.errorTime?t.errorTime++:t.errorTime=1,t.errorTime<=4&&function(e,t){setTimeout((function(){e.src=e.src}),1e3*t)}(t,t.errorTime))},t.getPttWidth=function(e){return(e=Math.ceil(e/1e3))>60?180:e>1?e/60*140+40:40},t.setElementStyle=function(e,t){for(var n in t)e[n]=t[n]},t.saveFile=function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.download=m(e),document.body.appendChild(t),t.click(),document.body.removeChild(t)},t.getEventKey=function(e){var t=[];return e.ctrlKey&&17!==e.which&&t.push(17),e.shiftKey&&16!==e.which&&t.push(16),e.altKey&&18!==e.which&&t.push(18),t.push(e.which),t},t.checkShortcuts=function(e,t){return e.sort().join(",")===t.sort().join(",")},t.getPlainText=y,t.getTopParentOffset=function(e){var t=window.getSelection().baseNode,n=t.length-window.getSelection().baseOffset;for(t.previousSibling&&3===t.previousSibling.nodeType&&(n+=1);t!==e;){for(;t.nextSibling;)t.parentNode.removeChild(t.nextSibling);t=t.parentNode}return y(e.innerHTML).length-n},t.imageToBase64=function(e){return u.createObserver((function(t){if(0===e.src.indexOf("data:"))t.next(e.src);else{var n=new Image;n.setAttribute("crossOrigin","anonymous"),n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height,e.getContext("2d").drawImage(n,0,0,n.width,n.height);var r=n.src.substring(n.src.lastIndexOf(".")+1).toLowerCase(),o=e.toDataURL("image/"+r);t.next(o)},n.src=e.src}}))},t.base64ToFile=function(e,t){for(var n=e.split(","),r=n[0].match(/:(.*?);/)[1],o=atob(n[1]),i=o.length,s=new Uint8Array(i);i--;)s[i]=o.charCodeAt(i);return new File([s],t,{type:r})},t.getDayStart=function(e){var t=new Date(e),n=t.getFullYear(),r=t.getMonth()+1,o=t.getDate();return new Date(n+"-"+r+"-"+o+" 00:00:00").getTime()},t.getTypeByName=function(e){if(!e)return"";var t=p(e);return-1!==["doc","docx"].indexOf(t)?"$docIcon":-1!==["xls","xlsx"].indexOf(t)?"$excelIcon":-1!==["ppt","pptx"].indexOf(t)?"$pptIcon":-1!==["txt"].indexOf(t)?"$txtIcon":-1!==["rar","zip"].indexOf(t)?"$rarIcon":-1!==["pdf"].indexOf(t)?"$pdfIcon":-1!==["mp4","mpg","mpeg","avi","rm","rmvb","mov","wmv"].indexOf(t)?"$videoIcon":-1!==["mp3","wav","ogg"].indexOf(t)?"$audioIcon":"$unknowIcon"},t.updateUserListInfo=function(e,t){t.forEach((function(t){e.some((function(e){if(e.userCode&&e.userCode===t.userCode)return e.headImageUrl!==t.headImageUrl&&(e.headImageUrl=t.headImageUrl),e.userPhoneNumber!==t.userPhoneNumber&&(e.userPhoneNumber=t.userPhoneNumber),e.userEmail!==t.userEmail&&(e.userEmail=t.userEmail),!0}))}))},t.openFullscreen=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},t.fullscreenchange=function(){return void 0!==document.onfullscreenchange?"fullscreenchange":void 0!==document.onwebkitfullscreenchange?"webkitfullscreenchange":void 0!==document.onmozfullscreenchange?"mozfullscreenchange":void 0!==document.onmsfullscreenchange?"msfullscreenchange":void 0},t.resizeBig=function(e){e.classList.add("kc-resize-biggest")},t.exitBig=function(e){e.classList.remove("kc-resize-biggest")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(30),o=n(66),i=n(4);function s(e,t,n,s,a){if(void 0===a&&(a=new r.a(e,n,s)),!a.closed)return t instanceof i.a?t.subscribe(a):Object(o.a)(t)(a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(3).a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(52),i=r.useEffect,s=r.useState,a=r.useRef;t.useUpdate=function(){return s(0)[1]},t.useRefs=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=function e(n){if(o.isArray(n)){var r=t.shift();return n.map((function(t){return e(t[r])}))}return a(null)};return r(e)},t.mounted=function(e,t){return{name:e,hookFn:i,params:[t,[]]}},t.updated=function(e,t){return{name:e,hookFn:i,params:[t]}}},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),s=n(23),a=n(187),u=n(188),c=n(220),l=n(1),d=n(29),f=n(2),p=n(17),A=n(331),g=n(13),h=new(function(e){function t(){var t=e.call(this)||this;return t.kChats=[],t}return o(t,e),t.prototype.addKChat=function(e){var t=this;return e.fetch=new u.default({configUrl:e.options&&e.options.configUrl}),e.rxjsEvent=new a.default,e.store=f.observable({popupManager:new c.default,loginType:l.LoginType.NORMAL,loginUser:{},fixed:!0,smallest:!1,get rootDomRef(){return e.tree.options.refs.container},version:{description:"视信通v2.0.3",date:"2019年04月1日"}}),e.setFixedStatus=function(e){return this.store.fixed=e,!0},e.setLoginType=function(t,n){if(void 0===l.LoginType[t])throw s.default(1001,"登录类型参数错误","KChat setLoginType");this.store.loginType=t;var r=n.forceLogin,o=n.username,i=n.password,a=n.token,u=n.dst,c={forceLogin:!!r};if(t===l.LoginType.NORMAL){if(!o||!i)throw s.default(1001,"登录类型参数错误","KChat setLoginType");c.username=o,c.password=i}else if(t===l.LoginType.TOKEN){if(!a)throw s.default(1001,"登录类型参数错误","KChat setLoginType");c.accessToken=a}else if(t===l.LoginType.SECURITY){if(!o||!u)throw s.default(1001,"登录类型参数错误","KChat setLoginType");c.username=o,c.dst=u}else t===l.LoginType.NODSTSECURITY&&(c.username=o);return e.rxjsEvent.subscribe(l.RxjsEventNames.LOGIN_START,g.of(c)),!0},e.addStyleRule=function(n){d.addStylesheetRules(t.getRootClass(e.name),n)},e.removeStyleRule=function(n){var r=Array.prototype.filter.call(document.styleSheets,(function(n){return t.getRootClass(e.name)===n.ownerNode.id}))[0];r&&r.deleteRule(n)},e.getAllStyleRule=function(){var n=Array.prototype.filter.call(document.styleSheets,(function(n){return t.getRootClass(e.name)===n.ownerNode.id}))[0];return n?n.rules:null},this.initStyleRule(e),this.kChats.push(e),A.default(e)},t.prototype.removeKChat=function(e){return this.kChats.some((function(t,n,r){if(t===e)return r.splice(n,1),!0})),e},t.prototype.hasKChat=function(e){return this.kChats.some((function(t){return t.name===e}))},t.prototype.getKChat=function(e){var t;if(this.kChats.some((function(n){if(n.name===e)return t=n,!0})),!t)throw s.default(1001,"当前窗口内不存在命名为"+e+"的KChat实例","globalStore getKChat");return t},t.prototype.getRootClass=function(e){return"kc-chat-"+e},t.prototype.initStyleRule=function(e){e.addStyleRule({"*::-webkit-scrollbar":{width:"5px"},"*::-webkit-scrollbar-thumb":{borderRadius:"2px",background:"transparent"},"*::-webkit-scrollbar-track":{borderRadius:"0",background:"transparent"},"*:hover::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.4)"},".kc-chat-footer-edit-box img":{width:"auto!important",height:"auto!important","vertical-align":"bottom!important","max-width":"180px!important","max-height":"200px!important"},"input::-webkit-input-placeholder":{fontSize:"12px",color:p.$theme.$lightFontColor},".kc-map-box .res-icon":{width:"21px",height:"27px","line-height":"20px",color:"#fff","font-size":"12px!important",cursor:"pointer","text-align":"center","background-repeat":"no-repeat","background-position":"top center"},".kc-resize-biggest":{position:"fixed!important",left:"0!important",top:"0!important","z-index":"998!important",width:"100%!important",height:"100%!important",margin:"0","max-width":"100%!important","max-height":"100%!important"}})},t}(i.EventEmitter));t.default=h},function(e,t,n){"use strict";n.r(t),n.d(t,"Observable",(function(){return r.a})),n.d(t,"ConnectableObservable",(function(){return o.a})),n.d(t,"GroupedObservable",(function(){return i.a})),n.d(t,"observable",(function(){return s.a})),n.d(t,"Subject",(function(){return a.a})),n.d(t,"BehaviorSubject",(function(){return u.a})),n.d(t,"ReplaySubject",(function(){return c.a})),n.d(t,"AsyncSubject",(function(){return l.a})),n.d(t,"asapScheduler",(function(){return d.a})),n.d(t,"asyncScheduler",(function(){return f.a})),n.d(t,"queueScheduler",(function(){return p.a})),n.d(t,"animationFrameScheduler",(function(){return y})),n.d(t,"VirtualTimeScheduler",(function(){return v})),n.d(t,"VirtualAction",(function(){return b})),n.d(t,"Scheduler",(function(){return E.a})),n.d(t,"Subscription",(function(){return C.a})),n.d(t,"Subscriber",(function(){return T.a})),n.d(t,"Notification",(function(){return S.a})),n.d(t,"NotificationKind",(function(){return S.b})),n.d(t,"pipe",(function(){return x.a})),n.d(t,"noop",(function(){return _.a})),n.d(t,"identity",(function(){return w.a})),n.d(t,"isObservable",(function(){return B})),n.d(t,"ArgumentOutOfRangeError",(function(){return I.a})),n.d(t,"EmptyError",(function(){return R.a})),n.d(t,"ObjectUnsubscribedError",(function(){return O.a})),n.d(t,"UnsubscriptionError",(function(){return N.a})),n.d(t,"TimeoutError",(function(){return M.a})),n.d(t,"bindCallback",(function(){return j})),n.d(t,"bindNodeCallback",(function(){return H})),n.d(t,"combineLatest",(function(){return K.b})),n.d(t,"concat",(function(){return W.a})),n.d(t,"defer",(function(){return z.a})),n.d(t,"empty",(function(){return X.b})),n.d(t,"forkJoin",(function(){return q})),n.d(t,"from",(function(){return J.a})),n.d(t,"fromEvent",(function(){return ee})),n.d(t,"fromEventPattern",(function(){return te})),n.d(t,"generate",(function(){return ne})),n.d(t,"iif",(function(){return oe})),n.d(t,"interval",(function(){return se})),n.d(t,"merge",(function(){return ue.a})),n.d(t,"never",(function(){return le})),n.d(t,"of",(function(){return de.a})),n.d(t,"onErrorResumeNext",(function(){return fe})),n.d(t,"pairs",(function(){return pe})),n.d(t,"partition",(function(){return ye})),n.d(t,"race",(function(){return ve.a})),n.d(t,"range",(function(){return be})),n.d(t,"throwError",(function(){return Ce.a})),n.d(t,"timer",(function(){return Te.a})),n.d(t,"using",(function(){return Se})),n.d(t,"zip",(function(){return xe.b})),n.d(t,"scheduled",(function(){return _e.a})),n.d(t,"EMPTY",(function(){return X.a})),n.d(t,"NEVER",(function(){return ce})),n.d(t,"config",(function(){return we.a}));var r=n(4),o=n(106),i=n(88),s=n(39),a=n(18),u=n(108),c=n(73),l=n(49),d=n(79),f=n(21),p=n(112),A=n(0),g=n(50),h=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return A.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(g.a),m=n(47),y=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(m.a))(h),v=function(e){function t(t,n){void 0===t&&(t=b),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return A.a(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(m.a),b=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return A.a(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(g.a),E=n(87),C=n(16),T=n(3),S=n(34),x=n(63),_=n(32),w=n(37);function B(e){return!!e&&(e instanceof r.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var I=n(43),R=n(46),O=n(40),N=n(65),M=n(110),U=n(22),L=n(77),F=n(19),P=n(24);function j(e,t,n){if(t){if(!Object(P.a)(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return j(e,n).apply(void 0,r).pipe(Object(U.a)((function(e){return Object(F.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i,s=this,a={context:s,subject:i,callbackFunc:e,scheduler:n};return new r.a((function(r){if(n){var o={args:t,subscriber:r,params:a};return n.schedule(D,0,o)}if(!i){i=new l.a;try{e.apply(s,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(e.length<=1?e[0]:e),i.complete()}]))}catch(e){Object(L.a)(i)?i.error(e):console.warn(e)}}return i.subscribe(r)}))}}function D(e){var t=this,n=e.args,r=e.subscriber,o=e.params,i=o.callbackFunc,s=o.context,a=o.scheduler,u=o.subject;if(!u){u=o.subject=new l.a;try{i.apply(s,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(a.schedule(k,0,{value:r,subject:u}))}]))}catch(e){u.error(e)}}this.add(u.subscribe(r))}function k(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function H(e,t,n){if(t){if(!Object(P.a)(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return H(e,n).apply(void 0,r).pipe(Object(U.a)((function(e){return Object(F.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.a((function(r){var o=i.context,s=i.subject;if(n)return n.schedule(Q,0,{params:i,subscriber:r,context:o});if(!s){s=i.subject=new l.a;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?s.error(n):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(e){Object(L.a)(s)?s.error(e):console.warn(e)}}return s.subscribe(r)}))}}function Q(e){var t=this,n=e.params,r=e.subscriber,o=e.context,i=n.callbackFunc,s=n.args,a=n.scheduler,u=n.subject;if(!u){u=n.subject=new l.a;try{i.apply(o,s.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(a.schedule(V,0,{err:r,subject:u}));else{var o=e.length<=1?e[0]:e;t.add(a.schedule(G,0,{value:o,subject:u}))}}]))}catch(e){this.add(a.schedule(V,0,{err:e,subject:u}))}}this.add(u.subscribe(r))}function G(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function V(e){var t=e.err;e.subject.error(t)}var K=n(69),W=n(55),z=n(74),X=n(26),Y=n(76),J=n(27);function q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(F.a)(n))return $(n,null);if(Object(Y.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return $(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return $(e=1===e.length&&Object(F.a)(e[0])?e[0]:e,null).pipe(Object(U.a)((function(e){return o.apply(void 0,e)})))}return $(e,null)}function $(e,t){return new r.a((function(n){var r=e.length;if(0!==r)for(var o=new Array(r),i=0,s=0,a=function(a){var u=Object(J.a)(e[a]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,s++),o[a]=e},error:function(e){return n.error(e)},complete:function(){++i!==r&&c||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=o[n],e}),{}):o),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}var Z=n(44);function ee(e,t,n,o){return Object(Z.a)(n)&&(o=n,n=void 0),o?ee(e,t,n).pipe(Object(U.a)((function(e){return Object(F.a)(e)?o.apply(void 0,e):o(e)}))):new r.a((function(r){!function e(t,n,r,o,i){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,r,i),s=function(){return a.removeEventListener(n,r,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),s=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),s=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,d=t.length;l<d;l++)e(t[l],n,r,o,i)}o.add(s)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function te(e,t,n){return n?te(e,t).pipe(Object(U.a)((function(e){return Object(F.a)(e)?n.apply(void 0,e):n(e)}))):new r.a((function(n){var r,o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(o)}catch(e){return void n.error(e)}if(Object(Z.a)(t))return function(){return t(o,r)}}))}function ne(e,t,n,o,i){var s,a;if(1==arguments.length){var u=e;a=u.initialState,t=u.condition,n=u.iterate,s=u.resultSelector||w.a,i=u.scheduler}else void 0===o||Object(P.a)(o)?(a=e,s=w.a,i=o):(a=e,s=o);return new r.a((function(e){var r=a;if(i)return i.schedule(re,0,{subscriber:e,iterate:n,condition:t,resultSelector:s,state:r});for(;;){if(t){var o=void 0;try{o=t(r)}catch(t){return void e.error(t)}if(!o){e.complete();break}}var u=void 0;try{u=s(r)}catch(t){return void e.error(t)}if(e.next(u),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}}))}function re(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var o;try{o=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}}function oe(e,t,n){return void 0===t&&(t=X.a),void 0===n&&(n=X.a),Object(z.a)((function(){return e()?t:n}))}var ie=n(51);function se(e,t){return void 0===e&&(e=0),void 0===t&&(t=f.a),(!Object(ie.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=f.a),new r.a((function(n){return n.add(t.schedule(ae,e,{subscriber:n,counter:0,period:e})),n}))}function ae(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var ue=n(105),ce=new r.a(_.a);function le(){return ce}var de=n(57);function fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return X.a;var n=e[0],o=e.slice(1);return 1===e.length&&Object(F.a)(n)?fe.apply(void 0,n):new r.a((function(e){var t=function(){return e.add(fe.apply(void 0,o).subscribe(e))};return Object(J.a)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function pe(e,t){return t?new r.a((function(n){var r=Object.keys(e),o=new C.a;return o.add(t.schedule(Ae,0,{keys:r,index:0,subscriber:n,subscription:o,obj:e})),o})):new r.a((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var o=n[r];e.hasOwnProperty(o)&&t.next([o,e[o]])}t.complete()}))}function Ae(e){var t=e.keys,n=e.index,r=e.subscriber,o=e.subscription,i=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,i[s]]),o.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:o,obj:i}))}else r.complete()}var ge=n(117),he=n(66),me=n(33);function ye(e,t,n){return[Object(me.a)(t,n)(new r.a(Object(he.a)(e))),Object(me.a)(Object(ge.a)(t,n))(new r.a(Object(he.a)(e)))]}var ve=n(109);function be(e,t,n){return void 0===e&&(e=0),new r.a((function(r){void 0===t&&(t=e,e=0);var o=0,i=e;if(n)return n.schedule(Ee,0,{index:o,count:t,start:e,subscriber:r});for(;;){if(o++>=t){r.complete();break}if(r.next(i++),r.closed)break}}))}function Ee(e){var t=e.start,n=e.index,r=e.count,o=e.subscriber;n>=r?o.complete():(o.next(t),o.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var Ce=n(71),Te=n(103);function Se(e,t){return new r.a((function(n){var r,o;try{r=e()}catch(e){return void n.error(e)}try{o=t(r)}catch(e){return void n.error(e)}var i=(o?Object(J.a)(o):X.a).subscribe(n);return function(){i.unsubscribe(),r&&r.unsubscribe()}}))}var xe=n(75),_e=n(111),we=n(31)},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(58),i=n(23),s=n(82),a=n(7),u=n(2),c=n(29),l=n(176),d=n(11),f=n(1),p=function(){function e(e,t,n,r,i){var s=this;void 0===n&&(n={}),this.name=e,this.id=o.newSHA(),this.component=t,this.options=n,this.children=r,this.setTheme(this.options._theme),i&&(this.loop=i),this.children.forEach((function(e){e.parentTree=s}))}return e.prototype.render=function(){if(!("string"==typeof(e=this.options.parentEl)||e instanceof Element))throw i.default(1001,"组件"+this.name+"的options属性上缺失parentEl","Tree render");var e;return this.bindTo(this.options.parentEl,this.parentTree),this.children.forEach((function(e){return e.render()})),this},e.prototype.update=function(){return this.render(),this},e.prototype.destory=function(e){var t=this;if(void 0===e&&(e=!0),this.children)for(var n=this.children.length-1;n>=0;n--)this.children[n].destory(e);return this.element&&this.unbind(this.options.parentEl,this.parentTree),e&&(this.parentTree&&this.parentTree.children.some((function(e,n,r){if(e===t)return r.splice(n,1),!0})),this.parentTree=null,this.options.parentEl=""),this},e.prototype.setName=function(e){if(!e)throw i.default(1001,"设置的组件名称不能为空","Tree setName");return this.name=e,this},e.prototype.bindTo=function(e,t){var n,o={styles:this.options.styles,hooks:this.options.hooks,refs:this.options.refs,store:this.options.store,rootName:this.options.rootName,name:this.name},u=this.component,c=a.createElement(u,r({},o));if(e instanceof Element)n=e;else if(t){if(!(n=t.element.querySelector(e)))throw i.default(1001,"父组件"+t.name+"上找不到selector："+e+"的dom节点","Tree bindTo")}else if(!(n=document.querySelector(e)))throw i.default(1001,"document文档上找不到selector："+e+"的dom节点","Tree bindTo");return s.render(c,n),this.element=n.children[0],this},e.prototype.unbind=function(e,t){var n;if(e instanceof Element)n=e;else if(t){if(!(n=t.element.querySelector(e)))throw i.default(1001,"父组件"+t.name+"上找不到selector："+e+"的dom节点","Tree unbind")}else if(!(n=document.querySelector(e)))throw i.default(1001,"document文档上找不到selector："+e+"的dom节点","Tree unbind");return s.unmountComponentAtNode(n),this},e.prototype.getTreeMap=function(){return{name:this.name,dom:this.element,children:this.children&&this.children.map((function(e){return e.getTreeMap()}))||[]}},e.prototype.selectTree=function(e,t){var n=this;if(void 0===t&&(t=!1),t)return this.getRoot().selectTree(e);if(!/^([a-zA-Z|\d|_]+(:\d+)?( [a-zA-Z|\d|_]+(:\d+)?)?)?$/.test(e))throw i.default(1001,"'"+e+"'不匹配tree查询规则","Tree selectTree");var r=e.split(" ").map((function(e){var t=e.split(":").map((function(e,t){return 0===t?e:+e}));return void 0===t[1]&&(t[1]=1),t}));return function e(t){var o=null;return t.children&&t.children.some((function(e){if(function(e){for(var t=e.parentTree,o=0,i=e,s=function(){for(var e=r[r.length-1-o],s=!1;t&&!s;){var a=e[1]-1;(s=t.children.filter((function(t){return t.name===e[0]}))[a]===i)&&o++,i=t,t=t===n?null:t.parentTree}};t&&o<r.length;)s();return o===r.length}(e))return o=e,!0})),o||t.children&&t.children.some((function(t){if(o=e(t))return!0})),o}(this)},e.prototype.selectTreeAll=function(e,t){var n=this;if(void 0===t&&(t=!1),t)return this.getRoot().selectTreeAll(e);if(!/^([a-zA-Z|\d|_]+(:\d+)?( [a-zA-Z|\d|_]+(:\d+)?)?)?$/.test(e))throw i.default(1001,"'"+e+"'不匹配tree查询规则","Tree selectTree");var r=e.split(" ").map((function(e){var t=e.split(":").map((function(e,t){return 0===t?e:+e}));return void 0===t[1]&&(t[1]=1),t})),o=[];return function e(t){t.children&&t.children.forEach((function(t){(function(e){for(var t=e.parentTree,o=0,i=e,s=function(){for(var e=r[r.length-1-o],s=!1;t&&!s;){var a=e[1]-1;(s=t.children.filter((function(t){return t.name===e[0]}))[a]===i)&&o++,i=t,t=t===n?null:t.parentTree}};t&&o<r.length;)s();return o===r.length})(t)&&o.push(t),e(t)}))}(this),o},e.prototype.getRoot=function(){return this.parentTree?this.parentTree.getRoot():this},e.prototype.addHook=function(e,t){var n=!1;this.element&&this.element.parentNode&&(n=!0,this.destory(!1));var r=e,o=e;if(!e.name||!e.params||!r.hookFn&&!o.hookType)throw i.default(1001,"组件的hook必须包含name、params、hookFn(或hookType)属性","Tree addHook");if(o.hookType)switch(o.hookType){case f.HookType.MOUNTED:e=d.mounted(e.name,e.params);break;default:throw i.default(1001,"hook的hookType属性值非法","Tree addHook")}if(void 0!==t){if(t<0||t>this.options.hooks.length-1)throw i.default(1001,"添加hook的索引位置错误","Tree addHook");this.options.hooks.splice(t,0,e)}else this.options.hooks.push(e);return n&&this.render(),this.options.hooks.length},e.prototype.getHook=function(e,t){if(void 0===t&&(t=0),t<0||t>this.options.hooks.length-1)throw i.default(1001,"组件上不存在指定索引的hook","Tree getHook");return this.options.hooks.filter((function(t){return t.name===e}))[t]},e.prototype.removeHook=function(e){if("number"==typeof e){if(e<0||e>this.options.hooks.length-1)throw i.default(1001,"组件上不存在指定索引的hook","Tree removeHook");e=this.options.hooks[e]}else if("string"==typeof e){var t=this.getHook(e);if(!t)throw i.default(1001,"组件上不存在指定索引的hook","Tree removeHook");e=t}var n=!1;return this.element&&this.element.parentNode&&(n=!0,this.destory(!1)),this.options.hooks.some((function(t,n,r){if(t===e)return r.splice(n,1),!0})),n&&this.render(),e},e.prototype.setTheme=function(e){void 0===e&&(e="default");return function t(n){var r;n.options._theme=e,n.options.styles=u.observable(c.default(n.options._styles,((r={})[n.options._theme]=!0,r))),n.children&&n.children.forEach((function(e){return t(e)}))}(this),this.element&&this.element.parentNode&&(this.destory(!1),this.render()),this},e.prototype.getTheme=function(e){var t;return{name:this.name,styles:c.NoPrefix(this.options._styles,(t={},t[e||this.options._theme]=!0,t)),children:this.children&&this.children.map((function(e){return e.getTheme()}))||[]}},e.prototype.getCurThemeName=function(){return this.options._theme},e.prototype.getThemeNames=function(){return Object.keys(this.options._styles)},e.prototype.addTheme=function(e,t){if(!t)throw i.default(1001,"新的主题名称缺失","Tree addTheme");var n=e.name,r=e.styles,o=e.children,s=n===this.name?this:this.selectTree(n);return s.options._styles[t]=r,o&&o.forEach((function(e){return s.addTheme(e,t)})),this},e.prototype.removeTheme=function(e){if(!e)throw i.default(1001,"移除主题必须指定主题名称","Tree removeTheme");if("default"===e)throw i.default(1001,"默认主题不可删除，如需修改主题尝试添加主题以覆盖默认主题","Tree removeTheme");var t=this.getTheme(e);return function e(t,n){delete t.options._styles[n],t.children&&t.children.forEach((function(t){return e(t,n)}))}(this,e),this.options._theme===e&&this.setTheme(),t},e.prototype.downloadTheme=function(e){var t=this.getTheme();e=e||t.name+"_theme.json";var n=new Blob([JSON.stringify(t)],{type:"application/json"});return l.blob2File(n,e),this},e}();t.Tree=p,t.default=function(e,t,n,r,o){return void 0===r&&(r=[]),new p(e,t,n,r,o)}},function(e,t,n){"use strict";n.r(t),n.d(t,"propTypes",(function(){return Q})),n.d(t,"PropTypes",(function(){return Q})),n.d(t,"onError",(function(){return je})),n.d(t,"observer",(function(){return xe})),n.d(t,"Observer",(function(){return _e})),n.d(t,"renderReporter",(function(){return le})),n.d(t,"componentByNodeRegistery",(function(){return ce})),n.d(t,"componentByNodeRegistry",(function(){return ce})),n.d(t,"trackComponents",(function(){return me})),n.d(t,"useStaticRendering",(function(){return ye})),n.d(t,"Provider",(function(){return Ne})),n.d(t,"inject",(function(){return re})),n.d(t,"disposeOnUnmount",(function(){return Pe}));var r=n(2),o=n(7),i=n.n(o),s=n(82);
/** @license mobx-react v5.4.4
 * index.module.js
 *
 * Copyright (c) 2015 Michel Weststrate.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){return e(t={exports:{}},t.exports),t.exports}var m,y=h((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,A=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116;function h(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case i:case a:case s:return e;default:switch(e=e&&e.$$typeof){case c:case f:case u:return e;default:return t}}case o:return t}}}function m(e){return h(e)===d}t.typeOf=h,t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=i,t.Profiler=a,t.Portal=o,t.StrictMode=s,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===a||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===A||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f)},t.isAsyncMode=function(e){return m(e)||h(e)===l},t.isConcurrentMode=m,t.isContextConsumer=function(e){return h(e)===c},t.isContextProvider=function(e){return h(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return h(e)===f},t.isFragment=function(e){return h(e)===i},t.isProfiler=function(e){return h(e)===a},t.isPortal=function(e){return h(e)===o},t.isStrictMode=function(e){return h(e)===s}}));(m=y)&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")&&m.default;y.typeOf,y.AsyncMode,y.ConcurrentMode,y.ContextConsumer,y.ContextProvider,y.Element,y.ForwardRef,y.Fragment,y.Profiler,y.Portal,y.StrictMode,y.isValidElementType,y.isAsyncMode,y.isConcurrentMode,y.isContextConsumer,y.isContextProvider,y.isElement,y.isForwardRef,y.isFragment,y.isProfiler,y.isPortal,y.isStrictMode;var v=h((function(e){e.exports=y})),b={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},E={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},C={};C[v.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var T=Object.defineProperty,S=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,B=Object.prototype;var I=function e(t,n,r){if("string"!=typeof n){if(B){var o=w(n);o&&o!==B&&e(t,o,r)}var i=S(n);x&&(i=i.concat(x(n)));for(var s=C[t.$$typeof]||b,a=C[n.$$typeof]||b,u=0;u<i.length;++u){var c=i[u];if(!(E[c]||r&&r[c]||a&&a[c]||s&&s[c])){var l=_(n,c);try{T(t,c,l)}catch(e){}}}return t}return t},R=function(){function e(){u(this,e),this.listeners=[]}return l(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}();function O(e){function t(t,n,o,i,s,a){for(var u=arguments.length,c=new Array(u>6?u-6:0),l=6;l<u;l++)c[l-6]=arguments[l];return Object(r.untracked)((function(){if(i=i||"<<anonymous>>",a=a||o,null==n[o]){if(t){var r=null===n[o]?"null":"undefined";return new Error("The "+s+" `"+a+"` is marked as required in `"+i+"`, but its value is `"+r+"`.")}return null}return e.apply(void 0,[n,o,i,s,a].concat(c))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function N(e){var t=a(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function M(e,t){return O((function(n,o,i,s,a){return Object(r.untracked)((function(){if(e&&N(n[o])===t.toLowerCase())return null;var s;switch(t){case"Array":s=r.isObservableArray;break;case"Object":s=r.isObservableObject;break;case"Map":s=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: ".concat(t))}var u=n[o];if(!s(u)){var c=function(e){var t=N(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(u),l=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+c+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+l+".")}return null}))}))}function U(e,t){return O((function(n,o,i,s,a){for(var u=arguments.length,c=new Array(u>5?u-5:0),l=5;l<u;l++)c[l-5]=arguments[l];return Object(r.untracked)((function(){if("function"!=typeof t)return new Error("Property `"+a+"` of component `"+i+"` has invalid PropType notation.");var r=M(e,"Array")(n,o,i);if(r instanceof Error)return r;for(var u=n[o],l=0;l<u.length;l++)if((r=t.apply(void 0,[u,l,i,s,a+"["+l+"]"].concat(c)))instanceof Error)return r;return null}))}))}var L=M(!1,"Array"),F=U.bind(null,!1),P=M(!1,"Map"),j=M(!1,"Object"),D=M(!0,"Array"),k=U.bind(null,!0),H=M(!0,"Object"),Q=Object.freeze({observableArray:L,observableArrayOf:F,observableMap:P,observableObject:j,arrayOrObservableArray:D,arrayOrObservableArrayOf:k,objectOrObservableObject:H});var G=0;var V={};function K(e){return V[e]||(V[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(G,")");return G++,t}(e)),V[e]}var W=K("patchMixins"),z=K("patchedDefinition");function X(e,t){var n=e[W]=e[W]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function Y(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var s;return null!=e&&(s=e.apply(this,o)),s}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function J(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Y.call.apply(Y,[this,e,t].concat(r))}}function q(e,t){for(var n=X(e,t),r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];for(var s=0;s<o.length;s++){var a=o[s];n.methods.indexOf(a)<0&&n.methods.push(a)}var u=Object.getOwnPropertyDescriptor(e,t);if(!u||!u[z]){var c=e[t],l=$(e,t,u?u.enumerable:void 0,n,c);Object.defineProperty(e,t,l)}}function $(e,t,n,r,o){var i,s=J(o,r);return d(i={},z,!0),d(i,"get",(function(){return s})),d(i,"set",(function(o){if(this===e)s=J(o,r);else{var i=$(this,t,n,r,o);Object.defineProperty(this,t,i)}})),d(i,"configurable",!0),d(i,"enumerable",n),i}var Z={mobxStores:H};Object.seal(Z);var ee={contextTypes:{get:function(){return Z},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function te(e,t,n){var r="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");n&&(r+="-with-"+n);var i=function(n){function r(){var e,t;u(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=g(this,(e=p(r)).call.apply(e,[this].concat(o)))).storeRef=function(e){t.wrappedInstance=e},t}return f(r,n),l(r,[{key:"render",value:function(){var n={};for(var r in this.props)this.props.hasOwnProperty(r)&&(n[r]=this.props[r]);var i=e(this.context.mobxStores||{},n,this.context)||{};for(var s in i)n[s]=i[s];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(n.ref=this.storeRef),Object(o.createElement)(t,n)}}]),r}(o.Component);return i.displayName=r,I(i,t),i.wrappedComponent=t,Object.defineProperties(i,ee),i}function ne(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function re(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=te(e,t);return n.isMobxInjector=!1,(n=xe(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=ne(t),function(n){return te(e,n,t.join("-"))}}var oe=r.$mobx||"$mobx",ie=K("isUnmounted"),se=!1,ae=!1,ue=!1,ce="undefined"!=typeof WeakMap?new WeakMap:void 0,le=new R,de=K("skipRender"),fe=K("isForcingUpdate"),pe="function"==typeof o.forwardRef&&Object(o.forwardRef)((function(e,t){})).$$typeof;function Ae(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function ge(e){if(s.findDOMNode)try{return Object(s.findDOMNode)(e)}catch(e){return null}return null}function he(e){var t=ge(e);t&&ce&&ce.set(t,e),le.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function me(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");se||(se=!0)}function ye(e){ae=e}var ve=new R;function be(e,t){if(Ee(e,t))return!0;if("object"!==a(e)||null===e||"object"!==a(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!hasOwnProperty.call(t,n[o])||!Ee(e[n[o]],t[n[o]]))return!1;return!0}function Ee(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Ce(e){var t=this;if(!0===ae)return e.call(this);function n(){var e=this;u=!1;var t=void 0,n=void 0;if(c.track((function(){se&&(e.__$mobRenderStart=Date.now());try{n=Object(r._allowStateChanges)(!1,a)}catch(e){t=e}se&&(e.__$mobRenderEnd=Date.now())})),t)throw ve.emit(t),t;return n}var i=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",s=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;Ae(this,de,!1),Ae(this,fe,!1);var a=e.bind(this),u=!1,c=new r.Reaction("".concat(i,"#").concat(s,".render()"),(function(){if(!u&&(u=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t[ie])){var e=!0;try{Ae(t,fe,!0),t[de]||o.Component.prototype.forceUpdate.call(t),e=!1}finally{Ae(t,fe,!1),e&&c.dispose()}}}));return c.reactComponent=this,n[oe]=c,this.render=n,n.call(this)}var Te={componentWillUnmount:function(){if(!0!==ae&&(this.render[oe]&&this.render[oe].dispose(),this[ie]=!0,se)){var e=ge(this);e&&ce&&ce.delete(e),le.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){se&&he(this)},componentDidUpdate:function(){se&&he(this)},shouldComponentUpdate:function(e,t){return ae&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!be(this.props,e)}};function Se(e,t){var n=K("reactProp_".concat(t,"_valueHolder")),o=K("reactProp_".concat(t,"_atomHolder"));function i(){return this[o]||Ae(this,o,Object(r.createAtom)("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i.call(this).reportObserved(),this[n]},set:function(e){this[fe]||be(this[n],e)?Ae(this,n,e):(Ae(this,n,e),Ae(this,de,!0),i.call(this).reportChanged(),Ae(this,de,!1))}})}function xe(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return ue||(ue=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?re.apply(null,e)(xe(t)):function(t){return xe(e,t)};var n=e;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===o.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),pe&&n.$$typeof===pe){var r=n.render;if("function"!=typeof r)throw new Error("render property of ForwardRef was not a function");return Object(o.forwardRef)((function(){var e=arguments;return i.a.createElement(_e,null,(function(){return r.apply(void 0,e)}))}))}if(!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||o.Component.isPrototypeOf(n))){var s,a,c=xe((a=s=function(e){function t(){return u(this,t),g(this,p(t).apply(this,arguments))}return f(t,e),l(t,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),t}(o.Component),s.displayName=n.displayName||n.name,s.contextTypes=n.contextTypes,s.propTypes=n.propTypes,s.defaultProps=n.defaultProps,a));return I(c,n),c}if(!n)throw new Error("Please pass a valid component to 'observer'");var d=n.prototype||n;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(t){!function(e,t){q(e,t,Te[t])}(e,t)})),e.shouldComponentUpdate?e.shouldComponentUpdate!==Te.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=Te.shouldComponentUpdate}(d),n.isMobXReactObserver=!0,Se(d,"props"),Se(d,"state");var A=d.render;return d.render=function(){return Ce.call(this,A)},n}var _e=xe((function(e){var t=e.children,n=e.inject,r=e.render,o=t||r;if(void 0===o)return null;if(!n)return o();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var s=re(n)(o);return i.a.createElement(s,null)}));_e.displayName="Observer";var we=function(e,t,n,r,o){var i="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[i]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[i]?new Error("Invalid prop `"+o+"` of type `"+a(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function Be(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Ie(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function Re(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}_e.propTypes={render:we,children:we},Be.__suppressDeprecationWarning=!0,Ie.__suppressDeprecationWarning=!0,Re.__suppressDeprecationWarning=!0;var Oe={children:!0,key:!0,ref:!0},Ne=function(e){function t(e,n){var r;return u(this,t),(r=g(this,p(t).call(this,e,n))).state={},Me(e,r.state),r}return f(t,e),l(t,[{key:"render",value:function(){return o.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return Me(this.context.mobxStores,e),Me(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(Ue).length!==Object.keys(t).filter(Ue).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)Ue(n)&&t[n]!==e[n]&&console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}(o.Component);function Me(e,t){if(e)for(var n in e)Ue(n)&&(t[n]=e[n])}function Ue(e){return!Oe[e]&&"suppressChangedStoreWarning"!==e}Ne.contextTypes={mobxStores:H},Ne.childContextTypes={mobxStores:H.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,s="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=Be,t.componentWillReceiveProps=Ie),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Re;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,r)}}}(Ne);var Le=K("disposeOnUnmount");function Fe(){var e=this;this[Le]&&(this[Le].forEach((function(t){var n="string"==typeof t?e[t]:t;if(null!=n){if("function"!=typeof n)throw new Error("[mobx-react] disposeOnUnmount only works on functions such as disposers returned by reactions, autorun, etc.");n()}})),this[Le]=[])}function Pe(e,t){if(Array.isArray(t))return t.map((function(t){return Pe(e,t)}));if(!e instanceof o.Component)throw new Error("[mobx-react] disposeOnUnmount only works on class based React components.");if("string"!=typeof t&&"function"!=typeof t)throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var n=!!e[Le];return(e[Le]||(e[Le]=[])).push(t),n||q(e,"componentWillUnmount",Fe),"string"!=typeof t?t:void 0}if(!o.Component)throw new Error("mobx-react requires React to be available");if(!r.spy)throw new Error("mobx-react requires mobx to be available");"function"==typeof s.unstable_batchedUpdates&&Object(r.configure)({reactionScheduler:s.unstable_batchedUpdates});var je=function(e){return ve.on(e)};if("object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":a(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var De={spy:r.spy,extras:{getDebugName:r.getDebugName}},ke={renderReporter:le,componentByNodeRegistry:ce,componentByNodeRegistery:ce,trackComponents:me};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(ke,De)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(19),o=n(76),i=n(44),s=n(65),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l){n[l].remove(this)}if(Object(i.a)(a))try{a.call(this)}catch(e){t=e instanceof s.a?u(e.errors):[e]}if(Object(r.a)(c)){l=-1;for(var d=c.length;++l<d;){var f=c[l];if(Object(o.a)(f))try{f.unsubscribe()}catch(e){t=t||[],e instanceof s.a?t=t.concat(u(e.errors)):t.push(e)}}}if(t)throw new s.a(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function u(e){return e.reduce((function(e,t){return e.concat(t instanceof s.a?t.errors:t)}),[])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.$theme={$baseColor:"#4999FF",$borderColor:"#DCDFE6",$backgroundColor:"#F6F6FC",$lightBgColor:"#BEC1C9",$lightFontColor:"#B6B6B6",$messageMaxWidth:"300px",$messageSpace:"10px",$groupDefaultHeader:n(328),$maleDefaultHeader:n(329),$femaleDefaultHeader:n(330),$docIcon:"icon iconfont icon-word",$excelIcon:"icon iconfont icon-excel",$pptIcon:"icon iconfont icon-ppt",$txtIcon:"icon iconfont icon-txt",$rarIcon:"icon iconfont icon-rar",$pdfIcon:"icon iconfont icon-pdf",$audioIcon:"icon iconfont icon-music",$videoIcon:"icon iconfont icon-video",$unknowIcon:"icon iconfont icon-unknowfile"},t.$setTheme=function(e){t.$theme=r(r({},t.$theme),e)},t.vertical=function(){return{position:"absolute",top:0,bottom:0,marginTop:"auto",marginBottom:"auto"}},t.horizon=function(){return{position:"absolute",left:0,right:0,marginLeft:"auto",marginRight:"auto"}},t.middle=function(){return{position:"absolute",left:0,right:0,marginLeft:"auto",marginRight:"auto",top:0,bottom:0,marginTop:"auto",marginBottom:"auto"}},t.ellipsis=function(){return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"noWrap"}},t.ellipsisN=function(e){return void 0===e&&(e=2),{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",lineClamp:e,boxOrient:"vertical"}},t.forbidSelect=function(){return{userSelect:"none"}},t.hidden=function(){return{display:"none"}},t.flex=function(e){return void 0===e&&(e={}),{display:"flex",justifyContent:e.justifyContent||"space-between",alignItems:e.alignItems||"center",flexDirection:e.flexDirection||"row"}},t.title=function(e,t,n){return void 0===e&&(e="14px"),void 0===t&&(t="#333"),void 0===n&&(n=700),{fontSize:e,color:t,fontWeight:n}},t.searchInput=function(e,n,r){return void 0===e&&(e="24px"),void 0===n&&(n="12px"),void 0===r&&(r="#333"),{width:"100%",lineHeight:e,border:"1px solid "+t.$theme.$borderColor,borderRadius:"100px",fontSize:n,paddingLeft:"25px",outline:"none",color:r}},t.button=function(e,n,r,o){return void 0===e&&(e=t.$theme.$baseColor),void 0===n&&(n="#fff"),void 0===r&&(r="none"),void 0===o&&(o="100px"),{backgroundColor:e,color:n,letterSpacing:"5px",width:o,borderRadius:"2px",fontSize:"14px",lineHeight:"28px",border:r,textAlign:"center",cursor:"pointer"}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(0),o=n(4),i=n(3),s=n(16),a=n(40),u=n(116),c=n(64),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.a(t,e),t}(i.a),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.a(t,e),t.prototype[c.a]=function(){return new l(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.isStopped?(e.complete(),s.a.EMPTY):(this.observers.push(e),new u.a(this,e))},t.prototype.asObservable=function(){var e=new o.a;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(o.a),f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.a.EMPTY},t}(d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,i,s,a;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=l(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=f.bind(r);return o.listener=n,r.wrapFn=o,o}function A(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)i(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,i,s;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return A(this,e,!0)},a.prototype.rawListeners=function(e){return A(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(50),o=new(n(47).a)(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(3);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.a)},function(e,t){var n,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o={1001:"参数错误",2001:"http接口异常",2002:"http响应状态码异常",2003:"http接口字段错误",3001:"webrtc错误",3002:"新媒体服务器错误",4001:"视信通信令错误"},i=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o.code=t,r&&(o.belong=r),o.message="("+o.code+"):"+o+(o.belong?" from "+o.belong:""),o.log=function(){return console.log(o.message),o},o.warn=function(){return console.warn(o.message),o},o.error=function(){return console.error(o.message),o},o}return r(t,e),t.prototype.log=function(){},t.prototype.warn=function(){},t.prototype.error=function(){},t.CONSTANTS=o,t}(Error);t.MyError=i,t.default=function(e,t,n){return e in o&&(t=o[e]+"-"+t),new i(e,t,n)}},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.server={get host(){return window.KChatConfig.service.host},get webrtc(){return window.KChatConfig.service.webrtc},fileBaseUrl:"",stun:""},t.domain={_code:"DEFAULT",get domainDefaultCode(){return"DEFAULT"},get domainCode(){return this._code},set domainCode(e){e?(console.log("配置当前域的值为"+e),this._code=e):console.log("配置当前域的值为null或者undefined")}},t.httpUrl={get service(){return t.server.host+"/ptt/service/listService"},get getDevices(){return t.server.host+"/ptt/login/device/list"},get errorUpload(){return t.server.host+"/ptt/message/signalCollect"},get mediaInfoUpload(){return t.server.host+"/ptt/message/avQuality"},ptt:{get sourceId(){return t.server.host+"/ptt/umtInfo/list"}},login:{get in(){return t.server.host+"/ptt/login"},get forcedIn(){return t.server.host+"/ptt/login/forcedLogin"},get quickIn(){return t.server.host+"/ptt/login/quickLogin"},get quickForcedIn(){return t.server.host+"/ptt/login/quickForceLogin"},get out(){return t.server.host+"/ptt/logout"},get tokenIn(){return t.server.host+"/ptt/login/accessTokenLogin"},get tokenForcedIn(){return t.server.host+"/ptt/login/accessTokenForcedLogin"}},user:{get getUserInfo(){return t.server.host+"/ptt/userRelation/getUserInfo"},get getUserListInfo(){return t.server.host+"/ptt/userRelation/listUserInfo"},get getRap2UserCodeByUsername(){return t.server.host+"/ptt/userRelation/getRap2UserCodeByUsername"},get getUserRelations(){return t.server.host+"/ptt/userRelation/getUserRelations"},get searchUsers(){return t.server.host+"/ptt/userRelation/searchUsers"},get modifyUserInfo(){return t.server.host+"/ptt/userRelation/modifyUserInfo"}},fileUpload:{fileBlockSize:4,upload:"/file/upload",progress:"/progress?X-Progress-ID="},framework:{get tree(){return t.server.host+"/ptt/searchTree/tree/orgWithUser"},get searchTree(){return t.server.host+"/ptt/searchTree/search/getNodes?access_token="}},group:{get create(){return t.server.host+"/ptt/group/createGroup"},get deleteGroup(){return t.server.host+"/ptt/group/deleteGroup"},get get(){return t.server.host+"/ptt/group/getSingleGroupRelation"},get getList(){return t.server.host+"/ptt/group/getMultiGroupRelation"},get modifyGroupMembers(){return t.server.host+"/ptt/group/modifyGroupMembers"},get delGroupMembers(){return t.server.host+"/ptt/group/delGroupMembers"},get addGroupMembers(){return t.server.host+"/ptt/group/addGroupMembers"},get quitGroup(){return t.server.host+"/ptt/group/quitGroup"},get queryGroups(){return t.server.host+"/ptt/addressList/queryGroups?access_token="},get modifyGroupInfo(){return t.server.host+"/ptt/group/modifyGroupInfo"},get addMark(){return t.server.host+"/ptt/chatmark/add"},get removeMark(){return t.server.host+"/ptt/chatmark/delete"},get markList(){return t.server.host+"/ptt/chatmark/list"}},star:{get add(){return t.server.host+"/ptt/favorite"},get remove(){return t.server.host+"/ptt/unfavorite"},get query(){return t.server.host+"/ptt/favorite/queryFavorites"}},history:{get count(){return t.server.host+"/ptt/message/countMsg"},get user(){return t.server.host+"/kedaservices/vline/v3/history/querySessionMsg.action"},get group(){return t.server.host+"/kedaservices/vline/v3/history/queryTeamMsg.action"},get searchUser(){return t.server.host+"/kedaservices/vline/v3/history/querySessionKey.action"},get searchGroup(){return t.server.host+"/kedaservices/vline/v3/history/queryTeamKey.action"}}},t.interestMsg={unReadMsg:[r.MessageType.TEXT,r.MessageType.FILE,r.MessageType.LOCATION,r.MessageType.START_SPEAK,r.MessageType.BILLBOARD,r.MessageType.IM_COMBIND,r.MessageType.IM_REPLY],history:[r.SignalType.TEXT,r.SignalType.FILE,r.SignalType.IMAGE,r.SignalType.PTT,r.SignalType.VOICE_FILE,r.SignalType.VIDEO_FILE,r.SignalType.LOCATION,r.SignalType.GROUP_ANNOUNCEMENT,r.SignalType.IM_REPLY,r.SignalType.IM_COMBIND],localStorage:{id:"_messageId",contact:"_contactList"},isOnlineUnreadCounted:!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(4),o=new r.a((function(e){return e.complete()}));function i(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),o=n(66),i=n(111);function s(e,t){return t?Object(i.a)(e,t):e instanceof r.a?e:new r.a(Object(o.a)(e))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=0,s=0,a={};t.setSnCache=function(e){return s=parseInt((new Date).getTime()+""+i),i++,a[s]={onSuccess:e.onSuccess,onFailure:e.onFailure},s},t.handleSocketResponse=function(e){var t=function(e){if(!e||"number"==typeof e.sn){var t=a[e.sn];return t?(t=r({},t),delete a[e.sn],t):null}}({sn:e.sn});t&&(200===e.resultCode?t.onSuccess&&t.onSuccess.call(null,e):t.onFailure&&t.onFailure.call(null,e))},t.createObserver=function(e){return o.Observable.create((function(t){return e(t)}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(221),o=n(297),i=n(323),s=n(324),a=n(325);t.loop=a.default;var u=n(68);t.Pseudo=u.default,t.ReactCSS=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var s=r.default(t),a=o.default(e,s);return i.default(a)},t.NoPrefix=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=r.default(t);return o.default(e,i)},t.addStylesheetRules=function(e,t){var n=document.createElement("style");document.head.appendChild(n),n.id=e,Object.entries(t).forEach((function(t){var r=t[0],o=t[1],i=Object.entries(s.default(o)).reduce((function(e,t,n,r){return e+t[0]+":"+t[1]+(n===r.length-1?"}":";\n")}),"{");n.sheet.insertRule("."+e+" "+r+i,n.sheet.cssRules.length)}))},t.default=t.ReactCSS},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(3).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(3);function i(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(o.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r,o=n(26),i=n(57),s=n(71);r||(r={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(o.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r="undefined"!=typeof window&&window,o="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=r||void 0!==e&&e||o}).call(this,n(83))},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(562),i=n(5),s=n(25),a=n(23),u=n(191),c=n(8),l=s.httpUrl.login;function d(e){return o.ajax("string"==typeof e?{url:e,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}:{url:e.url+("GET"===e.method&&e.body?"?"+u.stringify(e.body):""),method:e.method,headers:r({"Content-Type":"application/json;charset=UTF-8"},e.headers),body:e.body,progressSubscriber:e.progressSubscriber||void 0}).pipe(i.map((function(e){if(-1===[l.in,l.forcedIn,l.tokenIn,l.tokenForcedIn].indexOf(e.request.url)){if(e.response&&!/^2\d{2}$/.test(void 0!==e.response.resultCode?e.response.resultCode:e.response.code))throw a.default(2002,e.response.resultMsg||"请求失败",e.request.url);c.handleUrl(e.response)}return e.response||e})),i.catchError((function(e){throw e instanceof o.AjaxError?a.default(2001,e.message,e.request.url):e instanceof Error?e:a.default(2001,e.message,e.request.url)})))}t.default=d,d.post=function(e){return d("string"==typeof e?{url:e,method:"POST"}:r(r({},e),{method:"POST"}))},d.get=function(e){return d("string"==typeof e?{url:e,method:"GET"}:r(r({},e),{method:"GET"}))},d.getJSON=function(e){return o.ajax.getJSON(e).pipe(i.catchError((function(e){throw a.default(2001,e.message,e.request.url)})))}},function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return o}));var o=r()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n(9),i=n(10),s=n(30),a=n(22),u=n(27);function c(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(c((function(n,r){return Object(u.a)(e(n,r)).pipe(Object(a.a)((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project,this.concurrent))},e}(),d=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new s.a(this,t,n),i=this.destination;i.add(r);var a=Object(o.a)(this,e,void 0,void 0,r);a!==r&&i.add(a)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(152),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(87),i=function(e){function t(n,r){void 0===r&&(r=o.a.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return r.a(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),o=n(114),i=n(78);function s(e,t){return t?Object(i.a)(e,t):new r.a(Object(o.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(18),i=n(16),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.a(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),i.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),i.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(16).a))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(19);function o(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if("[object Object]"!==o(e)||e.nodeType||i(e))return!1;try{if(e.constructor&&!Object.prototype.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0}function o(e){return null==e?String(e):"object"===(void 0===e?"undefined":n(e))||"function"==typeof e?Object.prototype.toString.call(e)||"object":void 0===e?"undefined":n(e)}function i(e){return null!=e&&e===e.window}function s(e){return"function"===o(e)}function a(e){return null!==e&&"object"===(void 0===e?"undefined":n(e))}function u(){for(var e,o,i,a,c,l,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var p=d[0]||{},A=1,g=d.length,h=!1;for("boolean"==typeof p&&(h=p,p=d[1]||{}),"object"===(void 0===p?"undefined":n(p))||s(p)||(p={}),g===A&&(p=this,--A);A<g;A++)if(null!=(e=d[A]))for(o in e)i=p[o],p!==(a=e[o])&&(h&&a&&(r(a)||(c=t.isArray(a)))?(c?(c=!1,l=i&&t.isArray(i)?i:[]):l=i&&r(i)?i:{},p[o]=u(h,l,a)):void 0!==a&&(p[o]=a));return p}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=r,t.type=o,t.isWindow=i,t.isArray=Array.isArray,t.inArray=function(e,t,n){return void 0===n&&(n=0),null==t?-1:Array.prototype.indexOf.call(t,e,n)},t.isFunction=s,t.isEmpty=function(e){for(var t in e)return!1;return!0},t.isOwnEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},t.merge=function(e,t){var n=t.length,r=e.length,o=0;if("number"==typeof n)for(;o<n;o++)e[r++]=t[o];else for(;void 0!==t[o];)e[r++]=t[o++];return e.length=r,e},t.isObject=a,t.isEqual=function(e,t){return e===t||!(!a(e)||!a(t))&&JSON.stringify(e)===JSON.stringify(t)},t.extend=u,t.assign=Object.assign||u},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(196),s=n(119),a=n(58),u=n(23),c=n(1),l=function(e){function t(n){var r=e.call(this,n)||this;if(r.options=n,!n.user||!n.sessionId||!n.host)throw u.default(1001,"user、sessionId、host是必选参数","DataModel constructor");return r.options=n,r.protobuf=new i.default({userCode:n.user.userCode,domainCode:n.user.domainCode,sessionId:n.sessionId}),r.id=a.newSHA(),r.reConnecting=!1,t[r.options.user.userCode]={socketSend:r.send.bind(r),modules:[]},r.on("message",(function(e){r.recvMsg(e).then((function(e){if(r.options.dst&&e.type===c.OptType.REQUEST){e.data.src.split("@")[0];var n=e.data.dst.split("@")[0];if(n&&n!==r.options.user.userCode)return void console.log("一对一信令拦截，",e)}t[r.options.user.userCode].modules.forEach((function(t){if(t._name===e.module+"Model"){var n=void 0;switch(e.type){case c.OptType.REQUEST:n="socketRequest";break;case c.OptType.RESPONSE:n="socketResponse";break;case c.OptType.PUSH:n="socketPush"}n&&t[n]&&"function"==typeof t[n]&&t[n](e.data)}}))}))})),r}return o(t,e),t.prototype.send=function(e,t){if(void 0===t&&(t=!1),this.socket){if((this.socket.readyState===c.SocketState.CLOSING||this.socket.readyState===c.SocketState.CLOSED)&&!t)return this.reConnecting=!0,this.emit("close",{isSleeping:!0}),void console.error("WebSocket is already in CLOSING or CLOSED state");this.reConnecting&&this.emit("reConnected"),this.reConnecting=!1,this.socket.send(this.protobuf.request(e))}},t.prototype.recvMsg=function(e){var t=this;return new Promise((function(n,r){"message"===e.type&&e.data&&t.protobuf.response(e.data).then((function(e){if(!e||void 0===e.optType)throw u.default(4001,"接收信令缺少optType字段","DataModel recvMsg");var r=t[0===e.optType?"request":1===e.optType?"response":"push"](e),o=0===e.optType?c.OptType.REQUEST:1===e.optType?c.OptType.RESPONSE:c.OptType.PUSH;n({type:o,data:r.data,module:r.module})})).catch((function(e){r(e)}))}))},t.prototype.response=function(e){var t="";switch(e.st){case 0:t="Login";break;case 43:case 44:case 45:case 90:case 91:case 92:case 93:t="Message";break;case 52:t="User";break;case 41:case 42:t="PTT";break;case 54:t="Map";break;case 55:case 60:case 61:case 62:case 63:case 66:case 67:case 68:case 69:case 70:case 72:case 82:t="Live"}return{module:t,data:e}},t.prototype.request=function(e){var t;switch(e.st){case 0:t="Login";break;case 2:case 3:case 5:case 6:case 7:t="Group";break;case 43:case 44:case 45:case 90:case 91:case 92:case 93:t="Message";break;case 41:case 42:t="PTT";break;case 54:t="Map";break;case 52:t="User";break;case 55:case 60:case 61:case 62:case 63:case 66:case 67:case 68:case 69:case 70:case 72:case 82:t="Live"}return{module:t,data:e}},t.prototype.push=function(e){var t;switch(e.st){case 0:case 80:case 81:t="Login";break;case 2:case 3:case 101:t="Group"}return{module:t,data:e}},t.setModule=function(e,n){-1===t[n].modules.indexOf(e)&&t[n].modules.push(e)},t.module={},t}(s.default);t.default=l},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(57),o=n(104);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o.a)()(r.a.apply(void 0,e))}},function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(24),o=n(48),i=n(78);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(r.a)(n)?(e.pop(),Object(i.a)(e,n)):Object(o.a)(e)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=[];t.newSHA=function e(){for(var t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r="",o=0;o<32;o++){r+=t[Math.round(61*Math.random())]}return-1!==n.indexOf(r)?e():(n.push(r),r)},t.createUuid=function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},t.genSn=function(){return parseInt((Date.now()+"").split("").reverse().map((function(e,t,n){return t>=n.length-5?0:e})).join(""))}},function(e,t,n){var r=n(85),o=n(226),i=n(227),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(247),o=n(250);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(13),i=n(5),s=n(12),a=n(1);function u(){return this.store.userInfo.userCode===this.store.loginUser.userCode}t.default=function(){return[r.mounted("OnLoginSuccess",(function(){var e=this.store,t=s.default.getKChat(this.rootName).rxjsEvent,n=i.map((function(t){return e.loginUser=t,e.showHeaderEdit=!1,e.isPhoneActive=!1,e.isEmailActive=!1,e.isShowAll=!1,t}));return t.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,n),function(){return t.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,n)}})),r.mounted("HeaderImgHover",(function(){var e=this,t=this.refs.headerImgRef;o.fromEvent(t.current,"mouseenter").pipe(i.filter((function(){return u.call(e)})),i.map((function(){e.store.showHeaderEdit=!0}))).subscribe(),o.fromEvent(t.current,"mouseleave").pipe(i.filter((function(){return u.call(e)})),i.map((function(){e.store.showHeaderEdit=!1}))).subscribe()})),r.mounted("HeaderEditClick",(function(){var e=this,t=this.refs.headerEditRef,n=s.default.getKChat(this.rootName).rxjsEvent;o.fromEvent(t.current,"click").pipe(i.filter((function(){return u.call(e)}))).subscribe({next:function(){return n.subscribe(a.RxjsEventNames.SHOW_CUT_IMG,o.of({}))}})})),r.mounted("PhoneInputHandler",(function(){var e=this.refs,t=this.store,n=s.default.getKChat(this.rootName),r=n.fetch,i=n.rxjsEvent;o.fromEvent(e.phoneInputRef.current,"blur").subscribe((function(e){var n=e.target.value.trim();t.isPhoneActive=!1,+n!=+t.userInfo.userPhoneNumber&&(""===n||!isNaN(n)&&/^1\d{10}$/.test(n)?r.user.modifyUserInfo({userPhoneNumber:n}).subscribe({next:function(){i.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of({type:a.GlobalMessageTip.SUCCESS,message:"修改成功"})),t.userInfo.userPhoneNumber=n},error:function(e){console.log(e),i.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of("修改失败"))}}):i.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of("请输入正确的手机号")))})),o.fromEvent(e.phoneInputRef.current,"keydown").subscribe((function(t){t&&13===t.keyCode&&e.phoneInputRef.current.blur()}))})),r.mounted("PhoneEditClick",(function(){var e=this,t=this.store,n=this.refs,r=n.phoneEditRef,i=n.phoneInputRef;o.fromEvent(r.current,"click").subscribe((function(){i.current.value=t.userInfo.userPhoneNumber,e.store.isPhoneActive=!0,i.current.focus()}))})),r.mounted("EmailInputHandler",(function(){var e=this.refs,t=this.store,n=s.default.getKChat(this.rootName),r=n.fetch,i=n.rxjsEvent;o.fromEvent(e.emailInputRef.current,"blur").subscribe((function(e){var n=e.target.value.trim();t.isEmailActive=!1,n!==t.userInfo.userEmail&&(/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(n)||""===n?r.user.modifyUserInfo({userEmail:n}).subscribe({next:function(){i.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of({type:a.GlobalMessageTip.SUCCESS,message:"修改成功"})),t.userInfo.userEmail=n},error:function(e){console.log(e),i.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of("修改失败"))}}):i.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of("请输入正确的邮箱")))})),o.fromEvent(e.emailInputRef.current,"keydown").subscribe((function(t){t&&13===t.keyCode&&e.emailInputRef.current.blur()}))})),r.mounted("EmailEditClick",(function(){var e=this,t=this.store,n=this.refs,r=n.emailEditRef,i=n.emailInputRef;o.fromEvent(r.current,"click").subscribe((function(){e.store.isEmailActive=!0,i.current.value=t.userInfo.userEmail,i.current.focus()}))})),r.mounted("sendMessageClick",(function(){var e=this,t=this.refs.sendMessageRef,n=s.default.getKChat(this.rootName),r=n.rxjsEvent,i=n.store;o.fromEvent(t.current,"click").subscribe((function(){r.subscribe(a.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,o.of(e.store.userInfo),(function(){i.popupManager.persist([])}))}))})),r.mounted("GroupMemberMore",(function(){var e=this.store,t=this.refs.showMoreRef;o.fromEvent(t.current,"click").subscribe((function(){e.isShowAll=!e.isShowAll}))}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(374),i=n(375),s=n(378);t.default=function e(t,n,a){return r.default("UserInfoPopup",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(32);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}function i(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(114),o=n(56),i=n(38),s=n(39),a=n(113),u=n(115),c=n(76),l=function(e){if(e&&"function"==typeof e[s.a])return l=e,function(e){var t=l[s.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(a.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,o.a),e};if(e&&"function"==typeof e[i.a])return t=e,function(e){for(var n=t[i.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,d=Object(c.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),a=function(e){function t(t){var n=e.call(this,t)||this;return n.handleMouseOver=n.handleMouseOver.bind(n),n.handleMouseOut=n.handleMouseOut.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.state={hover:!1,active:!1,focus:!1},n}return o(t,e),t.prototype.handleMouseOver=function(){this.setState({hover:!0})},t.prototype.handleMouseOut=function(){this.setState({hover:!1}),this.setState({active:!1})},t.prototype.handleMouseDown=function(){this.setState({active:!0})},t.prototype.handleMouseUp=function(){this.setState({active:!1})},t.prototype.handleFocus=function(){this.setState({focus:!0})},t.prototype.handleBlur=function(){this.setState({focus:!1})},t.prototype.render=function(){var e=this.props.style;return e=this.state.hover?i(i({},e),this.props.hoverStyle):e,e=this.state.active?i(i({},e),this.props.activeStyle):e,e=this.state.focus?i(i({},e),this.props.focusStyle):e,s.createElement(this.props.tagName||"div",i(i(i(i(i(i(i({onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onFocus:this.handleFocus,onBlur:this.handleBlur,ref:"current",style:e},this.props["data-style-name"]?{"data-style-name":this.props["data-style-name"]}:{}),this.props["data-style-hover-name"]?{"data-style-hover-name":this.props["data-style-hover-name"]}:{}),this.props["data-style-active-name"]?{"data-style-active-name":this.props["data-style-active-name"]}:{}),this.props["data-style-focus-name"]?{"data-style-focus-name":this.props["data-style-focus-name"]}:{}),this.props.placeholder?{placeholder:this.props.placeholder}:{}),this.props.type?{type:this.props.type}:{}),this.props.className?{className:this.props.className}:{}),this.props.children)},t}(s.Component);t.default=a},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(0),o=n(24),i=n(19),s=n(10),a=n(9),u=n(48),c={};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return Object(o.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(i.a)(e[0])&&(e=e[0]),Object(u.a)(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(t,e),t.prototype._next=function(e){this.values.push(c),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(a.a)(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,o){var i=this.values,s=i[n],a=this.toRespond?s===c?--this.toRespond:this.toRespond:0;i[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(42),o=n(37);function i(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(r.a)(o.a,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4);function o(e,t){return t?new r.a((function(n){return t.schedule(i,0,{error:e,subscriber:n})})):new r.a((function(t){return t.error(e)}))}function i(e){var t=e.error;e.subscriber.error(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(3);function i(){return function(e){return e.lift(new s(e))}}var s=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),o=n(18),i=n(112),s=n(16),a=n(107),u=n(40),c=n(116),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return r.a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new d(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new u.a;if(this.isStopped||this.hasError?t=s.a.EMPTY:(this.observers.push(e),t=new c.a(this,e)),o&&e.add(e=new a.a(e,o)),n)for(var l=0;l<i&&!e.closed;l++)e.next(r[l]);else for(l=0;l<i&&!e.closed;l++)e.next(r[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||i.a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(o.a),d=function(){return function(e,t){this.time=e,this.value=t}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),o=n(27),i=n(26);function s(e){return new r.a((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?Object(o.a)(n):Object(i.b)()).subscribe(t)}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(0),o=n(48),i=n(19),s=n(3),a=n(10),u=n(9),c=n(38);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(o.a)(e,void 0).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var o=e.call(this,t)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:null,o.values=r,o}return r.a(t,e),t.prototype._next=function(e){var t=this.iterators;Object(i.a)(e)?t.push(new A(e)):"function"==typeof e[c.a]?t.push(new p(e[c.a]())):t.push(new g(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"==typeof(s=e[r]).hasValue&&!s.hasValue())return}var o=!1,i=[];for(r=0;r<t;r++){var s,a=(s=e[r]).next();if(s.hasCompleted()&&(o=!0),a.done)return void n.complete();i.push(a.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),o&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.a),p=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),A=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[c.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),g=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return r.a(t,e),t.prototype[c.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,o){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(u.a)(this,this.observable,this,t)},t}(a.a)},function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3);function o(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&o instanceof r.a?o:null}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),o=n(16);function i(e,t){return new r.a((function(n){var r=new o.a,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),o=1,i=function(){return Promise.resolve()}(),s={};function a(e){return e in s&&(delete s[e],!0)}var u=function(e){var t=o++;return s[t]=!0,i.then((function(){return a(t)&&e()})),t},c=function(e){a(e)},l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(c(n),t.scheduled=void 0)},t}(n(50).a),d=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(47).a))(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(31),o=n(56),i={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(o.a)(e)},complete:function(){}}},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<r.length;o++)n[(t=r[o].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0],o=r.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&o?{usernameFragment:n.substr(12),password:o.substr(10)}:null},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),o=3;o<n.length;o++){var i=n[o],s=r.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(s){var a=r.parseRtpMap(s),u=r.matchPrefix(e,"a=fmtp:"+i+" ");switch(a.parameters=u.length?r.parseFmtp(u[0]):{},a.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(r.parseRtcpFb),t.codecs.push(a),a.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(a.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var o=0;return t.codecs.forEach((function(e){e.maxptime>o&&(o=e.maxptime)})),o>0&&(n+="a=maxptime:"+o+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],o=r.parseRtpParameters(e),i=-1!==o.fecMechanisms.indexOf("RED"),s=-1!==o.fecMechanisms.indexOf("ULPFEC"),a=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),u=a.length>0&&a[0].ssrc,c=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===u&&(t=c[0][1]),o.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:u,codecPayloadType:parseInt(e.parameters.apt,10)};u&&t&&(r.rtx={ssrc:t}),n.push(r),i&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:u,mechanism:s?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&u&&n.push({ssrc:u});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var o=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=o.length>0,t.compound=0===o.length;var i=r.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var o=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return o.length>0?{stream:(t=o[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),o=r.matchPrefix(e,"a=max-message-size:");o.length>0&&(t=parseInt(o[0].substr(19),10)),isNaN(t)&&(t=65536);var i=r.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var s=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var o=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,o){var i=r.writeRtpDescription(e.kind,t);if(i+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var s="msid:"+o.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+s,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),i},r.getDirection=function(e,t){for(var n=r.splitLines(e),o=0;o<n.length;o++)switch(n[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[o].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(334)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(150),o=n(230),i=n(93);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(45).Symbol;e.exports=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(495),i=n(496),s=n(497);t.default=function e(t,n,a){return r.default("Controller",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f}));var r=n(0),o=n(3),i=n(16),s=n(4),a=n(18);function u(e,t,n,r){return function(o){return o.lift(new c(e,t,n,r))}}var c=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),l=function(e){function t(t,n,r,o,i){var s=e.call(this,t)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=o,s.subjectSelector=i,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,o=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!o){o=this.subjectSelector?this.subjectSelector():new a.a,n.set(t,o);var i=new f(t,o,this);if(this.destination.next(i),this.durationSelector){var s=void 0;try{s=this.durationSelector(new f(t,o))}catch(e){return void this.error(e)}this.add(s.subscribe(new d(t,o,this)))}}o.closed||o.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(o.a),d=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o.key=t,o.group=n,o.parent=r,o}return r.a(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(o.a),f=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=r,o}return r.a(t,e),t.prototype._subscribe=function(e){var t=new i.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new p(n)),t.add(r.subscribe(e)),t},t}(s.a),p=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.a(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(i.a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=n(146);t.date=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0]||(new Date).getTime(),i="s"===e[1]?1:1e3;return n=r.isNumeric(n)?+n:""+n,o.default(!0,new Date(n),{init:function(e){return this.target=e/i,this},data:function(){return{basicUnit:{second:1,minute:60,hour:3600,day:86400,halfamonth:1296e3,month:2592e3,year:31104e3},trope:{Y:this.getFullYear(),y:this.getFullYear(),M:this.getMonth()+1,m:this.getMonth()+1<10?"0"+(this.getMonth()+1):this.getMonth()+1,D:this.getDate(),d:this.getDate()<10?"0"+this.getDate():this.getDate(),H:this.getHours()<10?"0"+this.getHours():this.getHours(),h:this.getHours()%12==0?12:this.getHours()%12<10?"0"+this.getHours()%12:this.getHours()%12,I:this.getMinutes(),i:this.getMinutes()<10?"0"+this.getMinutes():this.getMinutes(),S:this.getSeconds(),s:this.getSeconds()<10?"0"+this.getSeconds():this.getSeconds()},timeset:{year:this.count(31104e3),month:this.count(2592e3),day:this.count(86400),hour:this.count(3600),minute:this.count(60),second:this.count(1)}}},count:function(e,t){return"ceil"===t?Math.ceil(Math.abs(this.target/e)):Math.floor(Math.abs(this.target/e))},format:function(e){try{var t=""+e;for(var n in this.data().trope)t=n&&new RegExp(n).test(t)?t.replace(n,this.data().trope[n]):t;return t}catch(e){return this}},timeset:function(){var e=this.data().basicUnit,t=this.data().timeset;for(var n in t){t[n]=this.count(e[n]);var r=this.target-t[n]*e[n];this.target=r>=0?r:0}return t},state:function(){var e=this.data().basicUnit;return this.target>e.year?{year:this.count(e.year,"ceil")}:this.target>e.month?{month:this.count(e.month,"ceil")}:this.target>e.day?{day:this.count(e.day,"ceil")}:this.target>e.hour?{hour:this.count(e.hour,"ceil")}:this.target>e.minute?{minute:this.count(e.minute,"ceil")}:{second:this.target}},_year:function(){return this.data().timeset.year},_month:function(){return this.data().timeset.month},_day:function(){return this.data().timeset.day},_hour:function(){return this.data().timeset.hour},_minute:function(){return this.data().timeset.minute},_second:function(){return this.data().timeset.second},isGreenwichTime:function(e){return e>this.getTime("1970-01-01 00:00:00")&&e<this.getTime("2038-01-19 11:14:07")},toNumber:function(){return this.getTime()},end:function(){return this},getfileDateId:function(){return this.toNumber()+Math.round(1e5*Math.random())}}).init(n)}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),i=n(25),s=n(1),a=n(89);t.default=function(e){var t=window.KChatConfig.service.deviceType,n=a.date(Date.now()).format("Y-m-d H:i:s")+":"+(new Date).getMilliseconds();e.code=e.code+"";var u=[r(r({},e),{collectTime:n,deviceType:s.DeviceType[t]||s.DeviceType.WEB_CHROME})];o.default.post({url:i.httpUrl.errorUpload,body:{signalMessageList:u}}).subscribe()}},function(e,t,n){var r=n(149),o=n(232);e.exports=function(e,t){return e&&r(e,o(t))}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(156),o=n(123);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(237),o=n(238),i=n(239),s=n(240),a=n(241);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=a,e.exports=u},function(e,t,n){var r=n(128);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(60)(Object,"create");e.exports=r},function(e,t,n){var r=n(259);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(274),o=n(129),i=n(275),s=n(276),a=n(277),u=n(59),c=n(159),l=c(r),d=c(o),f=c(i),p=c(s),A=c(a),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=g(new o)||i&&"[object Promise]"!=g(i.resolve())||s&&"[object Set]"!=g(new s)||a&&"[object WeakMap]"!=g(new a))&&(g=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case A:return"[object WeakMap]"}return t}),e.exports=g},function(e,t,n){var r=n(133);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(171),o=n(172);e.exports=function(e,t,n,i){var s=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var c=t[a],l=i?i(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),s?o(n,c,l):r(n,c,l)}return n}},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});for(var n,r=function(){return"undefined"!=typeof window?window:void 0!==e?e:void 0!==this?this:{}}(),o=r===window?r.document:{},i={},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=s[0],u=0;u<s.length;u++)if(s[u][1]in o){n=s[u];break}if(n)for(u=0;u<n.length;u++)i[a[u]]=n[u];t.default=i}).call(this,n(83))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(6),a=n(1),u=n(5);t.default=function(){return[r.mounted("ClickControllerMenu",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(e.container.current,"click").subscribe((function(r){e.menus.some((function(o,u){if(s.isDescendant(r.target,o.current,e.container.current))return(t.isBig||t.menus[u].name!==a.ControllerName.SMALL)&&n.subscribe(a.RxjsEventNames.CLICK_CONTROLLER,i.of({type:t.type,name:t.menus[u].name})),t.menus[u].name===a.ControllerName.BIG?t.isBig=!0:t.isBig=!1,!0}))}))})),r.mounted("ResetController",(function(){var e=this.store,t=o.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,s=u.map((function(t){return t.type===e.type&&e.isBig&&(e.isBig=!1,n.subscribe(a.RxjsEventNames.CLICK_CONTROLLER,i.of({type:e.type,name:a.ControllerName.EXIT_BIG}))),t}));n.addPipe(a.RxjsEventNames.RESET_CONTROLLER,s);var c=u.map((function(t){return i.merge(i.fromEvent(r.login,"loginOut"),i.fromEvent(r.login,"beCoercive")).subscribe((function(){e.isBig&&(e.isBig=!1,n.subscribe(a.RxjsEventNames.CLICK_CONTROLLER,i.of({type:e.type,name:a.ControllerName.EXIT_BIG})))})),t}));return n.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){n.removePipe(a.RxjsEventNames.RESET_CONTROLLER,s),n.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}}))]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),o=n(21),i=n(51),s=n(24);function a(e,t,n){void 0===e&&(e=0);var a=-1;return Object(i.a)(t)?a=Number(t)<1?1:Number(t):Object(s.a)(t)&&(n=t),Object(s.a)(n)||(n=o.a),new r.a((function(t){var r=Object(i.a)(e)?e:+e-n.now();return n.schedule(u,r,{index:0,period:a,subscriber:t})}))}function u(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(70);function o(){return Object(r.a)(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),o=n(24),i=n(70),s=n(48);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,u=e[e.length-1];return Object(o.a)(u)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof u&&(n=e.pop()),null===a&&1===e.length&&e[0]instanceof r.a?e[0]:Object(i.a)(n)(Object(s.a)(e,a))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(0),o=n(18),i=n(4),s=n(3),a=n(16),u=n(72),c=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e},t.prototype.refCount=function(){return Object(u.a)()(this)},t}(i.a),l=function(){var e=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.b);s.a},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(0),o=n(3),i=n(34);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}(),u=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return r.a(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(i.a.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(i.a.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()},t}(o.a),c=function(){return function(e,t){this.notification=e,this.destination=t}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(18),i=n(40),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n(19),i=n(48),s=n(10),a=n(9);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(o.a)(e[0]))return e[0];e=e[0]}return Object(i.a)(e,void 0).lift(new c)}var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.a(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],o=Object(a.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var s=this.subscriptions[i];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(s.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),o=n(16),i=n(39);var s=n(78),a=n(38);var u=n(115),c=n(113);function l(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[i.a]}(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){var o=e[i.a]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(u.a)(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(c.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[a.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[a.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.a(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(50).a),i=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t}(n(47).a))(o)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(16).a)},function(e,t,n){"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],s=i.obj[i.prop],a=Object.keys(s),u=0;u<a.length;++u){var c=a[u],l=s[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:s,prop:c}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n){if(0===e.length)return e;var r=e;if("symbol"==typeof e?r=Symbol.prototype.toString.call(e):"string"!=typeof e&&(r=String(e)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var o="",s=0;s<r.length;++s){var a=r.charCodeAt(s);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?o+=r.charAt(s):a<128?o+=i[a]:a<2048?o+=i[192|a>>6]+i[128|63&a]:a<55296||a>=57344?o+=i[224|a>>12]+i[128|a>>6&63]+i[128|63&a]:(s+=1,a=65536+((1023&a)<<10|1023&r.charCodeAt(s)),o+=i[240|a>>18]+i[128|a>>12&63]+i[128|a>>6&63]+i[128|63&a])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,i){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,i)),o(t)&&o(n)?(n.forEach((function(n,o){if(r.call(t,o)){var s=t[o];s&&"object"==typeof s&&n&&"object"==typeof n?t[o]=e(s,n,i):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var s=n[o];return r.call(t,o)?t[o]=e(t[o],s,i):t[o]=s,t}),a)}}},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),s=n(1),a=function(e){function t(t){var n=e.call(this)||this;return n.options=t||{},n.init(),n}return o(t,e),t.prototype.init=function(){switch(this.socket=new WebSocket(this.options.host),this.socket.readyState){case WebSocket.CONNECTING:this.state=s.SocketState.CONNECTING;break;case WebSocket.OPEN:this.state=s.SocketState.OPEN;break;case WebSocket.CLOSING:this.state=s.SocketState.CLOSING;break;case WebSocket.CLOSED:this.state=s.SocketState.CLOSED,this.emit("close",this.socket);break;default:this.state=s.SocketState.UNKNOW,this.emit("connect_error")}this.emit("readyState",{state:this.state}),this.bindEvent()},t.prototype.bindEvent=function(){var e=this;this.socket.addEventListener("message",(function(t){e.emit("message",t)})),this.socket.addEventListener("error",(function(t){e.emit("error",t)})),this.socket.addEventListener("open",(function(t){e.options.binaryType&&(e.socket.binaryType=e.options.binaryType),e.emit("open",t)})),this.socket.addEventListener("close",(function(t){e.emit("close",t)}))},t.prototype.send=function(e){this.socket.send(e)},t.prototype.close=function(){this.socket.close(),this.socket=null},t}(i.EventEmitter);t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),o=n(25),i=n(58),s=n(5),a=n(13),u=n(28),c={};function l(e){return c[e]||(c[e]={queue:[]}),c[e]}t.getQueue=l,t.genQueueId=function(e){return e+"@"+(new Date).getTime()+Math.floor(1e5*Math.random())};var d=1048576*o.httpUrl.fileUpload.fileBlockSize;function f(e,t){e.length&&e.forEach((function(e,n,r){e.queueId===t&&r.splice(n,1)}))}t.singleFileUpload=function(e){var t=e.file,n=0,u=0,c=!1,l=i.createUuid();return{cancel:function(){c=!0},upload:function i(){if(!(n>=t.size)){u=n+d>t.size?t.size:n+d;var f=n+"-"+(u-1)+"/"+t.size;return r.default.post({url:o.server.fileBaseUrl+o.httpUrl.fileUpload.upload+"/"+e.fileType+"/"+e.loginUserCode,headers:{Accept:"*/*","Content-Disposition":'attachment; filename="'+encodeURI(t.name)+'"',"Content-Type":"application/octet-stream","X-Content-Range":"bytes "+f,"X-Session-ID":l},body:t.slice(n,n+d),progressSubscriber:{next:function(r){if(!0!==c&&r.lengthComputable){var o=Math.round(100*(r.loaded+n)/t.size);"function"==typeof e.uploadProgress&&e.uploadProgress(o)}},complete:function(e){}}}).pipe(s.map((function(e){return 201===e.resultCode&&!1===c?(n+=d,i()):a.of(!1===c?e:{cancel:!0})}))).pipe(s.concatAll())}}()}},t.uploadToQueue=function(e){var t=e.file,n=0,c=0,p=!1,A=l(e.loginUserCode),g=i.createUuid(),h=function i(){if(!(n>=t.size)){c=n+d>t.size?t.size:n+d;var u=n+"-"+(c-1)+"/"+t.size;return r.default.post({url:o.server.fileBaseUrl+o.httpUrl.fileUpload.upload+"/"+e.fileType+"/"+e.loginUserCode,headers:{Accept:"*/*","Content-Disposition":'attachment; filename="'+encodeURI(t.name)+'"',"Content-Type":"application/octet-stream","X-Content-Range":"bytes "+u,"X-Session-ID":g},body:t.slice(n,n+d),progressSubscriber:{next:function(r){if(!0!==p&&r.lengthComputable){var o=Math.round(100*(r.loaded+n)/t.size);"function"==typeof e.uploadProgress&&e.uploadProgress(o,e.queueId)}},complete:function(e){}}}).pipe(s.map((function(t){return 201===t.status&&!1===p?(n+=d,i()):a.of(!1===p?t:{cancel:!0,queueId:e.queueId})}))).pipe(s.concatAll())}},m=function(){if(A.queue.length>0){var e=A.queue[0],t=e.observable,n=e.observer;t.subscribe((function(e){e.failed?n.error(e):n.next(e)}))}};return{cancel:function(){p=!0,A.queue[0]&&A.queue[0].queueId!==e.queueId&&f(A.queue,e.queueId)},upload:u.createObserver((function(t){A.queue.push({observable:h().pipe(s.map((function(t){return t.cancel?f(A.queue,e.queueId):A.queue.shift(),m(),t})),s.catchError((function(t){return f(A.queue,e.queueId),m(),a.of({failed:!0,queueId:e.queueId})}))),observer:t,queueId:e.queueId}),1===A.queue.length&&m()}))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(58),o="";t.genRequestId=function(){return o=r.newSHA()},t.genRelatedId=function(){return o}},function(e,t,n){(function(e){var r=n(45),o=n(228),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===i?r.Buffer:void 0,u=(a?a.isBuffer:void 0)||o;e.exports=u}).call(this,n(92)(e))},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(152),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o&&r.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,n(92)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(94),o=n(242),i=n(243),s=n(244),a=n(245),u=n(246);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=u,e.exports=c},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(60)(n(45),"Map");e.exports=r},function(e,t,n){var r=n(251),o=n(258),i=n(260),s=n(261),a=n(262);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=a,e.exports=u},function(e,t,n){var r=n(273),o=n(166),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return i.call(e,t)})))}:o;e.exports=a},function(e,t,n){var r=n(41),o=n(133),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(59),o=n(54);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(155)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(162);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(360),i=n(361),s=n(363);t.default=function e(t,n,a){return r.default("Loading",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return[]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(476),i=n(477),s=n(478);t.default=function e(t,n,a){return r.default("Page",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(5),a=n(6),u=n(1);t.default=function(){return[r.mounted("InitPage",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=s.map((function(e){if(void 0===e&&(e={total:t.config.total,pageCount:t.config.pageCount,reset:!1,type:u.PageType.NONE}),e.type===t.type){t.total=e.total||t.config.total,t.pageCount=e.pageCount||t.config.pageCount;var n=[];if(e.reset){if(t.curPageIdx=Math.min(t.curPageIdx,t.total),t.curPageList[t.curPageList.length-1]>t.total){for(var r=0;r<t.pageCount;r++)t.total-r>0&&n.unshift(t.total-r);t.curPageList=n}}else{var o=Math.min(t.total,t.pageCount);for(r=0;r<o;r++)n.push(r+1);t.curPageList=n,t.curPageIdx=1}}return e}));return e.addPipe(u.RxjsEventNames.INIT_PAGE,n),function(){return e.removePipe(u.RxjsEventNames.INIT_PAGE,n)}})),r.mounted("SelectPage",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName).rxjsEvent;i.merge(i.fromEvent(e.prevIcon.current,"click").pipe(s.filter((function(){return t.curPageIdx>1})),s.map((function(){t.curPageIdx--,t.direction=-1}))),i.fromEvent(e.nextIcon.current,"click").pipe(s.filter((function(){return t.curPageIdx<t.total})),s.map((function(){t.curPageIdx++,t.direction=1}))),i.fromEvent(e.pageListBox.current,"click").pipe(s.map((function(n){var r=!1;return e.curPageList.some((function(o,i){if(a.isDescendant(n.target,o.current,e.container.current))return r=t.curPageIdx!==t.curPageList[i],t.curPageIdx=t.curPageList[i],t.direction=0,!0})),r})),s.filter((function(e){return e})))).subscribe((function(){if(0===t.direction){var e=Math.floor((t.curPageList[t.curPageList.length-1]+t.curPageList[0])/2),r=t.curPageList.map((function(n){return n-e+t.curPageIdx}));r[0]<1&&(r=r.map((function(e){return 1-r[0]+e}))),r[r.length-1]>t.total&&(r=r.map((function(e){return t.total-r[r.length-1]+e}))),t.curPageList=r}else-1===t.curPageList.indexOf(t.curPageIdx)&&(t.curPageList=t.curPageList.map((function(e){return t.direction<0?--e:++e})));n.subscribe(u.RxjsEventNames.SELECT_PAGE,i.of({type:t.type,page:t.curPageIdx}))}))}))]}},function(e,t,n){(e.exports=n(141)(!1)).push([e.i,'@charset "UTF-8";\r\n/*css 初始化 */\r\n/* html, body, ul, li, ol, dl, dd, dt, p, h1, h2, h3, h4, h5, h6, form, fieldset, legend, img { margin:0; padding:0; } */\r\n.kcmain ul, li, ol, dl, dd, dt, p, h1, h2, h3, h4, h5, h6, form, fieldset, legend, img { margin:0; padding:0; }\r\n.kcmain fieldset, img,input,button { border:none; padding:0;margin:0;outline-style:none; }  /*去掉input等聚焦时的蓝色边框*/\r\n.kcmain ul, ol { list-style:none; }\r\n.kcmain input { padding-top:0; padding-bottom:0; font-family: "SimSun","宋体";}\r\n.kcmain select, input { vertical-align:middle;}\r\n.kcmain select, input, textarea { font-size:12px; margin:0; }\r\n.kcmain textarea { resize:none; } /*防止拖动*/\r\n.kcmain table { border-collapse:collapse; }\r\n/* body {\r\n  font:12px/150% "hiragino sans gb", "helvetica neue", "\\\\5FAE\\8F6F\\96C5\\9ED1", tahoma, arial, sans-serif;\r\n  color:#666;\r\n  background:#fff\r\n} */\r\n.kcmain {\r\n    font:12px/150% "hiragino sans gb", "helvetica neue", "\\\\5FAE\\8F6F\\96C5\\9ED1", tahoma, arial, sans-serif;\r\n}\r\n.kcmain * {\r\n\tbox-sizing: border-box;\r\n}\r\n.clearfix:before,.clearfix:after { /*清楚浮动*/\r\n  content:"";\r\n  display:table;\r\n}\r\n.clearfix:after{clear:both;}\r\n.clearfix{\r\n  *zoom:1;/*IE/7/6*/\r\n}\r\n/* 去掉图片低测默认的3像素空白缝隙，或者用display：block也可以*/\r\n.kcmain img {\r\n    width:100%;\r\n    height:auto;\r\n    border:0; \r\n    vertical-align:middle;\r\n}\r\n.kcmain a {color:#666; text-decoration:none; }\r\n.kcmain a:hover{color:#C81623;}\r\n.kcmain h1,h2,h3,h4,h5,h6 {text-decoration:none;font-weight:normal;font-size:100%;} /*设置h标签的大小，设置跟父亲一样大的字体font-size:100%;*/\r\n.kcmain s,i,em{font-style:normal;text-decoration:none;}\r\n.col-red{color: #C81623!important;}\r\n\r\n/*公共类*/\r\n.w { /*版心 提取 */\r\n  width: 1210px;margin:0 auto;\r\n}\r\n.fl {\r\n  float:left\r\n}\r\n.fr {\r\n  float:right\r\n}\r\n.al {\r\n  text-align:left\r\n}\r\n.ac {\r\n  text-align:center\r\n}\r\n.ar {\r\n  text-align:right\r\n}\r\n.hide {\r\n  display:none\r\n}\r\n.font12{ font-size: 12px;}\r\n.font14{ font-size: 14px;}\r\n.font16{ font-size: 16px;}\r\n\r\n.divider {\r\n\twidth:100%;\r\n\tborder-bottom: 1px solid #DCDFE6;\r\n}\r\n\r\n/* 文件颜色 */\r\n.kcmain .doc {\r\n  color: #4999FF;\r\n}\r\n.kcmain .excel {\r\n  color: #00D1A5;\r\n}\r\n.kcmain .ppt {\r\n  color: #F26666;\t\t\r\n}\r\n.kcmain .txt {\r\n  color: #61CFEA;\r\n}\r\n.kcmain .rar {\r\n  color: #F7D167;\t\t\r\n}\r\n.kcmain .pdf {\r\n  color: #E43A35;\t\t\r\n}\r\n.kcmain .video {\r\n  color: #FAAE53;\t\t\r\n}\r\n.kcmain .music {\r\n  color: #89D043;\t\t\r\n}\r\n.kcmain .unknow {\r\n  color: #DCDCDC;\t\t\r\n}',""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(i).concat([o]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<e.length;o++){var s=e[o];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){var r,o,i={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),a=function(e,t){return t?t.querySelector(e):document.querySelector(e)},u=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=a.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),c=null,l=0,d=[],f=n(558);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(v(r.parts[s],t))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(v(r.parts[s],t));i[r.id]={id:r.id,refs:1,parts:a}}}}function A(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],s=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function g(e,t){var n=u(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=u(e.insertAt.before,n);n.insertBefore(t,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return y(t,e.attrs),g(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var s=l++;n=c||(c=m(t)),r=C.bind(null,n,s,!1),o=C.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),g(e,t),t}(t),r=S.bind(null,n,t),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=T.bind(null,n),o=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=A(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var s=n[o];(a=i[s.id]).refs--,r.push(a)}e&&p(A(e,t),t);for(o=0;o<r.length;o++){var a;if(0===(a=r[o]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete i[a.id]}}}};var b,E=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function C(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function T(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function S(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=f(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(e,t,n){(e.exports=n(141)(!1)).push([e.i,"/* 抖动 */\r\n@keyframes kc-shake {\r\n\tfrom,\r\n\tto {\r\n\t\t-webkit-transform: translate3d(0, 0, 0);\r\n\t\ttransform: translate3d(0, 0, 0);\r\n\t}\r\n\r\n\t10%,\r\n\t30%,\r\n\t50%,\r\n\t70%,\r\n\t90% {\r\n\t\t-webkit-transform: translate3d(-5px, 0, 0);\r\n\t\ttransform: translate3d(-5px, 0, 0);\r\n\t}\r\n\r\n\t20%,\r\n\t40%,\r\n\t60%,\r\n\t80% {\r\n\t\t-webkit-transform: translate3d(5px, 0, 0);\r\n\t\ttransform: translate3d(5px, 0, 0);\r\n\t}\r\n}\r\n\r\n/* 放大显示 */\r\n@keyframes kc-zoom-in {\r\n\tfrom {\r\n\t\topacity: 0;\r\n\t\t-webkit-transform: scale3d(0.3, 0.3, 0.3);\r\n\t\ttransform: scale3d(0.3, 0.3, 0.3);\r\n\t}\r\n\r\n\t50% {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n/* 缩小消失 */\r\n@keyframes kc-zoom-out {\r\n\tfrom {\r\n\t\topacity: 1;\r\n\t}\r\n\r\n\t50% {\r\n\t\topacity: 0;\r\n\t\t-webkit-transform: scale3d(0.3, 0.3, 0.3);\r\n\t\ttransform: scale3d(0.3, 0.3, 0.3);\r\n\t}\r\n\r\n\tto {\r\n\t\topacity: 0;\r\n\t}\r\n}\r\n\r\n@keyframes kc-slide-in-left {\r\n  from {\r\n    -webkit-transform: translate3d(100%, 0, 0);\r\n    transform: translate3d(100%, 0, 0);\r\n    visibility: visible;\r\n  }\r\n\r\n  to {\r\n    -webkit-transform: translate3d(0, 0, 0);\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n}\r\n\r\n@keyframes kc-slide-in-right {\r\n  from {\r\n    -webkit-transform: translate3d(-100%, 0, 0);\r\n    transform: translate3d(-100%, 0, 0);\r\n    visibility: visible;\r\n}\r\n\r\n  to {\r\n    -webkit-transform: translate3d(0, 0, 0);\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n}\r\n\r\n@keyframes kc-slide-in-up {\r\n\tfrom {\r\n\t\t-webkit-transform: translate3d(0, 100%, 0);\r\n\t\ttransform: translate3d(0, 100%, 0);\r\n\t\tvisibility: visible;\r\n\t}\r\n\r\n\tto {\r\n\t\t-webkit-transform: translate3d(0, 0, 0);\r\n\t\ttransform: translate3d(0, 0, 0);\r\n\t}\r\n}\r\n\r\n@keyframes kc-slide-in-down {\r\n  from {\r\n    -webkit-transform: translate3d(0, -100%, 0);\r\n    transform: translate3d(0, -100%, 0);\r\n    visibility: visible;\r\n  }\r\n\r\n  to {\r\n    -webkit-transform: translate3d(0, 0, 0);\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n}\r\n\r\n@keyframes kc-slide-out-up {\r\n  from {\r\n    -webkit-transform: translate3d(0, 0, 0);\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n\r\n  to {\r\n    visibility: hidden;\r\n    -webkit-transform: translate3d(0, -100%, 0);\r\n    transform: translate3d(0, -100%, 0);\r\n  }\r\n}\r\n\r\n@keyframes kc-slide-out-down {\r\n\tfrom {\r\n\t\t-webkit-transform: translate3d(0, 0, 0);\r\n\t\ttransform: translate3d(0, 0, 0);\r\n\t}\r\n\r\n\tto {\r\n\t\tvisibility: hidden;\r\n\t\t-webkit-transform: translate3d(0, 100%, 0);\r\n\t\ttransform: translate3d(0, 100%, 0);\r\n\t}\r\n}\r\n\r\n@keyframes kc-slide-out-right {\r\n  from {\r\n    -webkit-transform: translate3d(0, 0, 0);\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n\r\n  to {\r\n    visibility: hidden;\r\n    -webkit-transform: translate3d(100%, 0, 0);\r\n    transform: translate3d(100%, 0, 0);\r\n  }\r\n}\r\n\r\n@keyframes kc-slide-out-left {\r\n  from {\r\n    -webkit-transform: translate3d(0, 0, 0);\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n\r\n  to {\r\n    visibility: hidden;\r\n    -webkit-transform: translate3d(-100%, 0, 0);\r\n    transform: translate3d(-100%, 0, 0);\r\n  }\r\n}\r\n\r\n\r\n@keyframes kc-rotate {\r\n  from {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  to {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n@keyframes kc-fade-in-right {\r\n\tfrom {\r\n\t\ttransform: translateX(100%);\r\n\t}\r\n\tto {\r\n\t\ttransform: translateX(0px);\r\n\t}\r\n}\r\n\r\n@keyframes kc-fade-in-left {\r\n\tfrom {\r\n\t\ttransform: translateX(0px);\r\n\t}\r\n\tto {\r\n\t\ttransform: translateX(100%);\r\n\t}\r\n}\r\n\r\n@keyframes kc-fade-in-top {\r\n\tfrom {\r\n\t\ttransform: translateY(0px);\r\n\t}\r\n\tto {\r\n\t\ttransform: translateY(-100%);\r\n\t}\r\n}\r\n\r\n@keyframes kc-fade-in-bottom {\r\n\tfrom {\r\n\t\ttransform: translateY(-100%);\r\n\t}\r\n\tto {\r\n\t\ttransform: translateY(0px);\r\n\t}\r\n}\r\n\r\n@keyframes kc-ring {\r\n\t0% {\r\n\t\t\ttransform: scale(0.72);\r\n\t\t\topacity: 0.2;\r\n\t}\r\n\t25% {\r\n\t\t\ttransform: scale(0.79);\r\n\t\t\topacity: 0.4;\r\n\t}\r\n\t50% {\r\n\t\t\ttransform: scale(0.86);\r\n\t\t\topacity: 0.6;\r\n\t}\r\n\t75% {\r\n\t\t\ttransform: scale(0.93);\r\n\t\t\topacity: 0.8;\r\n\t}\r\n\t100% {\r\n\t\t\ttransform: scale(1);\r\n\t\t\topacity: 1.0;\r\n\t}\r\n}\r\n\r\n@keyframes kc-resize {\r\n\tfrom {\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\topacity: 1;\r\n\t}\r\n\tto {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\topacity: 0;\r\n\t}\r\n}\r\n\r\n@-webkit-keyframes kc-resize {\r\n\tfrom {\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\topacity: 1;\r\n\t}\r\n\tto {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\topacity: 0;\r\n\t}\r\n}\r\n\r\n@keyframes kc-message-in {\r\n  from {\r\n    -webkit-transform: translate3d(-50%, -200%, 0);\r\n    transform: translate3d(-50%, -200%, 0);\r\n    visibility: visible;\r\n  }\r\n\r\n  to {\r\n    -webkit-transform: translate3d(-50%, 0, 0);\r\n    transform: translate3d(-50%, 0, 0);\r\n  }\r\n}\r\n\r\n@keyframes kc-message-out {\r\n  from {\r\n    -webkit-transform: translate3d(-50%, 0, 0);\r\n    transform: translate3d(-50%, 0, 0);\r\n  }\r\n\r\n  to {\r\n    visibility: hidden;\r\n    -webkit-transform: translate3d(-50%, -200%, 0);\r\n    transform: translate3d(-50%, -200%, 0);\r\n  }\r\n}",""])},function(e,t,n){(e.exports=n(141)(!1)).push([e.i,'@font-face {font-family: "iconfont";\r\n  src: url(/iconfont.eot?t=1562920151463); /* IE9 */\r\n  src: url(/iconfont.eot?t=1562920151463#iefix) format(\'embedded-opentype\'), /* IE6-IE8 */\r\n  url(\'data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAC/UAAsAAAAAX5gAAC+EAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCUFgqBjiTuaAE2AiQDhBQLggwABCAFhG0HjXgbCE4Xxrh7sNsBQqV/3jyK0jiqUZSEUc/+//+coMYYwmMHaNlynsQVzVxuCRzl83bp0558sNUp2ap9hSEMciFBJnLbfn/W7lVtjP/iS6TrOPGfodKI7iW/vH46BDYVOoe/Iwo8BsTWSRjzt2N9u8rCLXu6WiTuwbpGLDVVhvIcdeJ1hW/7bZOLHpIUrjwPv1d3XteY6dzMUdDoKolFGJefG/IDP7fej0UxtlGxASMN2EZISQsjpEbGRknkKEExMKmwQE8R60BMQMVosO6w8gIQEE+0j92r82tGCvzVWHbys1A0e0DlAhfVvRewpE/gxIuQRAdWa7d0SJzjAf7IvU6gMMPAdp1n6FEo/W2ZaNMqPusl5+wAYWnimbehy9TBnFZSe2i3eyRbJZhA2yUAWS4spENZ4O5gPvYd219ZSpyWQ44HuM0AoOGIKWpHYg96v1FNPG+7Xe+PJxZITAFRQgWA3zv9zz3ndb+6u2nFgPg3uCyl0crH0pWttTyjjMZ+/y0Pw0EoOCgBLMP0jjsvaJBH9Ex6f4QmRgAUtUtdqEohJLKU8FWpRgvq3V7+wSMALnffXpaNifFYmpVFHD1pooktoTb/3+ssW2shB+gDqtBB6G9Sp6tS/SfJ8C1rbdkL1hLLXt9Z8u4ajuw98gYQOiRpfSAfyof2AVIVIKiozPQpL126MkWZ9F3aNnUdKvRSGQD7lzYrl1SXDRuYz90SgGrV3ebPmIvvgd6YFhWWkpEikuJc/fv7OjC4bC6egj5LasqXl18okHWwZlZQuumyRCAzLh0++qInr4sz19c4pB7qep43oZcB/KNvfvkDQTHQpvMFrCV6fvFMAZf6z8uqFclK+1pw6ng8zY121NBB+y+3pu0H+AnXKNPH+32tPW8F8IcLgoX6r/CaifbEL7XMvbGzf7+SCBcrQaptGgLjeH6hoJiaKaf3A+9vvr/7/v60/rRwunC6bHr/9OnpP2diZtJmMmcKZ4/MRc5lKxTgn5+K9Sn/pmWPEyGnRE7GTyZfdGJyZvLT5MIUQtwmNIn8+XVPn5q+NxM5I5vJmMmb3bU5Ma1HIhADcVt9Akiz04isUwqhGMouuho2QDt0winiPHGLuKP2EB4zf/3PxNRcGRT6Z6gFRK3MU525NJoAIkyokIoFXDtjfRjFSZrlRVnVTdv1wzjNy7rtx3ndz/v9IAQj8D/BQzGcICmaYTleECW0SDQWTyRT6Uw2ly8US+VKtVavNpqtdqfb6w+Go/FkOpsvlqv1ZrvbH46n8+WqAyzvgFsOQFcSDd6/XeYnKNR/oY0KRzsV6fJGnYBOKnV0UfEvsVKghyoVvVRpl3zp0E+VgQGqTAzSuIEhGuMYpvEQIzQ+zWh9hTESgnESigkiwSQJxxSJxByJwjyJxgKJwTSJxQyJxyxJwCJJxgpJwRJJxTLZhlVyFmvkT6yTh9ggE9gkk9giU9gmM9ghs9glH7BH5rBPPqJGPuGAzOOQfMYR+YJj8hUn5BtOyXeckR84Jz9xQX7hkizgiihwTRPBDU0UtzQx3NHE514E8yCieRTJPIlsXoliXotq3ohm3opu3onhe0rmvZjmg5zgI/g/MJ9003zWbfNFo+arxsw33THfddf80H34CVqaeAYtLfwCLW38BskLXYgI3YgKPYgJvYgL9yEhfIukMIWU8B3SwlZkhAVkhUXkhCXkhRIKQnmKOmBKWjZlXTcV3TBV3TQ13TJ1BVB1G5uGxk1TE6al901bWdPRx6arT01Pn5m+vjEDfWuGmnL59Z3Du884vPusw7vPmZnmzVwLZqFFs9SSWalk1iqbjSpmq6rZqWb28sxBdXOUb07aBmf/kXNZ2Ww/iSt844nqsJsETT6mPj9a1MJzTgAOIWoAh9zARi8OTyRlzI9euLC1LSsOLc0KjQ8HEtggUBb4iQVbUaMSNI/GhNijTHuoYEQvUpyN2pC8MlUxMfEz6k8feLBPRoFUy0cVYS2TaqE9EhMIVGaSC9nn0KpO5VCqYT1SppAAcgdiDPZdVAtStkjW6XyGUCSFV2Gihl8uNqFK8n3GxIfZroympdytG5kbHAk/ZetQ7i2gFFYZAYTRxsAjzJCsyJRxTqrN9jZDneZGZxGanVvNdbabXeOk+LA/giZWH+pwC8vk4+Lkn7lbLnpzUYRn4yAl++jj/ricUqONSdGTOlAmckmMnfOypVG/2YwQfyWGdDLJLa7oVJ4PJU3HbTebJfhu2+Pi9s4rrtf90sHn1jU7GMEzn8D3zk1IueB9NnE13ON/94tz9gQMHu7XlXsOV8tKxyq60dWDl5fbNWd688+gFTcTk+AxwT204+Ul5U3FtjITjZQ99s+vtcf/+82aJ/75I13Jv0xKidewfd+s162V2poIGj96WLVAhKzznhIpPWwcIc68c9FBAmlrlRqUUWc1VI4swjsmrYfR40LYPutAfdac8w/ZDW+7sW1CBgHanBNAYPQWEJIOV1GAUMYmWkmO415E4HGK7SVY357bEvWJ6uqwb/RAmZ5nvP6s0Pf+3TN4KHn36+3ZF7xuyghGm6clYnmTI5fplp/vkEqeVNpoHYYqvDAYdq+jhIVZ9AiaL3xozQY3AALtF0JAEIJAXZFFEV8uB1NG1qYNe0d1dhjpEz19rEz/hFo7itXR/ujx+An7g3Zz2pmbP0P68bXuqHRDZdsImueDhm+pIdbLljN3Q4b6XOLJMvMhd3XJ0/LdG91Nj1y/v+W9mz050+cO9QBLarMJ5fu3epsfu/lgyzvXuzZ7uLQuDr5Wg6qbHr3xAFi3KuDSmjgotCpU3fz4rYdAZcvP653xz3jL/pxLFSwv+lrcqBYdNF4VKInhTGDUv59Ned5BQF1zDjJrNSV4jfYoeyz6qjqnv/lfo/Gvh58WvFtzh8opkzheTuf5h7Y3bnZgfhsHvhgE0t+GQTj8D3qbOqpBAW3VM62M6n6I7YYHraaqBXWrq6LpqrpQKeeIVA4mqahIImWIlFZWUV5ChBUUzcjnO3XCFM1xsF5uJDTDkSmrYr16KKU59J7CVTNlpkA+G946Gotvi74ignyrHrHIsr6rtnSnjWTiuO2FD8NRpOORiVPpWHf00h3nT0xgLhOthcYy1i+denxLJj9JS7PwocXE7GLnUtSp9xfmu+z5tvx0MjiugvSCFl6vhEZf8eQ3FfGlGDYhwQhfcQqat0IZ0MbriWr1urb5bDuIofnDqTX6b6yR6n0oHuz64umcR0YSEODpEUbweLfWHEmQ1yQ/rKD3fhZB3xa2dsHa/HM5oVZGwMh9QU4DD1oYTxxMRFJlzEfRYBy/dMbaQvBw7hpu0lkaQZtn2ZKBUkhQ0mAD9y0CCDzcRIH0aluWs+lK+A9Pq45WhS+cSxMeE+WuItWccUzf9sA/f5FGFWaHGi2x2N8Pzo9JuuSuwB8xw7PxrYoElQJ3rTxqfiAKEopWQFkb0StR5NLRq/IpKH5qeExCQrHSWG2TgeFO4I7mMR+2/Gwxef7W1tRGX8TTQIs2QY4bekLpx0Lt6BVaWjVD0UiS34euFbZvqlSvzLqFEsKuEblvx8bZGzF3cXzoIrzW1vSgZ/udJDjQYrOe66ouD8i5uUQCLdErZt5CeQM+absPocDN3igVG0mT3cjOF+wbIEmjoKvWLbDIrrM4cgvvhO7Nq3Pl8ILinUuJInQHhV3ra8dEYwtkFC0ti1C38w4AMeKEpEJeF21Y8jI2H4G4mKwbNAjB3PyOU1dISZXILs7NHq2rST5c7+Ba8Toq1cA/AOWB0+evz58I40vH5iB3VcUb8s547QXn/rP7HiFlvyKEsjC4Lglv1foYLe/0YmFpK8eP3L4tnaqmlh/qcOsda51DWHSO7Hu4lleyxaUkr4En75kbqySTj3iJ8jIuXkxu/FFnx/g/1NPPBwMb6+I0zx2L5a/7vffxaGD2VGo5JLuf8IaGRKiVd+86PwV73d5RIR4N7DBSVy7bHiPzy1fsE8HDr9d2AZbsHnqjEYK1BBFmcRPrtDSFXbF4a+fl3/B2+wbuSr++EoDl8raJ+qDj10kYuvh1hcmZG/atXl3OqkOjpKJKFeQtDpwqq5QHX/vG0+SRrqZCkZ5ZMRpysPmCNbyVu0V/eb+yxTOy2apadgp5tHZdMV2z1PWV2Sm9Eo4D2IOrGFcpeOSw5KdHJ4oZHnvoJ+8e6QYbRq8HI4/NH2ckX7gpXSje7ZUjVlJppRPGuWI4yszxlwMGXBc+Fr8VP1roRxonwBNB+nz0pDvbiWGputGLgT4bycCilek6PEW8heIrgcXTSTFT26cmONKv5o7F0EVvnjNTwhAkwdv05TlzxzA3fVvxQiNIr18HD6xieaysrpaeq0N0PpaNKWhxub1pNCmM7Fm3CtrXDErtZbMOCe2YRPoGzqLZx8yjC6HHsyoqL+JrsQtGQBiN5xHcxf5OHe4N/gkkiNk2rN/TavoTP6u1mqQktDb/Pw1/knA5l8HF/lypbyFcQ1DU27XLG+EsSNwgq1DvNObXm8hsGkXcYqvWRsUvchV/mkSIYiJ9iZShBTUECkvP0cX3k90yOtxVOJJZTsFkprktI7tavXBk6vQwTLxQGqENgKGEBLTh9o4AqRILW1ABC1UImAlYbdQgOi6VHD4828FdlQMA9vJSifalGUP5NpZH4QYJMzkAiaMojiMnjpKAQhlyHAAFYshAjUgR3V/aBuDRf+ln+WzxNtcnZyYdfe6oecw+YhyeKBwpFcXcw//+kTwx+0fm8X8NWvarTDWdeR8tdKBfVGh+qC4pUynlI5dw/7rzSQpmUqY5kBPA0qAjE+PmkkvirEiGU77Y6apZD1/hPf6ZN0LfnmeoFrwaQSN649cOxYlG2JevrZJ2qluV8I4T4RT0WYCKn7lWMMbVjVwI55MVqVZFFXtYtpzS73w5hm5pEtD1r8cvfXqeIKwkPWd87r3o0YvRm8N/Rc/uiHrm4p23HrKfcLYrhe3tXgE8mM4XNYZWtTtDJ5648oanJESRy4P9hF1ONB5xGkNHwAPXV5WCcdbh7kgevN/CKQj5+7G8vd1hOufq7Mkoul83bHKgO3Jh9zsI4MjiSamD45y5FiFMlbpCFg4Rdn487QqocabBuXgkfqUzkrLBcujuX9bAYYT/6AvLxXFEedFWwpAwze34My1eCPlb9yffFzKIrUK7HKFD+61zEDJgHpKHRYK3EWrqh5w6SXxNucwWdsbf69Sj+KcZaPHD2uSCy2oXsJ63WUlKiq657Ir4PVGc65KdRfInLaxYzF/fAJ6TmccJPaDfpUTBJRMgY+64xQBLHFlmwuTSwnzhc8y2Fo7BJC/lkDthO2B11hK1tvFkaWniKWosvbI9AxFt4HyRlORW3cTZ+cvzEVpaiBnKB6uiMBmEIiaWCLu2yhk2DcCf4BbkY9tOdOWIejjUj4WZ1J2lVp9JOIWJxFk5Oxd0OmxFmVI9qAkk7k8ygb8vakU5pQ/rMFhxbOrEwlSoB0DoNwiXHxjIO7nW5Z8sUWSpLPrYZp+tbVkP1HvBwy1s+8lPe5FrrIsXkI+7huiuMrOsSEjP407hqnzFoQQSpb0gE7yTluZe+eDBhzQC9eIlAgYY5XO3tCE3JpqA9QUv0fr8qo5LtoTFk0WJ/cLlarQCYwNVaSgUGaYJQ7WgRZHmDUeRK2G6Ey3P9G2kkrJRhirzXrIsFAWuT1kgCDMrHzeXdVUDBEViI9SWvIaAocm3JGEo+aIUCUHLPSy2etqCN/icMgZ7xs8ysLQaWIj++UB3O1SuwpeiKEgjhnZKqGQkZu4AT4YvyJNaBHy9t2oSi9c03mB0RQoGGKLZm8RioMqubXJdkxYPJeSHLkrpSlrz2g1EwteYHaQwr/0YWDWNoUpdpXmQhA/kQPxoXsVGHialABKZWAHoKBI3P7ZH5RaSxixyNSkBAktVosCpY9NtQJRZRKCqCqKbCESNXDZ5qqvWGEPTnQidwHIRL2bRAANGbEl4xpsfGuaPrMWo1NY6iwte+dFU6hfHmwRfrAFkTXBOGGExT8NtUOY0QKpVF4Gg5pMTaKSEKobkcYVGqPdzqFNArIoQ3VEiIUWBP4q7iroHpeVgfhupzRNC4sg3PQBCyJAPQwlF1hC92nWk7Ewqru7dIzCWdxVKd3u9sUqNieW11z5px6Q3uj8RT5wxeCJ4vuFMaO49dklm3wcuedJ9Ab57I7ge3YxGxLIcOj8FnzncJm+WV5Ol4P4DUYsuI0AoybUrtYVAOyrthA/9sKGDFhOt4G16mbFJfe0kJ69lsOfqcYsZC2kF3sZN28iW9qHKruIH1Mo15dRDVawAARoFhkTYUyQeKAe73lVMAON47AS7rABHkffddeeChsNyXy3uFfihauKBvBKcsiIXxYbCCi3uQGYj3bOsqFLUkrXMsE2UlEot6jqIkwvO2Q+8WFn1fF9ekvbuRF3zhKEyCcem6sZvaYWTJkFg/YqbEsUr5LSd2XKrVHipitroaGfR6MgZ9u9SAik9Cl2nPgedypF0lOovnJ1T5TUXSh2J2lQHICOM15xRacH4TM8566+0Yma6tu+ASi9LGvhvaQSZkp+sB2f5icwegrAQCDC6ce/whzO3e3XOjLEtxm7cvcPqmqtc+0HXOn8mwjUCTt481XxqFwpu/dVux+GYQnsXiJdkBGUwm0F+/ht24tSJs99wUPlUbnhxlHPxtuH9p443QJi2CtWUZkoKylG3wr2eHD3U6D89vt5/Rqge1KgeMh6fQHfhw9zvT/CBzIEPf6GfJTlkXN7yk8y+p2+gf4+t62nnMQ5vWGeMsj8E4K4TsOfwUuLw5Dixv/5185imJlJDA6nT3UH8cJXY3loQYi++Vmm73YtDt84Ps9aayCArM8b8ur6/OC4Z/zb2ocqiavarxdeZXIvcFyQLEoyODnQOSEePqzA1FbpWVQEuH1WkghZY/i7Gx8fIyGeVQ8g6OzuhtfXM5r/KZ4GWliaMU8GXqmEFyHwF9+r5U+dsTp8rnRcS53kK0rSGD1V9Cvhd8RHcBBukm1vWbW6WdR29zHCSxaYQXaOsoNLzNSN8vvZTuJffdUhfiLsxkjWCG56/OkL/sF9B1wazBnFTSSsUa3OBaoA7IwV5iogXwrmDteuGtUN6hRotbdxBGGxkUahwW9u3WDzo1YmNjmKl7xgd02NjYzKdY6Mdfmfxz5/xYTlrAGbHKPeJaS1t9W1tETdDi29Lq+9gfQRi5HJKsDJICeFHyFgfVgUsOFqPH7NnExJtbJycoCKVzsqfPBG4Zrx+9fgJ69+ABBvbQwvjzKbnzgD+hyDlS4qHZUA91Bsun3q4zIC8Mis19JDW1gixR7g6B2iXfepq687ZzP8/T+W8sX1me829w0bksUhuabszNxiyNJWESjRQXOzuntfVQaVRO7po9A7i7qIbdwclWSRFlY26KTh8/Hd172qHuXrYwNtb6ngMur16M3PhRuEu/22AVBrwisuV3U18E7AEQWyYrapfDJopKJc04gIk8LxXHQuxy99173HbA9b3l7te2H3onkudmY7k6Nu3L969RU67O9q6l4Gi6n8Cl0so/WMu1/wRwmg6fwFfWMBhubABmDHdbBrBkXNxLf1g99z8fG2IhgeFyTa1BPga3OGtqucfnrC2LKQeGxnB6gPNMXLhlME8sEK0owMtCISjoxOpS65cUfz9EYWKqgLiWhfudkfuids0GasOxBEX994XImF59deSIJqtPtk+K2y2Lu2k4fy+GsGSxxkq6ywY5HuUnyTOZtmhnArBgOpG2QlhkDwriGbH0DDPCntZJzvhMT+wNqCmMs568jP6PTKNpLo+47HzWkGB6oqR1JaV8mOJHyKTIr6IWCbzO+plqYiMTOqLgFtkS8touJAS8IPTz+XyIaggQ1++DIF9txZKGNLnMnwIMMNqx5CrLMI2UTn4OdLf7+ra13/4SA86cqS3F5nj2DE8Lyh+f3cVd9/+KAAXiATVRJVDKomqYGdyItpefNlN21vfDIEkZS+KO/qOY6jPFXhDZkJcMDGOKIlzUI6wUlnKQd9hFA8vSEJMvfXdtC+Ko+1NTthB4f1TDnypQ9EBhn3+CkSavs4fFbIIRLrCPp9xoIivcsrraII8YdAUXbP9aBZqyJKga2Cl08YydVf/fgrW2gzxMHG3YpT7XqTuWua0Ed4+vuavJnZY3yoyDUIRH9+4xERxHOIjNAsyOlBkoS52uva1ZnvDdosWdbfkQDeIQPNrkVTHJbKGE/9v0MKuM93nTmVXCPOZsrvyNVzzV/PJhiVSJyQ1vzYCZQbr6C3LAU/6YmnDycetoYmzGuq+1lx1UhdbFB0wMgsSIj7iuMRqF1uw76c/LT2iIs3/4dzHS7J0Ll+J5OQ1hqFKJ78RzYEA53JLg6S13mJTdfcss1Bl8A1I7e9OLYgvmIZWABerFiPJyYg4EfGZLjHi0vnoxLNHa25uKGK296JyZ2tnNLOuPkdQo0W6LfKnNIuYG/qtD1rD7iq8zfHOzk2s368gW7wdvdGKnp5KVI6eAwXYgWx2tU3snaOOgTFJfog0FvH0DzQL/BDXjwW8pDH+8YneTkr+DG/nhIQVzgx/pRVOYNX49kKdlX8rG5sBWsDAn3C5o2MpF3/ibLCY/Y4edpQA7ZJBfR6nmXqX3kTsUhgf64L9U7UaLI3a2T1ukTCE/1CEmh/Ch5E8doE+pzVHJzzR5o7jYrQxiVZTetLP3fEb1/H6fW63wvo8rZigLKeV9IJG+7jlo0e7G6Ch1juEgiL2J5xBx28LNXcLdzgGfkR2A24ZBx79kT0uGN9NbUmeJHgexk/+L0FHh1CW8Q0gyvEzu4gjCA79RQQxg/T81oGBDwMDYDkhq+KkqAA43tk5qCvRPdxp4UO2+2znDse9QBrIAN3q0I6xXI/6FqD/Q3W1ONYz0Cw5ZGMteEnubLkBiqqrY/XPgMRAAu4HsUkCp5Zfa0wSgF1Qs6ow+K3+2428MG88ePzINPkU2du7U+7JN9vYe9xbX/Hs+Lat2/701tPXO+PtzfKm+uQdw63hRYEsAyLCbGJrEhYpW+jHfPB1+4/JYEYw9U7tL2w499BJTGXGvqq2YimUYWntOoa2jlSAZf+3Y8Y+Z01Kn2zuL3ntXnTga8/Xonfufy4pan8rY6+vYdmaPLN01lJWuhkrrS232z6kAhb7fbz0Nnu/PN+8d/wQYAxUl1bJq3Kckip//niZvAq7S8uAPqOGxqTGqHYM6V/CX4Ey1f6/p78ENrx91bfb8iM7UhUyJKP7Jrv/kiqlePIkWKfRIGs9XWNBmNj0c3KR8lapRWQ16eYnzO99U/US9gXu9HIVQMH8ip3XZY7d77gaFhsSFxK2O2RxqzIsLCZsbjeYajkjQiq+njK0cX1zz/xfHZ39rA/nv5JH/Qw2h2i9Z+tGKvcby0QPXnHzlC2Vni3VtomPPtfwoKIwtvo7or9auIwoMHWnfVcPXyevE3jenC01JTZ8OyhWsSgM1R+8XGucY3coyOyoNM11Dbho301blQn/DsKtW3D3yq0IvXNlEOgD3AN7NCgxnqS4FQhDmLRdBqoRi8hOdvdj7i7e40uszYtWWhkjBCOxWECVUg3dOAd3Q6qMKhSLbQAuVwvEzv2Nt8vg8UVWh0Uvi3nsYfICWjF09lHpHVJupbSF1z3B28l73M8rU0mYET5w29/VzdVVSC3BXusj5sFvxtZrQtdYP3dSUT46oTtxdE6LrkRE5DuOlWsYK00c0z/2TcnAiyx3PbEs5yyVyKCjuYwlShqclU5cIdcOc729bXsRiTRoh7nxloLSwL59JRKJItwlGzZyGw4jtQa3d+/WNoPvbzZIJXNXd1ICEULSnGRDagny0hA3fInsRV9wgfsCrdr1/N7me1vAZ70KR8K5RGgavn7vYUzn8OaUEWZr3aVl7vn0/kgZHR2D+AKCF4HDTr76LYZbrjK30Zq+1TLkUKU3ZclG1QTlPU57xFv1jLW8+gmXTSvlhERbAjH3c7Rmlzt46YNzjTLbg33x6iLTApkpcpw+cNy2+8mnM1UI/bf1p/rYnmyR5QZrweozlhrYaXpcT/vLT4HV3AVvw2Q7D4fSHTfEpn/d8BKtaA33sKxCduxhT1k5u27SNeR1vNcSB2p6Df3jHBJyAnXid9Org81fZ3PDlaeUN85lF8cOrG1RW++IBV7aZjWgvUnTQLPdqkC7VstADZ6GVNIOHsEqeVY8NLezsRBRKUQ7m9BsVmPlgSPVtPKDVo1WB8tRDhqNlhUh4bOBZlM0GoWWuzKQFw0s6HjYudi5Cz3Bci6QpCHYKr6R6Vy2Irk9O2+6j/m2WirF/q2kd4YdOmcNYgVObpt0DXjtWrc2hcBtQzNElDWLTuoDUpKW6UOI+d+L5+X1uiJg8ogXKAy8YqAHW3NqcDMm1GiFQo+v54i/P52WnUf6OtPo2uBp78/RsbWlXqW7pvkUPrmZf4R/uLbGSj7Mgzosmf7CnZnWmq6suF9h9gUEe01HzQfN/xuv+3n9wMovPXCWtscTCchOC0KCEVdDAhBxslRMaj5y1iin57wsOTu6JGJSshQRC/QNRoJSUbJ0yXhpZjnjOu0FUxhzphO4oHXFtOsMTEfJKXt+Q4t4S3loRuO2bEQp0HQiGayl6K8GOaVo95LSJbtRjq8EKchBJa8duUOCaOELcxDJX0hwYXbvh+pEodUyKzQI6ro+hsf8/Xat4dEfXZCwaMQD3ENjNAbEofyVvua+KztErKbNtcaJYbYvGrBI/DBjgRcRs8dxT8zQWEojcXAcw6xwo4C0ZTfTw07ZnBn/rzH5Ne3eONez9WjYldDFfDOqHQ23JtrgHKK3oJZriOP2JC+cWMwzjCazo0yjmOS+sZHYtGvoNDnp7SJGjsrtwBhoTsvM48UgiEv6f2O1q1XzhMYCA4Ex7MqjsIQ8EU/IAtPLQcyjp7GXx07D8DUMPc4LiCFUEf9qYJktrWq1qg9Ua9Xupxt/gF+rEiM/GTF+v2+jThF1pfWE5a6+1FCiKPd+roj4gB5NNTeuFxSw03G2QSFlmEZpFjiyfvRx+34AhSVigeOnTbXy79bedosz3o28ap+IwR6VOhwaFBYYBHN3LSVG09u9mNMdbr93Jwej1BoMFfbQPI+s87OFdyMHzR+Y76tLFIHenOkVyfLRT5LX/sFnDn8qS+uxzalfHLm4PmcVuWEnUqBrpotI129MQViaT03LjK7EaXlb6C7WFfHiEiydO7ZJbCwDkMwsJPApobL07zfK/q7/VEE1cNeiL8lsk3NmsL9IOSRdudU8nqyzKPjkcwNNkeLz429q12gfJlIetEStbW0m76/SCh6iYP1fIw2agven6b4mPHkZdP5bloGHxvLpxbRg85gLI4m8XM3w01iDIJVWSbnNrJuOsNiZtijwoHHKXQ/zQKY86SaFWEkhx7HK5SLfbYQtdQxSL5/m4p1RJK7V8qBxg4irKIHkZl0XExeLkGIlL8JO+Jq3itqwO3MokDsRKdtU0NC5iloEZchlk8yhcKdlBZUTSXMR+N8ZuP4rLznoSY3yt7cqJEeV7HezWW9T7T5wy7bSKJrXE2Ku57I31vrJC/ehT+ua2QU4Zo3tIPuMlQU6Ai3wUqAAsx8RUPRUb+RjZ8q79BjXo4VRcNMmPOuRVvnyZOSfZdJrbQWMx5kRdbhHzNbuDH4viT6U2oEnJ+4qh0HTnSY7ayrCjppUmBwMI6xCGpqQ3DKTMiS2rCIWXWRowhnYxcqtbyIb2vkh0lQkIBH8pDJ/xP8FAU1axb8w+XmT8yV/m/xdRDeh1+Sp+wuR25vY11xSefPWWKhpdEGPKt5I8wUXWAiCIAUJjrTRl+WCJ5KcsT4IHaj3NiQZVthn/9KLsOh65/jOYjc4c8MfVdW4Fc/KVtAIRUvyMrNyFpcQKK1hMqmRXckLuwclTY2y36gDHlqP/vl3XNPTvj6quLGpZAnYdfUkcSgk7VbZnTwF42RKsYs2k7xrt8Nmh927kmEiDaijqqNUDSqBU8jE2Ss4kYhfEWrYmx0y2Hm6hlSHaeq0YcewmrvVB68ihzTK1VDSFbN+7P177Lj83k/148dxoxz59/Cgaut6ez37fXr71h+Xcn2HplCzY/16EJg8PiC8VRLkA856XsB//HhMwj/2ZicENPf5jwpH29M1JkTujlTgYguEUpkUE8pGRaPgEKhdL7w8ellYD1Jbjja8ffjj6rcl768QY+9Ysp3+gK6289WtnajhxNMTeba+avn7pPpb0Ut9qptM3sOo2znRnPOo8z+igUdSjlBGH6NlijJpjLPnzs0OnythF9qwX1z5rJNito2cXTB8DjqqOqXVwoExOCHUUHSezlRBJ3R2CKRCqZQQsrRB1PDf/xdzzHbMtf9/C7n6DI69jlQruVxmBr/s+XSpvZTCHKSZZ9HCzh1F6EIC79ijK7vzLde5+b+2Ni8vtlx+6+ZqZW2cFAtcLS8MRLgVJZF+UV9QSfzLXaouAmJ/ioaCWJAUGnUa2blF/asv5aKX4Ugvjdo70tdLpfVa/A4dyztce5f3RpvqVAy6yfIqt5cTz+nlXuV0YK/H2XKjku1TJvcfESWJQq3zlc+SlCOSi6MK2NmFxezk8CRmsVdhdgGnMniB3Me8kLuQe4HZF3vklnIb25Ldzr6F0S7XpupLqT9CkBBUcNyxI/VkxfK394+wlGwZrJHYEYRuv+2QEbMsK/U8JZGSPlPEPKYsfK1/T8ikr9CfpQOjnnqsppEB9FnchaY4srtEdiJra1uRxyGup4EnV2JwB/+nhxv8xOoa3rm+vjOZtFZKTsVOZnh6wu/e3JXgpbdDFuYVkekXsFzPUGnPuyh8hWeCXmAlUknoLlvCv+pIe6G6TUZZNzetxJieez3NUJpempAxN0WF0pP3kRnbSmIamPAjgKvzL75eDygqx5aGslzcUPWCNnO00L8e+HIj+TK/vFzlSzlLQ6b0l9i69Hx2KsJrJhbk+OTddR0ViOkYqo9idC7dhTWv7EKXUfTehzJDl2qR2sl8cjtRSyWR0rUNT9SUsKRn3ztqiRJ66/CIliaBoIa7aLrgagRd81hyB2kXuT03NqGdvIvUsfgOZaavoW+G+oI2TT9q01SfCCLZkEziknINc4maaFti1Ui37jikdI159XBvrFIjs1fYybyl1ynsXVQT8StibZqSQFeoI9QViHYQPHAv3IMiwfqKeaqaQfkZLVKvci9Ji0drTDwZjqdfY44MXyTiuPp6Nv3JerJ62jHdIr1jaSTy+slf7PX6j7H9c8lzClXUAywxnoprtIXm7S6lFceK8XBLQgmRTpAR2WtVCf4kPI42Ws+vH6Xq2elRkTwtDicR/FXXosQSAj3T2M74AQS27JuMTfgZzsi9N3UvV5d1Yk6kL5SPKyTCazR5sWu4Fi3BsoshHA0vKJCABM0txDrGIgsLw+OP+wc76Qau7OsPCKLrSmo9dGlsVw8Rx91NmeXmjnE8PLjP8mwhSNKMf71B4OiYE0cYr9LJ07gv19Nmzpr6Bbv58i/tDeEHJ9E19MIJTIKERiUlQbbl6mrlEmQSKWGvZicxGc6qmKzoCf2DMvxQXDBMoW8994w04hbOFmIaqZxTHpH4UTOpg9HBxFxZ/agm5i9GDLsNaZD5R/db9JuuHFYjT5XBvIqAEVxDmAw12MviuN6k33L/6G+li3QTPkVPADJwT59KIKgaSay4A0iXTE3bo/l23+uN++jmxeZd8/n5813mG7Tofcb13+34vj0IAMAD6g9TwClU/RE06gMJMbR6Qn/qzgukM+jpliQy6VwkHv9XakJeH51u3vjZyupzozmdXm+XXT+PxycRSF3ELhJuoMZtGFTbovGMGkh9psmq3aFfRxDg/DDCDTH1Nue2CnkAwMWqC+AnVro2KWIrhSgnkksCZ795VwVz3bXZZW7/1rPoGw7eYyft07JM8ahvd+hw2OQA5ZJ+xEdc3Ue4UJ/5KqWFUt9Sf034y9VuhuvtdcMUPngtwNTzQ78PrWnYqE4e6j2KFfCdDuDPXmO92MFnbw5g+7Hnb5a8G78wQbIKaWpD89G8Fq1Cs9HG1k/Z/MY2UIR9j1Mo+HVHBvsofAUWp3C2xB85o53gXznz98JRZahSWEP+wRICFNWOYWuo/hRW7dlgI1bOugK8vmsoENg5fPlX4da1vsGwHe2EpQ5rNIeVltQo55VU1QD6bPUpAEAzFeWpYONU6W0xufdSN2EiXLIYWyUDfpxigdoQlBB9jsYAAOABaBgwt1SY4hbX+4gVKH7h9nicZVXcmrKpcdG8ko2+61hajQ9GERPtXRNGZ8WnLnXa8gNVdR6r0IWUJdYmvrwWMBkAANaHnsDM4//w7wXsG5oJSk/RLwCKe/qwRZthPfywsGHf+RmMNOKFfZhh7gojO04A/QwAAGbe8NO8MKtQzBy9DgCAcs7pAACIBvI7gOIibyzYL9ED9BqA4rUQzJS1FomcRvFUALbU+4cbmCVkiwL3SsdCFQs64xfg7ROOpdHc67lfskuH3Qlget4hu7HIotfPYtklTWaqrPiYBzoAtv2hy2D0HLrcMULYBQ0bIMP8S46bFDGxyLI7fdujg8VXEVHhG3YYC/ulh46B/+zSmfh3Oo5/Ixys+scO/2CopuLTLKrFIyMGlwb8igPXCz66r/nThPPDxDtN4kdOm0A84680ml+Q3OPLOct06b0Qx/iZaO6bneBy0QLvOtNb+aLol3NFQ91OHOCiTyTvh05/AJjW8fwJ+qgjAULvOUuIIbe9Br+GUVHzXzNim8LkAWcY+skQk9Y2xGV0iETuxJCUNzWkZMwNOWM/zDuvTi0ECQow8ufGEKj4yxBTcsFxXu7fOAG5/xqSWv63pNCjLAw5h4CzGnm9Eit3BRl83d7q6ISDsFV265/RTYkUTMbMfoeWKFw/LrH8Hv0DGKoiSZm7J7NQB5Wx/n6jgpSkzipv4eyuhy+/uV8qfcngzsn4orKmgBjwaq3b4YKRI1i4bVN53vifQWeSEPVp8+OCvwNVxCdee3TnQYD4gWGhNnUJL2adJ4b4oCbjKzGqfY94SFuvqGV+orfAMXd6CSF74x5dVhBl7uJnx36MUfsmac05VA4gQSBRVCox8X86nyolS5GGNAFEmFA2Uhx3XEiljXU+jOIkzfKirOqm7fphnOZl3fbjvO7n/X4QghEUwwmSohmW44Ufr49RWVE13TAt23E9PwijOEmzvCirumm7fhineVm3/TidL9fb/fGUl7zlI1/5yf/Gzgc+2hrPBvbLslfcerlyEvK7Vs3d6qjYZkQp1GGbqZSrqD87sEGbLCVaFF6+ExkP42RoyqSBHA450c3F7LjeFBm7F/IkrZykBCeZte3cCLOxFSKvPYxiWop8BsMmR2eTYsliOFJKMrW7EFOU6+mg8JODCZWR1kyqct2M1HEMt60pcRmjHTIZqTKxb+V54wIq3XkYdEyWyPWk5Bi5tWKWAadiNChJMoWzWBTYciQdzsFxE9OqprSzfhpbppheuiQFjSN2SI2TfKs8cI7fXxvnOBUo0/ga/klQ/DGB7dnLRs6yQ709xrlTmTKb8763TeQGk46qYZbo8t1WMaS4Z6tilE/M2h6NC3kfhJYiL8yKm+09EsxhL0k137B/qu+joSoaxVgHJ6pwBviYDWu5I8WMXYt2xPEdebigoe9xFR2wtJp4YLlW4/Ku5ughKzw7pIU920JJV+NUolvkbMtG511kHy5V26zR2PV272YmjfXwsHtXREKwM55z2RUI889Qeo08sAdnYXqZoQcvLOZjsUnb5XfVbo5NuKordHuiEkVenr0n7qZ88DQSwtHlkTSNMCnBMRIddteYQxM1FlXNNokrBvbUoqoahXvyrHIvFn0yDzHKqIpTgAuHWamyVuUUnCE54dgp79nYVZh7CuPMb+oVOOk4XmSDOhlrRpPrySqugqOU9iUm8JMgIZzbI8P51yL3wtjw7afcoIKTaeuoXKO5fmdU7D0f1ak+yKRmWZzh9wbbVVYYKab36npxmTTtt8t4r6ZMfFE4sKVb/pkuJMsgOhz2puu1u0JNDcb7k6nTk5+mAQ1vgOpEgdEJN8JNEHThYx5fcQXrr5dOKffLkMjWLkWwbbOoUZvwcYmGBhxEHQIbKy4D6Nr1KiNe/cQ+ztFPlJoiyUcula4Ej8ed0hDR2FFuM6OPLuHgBB6V1LTFOYeW3FCMOix++/2rrXa1FnOVTK/10P05sIDU9SfTXNbOFw==\') format(\'woff2\'),\r\n  url(/iconfont.woff?t=1562920151463) format(\'woff\'),\r\n  url(/iconfont.ttf?t=1562920151463) format(\'truetype\'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */\r\n  url(/iconfont.svg?t=1562920151463#iconfont) format(\'svg\'); /* iOS 4.1- */\r\n}\r\n\r\n\r\n@font-face {font-family: "iconfont";\r\n  src: url(/iconfont.eot?t=1564642592599); /* IE9 */\r\n  src: url(/iconfont.eot?t=1564642592599#iefix) format(\'embedded-opentype\'), /* IE6-IE8 */\r\n  url(\'data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAADD4AAsAAAAAYOQAADCoAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCULAqBkETwRgE2AiQDhBgLgg4ABCAFhG0HjgcbD08l45gj4DyAIhnxh0VRmkc1irItSmb//z1ByRj7PXobAYSWyOrh0zVGn0vT7EBfqEJmTGXyzUN4zMbt0uDyD/bFQvPQsXVCGfQ6fF4+Gn5AzJm2AG3hEeCrbedxKcq8Sge3mQ1rd8y//bnDeuLS4qaHJKEJ//+/X9tvFHEZTEpQswihJP4c1kUIiJvfHEAZJRyFkQSyzaLOEwsEmNsgtIs7YrniCMCYG3iNV4OLG2KhJX7g59b7sShio2IDRirCNkKiBgNGSI2MjVKiJiEoopiECRboKWKCmICK0cO6s/rupMUD7WMBAN7wC+VG3kYcaCJlWeOI1qaJdhmk//+821pmTms03iiSs/aV2tFX3Bl4gh42xtabEWhkoiqW4irX5FvTsMhpW7Yvba07DB4lxhTAByGXDL5Teyk5lJLRMxQ2Lq7bAaMkFw7Sa9ccUpsf+z22f2U5cYoL0MYlGIPhEf9RB2S5CSOk3a5fnFggMQVECXX/c9lMUvyz2bQsbE+oAgl17y1k/l/Cpsg5ik0s7AGAAlREqhABV6ppS3ywQqRCqsSR6Rh6jWt3latbgOkA4h8gPxDkJ74iyKdEgP9vgkrkK/EdYuhiAp4KpCKoSCrEVDmkUKXS07uUO3eli9LuO7et69oQ6MLpiQmDUYgzeFtq/nsNueTNxILSOLAaAzx8q+k+fk3YGrUIMWIVP3Xu0WXDJsznbgSgWnW3OYzNOoyrwg1zjklOVLDq7j4XDQdxBrXdKAqOgmexPCMHbsmRpcHzgFs8xejkJWlljvGEfAJBHq6oAvgob777eTfFJ4nkxRqY+GVC4P/X/1hSpsS7V6hfnQAczAl+iIAA/rc6xPdgDzhSmLL2e4uHGwBzAh4M/7S/P+IfSR+pH7U/cj9mfcwbuTnyeGRm5NuoZDRmNGk0dTRrdMPoudG/Rh+Pjo1+Hv09qhxbY+7jfeO3xu+NZ9gPJox5h1PJfmbwJhPNNs/SHbnvK5Vfv1ZtDMkufEREnhzXlGZceGR0cnRGc98IcYfQJey9dDLNlck4ZeZatF3d8Zof6Ux6vXFgVrggNidfvPm68F9j+86zxBChIO7P6ik8h/cwAmMwAf9R76j0zxCKxBKpTK5QqtQarU5PIJLIFCqTxabRGRw+lycQisQSqUyuUKrUGq1ObzCazBarzcHRydnF1c3dQ1BIWMT/Bi8qJi4hKSUtIysnr+DFq6KSsoqqmrqGppa2jq6evoGhkbGJkamZuYWllbWNrZ29g6OTs4urN+8+fPry7cevv+Ur6lc2gEtF0wQgNKfZ3v868xo4vn4DHx4O/Hikk1GpQBBPG4TwuCfzmQnE4GWBWLzsk3ZzgHi8XJCAlwcSid4ESUQfgWSij0EKojORGn4D0qBIkA5FgQxIAjKhGJAFxYE8KB7kQwmgAEoE2VASyIFSQC6UCgqhDFACZYIiKAsUQxtAKXQOlEF/gXLoMaiARkAlNAqqoDFQDU2CGmgK1EKfQB00DeqhzyACzYAGaBY0Ql9AE/QVNEPfQAv0HbRCP0Ab9BO0Q79AB/QbdEJzoAtSgm7wjSGAhQBjKMAFYAwDuAKM4YEbCQJ3EgUeJAk8SRZ4kSLwJlXgQ5pASLrAlwzvT6oI/KgqENEdwB9gvC8I4C1BIO8IxFQIgjiskNLDu6KX90QfHwD9mC4YwPTAIKYPhjADMIwZghHMCIxixmAM44NxrBhMYCVgEisFU1glmMY6wQy2F8xi+8Ac9geYx/aDBew0WMTOgCXsPljGHoAV7CFYxf6MNf4FrPATF+uMFxtMEJtMFFuUiW1mix3mil3miT0WiX0WiwOWOJlmqQPX7y4Hrt/dDly/e8QpO8QZO8U594oL7hOX/ENccb+45gFxwy5xy4Pijt3inofEAw+LRx4BnuDfeC4mXrh/eAXgDcDV3S83QGZcYS9fvi+9ISAQCNfofHvXzuihgxGr0+b/mD395mk2b8p33Q5bczyV/7A9+DnZhlmbceMjLT+9isXLGvPvvJhRe25u4Mvm106ftw+n52uN1T6S+xK4W8m/lUIEgdJMUqa/7BrlK4dSzd2xHilXjAD5CXQMvA6q5TG9k0mX8w6YSAQP4kgNv1hsVHXk+8RT7yabPBjnfF3WEm9wAYUxG4cab8DKYpEQQBhtCDxgBrViY8IxqtabH3nqONVas1BvXTRVbNbbxlH2fncAjSyf08MtzKMPs5N/5m658PVZFh6NvRjto6t1h/kQa02McjGpA+UikxVF6zhvFKjXZELIvw59ujMxLi3pVB4Pvrrjsof1HEK76XnxW8d5q8pPOT63od7GAJ74BL63LkLJRe+yjrNKL/6DwRfn5BYSuO/R4fJazEx0MeI8S5sbewmZfjZTT+3hH9eCNetR0gyIRYQeQ2c/n+N0NtdxTTXm2Jn2fk4fCX7R96j3W7SCf+hFlypzVq1mVKvmbLkvEAub5lfqgZAy7ilB5qK+RKK5p4KLeKD9zOkoaCz58pGV7O3TpvnWwkL4pDldHTXGagvWXGWvvqcHAwJMWxGAgcZqgCFJq4gCEFWO0lrGvp1sEMSiZPuLUa531UT7ASeklVIyzSqZGid1WtjbxzlhDyRvfTmfesHph4TQqLrIkYibFL58B9fdGmdjnqWS0rLYWks3E7toQGdoLRDTi+CT+hAHgGDJiiLAgAAEdUWyNKFUCoYicE2mrOQUSzYbcvZNbZ9Vapb2z9k89VbnTPLR1E29pKH+W9blkZS9k5grQ1Pb6TA7V82OuEMdoly3vDoL8pQrlyo47tdg1K2imDReX90QGb5yT2z62saUUcMOrICIXp6FZby9vik6eu2+2OSV9T+meK9KD5m0suojI1fvBfSQBN4r04NEmq366Nj1+0GawXU3/kS+Nrqmal00zuYKwlVS7DWLAUZuCzTIlZrARuqidqjrDggNN88Gaz2kOMRu6pUmp/u/aM5pV08GC3/N/6jXh7RDacpGjxPKed6mk9zv7Id1y9jMxIDIuApNJTwRW8VTDBhoi34S16g9bmEvMQZrwrTNbHdkK2u4iuYoTAiJFOdbmFNEyOMSyc82MZGXCM/IVE+nO3vCZWrbqlaYa6a6jbFfUrXSQiu10T0dV0nUmQb5pDky0GWf6f8CingkuiNlOQbaP5g47FAT231P2bTmGtKeU3YpuV1Tl2FGmB2EWibWLDCMQu38rYUv0oJjLD8K3d3No7sbc6Kz35IZX2+N16WHW7wjCjDPUv950af0hVC/IaueD2EXEnX/RTtT8GZSAqx13yvV7BVafVAPcmh8rbVP+68+ru4L4baOz50oevBEAlbDxUG698gG2lhCgJfRKlZR27QcwMwmFj1LOn5Xg6GURsDYSS9FIQbWuHySoBIZWakPwbYwfP4k6YT3QOocjhRZHohFTz1YgSpIUNPgA/YtAjCIwSoKpAdnD59TkyK8dwJt1O8/e9pdeHSQuiTUcsYyalYFeJ10KoXlUxapztQ4OC+OWCRcR32f6xVLvd6QIFMUrpmWuh/QAoem6TFeR7SWkxXoGFTEN1D8BPGYGBKKQmd19hLDlSAej2Pe6/mFaNKy6Xhp40+SGdHC9ZAZjc1SbZrQqW9YZJZ1mRKV34dGQ6tmKExrGVVTUoTto7lv21KTFxKuwr3nQlmui2QqVq2RkAPyGtXUUHXHAJ4zaiABi2PMq8Uy9Q32CfUehAJ3jkbZVAWg2O3Y/6x1Fehtkre+vIFiod3GbMd1dT80XrsUi4sTcuV0q5OFxjy1e6DtmKorQ4oplxeW7OdtABwhnZDYwnWQiqU04+gRoDtitA0LEM2uPspHZ0jONJlWdmx0uaq0iO3VBqHlr0r5MvACENMnzlwZP+qH51fGYNQtyZX2yslKfca+/qxuICT/Z4SQ73tXEEr7U7oo/2kUmdwWtq/v2NPWWmqdub/BrTb02wuq09gx+UA5LSezuRZRBhN3jnUVW1oerDQXZtTsuZbvb+mn/Hgi5cQz3sLH2jihp1dCfHw+fLcIto4eb53xycFHK+3tjk8LBw+c+QYmE6Ojhj2XdpoN3tp0Roz8N7ec294Dr5QPgIh+sP3VOR+8p0uEm8JQNRYZjtWweGjwCq9WDmZGHmh7ZdYDPfXtdNqDQVwn4dZFv6/RO3LVur5Jw35papQVFeTAaI+DyG/m0+B173iCXF8fsWWUn9Xn8OrqY3P7kHCztZkpebCiJ5OtUsHOpKX+XeFw2VQGiqPfaC3HtkEk08SFwsDwIlrlLS8U0125f/XU0gaQ0GTZnHmcq+YZ2Wduq+bI6W3FJZ5XWLERJgNZt+WRIy942uq6cDR8PWzU54NzR8G413YmeMwdbVShUNzgOQ+fzGTwbpFmaAhk1UGGD4QqHRoMR8qTisKxtVJqJYRG8FqYn+z7QPfeYM/GjH3bhVGz5Iqve20DuyDdxHWsrXyAHlYhdGsq1pShpYX6yMBBqFePHqIs7ZuUWmN3GCR05iQyM/LU1FoxljdCj2cWFZFVL+cu6h7hLJ9HCFet7S/CvYG3EYvpc+gbCjXtnrU3rCFhNmDN4r/36U/mH6e9bfd4rrV5wu8jKNp78a9vxGWIwwpcifZ+4rqUCKmqYtId7MHXIlRf19n+rCKImEDLESvK8BQo5p5m2bdqNw0W12eWEjMlmMQyt+QUluonlr45MQ0Tz1YFohNgNCEBTriHO4BUpzqW4xqqozgOtBzo3KSD0BVICJgdbRCuIgAAPHUkpMk2zqV0HU9L4QE6pxoAui3Lto11WxmALbfbNgC2xCVd6kSa0j35PQCM/E07pU82b3N8LDRY58NlY8Va0hd7Mku1opl6wP8teTT8S+IRX0fVP0uUylny/kYHxkWNqFtFVLXkwtIpXH/YmRYGVlK2NZALgK1BW4aqRoVAaFlcmk6FbKMrZx18oaq1k6/63JHmUtl7KRALtCl8eSFsnvM3p8tNSJK3Mv7Oo/43MK6ZyPrSTsi5UL4XjmN/NItaVZzZFf5Mq3ZbLYRxue6xgVfh8y+BccLz6C7vlTfBQ+eC17ZfC57aF2wcC/dfv9961N4rZ/bWVzIg06aXdFxqqrfbjz568dWK3OxkfVnUWrNVaJ570J5rXwLpK015r5s3uPta5u8x7SwcfHot7K23uSaEMnosCO4pGjYwMBx5f8MTUODgXSD5BowrZCtCmCJthTQO4bd/pM3tMecM28bCjvDF9hIqBMuguX/og80GHuEz01XDgImsJfs+4TTO/Z6V4Dj4zfC70GcY0AdGuxxRhNZDaxCSsATCh8WAWIJpyjNOGRVfUypRw375Df2Efvv3CtT7AO3dcNHOBjbwBs8j3XSNsZFV33aya11ysMh+R/2qOuvXN0CksBbTCWOAvksDhW5oAuJJ3RUmBxHdxnHfMQTqXC98jsl4aOscxTwBo65j2eDdVUvc3iaQZJGhLlFjaC2rokuETpwvkpHArBpqcv3yfIRFpsR1+d1dkQIDoqSJHGRLuxzToQmrBnEPKMNeX9yapA+QFZIv4bmr1PqTzXZmIXEVT60FXTbfUWZ1o9kmkPT4ge+oN6K2sNCqbS9Cf9m2mEt1XI12EzCMdxDmvzCQV3KXjV84UXCJUhjHXnS5P1Y2+Y33QCxSv/PxKHKNXeEG8nH7iEywWmXFQnqkNjquInYcWkCX6zMYw2QbWnuVgcyXNAIa0VMCDjg1Y9fplJsgJmIgU2mOl3Z1fEuMFfeaEteMy5dZAyYS+SkKhiZJaPH8ssJL67aMHcdwe2L3xzZSSnUnlxrzXjgeyhLcH3MiYJlZTY2KqkIBBrayMUqMlyWg4cXXp3NJfYknOQ4rjLDYHGnLXxVrygQ70H1KW3O7gQXYMu5pboMiFFgNAq9N4tKnlpTXm0d2ggn/WbyoxcD9m0oGMUVLE3TOdqTggCMZvUZMDprs2oYoasbsQjN2zyFzto1W6nWJsA8xGkhmXfsxMMuUS8WqwtJA9+/VQHKnrhKFK5AHgI6xZgADjlWjo4cUYUpoziJ3kzKAYKQgBJhhfLgO0DJZC2T5IXR7iKiZy4mXunrKubTcSaDrqNjOF3MxkAAnsSYC3dGr28VXVq+Ur+ud3kyl8NVUXst2R4SebQFkS3D16KxYlOE2sG93QKpXVwKE7IEL4JkSmhjU4zNzTO9nodGBsJWF0F0mCEkEfj9vP3Pn0XawrI605vGBbuPm7YCACoVUGAe7asiD0m1otSqp+cEm1VFVLG+RN9S3Gxp1Jla03tJeP6G88eOJtOckwbj3TMcZ3zi8ch5HfhhueXJ9Fr6+6l0JrgUdzgwmbq0V5hfrcG90qSXv3TMdtOSCBDA04LVbSg+BflTVCN0fNgygSU8cYr2xyjjjxS0lmryWzu/qu02ub6Q1RJ0wLD2Zn5Qa2y+mleI57db7S6oMEGBQoAXF4S3N9xbIrreJU2A4H7uA/B5hy/je+bdtaHgVj9XSTY56f6n5Xl2JdkHGttlQ0PCdH13nI91TFBUkWtbPdcuQVKmjwdTguGXDOeutzxWbntnM86hJQ1o/TrhUJ0rVUNzwdRraZRIdVbvIrkThKgTrZ87ULhXu/cHo7BwsOm1sqbXbZQ+Zy9Bo1MagoQgJHVXa41NrqpKoUYaRYHwzAEiByTQanJV3j4ycM/+ChiPD5clphV0AmvhvqXuJmp+kL86hnoTueGu68u5i5/F3Fub2Cmt7fh/MrnRPXwrC66H/tYFPmFH34+HZfPU95VmiHzlzann34ct46iotzB0cXzxxbh8cu457fdaCRVVj5W3wWtOZK7X/zZ7vVZm9uK7j4pnLl9aO/78m/2/DvV//Jz6Zgamz03z6Mxo8dVDvh5PPCTim1J4FYtvc8FzVzSC/8B07efrkue84aMxUmV5SsC7dMX3w3O0m8LMXo7rSPElJFepTutePZYSa/WfENfrPDDWCes1D5o9G0F34IPvHM3wgcvjgF/pZnEPmVVt+kZn3jU2M7zMN/Zx9H8EjNlj+Sh8DwK4VcGFxMpPxjGRxiPEN68RNm0gtLaR2oav48WKxiwMv0kV8vcb3CMujtvaP89eYwCQ/L9H6hnGIODkD/z78qdamduqbzbfJQpvCVyQbEigUfe19UsUJVWRlgY61tWDXKJRZQA94fkgMDDQzC1zsGrnS2Znv4DC5hS8OnKNlZ/PjFPC1dlAJKt9AWDd7+rzjmfNlECHxfqdBjg7wqbZHCceVn8GHt0q6dsvKtZtlHUevMNxlSZlE0ykrqfF7y4iZbZyJEQXfgJy55JtD+UO44cXLBIZH/w6/3p/fj5tKWi1ZnxfUAdwdKilSxpZj2P2NKwf1I7uFGi197H7ob1WnUOGOflC5uF/UjikUWBnbFMNGbHhYpX1Y0RZ8Dv/yBR+OcwRgj6x8n5gO0q1BW7eIN8OWoC1bg/qbBUiRK5kRaiCFRDAhYwOTacCGpff0KXMqNc3R0d0daaTSKfmzZzzv3Ldvnj5T/9cn1dHp4MJYUzmFk4D/ycv8mulrF9oMzaaeY48XmpAX5WdFHdJbHyv2jdFmAe1KYFNj03nH2f9nqax3Ti+crgvbHAW+8+R2TjsLIyBfV4WvQgOa84XCoo42Ko3a1kFDdxAXCi7cHZQMARdVN+ktwfXzx2Xdy1ynm2EVZ+9St6PfnWVrVRdMAfe470Ol0tA3bLbsXtq7UFsEcUxsUeNy0M1E2aQhLyCB3/26JEjy/NC5x2cPODzw9L64+9B9ryYrA8nR9+9ffXiPnBG6OQkrQVn7WwKbTSjjUzbb/hzF2HThIj43h8NxcQNgty3dZiS4sS6t8DDYPT072xiSwX5+hmMjBLwOIbzX9PvTD1ZURjZjQ0NYcxi5oYunCuaLlaJtbWhJGLi2dmQvuXpV+c9HlBqaSkjeOnevM25P8prRJG2AXHLye2+IA8+6bxXhNCdjskt+9FRT9inT2X31PNunuRorbRjk+5RfJNZa2aGCal6f5mrZSX64PD+c5szQsc6Pft0kO+k727eCUFclq4H8gn6fTCNpNuQ+9VjBK9H0Hxmd1DN/2gYjMikShIhlsuCjUZaFqMikQQj4xG3Zogg3UgHC4MxLuXwAaZCBr18HwKVTDyUMGLNdOQCYaZ1b5DV1yG5CavBrqLfX27un9/CR7nfkSHc3InfsGJ4XlMffPeW95x0B4AVxoJmmcUgjTROcLU4muIiv+OgHGFshkK4mogjRDyxTYzYvAPJSkyOIyURJsqtarL3GAhb6AaP4iiAdsQww9tG/JE5wsTjpDKUPTrtypa5lBxguxf6INGdlCCrEGETq71LMOFCGT3NadDRVntpviS7feDQfJWIGdDkscl9dqe0d0kvBtnZDPAg9WzHKfQ/S9q50Xw3vn14P0RK7NmwVWIajSGBQclqaOBkJ5FuFmx0os9EWu1//Vr+xZaPNFm2fjDAfiEWLG5EsN1tZy8n/V+lhN1SF06eXVJTqCzWh2nVc91f3qRZbqTuSVdwYi6pGGBgtLAA/+nxpy6nHLaGLq7c0fau/5q4ttik7YGYVzkcCxclpdV5O4NJLf770iIa0+KdHDyfdzqNqEVJQ1BqNKpfiVrQAQj2q7EzSVwSILbWF+VZRahAUmtXbmXqQILCMqgY2VidGMjIQcRoSON1iJGYINIhnjdbfWlWmur0blXs4eKB5Tc0aQY0WGXfIn3IsU13V63DQAXbX4tvc7u5co378KrIuwC0Are7qqkHFdR0osDlkraVbw9ypcAtLTA9GpEmIX0igWR6MxH4sIJImhqSkBbirhDACPFJT/T0YISr+7mDf+v5ik31ILxuTAXrAwJ+x2bNjFRt/Fq23xP1uvs6UUP2KfmMOazP1Hn0TsUNpfqwD9o816qjrNE7t8YmDAfynJNTCAD5oqWMX6dN603TCM332I1yMvk1aqyg9FSx0+852u/GA3al0uEArJ6jJaRXdoLP9kd2TJ583QEdrdIgGZdI5nEHH7wg1fxuPeAZ+RLwBt82JR31mPuI9+pzSnAKJ95IlTO4TDAwI5Xi0AYiLwqwu4QiCw3gJQexAfmF9X9+nvj7gOClaGWgqAU60t/cbSgwPt7/jQ77nXPsOw92AdBDButWhHcNaj3sTofdTXR09NnLQ9B1ydKC8OHfX3QBl7dkxeidBYiIB4UFqkcpq5DaawxTgHL5Zkx/x3vj9jTq/6FHEoyMT5NPkgIB2eUbfbfDujwKMNc892rB+w18BRsZGZwPSBQHUmLx92PWceJDlQmy0Y1J96jw1G+PET0E+/6kyVGNVjU7vL205/9hdTFVNelNnr65UgwWNKxn6BlwRdr3fj5kHhrpUZhwf2L4Vlh341vWt7IPwL9uy7e9lHfV1LFxeZJWjvkA9x0o9e1thp0tkNRwu+zg521yCi4KKPuCjgNFXt7RWXptjVdSGcB9Vymttz9JK8JBZS2t6q6jtQ/pI+DtMptn7z8TXsJb3b3p2231mxmlCrkSxb7Tzb6lKph9HgrWb9as30HXm+Gmbfo3OU1vPtZDqmwyLU2f3vqt9DfvCdoq8eVAy67/zvMqxB23XopMikyOjd06WvOqioxOj5zaDsS1nBUj1t9Omjt7v7lt/NDDYr/7pwjeyIthkbaTeONMwTq3XXCZ4+IZdpGan8mKBvmNKwvmWh9XG2OIfiCFaMTIiz1JI+6Eds1LexPO7NbXUktjy/aBYw6Y0yrj/SqN5gfOhcKuj0mzv5eClfy97cR587Ifbt+He1dsRffdqP9D72Af2qF9aCkl5K+BHJnL26qtDbOLamZ1P2bs4Ty+rr523yN4cIZiJxTyqlGrq47MRmlJlVL5Y7AhwpY5Hd87vnF0mTy+pt9l0s5nFvq7Ao5WD9oEa3SOr7LXWcTpHODs5T3s5lTIJKyIQLod7+3h786kV2GMDxRz4w9xhedRyh5fuGmpHRwxHjk7r0VWIiHzHsSodc5WRY8bHvquYiMhy75MLC85RiQw6WsiwVdFhLXJn89nOmPedDRvLSKR+Z8yHswBU+vbtq5BIlOGpWLXat+Ig0mhyZ/dufSv48W6VVDJ9bSclDCGkT0tWZVUgr01x09fIXvQVG9iv0NpdL++vvb8OAhs0WBLWZWhByoa9hzGDw2szhxJb6h4tb8/M+JFKOjoMKSUEEYHFzLj2PZFdpTG92oG+3i7yUE0AxXa1ZqraHvc94vVG5nqiXsIVy8o6Nc2JQCz8kqDbIQSRMXjUqzF9mZeuzXMdkPkiJ+h9J5w6n82crUXofzSc7mH6MQV2qxx4y87a6WBn0DE9ESI/DfbTFwNMM5x9XZfuuCm2/PumSOC/NcbXrhbZsYc5Zu/hvcbQlNM2ricO0xUN/OsRGXkSded20usirN8uYceojamtnl5SntS3YotWgxsWdnmDfZ/+Gl0T3e32JfqNeiZa8DyyhnbwCFbDseeghe2tpYhGKdq+CV2S1Flz4Egdreqgfav9wSqUhSaglWVIzFSg2ZCAxqNVsTzkZX1zBr7OXs5Cvh/YTYeRdHjrxTfzPCr91e3afstzLGgrsykP2Ur6YNpmcM4kiefus8bQhLO90M0tIWzDwCTRKphCJ/UMJcnJ8jEk/i/iiERvq0NHj4hAaSJKhC5s+en+tZhQoxUNXUF+QyEhdFq2H+ppT6Prg+fdvxTDK5aKlu6a4FK45M3cI9zDtSUWcWEWtMF24it7ckJvoqb6QbXVV+DttVRY91v/96jp140Di752wTnaHj8kdEl2OBKBWDokFBFnSMWkzUfOmRV0XZCjYEeXTEzKkCJiip4RSHg2KnZeua+t7Ca9J0QwhqlOtgMb6PWf8J6EiXg5Zc8faBlnAQfNbd2wBFEJNF1IbtJR9leHnFK223ap7W6UFSRBSgpQyVtDxkkQLXhpASL5G4koXdL9qS6Nb7/QHg2Hpo7PMYl/U683JuGzFxKdgPiCMCpRp08cxV0UZB20qKPEWvpsB5wYzb3RRJ3EjTbniYiYC477YabmUhqJheMYZo+bhWYvvJUTfdrx7KP/WjPe0u4/YvttPRp9NWo+14rqTMMdiI44ixjAa2Sb4rgLSYQTyzmmCWSmyBzKScLVrcRNuwbOkNPfz2MUaNwJS4TN2XlFnOgHyen/b6jtWnUcvjnPhGcOu4oo6nyOgMNXB8sr4apHz2Cvj52BwesYeoJDiIGpknuNWGXdVq1GzYeajVoP0oM/xK+VSZSfin30oGe1QRl1kcOI3a6erCiioPBBoYD4EB1J9TdvlJQwc3CmSSllkEbZzHNT/9nD7vkJFHWBOrjNrGmU/3AIcJ6f+2HozfaRROzJUtdD/fwSkwj2rgXEBPp2kepEm8/xzowIlFqPofwumt+RlcFO8GHooPVD631NaQIwmra8KvFUzEhe+wZXdXCmMrvLqaB5ftz85oLF5JadSImhlSEibVidiajrPresNLuarBdgYzjfUMBJTrXzaNsgcbQLRfLykbDnhJql/7xTC4n9pwqvh3s2PelWazzyIkIEapE5alutU8gG8yJOvTTRFSi/7HnXuFz/MJHycEv8iq2byftr9SIGKFjvtziTTRH7sw3fEp69Dr/wPd/EV8dzYj4twjrx4lAap1A35gzWwsui1VDuqDZNxNrszJ4XdtA8856vdZiqPP0WhVhDISerV8kFQRsI65oYpG4uzSsgt0zcqOdLY4cTF1PCyJsNvSy8bCLLVUSEnfCtaDG1ZXflUCBzIdJkQ0lL+2KqCaqRKxaVQ+HJzg8vF5IdI/C/M/D+KK846EeND3GxLyXHV+z3cWxwrBP23XaqMUvgdEVaG3ntTXJ49ko4MLNyM7MExxywHeTA4cowN6CFXQ7jYS5DPIqR5s1i7GxVhxHjRgI/Hm45xuQ/0avyzED+XSi9vq2E8TQvtgn3TVzfmcvtJtEHstrwjLRdVdBvudNiZ3119FGLaouD0YTFSMsmpLDSohJJqqxOQucRTQghuUiFzZvIps7BiDQLCU2DYKksBAm5R0DTIuNfmPyCxYWKfyz+KaNb0OuL5P2FyF0sXOovy7x5623kjPRCjyrfSfcFL5gLh3AlCY5soy8sBD8kI7chHB2o9zQkA/xdlvw2irXp+OD2wWY3eLBjntTW+5RPyfxphDLborz8gvkVBMrWaJnUzLnilfPDik2tsj+ofb56T/79+EjXz6U5vrx1U4UtOHd0pbNcTN+tsTtjCcYZiEou3GTGrt2ua11378qAkWygKjQVVB0qhCBq5NxVnEjErwo1ePaIJDtXx4DmIE2bNsgNaplHu/8aikiDXYsmXbXqxcbHsRMKGx/rxU/gpCL1cXhYu77Bxchln9G+huMSNrTp8nXbGhqAYtLwYOH1nMAfcc7vIv7z59ck/NOzR1Gguy9EwVdsT/cw3/K0ZYEvMo8vlUkxvkwhUIBrmH4z/4riCr8ZpL4abXDj4Odl7yvGrxJjz7DdSH9I19r55vZO1HTk+ckipyCt4n1S4/Xo5R7NNRbjoPA5L5j2UHj8K+h7ImXxZfRhWp4gj8Y4d/781OD5CmapI/PV1c9aKWc6ypklg+ehrbZdWsfvG4aTfB1l+2nP4rVDextPypdKISHLGQQt//1/qcBqx/T2/28j117AsbdxWhVXKq3gtwuXLnWRVrSrNO8cWtq+owzdSOAdHroK299y7Wv/27ZNJGLK5bdv7VbWxCkxz9vuYl+sT1k66Tf1FZXEvdKh6cUj9mbqKIlbSEqdJp1sv0X7qy/zksh0qJtG7R7q6abSum2OQ5tnm3e3Z7fYbMcS0TV219jdrBRWN/saqw17+4gpN6v4eMrkIUOCdAHTWl/0Il0tNqM8voS5pLScmRGTrlouKl1SwqqJmCP3qF4snCu8qNqTdOS22jamHXM787aNdrVtmkGU5iMECUEDxx070kyWrH5n/5C6ihNDfShpCKHztx0yZJVvr12kIlAxVhWoHlPjvzW+z1el+xtP0YHRTD1W38oA+hTuRVMe2R0CZ4GDg5PA9xDbz8SPLTG5Qvjzwy3BYm0da9/c3J5MWiMVp5NGc/384HgAexGIjHbIokWxecGhnkamKns+xOP+fqlGYZVKI7Wz0pZ7zY32SvMjE2Xl9IQKY2L67QRDZWJBasU8FA1KT9pzfkx7iWVY6s9QtsFHvMEIKBrHFkSpe/mg2iXbrFGjfz1w5WbyhcFFhWqXCxZEjhnbOnl1fXE34TXTSjQ+aVddSyViOoYaoxidTfdSn1XzossoRuNRqlEL9EjbyVzydqKeRhql40OZpitRl54bd9OjJYzW4hE9XQJBC/fS9cK1CIbWSeQ20i7y9sKk1O3kXaS2+Xcpkz0tPZPUV7QJ9FGboAbGEsmmZBKbVGhaSCyIPlv7VrpD2yGV66rXDncnqbSqdvPbVW+5tfO759XH/o5dka3CM+Qb8A15gh0EX1yE+1IkWF8xP1nTqTqrR+pW6ybpcdAQCz+GW/BrzI0RhMSe0G5g0p81kLWzjxmWGR3LJpEbRn8zG4yfYvunM6YlptEOtcM4Gt4JNrp3OlT8j+Xj4HaECiKdICMyV2gSQkh4Mk3RzG1WUI2cjaiWOi0ZJxFCNFegxAoCPXPYyPgJBKbsu4xJ+BXDKLw/dr/QUP3ktMCYrxCbT4S31qTlruN6ggRbUg4xaExJiQQkaGEp1jIWV1oak3IiJMLdMGxRT29oON1Q0uhrSGN6+wpYQh81dR8hxvL1Zb8ocoJwSTf+9QZhimF3Fj9Fo52j80BupK86ZRkc4RPEvbw3khuRTtcxiiGoEiQ0KkkF1S3XlqlVIKNIBXMZM4lRpXr1aHVX1J+UwS/F5YMU9NYT5mYT17HWEbNJVawqQdInm0ltjDZVm69sntWk3PmIaacpDeT/WXibfsubpd7K0WSoXkPADK4jqgwt2KvO8r5Fvy38nE3TaTrxn6MnACpw35hKIGiaSex9O5AuW1puT+A6/2g276Fbl1t3zBYXz3ZYr9Kj95g3/3DmBnUhAAAPqT8tAadQjYdQ0fsTYmr/jP5cyAmjM+g5diQy6XwcnvJ3VmpRD51u3frF3v5LqzWd3uy8pHkWT0knkDqIHSTcRIvd0q+1TucFNYz6Qle9cYdxE4GH4xWEm2LqHdYdDfgAgI3VGeAntnRFeux6ClFOJFeETX0PqI1gC/WZlT4fm9Xpqw7eZ6bv07PL9G3e7trmusYVqjjDiE/Yhk9woT7jNcoWSvOW5mvC37FWk9hgtw+mDLTXPIy9PHR8YHnLam3yQPdRrITrfgB/8Rbrxg6+eHcA24+9fIcd9OGWpkoWI5u2ocVokUkWo0vQ1q2RanHrNlBGn8YpFPwGEcGLs6/A/BKmIf4sULSDS5q1nqmjiYO2hKDJOmx4nmLesM1rjYthTtS1c10rMrWMKn5/Sr1p4M8IiPZXERlusMD9RCEFppm6XnTv6dyGP/1NtMmf6iyOsDUO3hk+v47D7mlnTvYM+/4hEzu8MiBGmevW61bObzIZ/bNL12QKQmom/5k7qga1yvcB/yCACGWdY9hyZDyN1QVWWY1VJd0FZa3nckqEnY7Lv+bWjb4z7ZjuWJap1TS21FevquarvQH0WG8mAkA3C+Wsgk1eldEJkwcvz02YIHzzscUtMI1XzhUnklKiL9FEAAA8FI3G3F6FbdPSZp+xEuXvaI1vsro26lDYrE1Zar7VfrzEqjpc1nlspXt9Ge2VMx1yxvGTPxew6pdCthIrUl8Zc5gMAADrQU9Gz6fo+p7f0TzhOfo1xPt6sHlMXYKxaNMP7CxGGvTKPsy02N86OFYB/QIAwB46zhBh9gAAmDV6AwAAzcocAABEBzkueEkAFjEt1UP0OoDyrUjMcpAuS6dSPheKLQj+6SZmp1AQuVcOFqWce8n4lWCPGCy7FN8o/lq41HS3gBkFB+zG4j564xS2xLfJ5FfmPebhS4Bw/vlS+qPnUU9uSI+9kqmPDAvxnTA6j20QpcL20MYaYClfEVHtG3T4IwvVRP/BGnZu0TYsWP3EPUXV7QuZhkMe/iz7GLvA1yXU1GfNJwMgAwpRhQDsuII3l04xzNjPbVG2Cj+1XCdbP7WI+JT8uMTXywmSuJwDLR3MpURSsse8xZ/ZeVEDyrnadZL82iuVv5+uaMNLO37wypnrkp8v6Q9gam/mT2KR2gIEAFbBOFAgiygAUPtrAOwApJYJr39KrObc5C0mD1gOzCiQwNCMARnMCLx4npkANBCYiUAGTzMVbMB/7jRgQTFggOAUALCGhs6MgBocN6OgAhcxVisexrjiV2YCaMGkg6gLgpnfjNgNaxVwy01qhAZyhPb8aBOrRBVv7pv/hX7KZGx7M/oPVpNK++b0+nLU7xDYKjLUa//WPbbRdGx/69IgZ22L6Qewnwah8v7Vq3iUx4l1fNI8zQBxELTOHpnD+ROmRLxt16Te+L9Ab5IRy2jx+fz/AVOlJ9564+Q1BfE7I1QtFkVZXfXeckuIWigaNQbsb7YA+SOoWgWf6gNg7mTgEIv3XlmXFWmZU/7sOJYxrW+i77NH9LaXIJBCVEox8f8JyJaSJEtN6oIoyYqqzRrHnGFatuN6fhBGcZJmeVFWddN2/TBO87Juh+PpfLne7o9gKByJxuKJZCqdyebyhW/Oj9piqVyp1uqNZqvd6fb6g+FoPJnO5ovlar3Z7vaH4+l8ub69f3x+ff/8/vHkxZsPX378n+EXIfkCd4eEWfU0V0FvkpXC+mzuLmWqvhxRK/VYFar1phYODHFYV7QmTyqzj6rjdpwcXZ0sEmNbMj1izBobzEmwvicDecOaM5izYNW+U2bpayRZBDilPKP5DC7Lktgnw0zUsaOceYauY8oi19HWECaGK9WRFkJmeluO1EuKj5UbSR2TbysZazpJOOt9GQMkXwc4bFRLwgMZcUJtYbjqBfvqNChOsoQzeV7hs5HsciDHXU4rm/Pah2k8C6X8grNWdEzCyB1reTQpCJM358baTRUmND4ov46G/yeI3wXFib061ONjHHrTqSSLPgueM/HFtYgacdXEenc2CZI+sDJ10hOz8EfhSCGQWLjIE7vkRpuADI/Yo6r2C6XfFPfRMFMTMcaW1QzsAO+qQdcrUokxW7WeJH2kFB+N+R43tYstbya5iN6acVnn1xSgc9wZ+bnf/bmRzcepJn5eis86XfB5CfHYtI06S/3g127k2vmAFLuJxWREP+Be6q5cBX+6OliSC7uNFmTQK2wbVNRDqj7ZefbmX19Tx+a/wVYBpRR5etaBpJ/KNtBpjLtYQPM0wqUoR2tirM8x2y5qNdWQVVY2A7vvUf7OwLeBeRnUxWcKUKeCprIBUjHMXBbd1NOlC7Rk7AblPTu/aeKeKjjgGwYD9kUcJ4nDWMeW0cADeYPVYMp5U1OG3Ioa4+F8ZER/TcqggiW+dK8NipwsW1v1lpyHtVP1pzI0wfCok7nV6YqsN9hvOsdIKX/a1r11srLfruDTljLh0cAQzw/92U5ks6h22Xq280PXlboWjDeBbdCTL7YJDS8BNYgiE6t0Kl0QiiKkMj7gBqy7QXujMsxiJl9wThBfFTWnc8ZXNTk6SFRjEFsbLg/YggfTES//lJCuKUyUu6o5JCxVrhRvdueULwmdH9WWVwyJM7asCJjm7mzO2ZyJL9Wpx/N///txVbihnkqjZtAH2CaMrCDjYe/a65rZvuHsBJL0TwA=\') format(\'woff2\'),\r\n  url(/iconfont.woff?t=1564642592599) format(\'woff\'),\r\n  url(/iconfont.ttf?t=1564642592599) format(\'truetype\'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */\r\n  url(/iconfont.svg?t=1564642592599#iconfont) format(\'svg\'); /* iOS 4.1- */\r\n}\r\n\r\n.iconfont {\r\n  font-family: "iconfont" !important;\r\n  font-size: 16px;\r\n  font-style: normal;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.icon-edit:before {\r\n  content: "\\e6fb";\r\n}\r\n\r\n.icon-extend:before {\r\n  content: "\\e6fc";\r\n}\r\n\r\n.icon-send:before {\r\n  content: "\\e704";\r\n}\r\n\r\n.icon-download:before {\r\n  content: "\\e707";\r\n}\r\n\r\n.icon-broadcast:before {\r\n  content: "\\e70a";\r\n}\r\n\r\n.icon-message:before {\r\n  content: "\\e717";\r\n}\r\n\r\n.icon-password:before {\r\n  content: "\\e725";\r\n}\r\n\r\n.icon-center-position:before {\r\n  content: "\\e764";\r\n}\r\n\r\n.icon-zoom:before {\r\n  content: "\\e765";\r\n}\r\n\r\n.icon-mute-surface:before {\r\n  content: "\\e768";\r\n}\r\n\r\n.icon-play-surface:before {\r\n  content: "\\e769";\r\n}\r\n\r\n.icon-mute-line:before {\r\n  content: "\\e76a";\r\n}\r\n\r\n.icon-play-line:before {\r\n  content: "\\e76b";\r\n}\r\n\r\n.icon-collection:before {\r\n  content: "\\e8c8";\r\n}\r\n\r\n.icon-zoom-out:before {\r\n  content: "\\e8d5";\r\n}\r\n\r\n.icon-zoom-in:before {\r\n  content: "\\e8d6";\r\n}\r\n\r\n.icon-detail:before {\r\n  content: "\\e8f3";\r\n}\r\n\r\n.icon-link:before {\r\n  content: "\\e8f7";\r\n}\r\n\r\n.icon-picture:before {\r\n  content: "\\e953";\r\n}\r\n\r\n.icon-note:before {\r\n  content: "\\e954";\r\n}\r\n\r\n.icon-allcollection:before {\r\n  content: "\\e955";\r\n}\r\n\r\n.icon-file-line:before {\r\n  content: "\\e957";\r\n}\r\n\r\n.icon-reducetoasma:before {\r\n  content: "\\e95c";\r\n}\r\n\r\n.icon-narrow:before {\r\n  content: "\\e95d";\r\n}\r\n\r\n.icon-magnify:before {\r\n  content: "\\e95f";\r\n}\r\n\r\n.icon-transmit:before {\r\n  content: "\\e959";\r\n}\r\n\r\n.icon-editroundbox:before {\r\n  content: "\\e95a";\r\n}\r\n\r\n.icon-editbox:before {\r\n  content: "\\e95b";\r\n}\r\n\r\n.icon-determine:before {\r\n  content: "\\e960";\r\n}\r\n\r\n.icon-character:before {\r\n  content: "\\e964";\r\n}\r\n\r\n.icon-revoke:before {\r\n  content: "\\e965";\r\n}\r\n\r\n.icon-statetransitio:before {\r\n  content: "\\e963";\r\n}\r\n\r\n.icon-set:before {\r\n  content: "\\e98d";\r\n}\r\n\r\n.icon-mark:before {\r\n  content: "\\e9b9";\r\n}\r\n\r\n.icon-determine-small:before {\r\n  content: "\\e9d4";\r\n}\r\n\r\n.icon-thumbnail:before {\r\n  content: "\\e9d6";\r\n}\r\n\r\n.icon-close-cancel-copy:before {\r\n  content: "\\e9e8";\r\n}\r\n\r\n.icon-close-copy:before {\r\n  content: "\\e9e9";\r\n}\r\n\r\n.icon-cancel-copy:before {\r\n  content: "\\e9ea";\r\n}\r\n\r\n.icon-username-copy:before {\r\n  content: "\\e9ed";\r\n}\r\n\r\n.icon-frequent-contact-line-copy:before {\r\n  content: "\\e9ee";\r\n}\r\n\r\n.icon-group-line-copy:before {\r\n  content: "\\e9ef";\r\n}\r\n\r\n.icon-group-black-copy-copy:before {\r\n  content: "\\e9f0";\r\n}\r\n\r\n.icon-voice-surface:before {\r\n  content: "\\e9f1";\r\n}\r\n\r\n.icon-voice-line:before {\r\n  content: "\\e9f3";\r\n}\r\n\r\n.icon-rotation:before {\r\n  content: "\\e9f4";\r\n}\r\n\r\n.icon-rotate:before {\r\n  content: "\\e9f5";\r\n}\r\n\r\n.icon-add-surface-copy:before {\r\n  content: "\\e9f6";\r\n}\r\n\r\n.icon-add-line-copy:before {\r\n  content: "\\e9f7";\r\n}\r\n\r\n.icon-delete-copy:before {\r\n  content: "\\e9f8";\r\n}\r\n\r\n.icon-cancel-line-copy:before {\r\n  content: "\\e9f9";\r\n}\r\n\r\n.icon-username-error-surface-copy:before {\r\n  content: "\\e9fa";\r\n}\r\n\r\n.icon-correct-copy:before {\r\n  content: "\\e9fb";\r\n}\r\n\r\n.icon-question-copy:before {\r\n  content: "\\e9fc";\r\n}\r\n\r\n.icon-organization-framework-line-copy:before {\r\n  content: "\\e9fe";\r\n}\r\n\r\n.icon-unknowfile:before {\r\n  content: "\\e9ff";\r\n}\r\n\r\n.icon-video:before {\r\n  content: "\\ea01";\r\n}\r\n\r\n.icon-excel:before {\r\n  content: "\\ea02";\r\n}\r\n\r\n.icon-txt:before {\r\n  content: "\\ea03";\r\n}\r\n\r\n.icon-rar:before {\r\n  content: "\\ea04";\r\n}\r\n\r\n.icon-music:before {\r\n  content: "\\ea05";\r\n}\r\n\r\n.icon-ppt:before {\r\n  content: "\\ea06";\r\n}\r\n\r\n.icon-word:before {\r\n  content: "\\ea07";\r\n}\r\n\r\n.icon-pdf:before {\r\n  content: "\\ea08";\r\n}\r\n\r\n.icon-arrow-right-copy:before {\r\n  content: "\\ea09";\r\n}\r\n\r\n.icon-to-the-right:before {\r\n  content: "\\ea0a";\r\n}\r\n\r\n.icon-to-the-left:before {\r\n  content: "\\ea0b";\r\n}\r\n\r\n.icon-expansion-right:before {\r\n  content: "\\ea0c";\r\n}\r\n\r\n.icon-expansion-hover:before {\r\n  content: "\\ea0d";\r\n}\r\n\r\n.icon-shrink-left:before {\r\n  content: "\\ea0e";\r\n}\r\n\r\n.icon-shrink-hover:before {\r\n  content: "\\ea0f";\r\n}\r\n\r\n.icon-donotdisturb:before {\r\n  content: "\\ea3d";\r\n}\r\n\r\n.icon-left:before {\r\n  content: "\\ebb3";\r\n}\r\n\r\n.icon-vi-answer:before {\r\n  content: "\\ebc9";\r\n}\r\n\r\n.icon-vi-video:before {\r\n  content: "\\ebcb";\r\n}\r\n\r\n.icon-vi-hangup:before {\r\n  content: "\\ebcc";\r\n}\r\n\r\n.icon-vi-video-off:before {\r\n  content: "\\ebcd";\r\n}\r\n\r\n.icon-vi-volume-off:before {\r\n  content: "\\ebce";\r\n}\r\n\r\n.icon-vi-voice:before {\r\n  content: "\\ebcf";\r\n}\r\n\r\n.icon-vi-volume:before {\r\n  content: "\\ebd1";\r\n}\r\n\r\n.icon-file-surface:before {\r\n  content: "\\ec19";\r\n}\r\n\r\n.icon-location:before {\r\n  content: "\\ec1a";\r\n}\r\n\r\n.icon-message-record:before {\r\n  content: "\\ec1b";\r\n}\r\n\r\n.icon-photo:before {\r\n  content: "\\ec1c";\r\n}\r\n\r\n.icon-videotape:before {\r\n  content: "\\ec1d";\r\n}\r\n\r\n.icon-screenshot:before {\r\n  content: "\\ec1e";\r\n}\r\n\r\n.icon-voice:before {\r\n  content: "\\ec1f";\r\n}\r\n\r\n.icon-add-people:before {\r\n  content: "\\ec33";\r\n}\r\n\r\n.icon-broadcast-two:before {\r\n  content: "\\ec72";\r\n}\r\n\r\n.icon-broadcast-one:before {\r\n  content: "\\ec73";\r\n}\r\n\r\n.icon-broadcast-three:before {\r\n  content: "\\ec74";\r\n}\r\n\r\n.icon-video-intercom:before {\r\n  content: "\\ec7a";\r\n}\r\n\r\n.icon-voice-chat:before {\r\n  content: "\\eca1";\r\n}\r\n\r\n.icon-video-call:before {\r\n  content: "\\eca2";\r\n}\r\n\r\n.icon-silence-off:before {\r\n  content: "\\eca3";\r\n}\r\n\r\n.icon-be-on-the-phone:before {\r\n  content: "\\eca4";\r\n}\r\n\r\n.icon-silence:before {\r\n  content: "\\eca5";\r\n}\r\n\r\n.icon-vi-answer-call:before {\r\n  content: "\\ecb6";\r\n}\r\n\r\n.icon-vi-switch:before {\r\n  content: "\\ecb7";\r\n}\r\n\r\n.icon-taste-one:before {\r\n  content: "\\ecd0";\r\n}\r\n\r\n.icon-taste-four:before {\r\n  content: "\\ecd1";\r\n}\r\n\r\n.icon-taste-five:before {\r\n  content: "\\ecd2";\r\n}\r\n\r\n.icon-taste-two:before {\r\n  content: "\\ecd3";\r\n}\r\n\r\n.icon-taste-three:before {\r\n  content: "\\ecd4";\r\n}\r\n\r\n.icon-email:before {\r\n  content: "\\ed59";\r\n}\r\n\r\n.icon-frequent-contact-sur:before {\r\n  content: "\\ed5a";\r\n}\r\n\r\n.icon-phone:before {\r\n  content: "\\ed5b";\r\n}\r\n\r\n.icon-organization-framewo:before {\r\n  content: "\\ed5c";\r\n}\r\n\r\n.icon-recently-surface:before {\r\n  content: "\\ed67";\r\n}\r\n\r\n.icon-recently:before {\r\n  content: "\\ed68";\r\n}\r\n\r\n.icon-fork:before {\r\n  content: "\\ed6a";\r\n}\r\n\r\n.icon-fork-surface:before {\r\n  content: "\\ed6b";\r\n}\r\n\r\n.icon-sa-delete:before {\r\n  content: "\\ed71";\r\n}\r\n\r\n.icon-sa-transmit:before {\r\n  content: "\\ed72";\r\n}\r\n\r\n.icon-sa-download:before {\r\n  content: "\\ed73";\r\n}\r\n\r\n.icon-sa-copy:before {\r\n  content: "\\ed74";\r\n}\r\n\r\n.icon-icon-online-equipment:before {\r\n  content: "\\ee9d";\r\n}\r\n\r\n.icon-tachograph:before {\r\n  content: "\\ee9e";\r\n}\r\n\r\n.icon-flat:before {\r\n  content: "\\ee9f";\r\n}\r\n\r\n.icon-client:before {\r\n  content: "\\eea0";\r\n}\r\n\r\n.icon-portable:before {\r\n  content: "\\eea1";\r\n}\r\n\r\n.icon-site-enforcement-recorder:before {\r\n  content: "\\eea2";\r\n}\r\n\r\n.icon-chrome:before {\r\n  content: "\\eea3";\r\n}\r\n\r\n.icon-Individual-soldier:before {\r\n  content: "\\eea4";\r\n}\r\n\r\n.icon-phone1:before {\r\n  content: "\\eea5";\r\n}\r\n\r\n.icon-walkie-talkie:before {\r\n  content: "\\eea6";\r\n}\r\n\r\n.icon-vehicle:before {\r\n  content: "\\eea7";\r\n}\r\n\r\n.icon-control-ball:before {\r\n  content: "\\eea8";\r\n}\r\n\r\n.icon-backstage:before {\r\n  content: "\\eea9";\r\n}\r\n\r\n.icon-UVA:before {\r\n  content: "\\eeaa";\r\n}\r\n\r\n.icon-icon-tip:before {\r\n  content: "\\eeab";\r\n}\r\n\r\n.icon-icon-other:before {\r\n  content: "\\eeac";\r\n}\r\n\r\n.icon-icon-search:before {\r\n  content: "\\f059";\r\n}\r\n\r\n.icon-icon-broadcast:before {\r\n  content: "\\f06e";\r\n}\r\n\r\n.icon-icon-loading:before {\r\n  content: "\\f0c2";\r\n}\r\n\r\n.icon-narrow:before {\r\n  content: "—";\r\n  font-weight: 900;\r\n}\r\n',""])},function(e,t,n){"use strict";var r=String.prototype.replace,o=/%20/g,i=n(118),s={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=i.assign({default:s.RFC3986,formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return String(e)}}},s)},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(52);function i(){for(var e,t,n,s,a,u,c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var d=c[0]||{},f=1,p=c.length,A=!1;for("boolean"==typeof d&&(A=d,d=c[1]||{}),"object"===(void 0===d?"undefined":r(d))||o.isFunction(d)||(d={}),p===f&&(d=this,--f);f<p;f++)if(null!=(e=c[f]))for(t in e)n=d[t],d!==(s=e[t])&&(A&&s&&(o.isPlainObject(s)||(a=o.isArray(s)))?(a?(a=!1,u=n&&o.isArray(n)?n:[]):u=n&&o.isPlainObject(n)?n:{},d[t]=i(A,u,s)):void 0!==s&&(d[t]=s));return d}t.default=i,t.assign=Object.assign||i},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(198),s=n(23),a=n(20),u=n(5),c=n(8),l=function(e){function t(t){var n=e.call(this)||this;return n.serviceModel=new i.default(t),n}return o(t,e),t.prototype.getService=function(e){return this.serviceModel.getService(e).pipe(u.map((function(e){if(Array.isArray(e.data)){var t={};return e.data.forEach((function(e){e.slist.length>0&&(t[e.stype]=e.slist)})),t}throw s.default(2003,"data属性不为数组","Service getService")})))},t.prototype.getOnlineDevices=function(){return this.serviceModel.getOnlineDevices().pipe(u.map((function(e){if(Array.isArray(e.data))return e.data.map((function(e){return c.handleDeviceType(e)}));throw s.default(2003,"data属性不为数组","Service getOnlineDevices")})))},t}(a.EventEmitter);t.default=l},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n(561);var i=n(23),s=n(25),a=n(20),u=n(28),c=window,l=!1,d=!1;if(!navigator.mediaDevices)throw l=!0,i.default(3001,"浏览器版本太低或不是https域，不支持媒体功能","Webrtc getUserMedia");void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):(d=!0,Promise.reject(i.default(3001,"浏览器版本太低，不支持getUserMedia","Webrtc getUserMedia")))});var f=c.PeerConnection||c.webkitPeerConnection||c.webkitRTCPeerConnection||c.mozRTCPeerConnection,p=c.mozRTCSessionDescription||c.RTCSessionDescription,A=function(e){function t(){var t=e.call(this)||this;return t.peerConnection=null,t.options=null,t.localStream=null,t.endWebRtc=!1,t}return o(t,e),t.prototype.createPeerConnection=function(){var e=this;this.peerConnection&&(this.peerConnection.close(),this.peerConnection=null),this.peerConnection=new f(s.server.stun?{iceServers:[{url:"stun:"+s.server.stun}]}:{iceServers:[]}),null!=this.localStream&&this.addStream(this.localStream),this.peerConnection.onaddstream=function(t){e.emit("onaddstream",t)},this.peerConnection.ontrack=function(t){e.emit("ontrack",t)},this.peerConnection.onicecandidate=function(t){e.emit("onicecandidate",t)},this.peerConnection.oniceconnectionstatechange=function(t){e.emit("oniceconnectionstatechange",t)},this.peerConnection.onerror=function(t){e.emit("onerror",i.default(3002,t.message,"Webrtc peerConnection caught error"))}},t.prototype.createStream=function(e){var t=this;return this.options=e,this.endWebRtc=!1,u.createObserver((function(n){var r=navigator.mediaDevices.getUserMedia;if(r){var o=function(e){t.endWebRtc?(e.getTracks().forEach((function(e){return e.stop()})),t.localStream=null):(t.localStream=e,t.createPeerConnection(),c.MediaRecorder?(t.mediaRecorder=new c.MediaRecorder(e),t.mediaRecorder.ondataavailable=function(e){0===e.data.size&&t.emit("captureFailed")},t.mediaRecorder.start(),t.recordTimer=setTimeout((function(){t.stopRecord()}),2e4)):(l&&t.emit("httpsError","浏览器版本太低或不是https域，不支持媒体功能"),d&&t.emit("getUserMediaError","浏览器版本太低，不支持getUserMedia"),t.emit("mediaRecordError","当前浏览器版本不支持MediaRecord, 无法通知是否采集到码流"),i.default(3001,"当前浏览器版本不支持MediaRecord, 无法通知是否采集到码流","Webrtc createStream recorder").log())),n.next(e)};r(e).then((function(e){o(e)})).catch((function(){e.video?r({video:e.video,audio:!1}).then((function(e){t.emit("mediaSetBroken",{mic:!0,camera:!1,message:"麦克风故障，请检查"}),o(e)})).catch((function(){r({video:!1,audio:e.audio}).then((function(n){t.emit("mediaSetBroken",{mic:!1,camera:!0,message:"audio"===e.description?"":"摄像头故障，请检查"}),o(n)})).catch((function(){setTimeout((function(){t.emit("mediaSetBroken",{mic:!0,camera:!0,message:"audio"===e.description?"麦克风故障，请检查":"摄像头和麦克风故障，请检查"})}),5),n.error(i.default(3001,"audio"===e.description?"麦克风故障，请检查":"摄像头和麦克风故障，请检查","Webrtc getUserMedia"))}))})):(setTimeout((function(){t.emit("mediaSetBroken",{mic:!0,camera:!1,message:"麦克风故障，请检查"})}),5),n.error(i.default(3001,"麦克风故障，请检查","Webrtc getUserMedia")))}))}else n.error(i.default(3001,"浏览器不支持实时音/视频","Webrtc getUserMedia"))}))},t.prototype.addStream=function(e){var t=this;e.getTracks().forEach((function(n){t.peerConnection.addTrack(n,e)}))},t.prototype.getRTCSessionDescription=function(){return new p},t.prototype.getWebRtcStatus=function(){var e=this;return new Promise((function(t,n){if(e.peerConnection){var r=[];e.peerConnection.getStats().then((function(e){e.forEach((function(e){"track"===e.type&&r.push(e)})),t(r)})).catch((function(e){n(e)}))}}))},t.prototype.getStreamStatus=function(){var e=this;return new Promise((function(t,n){if(!e.peerConnection){n({msg:"未创建webRtc连接"})}e.peerConnection.getStats((function(e){for(var n={},r=function(e){var t={};if("ssrc"!==e.type)return"continue";e.names().forEach((function(n){t[n]=e.stat(n)})),"audio"===t.mediaType&&(n.audio=t),"video"===t.mediaType&&(n.video=t)},o=0,i=e.result();o<i.length;o++){r(i[o])}t(n)}))}))},t.prototype.createOffer=function(e){var t=this,n={offerToReceiveAudio:!0,offerToReceiveVideo:!0,voiceActivityDetection:!1};return this.options&&(n.offerToReceiveAudio=!!this.options.audio,n.offerToReceiveVideo=!!this.options.video),u.createObserver((function(r){t.peerConnection.createOffer(n).then((function(t){t.sdp=t.sdp.replace("a=sendrecv",e?"a=recvonly":"a=sendrecv"),r.next(t)})).catch((function(e){return r.error(e)}))}))},t.prototype.createOfferSuccess=function(e){return this.peerConnection.setLocalDescription(e)},t.prototype.forceChosenAudioCodec=function(e,t){return function(e,t,n,r){if(""===r)return e;var o=e.split("\r\n"),i=g(o,"m=",t);if(null===i)return e;var s=g(o,"a=rtpmap",r);if(s){var a=(u=o[s],c=new RegExp("a=rtpmap:(\\d+) \\w+\\/\\d+"),(l=u.match(c))&&2===l.length?l[1]:null);a&&(o[i]=function(e,t){var n=e.split(" "),r=n.slice(0,3);r.push(t);for(var o=3;o<n.length;o++)n[o]!==t&&r.push(n[o]);return r.join(" ")}(o[i],a))}var u,c,l;return e=o.join("\r\n")}(e,"audio",0,t.audioType)},t.prototype.handleOffer=function(e){return this.peerConnection.setRemoteDescription(e)},t.prototype.createAnswer=function(){return this.peerConnection.createAnswer()},t.prototype.onCreateAnswerSuccess=function(e){this.peerConnection.setLocalDescription(e)},t.prototype.handleAnswer=function(e){e.sdp=this.forceChosenAudioCodec(e.sdp,{audioType:"opus"}),this.peerConnection.setRemoteDescription(e)},t.prototype.stopRecord=function(){this.mediaRecorder&&(this.mediaRecorder.stop(),this.mediaRecorder=null,clearTimeout(this.recordTimer),this.recordTimer=null)},t.prototype.handleLeave=function(e){void 0===e&&(e=!1),!e&&this.stopRecord(),this.peerConnection&&(this.peerConnection.close(),this.peerConnection=null),this.localStream&&(this.localStream.getTracks().forEach((function(e){return e.stop()})),this.localStream=null),this.endWebRtc=!0},t}(a.EventEmitter);function g(e,t,n){return function(e,t,n,r,o){for(var i=-1!==n?n:e.length,s=t;s<i;++s)if(0===e[s].indexOf(r)&&(!o||-1!==e[s].toLowerCase().indexOf(o.toLowerCase())))return s;return null}(e,0,-1,t,n)}t.default=A},function(e,t,n){var r=n(222),o=n(84);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t,n){var r=n(224),o=n(151),i=n(41),s=n(122),a=n(153),u=n(154),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&s(e),f=!n&&!l&&!d&&u(e),p=n||l||d||f,A=p?r(e.length,String):[],g=A.length;for(var h in e)!t&&!c.call(e,h)||p&&("length"==h||d&&("offset"==h||"parent"==h)||f&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||a(h,g))||A.push(h);return A}},function(e,t,n){var r=n(225),o=n(54),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(83))},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(229),o=n(124),i=n(125),s=i&&i.isTypedArray,a=s?o(s):r;e.exports=a},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(59),o=n(67);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(263),o=n(54);e.exports=function e(t,n,i,s,a){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,s,e,a))}},function(e,t,n){var r=n(264),o=n(267),i=n(268);e.exports=function(e,t,n,s,a,u){var c=1&n,l=e.length,d=t.length;if(l!=d&&!(c&&d>l))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var p=-1,A=!0,g=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var h=e[p],m=t[p];if(s)var y=c?s(m,h,p,t,e,u):s(h,m,p,e,t,u);if(void 0!==y){if(y)continue;A=!1;break}if(g){if(!o(t,(function(e,t){if(!i(g,t)&&(h===e||a(h,e,n,s,u)))return g.push(t)}))){A=!1;break}}else if(h!==m&&!a(h,m,n,s,u)){A=!1;break}}return u.delete(e),u.delete(t),A}},function(e,t,n){var r=n(45).Uint8Array;e.exports=r},function(e,t,n){var r=n(164),o=n(131),i=n(84);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(165),o=n(41);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(67);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(170),o=n(99);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(41),o=n(132),i=n(281),s=n(284);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(s(e))}},function(e,t,n){var r=n(172),o=n(128),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];i.call(e,t)&&o(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(301);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(150),o=n(304),i=n(93);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t,n){var r=n(165),o=n(134),i=n(131),s=n(166),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:s;e.exports=a},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,u=s(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))o.call(n,l)&&(u[l]=n[l]);if(r){a=r(n);for(var d=0;d<a.length;d++)i.call(n,a[d])&&(u[a[d]]=n[a[d]])}}return u}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.blob2File=function(e,t){var n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download=t,n.click(),window.URL.revokeObjectURL(n.href)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(400),i=n(401),s=n(402);t.default=function e(t,n,a){return r.default("Framework",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(5),a=n(6),u=n(1),c=n(8);function l(e,t,n,r){var o=[],i=[];e.forEach((function(e){e[t]===n?o.push(e):i.push(e)})),o.length>0&&o.sort((function(e,t){for(var n=0;n<e.name.length;n++)if(e.name.charCodeAt(n)!==t.name.charCodeAt(n))return e.name.charCodeAt(n)-t.name.charCodeAt(n)})),i.length>0&&"isParent"!==t&&i.sort((function(e,t){for(var n=0;n<e.name.length;n++)if(e.name.charCodeAt(n)!==t.name.charCodeAt(n))return e.name.charCodeAt(n)-t.name.charCodeAt(n)}));var s=o.concat(i);return"isOnline"===t&&s.some((function(e,t){if(e.id.split(":")[1]===r.userCode)return s.unshift(s.splice(t,1)[0]),!0})),s}function d(e,t,n){var r=this,o=this.store;e&&e.forEach((function(e){e.isParent?d.bind(r)(e.children,t,n):e.name!==o.loginUser.userCode&&e.name!==o.loginUser.userName&&e.name.indexOf(t)>-1&&n.push({userCode:c.splitColon(e.id),headImageUrl:e.headImageUrl,userName:e.name,userSex:e.userSex})}))}t.default=function(){return[r.mounted("InitFramework",(function(){var e=this.store,t=o.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,a=s.map((function(t){return e.loginUser=t,e.treeData=[],e.selectList=[],e.forbidList=[],e.isDblclick=!1,r.frameWork.getTree().subscribe({next:function(t){e.treeData=function e(t,n){var r=n||function(e){var t=null;e.length>0&&(t=e[0].pId,e.forEach((function(e){e.id===t&&(t=e.pId)})));return t}(t),o=[];return t.forEach((function(n){n.pId===r&&(n.children=e(t,n.id),o.push(n))})),o}(t)},error:function(e){console.log(e),n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("组织架构树获取失败"))}}),r.user.on("updateUserListInfo",(function(t){t.forEach((function(t){!function e(t,n){t.some((function(t){if(t.isParent&&t.children&&t.children.length)e(t.children,n);else if(c.splitColon(t.id)===n.userCode)return t.headImageUrl!==n.headImageUrl&&(t.headImageUrl=n.headImageUrl),t.userPhoneNumber!==n.userPhoneNumber&&(t.userPhoneNumber=n.userPhoneNumber),t.userEmail!==n.userEmail&&(t.userEmail=n.userEmail),!0}))}(e.treeData,t)}))})),t}));return n.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,a),function(){return n.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,a)}})),r.mounted("OnMemberSelect",(function(){var e=this;if(this.store.selectEnable){var t=o.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return c.isGroup(t)||function(e,t,n){if(n.some((function(t){return t.userCode===e.userCode})))return;var r=t.findIndex((function(t){return t.userCode===e.userCode}));-1===r?t.push(e):t.splice(r,1)}(t,e.store.selectList,e.store.forbidList),t}));return t.addPipe(u.RxjsEventNames.MEMBER_SELECT,n),function(){return t.removePipe(u.RxjsEventNames.MEMBER_SELECT,n)}}})),r.updated("ContactClick",(function(){var e=this,t=this.store,n=this.refs,r=n.frameworkRefs,d=n.containerRef,f=t.treeData,p=t.loginUser,A=[];return function n(r,g){r&&r.forEach((function(r,h){var m=g[h].ref.current;if(m){var y=o.default.getKChat(e.rootName),v=y.rxjsEvent,b=y.fetch,E=i.fromEvent(m,"click"),C=i.fromEvent(m,"dblclick"),T=i.fromEvent(m,"mouseenter"),S=i.fromEvent(m,"mouseleave"),x=i.fromEvent(m,"contextmenu");A.push(E.pipe(s.filter((function(){return r.isParent}))).subscribe({next:function(){r.isOpen=!r.isOpen,A.push(b.frameWork.getTree({id:r.id}).subscribe({next:function(e){e=l(e,"isOnline",1,p),e=l(e,"isParent",!0),function e(t,n,r){for(var o=0,i=t;o<i.length;o++){var s=i[o];if(s.isParent){if(s.id===n)return s.children=r,t;s.hasOwnProperty("children")&&(s.children=e(s.children,n,r))}}return t}(f,r.id,e)},error:function(e){console.log(e),v.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("组织架构树获取失败"))}}))}})),A.push(E.pipe(s.filter((function(){return!r.isParent&&!t.selectEnable})),s.concatMap((function(){return c.splitColon(r.id)!==t.userInfo.userCode?b.user.getUserInfo({userCode:r.id}):i.of(t.userInfo)}))).subscribe({next:function(e){t.userInfo=e,A.push(v.subscribe(u.RxjsEventNames.CHAT_AREA_SHOW_USER,i.of(e))),A.push(v.subscribe(u.RxjsEventNames.TOGGLE_CHAT_AREA_CONTENT,i.of(u.ChatContentType.USER_INFO)))},error:function(e){console.log(e),v.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("获取用户信息失败"))}})),A.push(x.subscribe((function(e){r.isParent||t.selectEnable||(t.contextmenuSource=c.splitColon(r.id)!==t.userInfo.userCode?b.user.getUserInfo({userCode:r.id}):i.of(t.userInfo),v.subscribe(u.RxjsEventNames.SHOW_RIGHT_MOUSE,i.of({event:event,rightMouseType:u.RightMouseType.CONTACT_LIST,menuPos:{x:e.x-a.getElementLeft(y.store.rootDomRef.current),y:e.y-a.getElementTop(y.store.rootDomRef.current)},menus:[{label:"查看详情",name:u.RightMouseName.VIEW_USER_DETAILS}]})))}))),A.push(C.pipe(s.filter((function(){return!r.isParent&&!t.selectEnable&&c.splitColon(r.id)!==t.loginUser.userCode})),s.concatMap((function(){return b.user.getUserInfo({userCode:r.id})}))).subscribe({next:function(e){t.tempInfo=e,A.push(v.subscribe(u.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,i.of(t.tempInfo)))},error:function(e){console.log(e),v.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("获取用户信息失败"))}})),A.push(E.pipe(s.filter((function(){return!r.isParent&&t.selectEnable})),s.map((function(){return{userCode:c.splitColon(r.id),headImageUrl:r.headImageUrl,userName:r.name,userSex:r.userSex}})),s.filter((function(t){return!e.store.forbidList.some((function(e){return e.userCode===t.userCode}))}))).subscribe({next:function(e){A.push(v.subscribe(u.RxjsEventNames.MEMBER_SELECT,i.of(e)))}})),A.push(T.pipe(s.filter((function(){return!r.isParent}))).subscribe((function(){e.styles.overlay.display="block",e.styles.overlay.top=a.getElementTop(m)-a.getElementTop(d.current)+"px"}))),A.push(S.pipe(s.filter((function(){return!r.isParent}))).subscribe((function(){e.styles.overlay.display="none"}))),r.isParent&&n(r.children,g[h].children)}}))}(f,r),function(){return A.forEach((function(e){return e.unsubscribe()}))}})),r.mounted("ClickRightMouse",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=s.map((function(n){return t.selectEnable||n.rightMouseType!==u.RightMouseType.CONTACT_LIST||(n.name===u.RightMouseName.VIEW_USER_DETAILS&&(e.subscribe(u.RxjsEventNames.CHAT_AREA_SHOW_USER,t.contextmenuSource),e.subscribe(u.RxjsEventNames.TOGGLE_CHAT_AREA_CONTENT,i.of(u.ChatContentType.USER_INFO))),t.curGroup=null),n}));return e.addPipe(u.RxjsEventNames.CLICK_RIGHT_MOUSE,n),function(){return e.removePipe(u.RxjsEventNames.CLICK_RIGHT_MOUSE,n)}})),r.mounted("SearchFramework",(function(){var e=this,t=this.store,n=o.default.getKChat(this.rootName).rxjsEvent,r=s.map((function(n){return t.selectEnable&&d.bind(e)(t.treeData,n.key,n.framework),n}));return n.addPipe(u.RxjsEventNames.SEARCH_CONTACTS,r),function(){return n.removePipe(u.RxjsEventNames.SEARCH_CONTACTS,r)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(403),i=n(404),s=n(405);t.default=function e(t,n,a){return r.default("Group",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(12),s=n(13),a=n(5),u=n(1),c=n(8),l=n(146),d=n(6);function f(e,t){var n=e.store;!n.groupList.some((function(e,r){if(e.groupCodeStr===t.groupCodeStr)return n.groupList[r]=t,!0}))&&n.groupList.push(t)}function p(e,t){var n=e.store;n.groupList.some((function(e,r){if(e.groupCodeStr===t)return n.groupList.splice(r,1),!0}))}function A(e,t,n){var o=e.store,a=i.default.getKChat(e.rootName),c=a.fetch,d=a.rxjsEvent,f=n.map((function(e){return e.userCode}));c.group.addGroupMembers({userCodes:f,groupCodeStr:t.groupCodeStr}).subscribe({next:function(){t.groupMembers=r(t.groupMembers,n.map((function(e){return l.assign(e,{state:0})}))),d.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of({type:u.GlobalMessageTip.SUCCESS,message:"添加成员成功"})),d.subscribe(u.RxjsEventNames.ENTER_GROUP,s.of({data:{type:u.ChatType.GROUP,signalType:u.SignalType.GROUP_JOIN,time:(new Date).getTime(),chatCode:t.groupCodeStr,srcCode:o.loginUser.userCode,userCodes:f,target:u.MessageTarget.SELF},group:t}))},error:function(e){console.log(e),d.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("添加成员失败"))}})}function g(e,t,n){var r=e.store,o=i.default.getKChat(e.rootName),a=o.fetch,c=o.rxjsEvent;a.group.delGroupMembers({userCodes:n,groupCodeStr:t.groupCodeStr}).subscribe({next:function(){t.groupMembers=t.groupMembers.filter((function(e){return!n.some((function(t){return t===e.userCode}))})),c.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of({type:u.GlobalMessageTip.SUCCESS,message:"删除成员成功"})),c.subscribe(u.RxjsEventNames.REMOVE_GROUP_MEMBER,s.of({data:{type:u.ChatType.GROUP,signalType:u.SignalType.GROUP_KICK,time:(new Date).getTime(),chatCode:t.groupCodeStr,srcCode:r.loginUser.userCode,userCodes:n,target:u.MessageTarget.SELF},group:t}))},error:function(e){console.log(e),c.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("删除成员失败"))}})}function h(e){var t=e.store,n=i.default.getKChat(e.rootName),r=n.rxjsEvent,o=n.fetch,a=t.groupList.map((function(e){return e.groupCodeStr})).filter((function(e){return e.length>0}));o.group.getGroupListInfo({groupCodeStrs:a}).subscribe({next:function(e){e.forEach((function(e,n){var r=e.groupCodeStr,o=e.groupMembers;t.groupList[n].groupCodeStr===r?t.groupList[n].groupMembers=o:t.groupList.some((function(e){e.groupCodeStr===r&&(e.groupMembers=o)}))}))},error:function(e){console.log(e),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("群详情获取失败"))}})}t.default=function(){return[o.mounted("OnLoginSuccess",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,l=a.map((function(n){return!t.selectEnable&&function(e){var t=i.default.getKChat(e.rootName),n=t.fetch,r=t.rxjsEvent;s.fromEvent(n.group,"entering_group").subscribe({next:function(e){return r.subscribe(u.RxjsEventNames.ENTER_GROUP,s.of(e))}}),s.fromEvent(n.group,"quit_group").subscribe({next:function(e){return r.subscribe(u.RxjsEventNames.QUIT_GROUP,s.of(e))}}),s.fromEvent(n.group,"dismiss").subscribe({next:function(e){return r.subscribe(u.RxjsEventNames.DISSMISS_GROUP,s.of(e))}}),s.fromEvent(n.group,"remove").subscribe({next:function(e){return r.subscribe(u.RxjsEventNames.REMOVE_GROUP_MEMBER,s.of(e))}}),s.fromEvent(n.group,"modify_group_info").subscribe({next:function(e){return r.subscribe(u.RxjsEventNames.MODIFY_GROUP_INFO,s.of(e))}})}(e),t.groupList=[],t.selectList=[],t.curChatTarget={},t.loginUser=n,o.user.getGroupList().subscribe({next:function(n){n.length>0&&(t.groupList=n.map((function(e){return e.groupMembers=[],e})),t.contactsLoaded&&h(e))},error:function(e){console.log(e),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("群列表拉取失败"))}}),o.user.on("updateUserListInfo",(function(e){t.groupList.forEach((function(t){c.updateUserListInfo(t.groupMembers,e)}))})),n}));return r.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,l),function(){return r.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,l)}})),o.mounted("LoadGroupInfo",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent,r=a.map((function(){t.contactsLoaded=!0,t.groupList.length>0&&h(e)}));return n.addPipe(u.RxjsEventNames.CONTACT_LOADED,r),function(){return n.removePipe(u.RxjsEventNames.CONTACT_LOADED,r)}})),o.mounted("GroupItemClick",(function(){var e=this,t=this.refs.containerRef,n=i.default.getKChat(this.rootName).rxjsEvent;s.fromEvent(t.current,"click").pipe(a.map((function(t){return e.refs.groupRefs.findIndex((function(e){return e.current===t.target||e.current===t.target.parentNode||e.current===t.target.parentNode.parentNode}))})),a.filter((function(t){return t>-1&&e.store.selectEnable})),a.map((function(t){return e.store.groupList[t]}))).subscribe({next:function(e){return n.subscribe(u.RxjsEventNames.MEMBER_SELECT,s.of(e))}})})),o.mounted("ShowRightMouse",(function(){var e=this.refs,t=this.store,n=i.default.getKChat(this.rootName);s.fromEvent(e.containerRef.current,"contextmenu").subscribe((function(r){t.selectEnable||e.groupRefs.some((function(o,i){if(o.current&&d.isDescendant(r.target,o.current,e.containerRef.current))return t.curGroup=t.groupList[i],n.rxjsEvent.subscribe(u.RxjsEventNames.SHOW_RIGHT_MOUSE,s.of({event:event,rightMouseType:u.RightMouseType.CONTACT_LIST,menuPos:{x:r.x-d.getElementLeft(n.store.rootDomRef.current),y:r.y-d.getElementTop(n.store.rootDomRef.current)},menus:[{label:"查看详情",name:u.RightMouseName.VIEW_GROUP_DETAILS}]})),!0}))}))})),o.mounted("ClickRightMouse",(function(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=a.map((function(n){return t.selectEnable||n.rightMouseType!==u.RightMouseType.CONTACT_LIST||(n.name===u.RightMouseName.VIEW_GROUP_DETAILS&&(e.subscribe(u.RxjsEventNames.CHAT_AREA_SHOW_GROUP,s.of(t.curGroup)),e.subscribe(u.RxjsEventNames.TOGGLE_CHAT_AREA_CONTENT,s.of(u.ChatContentType.GROUP_INFO))),t.curGroup=null),n}));return e.addPipe(u.RxjsEventNames.CLICK_RIGHT_MOUSE,n),function(){return e.removePipe(u.RxjsEventNames.CLICK_RIGHT_MOUSE,n)}})),o.mounted("GroupItemSelected",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){var n,r,o;return c.isGroup(t)&&(n=t,r=e.store.selectList,-1===(o=r.findIndex((function(e){return e.groupCodeStr===n.groupCodeStr})))?r.push(n):r.splice(o,1)),t}));return t.addPipe(u.RxjsEventNames.MEMBER_SELECT,n),function(){return t.removePipe(u.RxjsEventNames.MEMBER_SELECT,n)}})),o.mounted("GroupItemDblclick",(function(){var e=this,t=this.refs.containerRef,n=i.default.getKChat(this.rootName).rxjsEvent;s.fromEvent(t.current,"dblclick").pipe(a.map((function(t){return e.refs.groupRefs.findIndex((function(e){return e.current===t.target||e.current===t.target.parentNode||e.current===t.target.parentNode.parentNode}))})),a.filter((function(t){return t>-1&&!e.store.selectEnable})),a.map((function(t){return e.store.groupList[t]}))).subscribe({next:function(e){n.subscribe(u.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,s.of(e))}})})),o.mounted("CreateGroup",(function(){var e=this.store;if(e.selectEnable){var t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=a.map((function(t){var o=t.type,i=t.list,a=t.groupName;if(o===u.SelectMemberType.CREATE_GROUP){var c=i.map((function(e){return e.userCode}));r.group.createGroup({userCodes:c,groupName:a}).subscribe({next:function(t){n.subscribe(u.RxjsEventNames.ENTER_GROUP,s.of({data:{type:u.ChatType.GROUP,signalType:u.SignalType.GROUP_JOIN,time:(new Date).getTime(),chatCode:t.groupCodeStr,srcCode:e.loginUser.userCode,userCodes:c,target:u.MessageTarget.SELF},group:t}))},error:function(e){console.log(e),n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("创建群组失败"))}})}return t}));return n.addPipe(u.RxjsEventNames.SELECTED_MEMBER_COMMIT,o),function(){return n.removePipe(u.RxjsEventNames.SELECTED_MEMBER_COMMIT,o)}}})),o.mounted("DeleteGroupMember",(function(){var e=this,t=this.store;if(t.selectEnable){var n=i.default.getKChat(this.rootName).rxjsEvent,r=a.map((function(r){var o=r.type,i=r.list;if(o===u.SelectMemberType.GROUP_DEL_MEMBER){var a=t.curChatTarget;n.subscribe(u.RxjsEventNames.SHOW_CONFIRM,s.of({title:"确定要删除成员"+i.map((function(e){return e.userName})).join("、")+"？",content:"删除的成员将无法接受该群消息",onOk:function(){return g(e,a,i.map((function(e){return e.userCode})))}}))}return r}));return n.addPipe(u.RxjsEventNames.SELECTED_MEMBER_COMMIT,r),function(){return n.removePipe(u.RxjsEventNames.SELECTED_MEMBER_COMMIT,r)}}})),o.mounted("AddGroupMember",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent,r=a.map((function(r){var o=r.type,i=r.list;if(o===u.SelectMemberType.GROUP_ADD_MEMBER&&t.selectEnable){var a=t.curChatTarget;n.subscribe(u.RxjsEventNames.SHOW_CONFIRM,s.of({title:"确定要添加成员"+i.map((function(e){return e.userName})).join("、")+"？",content:"添加的成员可以继续删除",onOk:function(){return A(e,a,i)}}))}return r}));return n.addPipe(u.RxjsEventNames.SELECTED_MEMBER_COMMIT,r),function(){return n.removePipe(u.RxjsEventNames.SELECTED_MEMBER_COMMIT,r)}})),o.mounted("UpdateCurChatTarget",(function(){var e=this.store,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return e.curChatTarget=t,t}));return t.addPipe(u.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n),function(){return t.removePipe(u.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n)}})),o.mounted("EnterGroup",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return!e.store.selectEnable&&f(e,t.group),t}));return t.addPipe(u.RxjsEventNames.ENTER_GROUP,n),function(){return t.removePipe(u.RxjsEventNames.ENTER_GROUP,n)}})),o.mounted("QuitGroup",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent,r=a.map((function(n){if(!e.store.selectEnable){var r=n.data,o=r.userCodes,i=r.chatCode;o.some((function(e){return t.loginUser.userCode===e}))?p(e,i):f(e,n.group)}return n}));return n.addPipe(u.RxjsEventNames.QUIT_GROUP,r),function(){return n.removePipe(u.RxjsEventNames.QUIT_GROUP,r)}})),o.mounted("DismissGroup",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return!e.store.selectEnable&&p(e,t.group.groupCodeStr),t}));return t.addPipe(u.RxjsEventNames.DISSMISS_GROUP,n),function(){return t.removePipe(u.RxjsEventNames.DISSMISS_GROUP,n)}})),o.mounted("RemoveGroup",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent,r=a.map((function(n){if(!e.store.selectEnable){var r=n.data,o=r.userCodes,i=r.chatCode;o.some((function(e){return t.loginUser.userCode===e}))?p(e,i):f(e,n.group)}return n}));return n.addPipe(u.RxjsEventNames.REMOVE_GROUP_MEMBER,r),function(){return n.removePipe(u.RxjsEventNames.REMOVE_GROUP_MEMBER,r)}})),o.mounted("GroupInfoModify",(function(){var e=this.store,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return e.groupList.some((function(e){if(e.groupCodeStr===t.group.groupCodeStr)return e.groupName=t.group.groupName,!0})),t}));return t.addPipe(u.RxjsEventNames.MODIFY_GROUP_INFO,n),function(){return t.removePipe(u.RxjsEventNames.MODIFY_GROUP_INFO,n)}})),o.mounted("SearchGroup",(function(){var e=this.store,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return e.selectEnable&&(t.groups=e.groupList.filter((function(e){return e.groupName&&e.groupName.indexOf(t.key)>-1||e.groupSpell&&e.groupSpell.indexOf(t.key)>-1}))),t}));return t.addPipe(u.RxjsEventNames.SEARCH_CONTACTS,n),function(){return t.removePipe(u.RxjsEventNames.SEARCH_CONTACTS,n)}})),o.mounted("GroupOperation",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=a.map((function(n){if(e.store.selectEnable)return n;var i=n.type,a=n.userCodes,c=n.groupName,l=n.groupCodeStr;return i===u.GroupOperate.CREATE?r.subscribe(u.RxjsEventNames.SELECTED_MEMBER_COMMIT,s.of({type:u.SelectMemberType.CREATE_GROUP,list:a.map((function(e){return{userCode:e}})),groupName:c})):o.group.getGroupInfo({groupCodeStr:l}).subscribe({next:function(n){if(n){var c=t.loginUser.userCode===n.userCode;i===u.GroupOperate.QUIT||c?i===u.GroupOperate.INVITE?o.user.getUserListInfo({userCodes:a}).subscribe({next:function(t){return A(e,n,t)},error:function(e){console.log(e),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("成员信息获取失败，请检查人员编号是否正确"))}}):i===u.GroupOperate.REMOVE?g(e,n,a):i===u.GroupOperate.DISSMISS?o.group.deleteGroup(l).subscribe({next:function(){r.subscribe(u.RxjsEventNames.DISSMISS_GROUP,s.of({data:{type:u.ChatType.GROUP,signalType:u.SignalType,time:(new Date).getTime(),chatCode:l,srcCode:t.loginUser.userCode,userCodes:[t.loginUser.userCode],target:u.MessageTarget.SELF},group:n}))},error:function(e){console.log(e),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("解散群失败"))}}):i===u.GroupOperate.QUIT&&o.group.quitGroup({groupCodeStr:l}).subscribe({next:function(){r.subscribe(u.RxjsEventNames.QUIT_GROUP,s.of({data:{type:u.ChatType.GROUP,signalType:u.SignalType.GROUP_QUIT,time:(new Date).getTime(),chatCode:l,srcCode:t.loginUser.userCode,userCodes:[t.loginUser.userCode],target:u.MessageTarget.SELF},group:n}))},error:function(e){console.log(e),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("退群失败"))}}):r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("你没有该群组的操作权限"))}else r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("你不在群组内"))},error:function(e){console.log(e),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("群组信息获取失败"))}}),n}));return r.addPipe(u.RxjsEventNames.GROUP_OPERATION,c),function(){return r.removePipe(u.RxjsEventNames.GROUP_OPERATION,c)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(1),s=n(13),a=n(5),u=n(6),c=n(8);function l(e,t,n){var r=o.default.getKChat(e.rootName),a=e.refs,c=e.store;a[t+"Refs"].some((function(e,o){if(e.current&&u.isDescendant(n.target,e.current,a.containerRef.current))return c.curInfo=c[t].list[o],r.rxjsEvent.subscribe(i.RxjsEventNames.SHOW_RIGHT_MOUSE,s.of({event:n,rightMouseType:i.RightMouseType.SEARCH_RESULT,menuPos:{x:n.x-u.getElementLeft(r.store.rootDomRef.current),y:n.y-u.getElementTop(r.store.rootDomRef.current)},menus:c[t].menus,compat:["panelSearchPopup"]})),!0}))}function d(e){var t=e.store;t.topContacts.list=[],t.framework.list=[],t.groups.list=[],t.topContacts.showAll=!1,t.framework.showAll=!1,t.groups.showAll=!1,t.selectedMembersList=[],t.defaultList=[],t.curInfo={}}t.default=function(){return[r.mounted("UpdateResult",(function(){var e=this,t=this.store,n=o.default.getKChat(this.rootName).rxjsEvent,r=a.map((function(r){return t.selectEnable===r.selectEnable&&(t.selectedMembersList=r.selectedMembersList||[],t.defaultList=r.defaultList||[],""!==r.content?n.subscribe(i.RxjsEventNames.SEARCH_CONTACTS,s.of({key:r.content,topContacts:[],groups:[],framework:[]}),{next:function(e){t.topContacts.list=t.selectEnable?e.topContacts.filter((function(e){return!c.isGroup(e)})):e.topContacts,t.framework.list=e.framework,t.groups.list=e.groups,t.topContacts.showAll=!1,t.framework.showAll=!1,t.groups.showAll=!1}}):d(e)),r}));return n.addPipe(i.RxjsEventNames.SHOW_SEARCH_RESULT,r),function(){return n.removePipe(i.RxjsEventNames.SHOW_SEARCH_RESULT,r)}})),r.mounted("ShowAllContacts",(function(){var e=this.store,t=this.refs;s.fromEvent(t.topContactsShowAllRef.current,"click").subscribe({next:function(){return e.topContacts.showAll=!e.topContacts.showAll}})})),r.mounted("ShowAllFramework",(function(){var e=this.store,t=this.refs;s.fromEvent(t.frameworkShowAllRef.current,"click").subscribe({next:function(){return e.framework.showAll=!e.framework.showAll}})})),r.mounted("ShowAllGroups",(function(){var e=this.store,t=this.refs;t.groupsShowAllRef.current&&s.fromEvent(t.groupsShowAllRef.current,"click").subscribe({next:function(){return e.groups.showAll=!e.groups.showAll}})})),r.mounted("ClearState",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(){d(e)}));return t.addPipe(i.RxjsEventNames.PANEL_SEARCH_CLOSE,n),t.addPipe(i.RxjsEventNames.SELECT_MEMBER_SEARCH_CLOSE,n),function(){t.removePipe(i.RxjsEventNames.PANEL_SEARCH_CLOSE,n),t.removePipe(i.RxjsEventNames.SELECT_MEMBER_SEARCH_CLOSE,n)}})),r.mounted("UpdateChatTarget",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName),r=n.rxjsEvent,a=n.fetch;s.fromEvent(e.containerRef.current,"click").subscribe((function(n){t.selectEnable||(e.topContactsRefs.some((function(o,a){if(o.current&&u.isDescendant(n.target,o.current,e.containerRef.current))return r.subscribe(i.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,s.of(t.topContacts.list[a])),r.subscribe(i.RxjsEventNames.PANEL_SEARCH_CLOSE,s.of({})),!0})),e.frameworkRefs.some((function(o,c){if(o.current&&u.isDescendant(n.target,o.current,e.containerRef.current))return r.subscribe(i.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,a.user.getUserInfo({userCode:t.framework.list[c].userCode})),r.subscribe(i.RxjsEventNames.PANEL_SEARCH_CLOSE,s.of({})),!0})),e.groupsRefs.some((function(o,a){if(o.current&&u.isDescendant(n.target,o.current,e.containerRef.current))return r.subscribe(i.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,s.of(t.groups.list[a])),r.subscribe(i.RxjsEventNames.PANEL_SEARCH_CLOSE,s.of({})),!0})))}))})),r.mounted("MemberSelect",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName).rxjsEvent;s.fromEvent(e.containerRef.current,"click").subscribe((function(r){t.selectEnable&&(e.topContactsRefs.some((function(o,a){if(o.current&&u.isDescendant(r.target,o.current,e.containerRef.current))return n.subscribe(i.RxjsEventNames.MEMBER_SELECT,s.of(t.topContacts.list[a])),!0})),e.frameworkRefs.some((function(o,a){if(o.current&&u.isDescendant(r.target,o.current,e.containerRef.current))return n.subscribe(i.RxjsEventNames.MEMBER_SELECT,s.of(t.framework.list[a])),!0})))}))})),r.mounted("ShowRightMouse",(function(){var e=this,t=this.refs,n=this.store;s.fromEvent(t.containerRef.current,"contextmenu").subscribe((function(t){n.selectEnable||(l(e,"topContacts",t),l(e,"framework",t),l(e,"groups",t))}))})),r.mounted("ClickRightMouse",(function(){var e=o.default.getKChat(this.rootName),t=e.rxjsEvent,n=e.fetch,r=this.store,u=a.map((function(e){if(e.rightMouseType===i.RightMouseType.SEARCH_RESULT&&!r.selectEnable){switch(e.name){case i.RightMouseName.CONTACT_REMOVE:t.subscribe(i.RxjsEventNames.DELETE_CONTACT,s.of(r.curInfo));break;case i.RightMouseName.VIEW_USER_DETAILS:t.subscribe(i.RxjsEventNames.CHAT_AREA_SHOW_USER,n.user.getUserInfo({userCode:r.curInfo.userCode})),t.subscribe(i.RxjsEventNames.TOGGLE_CHAT_AREA_CONTENT,s.of(i.ChatContentType.USER_INFO));break;case i.RightMouseName.VIEW_GROUP_DETAILS:t.subscribe(i.RxjsEventNames.CHAT_AREA_SHOW_GROUP,s.of(r.curInfo)),t.subscribe(i.RxjsEventNames.TOGGLE_CHAT_AREA_CONTENT,s.of(i.ChatContentType.GROUP_INFO))}r.curInfo=null}return e}));return t.addPipe(i.RxjsEventNames.CLICK_RIGHT_MOUSE,u),function(){return t.removePipe(i.RxjsEventNames.CLICK_RIGHT_MOUSE,u)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(411),i=n(412),s=n(413);t.default=function e(t,n,a){return r.default("SearchResultPopup",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){(function(e){var n,r,o,i,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * html2canvas 1.0.0-alpha.12 <https://html2canvas.hertzen.com>
 * Copyright (c) 2018 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
i=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=/^#([a-f0-9]{3})$/i,s=/^#([a-f0-9]{6})$/i,a=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,u=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n,o=Array.isArray(t)?(n=t,[Math.min(n[0],255),Math.min(n[1],255),Math.min(n[2],255),n.length>3?n[3]:null]):function(e){var t=e.match(i);return!!t&&[parseInt(t[1][0]+t[1][0],16),parseInt(t[1][1]+t[1][1],16),parseInt(t[1][2]+t[1][2],16),null]}(t)||function(e){var t=e.match(a);return!!t&&[Number(t[1]),Number(t[2]),Number(t[3]),null]}(t)||function(e){var t=e.match(u);return!!(t&&t.length>4)&&[Number(t[1]),Number(t[2]),Number(t[3]),Number(t[4])]}(t)||l[t.toLowerCase()]||!1||function(e){var t=e.match(s);return!!t&&[parseInt(t[1].substring(0,2),16),parseInt(t[1].substring(2,4),16),parseInt(t[1].substring(4,6),16),null]}(t)||[0,0,0,null],c=r(o,4),d=c[0],f=c[1],p=c[2],A=c[3];this.r=d,this.g=f,this.b=p,this.a=A}return o(e,[{key:"isTransparent",value:function(){return 0===this.a}},{key:"toString",value:function(){return null!==this.a&&1!==this.a?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}}]),e}();t.default=c;var l={transparent:[0,0,0,0],aliceblue:[240,248,255,null],antiquewhite:[250,235,215,null],aqua:[0,255,255,null],aquamarine:[127,255,212,null],azure:[240,255,255,null],beige:[245,245,220,null],bisque:[255,228,196,null],black:[0,0,0,null],blanchedalmond:[255,235,205,null],blue:[0,0,255,null],blueviolet:[138,43,226,null],brown:[165,42,42,null],burlywood:[222,184,135,null],cadetblue:[95,158,160,null],chartreuse:[127,255,0,null],chocolate:[210,105,30,null],coral:[255,127,80,null],cornflowerblue:[100,149,237,null],cornsilk:[255,248,220,null],crimson:[220,20,60,null],cyan:[0,255,255,null],darkblue:[0,0,139,null],darkcyan:[0,139,139,null],darkgoldenrod:[184,134,11,null],darkgray:[169,169,169,null],darkgreen:[0,100,0,null],darkgrey:[169,169,169,null],darkkhaki:[189,183,107,null],darkmagenta:[139,0,139,null],darkolivegreen:[85,107,47,null],darkorange:[255,140,0,null],darkorchid:[153,50,204,null],darkred:[139,0,0,null],darksalmon:[233,150,122,null],darkseagreen:[143,188,143,null],darkslateblue:[72,61,139,null],darkslategray:[47,79,79,null],darkslategrey:[47,79,79,null],darkturquoise:[0,206,209,null],darkviolet:[148,0,211,null],deeppink:[255,20,147,null],deepskyblue:[0,191,255,null],dimgray:[105,105,105,null],dimgrey:[105,105,105,null],dodgerblue:[30,144,255,null],firebrick:[178,34,34,null],floralwhite:[255,250,240,null],forestgreen:[34,139,34,null],fuchsia:[255,0,255,null],gainsboro:[220,220,220,null],ghostwhite:[248,248,255,null],gold:[255,215,0,null],goldenrod:[218,165,32,null],gray:[128,128,128,null],green:[0,128,0,null],greenyellow:[173,255,47,null],grey:[128,128,128,null],honeydew:[240,255,240,null],hotpink:[255,105,180,null],indianred:[205,92,92,null],indigo:[75,0,130,null],ivory:[255,255,240,null],khaki:[240,230,140,null],lavender:[230,230,250,null],lavenderblush:[255,240,245,null],lawngreen:[124,252,0,null],lemonchiffon:[255,250,205,null],lightblue:[173,216,230,null],lightcoral:[240,128,128,null],lightcyan:[224,255,255,null],lightgoldenrodyellow:[250,250,210,null],lightgray:[211,211,211,null],lightgreen:[144,238,144,null],lightgrey:[211,211,211,null],lightpink:[255,182,193,null],lightsalmon:[255,160,122,null],lightseagreen:[32,178,170,null],lightskyblue:[135,206,250,null],lightslategray:[119,136,153,null],lightslategrey:[119,136,153,null],lightsteelblue:[176,196,222,null],lightyellow:[255,255,224,null],lime:[0,255,0,null],limegreen:[50,205,50,null],linen:[250,240,230,null],magenta:[255,0,255,null],maroon:[128,0,0,null],mediumaquamarine:[102,205,170,null],mediumblue:[0,0,205,null],mediumorchid:[186,85,211,null],mediumpurple:[147,112,219,null],mediumseagreen:[60,179,113,null],mediumslateblue:[123,104,238,null],mediumspringgreen:[0,250,154,null],mediumturquoise:[72,209,204,null],mediumvioletred:[199,21,133,null],midnightblue:[25,25,112,null],mintcream:[245,255,250,null],mistyrose:[255,228,225,null],moccasin:[255,228,181,null],navajowhite:[255,222,173,null],navy:[0,0,128,null],oldlace:[253,245,230,null],olive:[128,128,0,null],olivedrab:[107,142,35,null],orange:[255,165,0,null],orangered:[255,69,0,null],orchid:[218,112,214,null],palegoldenrod:[238,232,170,null],palegreen:[152,251,152,null],paleturquoise:[175,238,238,null],palevioletred:[219,112,147,null],papayawhip:[255,239,213,null],peachpuff:[255,218,185,null],peru:[205,133,63,null],pink:[255,192,203,null],plum:[221,160,221,null],powderblue:[176,224,230,null],purple:[128,0,128,null],rebeccapurple:[102,51,153,null],red:[255,0,0,null],rosybrown:[188,143,143,null],royalblue:[65,105,225,null],saddlebrown:[139,69,19,null],salmon:[250,128,114,null],sandybrown:[244,164,96,null],seagreen:[46,139,87,null],seashell:[255,245,238,null],sienna:[160,82,45,null],silver:[192,192,192,null],skyblue:[135,206,235,null],slateblue:[106,90,205,null],slategray:[112,128,144,null],slategrey:[112,128,144,null],snow:[255,250,250,null],springgreen:[0,255,127,null],steelblue:[70,130,180,null],tan:[210,180,140,null],teal:[0,128,128,null],thistle:[216,191,216,null],tomato:[255,99,71,null],turquoise:[64,224,208,null],violet:[238,130,238,null],wheat:[245,222,179,null],white:[255,255,255,null],whitesmoke:[245,245,245,null],yellow:[255,255,0,null],yellowgreen:[154,205,50,null]};t.TRANSPARENT=new c([0,0,0,0])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t.LENGTH_TYPE={PX:0,PERCENTAGE:1},i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="%"===t.substr(t.length-1)?o.PERCENTAGE:o.PX;var n=parseFloat(t);isNaN(n),this.value=isNaN(n)?0:n}return r(e,[{key:"isPercentage",value:function(){return this.type===o.PERCENTAGE}},{key:"getAbsoluteValue",value:function(e){return this.isPercentage()?e*(this.value/100):this.value}}],[{key:"create",value:function(t){return new e(t)}}]),e}();t.default=i,t.calculateLengthFromValueWithUnit=function(e,t,n){switch(n){case"px":case"%":return new i(t+n);case"em":case"rem":var r=new i(t);return r.value*="em"===n?parseFloat(e.style.font.fontSize):function e(t){var n=t.parent;return n?e(n):parseFloat(t.style.font.fontSize)}(e),r;default:return new i("0")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBoundCurves=t.calculatePaddingBoxPath=t.calculateBorderBoxPath=t.parsePathForBorder=t.parseDocumentSize=t.calculateContentBox=t.calculatePaddingBox=t.parseBounds=t.Bounds=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(7)),i=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}var a=t.Bounds=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.left=t,this.top=n,this.width=r,this.height=o}return r(e,null,[{key:"fromClientRect",value:function(t,n,r){return new e(t.left+n,t.top+r,t.width,t.height)}}]),e}(),u=(t.parseBounds=function(e,t,n){return a.fromClientRect(e.getBoundingClientRect(),t,n)},t.calculatePaddingBox=function(e,t){return new a(e.left+t[3].borderWidth,e.top+t[0].borderWidth,e.width-(t[1].borderWidth+t[3].borderWidth),e.height-(t[0].borderWidth+t[2].borderWidth))},t.calculateContentBox=function(e,t,n){var r=t[0].value,o=t[1].value,i=t[2].value,s=t[3].value;return new a(e.left+s+n[3].borderWidth,e.top+r+n[0].borderWidth,e.width-(n[1].borderWidth+n[3].borderWidth+s+o),e.height-(n[0].borderWidth+n[2].borderWidth+r+i))},t.parseDocumentSize=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),o=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new a(0,0,r,o)},t.parsePathForBorder=function(e,t){switch(t){case 0:return u(e.topLeftOuter,e.topLeftInner,e.topRightOuter,e.topRightInner);case 1:return u(e.topRightOuter,e.topRightInner,e.bottomRightOuter,e.bottomRightInner);case 2:return u(e.bottomRightOuter,e.bottomRightInner,e.bottomLeftOuter,e.bottomLeftInner);case 3:default:return u(e.bottomLeftOuter,e.bottomLeftInner,e.topLeftOuter,e.topLeftInner)}},function(e,t,n,r){var o=[];return e instanceof i.default?o.push(e.subdivide(.5,!1)):o.push(e),n instanceof i.default?o.push(n.subdivide(.5,!0)):o.push(n),r instanceof i.default?o.push(r.subdivide(.5,!0).reverse()):o.push(r),t instanceof i.default?o.push(t.subdivide(.5,!1).reverse()):o.push(t),o}),c=(t.calculateBorderBoxPath=function(e){return[e.topLeftOuter,e.topRightOuter,e.bottomRightOuter,e.bottomLeftOuter]},t.calculatePaddingBoxPath=function(e){return[e.topLeftInner,e.topRightInner,e.bottomRightInner,e.bottomLeftInner]},t.parseBoundCurves=function(e,t,n){var r=n[c.TOP_LEFT][0].getAbsoluteValue(e.width),i=n[c.TOP_LEFT][1].getAbsoluteValue(e.height),s=n[c.TOP_RIGHT][0].getAbsoluteValue(e.width),a=n[c.TOP_RIGHT][1].getAbsoluteValue(e.height),u=n[c.BOTTOM_RIGHT][0].getAbsoluteValue(e.width),d=n[c.BOTTOM_RIGHT][1].getAbsoluteValue(e.height),f=n[c.BOTTOM_LEFT][0].getAbsoluteValue(e.width),p=n[c.BOTTOM_LEFT][1].getAbsoluteValue(e.height),A=[];A.push((r+s)/e.width),A.push((f+u)/e.width),A.push((i+p)/e.height),A.push((a+d)/e.height);var g=Math.max.apply(Math,A);g>1&&(r/=g,i/=g,s/=g,a/=g,u/=g,d/=g,f/=g,p/=g);var h=e.width-s,m=e.height-d,y=e.width-u,v=e.height-p;return{topLeftOuter:r>0||i>0?l(e.left,e.top,r,i,c.TOP_LEFT):new o.default(e.left,e.top),topLeftInner:r>0||i>0?l(e.left+t[3].borderWidth,e.top+t[0].borderWidth,Math.max(0,r-t[3].borderWidth),Math.max(0,i-t[0].borderWidth),c.TOP_LEFT):new o.default(e.left+t[3].borderWidth,e.top+t[0].borderWidth),topRightOuter:s>0||a>0?l(e.left+h,e.top,s,a,c.TOP_RIGHT):new o.default(e.left+e.width,e.top),topRightInner:s>0||a>0?l(e.left+Math.min(h,e.width+t[3].borderWidth),e.top+t[0].borderWidth,h>e.width+t[3].borderWidth?0:s-t[3].borderWidth,a-t[0].borderWidth,c.TOP_RIGHT):new o.default(e.left+e.width-t[1].borderWidth,e.top+t[0].borderWidth),bottomRightOuter:u>0||d>0?l(e.left+y,e.top+m,u,d,c.BOTTOM_RIGHT):new o.default(e.left+e.width,e.top+e.height),bottomRightInner:u>0||d>0?l(e.left+Math.min(y,e.width-t[3].borderWidth),e.top+Math.min(m,e.height+t[0].borderWidth),Math.max(0,u-t[1].borderWidth),d-t[2].borderWidth,c.BOTTOM_RIGHT):new o.default(e.left+e.width-t[1].borderWidth,e.top+e.height-t[2].borderWidth),bottomLeftOuter:f>0||p>0?l(e.left,e.top+v,f,p,c.BOTTOM_LEFT):new o.default(e.left,e.top+e.height),bottomLeftInner:f>0||p>0?l(e.left+t[3].borderWidth,e.top+v,Math.max(0,f-t[3].borderWidth),p-t[2].borderWidth,c.BOTTOM_LEFT):new o.default(e.left+t[3].borderWidth,e.top+e.height-t[2].borderWidth)}},{TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3}),l=function(e,t,n,r,s){var a=(Math.sqrt(2)-1)/3*4,u=n*a,l=r*a,d=e+n,f=t+r;switch(s){case c.TOP_LEFT:return new i.default(new o.default(e,f),new o.default(e,f-l),new o.default(d-u,t),new o.default(d,t));case c.TOP_RIGHT:return new i.default(new o.default(e,t),new o.default(e+u,t),new o.default(d,f-l),new o.default(d,f));case c.BOTTOM_RIGHT:return new i.default(new o.default(d,t),new o.default(d,t+l),new o.default(e+u,f),new o.default(e,f));case c.BOTTOM_LEFT:default:return new i.default(new o.default(d,f),new o.default(d-u,f),new o.default(e,t+l),new o.default(e,t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contains=function(e,t){return 0!=(e&t)},t.distance=function(e,t){return Math.sqrt(e*e+t*t)},t.copyCSSStyles=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);"content"!==r&&t.style.setProperty(r,e.getPropertyValue(r))}return t},t.SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBackgroundImage=t.parseBackground=t.calculateBackgroundRepeatPath=t.calculateBackgroundPosition=t.calculateBackgroungPositioningArea=t.calculateBackgroungPaintingArea=t.calculateGradientBackgroundSize=t.calculateBackgroundSize=t.BACKGROUND_ORIGIN=t.BACKGROUND_CLIP=t.BACKGROUND_SIZE=t.BACKGROUND_REPEAT=void 0;var r=c(n(0)),o=c(n(1)),i=c(n(31)),s=c(n(7)),a=n(2),u=n(17);function c(e){return e&&e.__esModule?e:{default:e}}var l=t.BACKGROUND_REPEAT={REPEAT:0,NO_REPEAT:1,REPEAT_X:2,REPEAT_Y:3},d=t.BACKGROUND_SIZE={AUTO:0,CONTAIN:1,COVER:2,LENGTH:3},f=t.BACKGROUND_CLIP={BORDER_BOX:0,PADDING_BOX:1,CONTENT_BOX:2},p=t.BACKGROUND_ORIGIN=f,A=function e(t){switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t){case"contain":this.size=d.CONTAIN;break;case"cover":this.size=d.COVER;break;case"auto":this.size=d.AUTO;break;default:this.value=new o.default(t)}},g=(t.calculateBackgroundSize=function(e,t,n){var r=0,o=0,s=e.size;if(s[0].size===d.CONTAIN||s[0].size===d.COVER){var a=n.width/n.height,u=t.width/t.height;return a<u!=(s[0].size===d.COVER)?new i.default(n.width,n.width/u):new i.default(n.height*u,n.height)}return s[0].value&&(r=s[0].value.getAbsoluteValue(n.width)),s[0].size===d.AUTO&&s[1].size===d.AUTO?o=t.height:s[1].size===d.AUTO?o=r/t.width*t.height:s[1].value&&(o=s[1].value.getAbsoluteValue(n.height)),s[0].size===d.AUTO&&(r=o/t.height*t.width),new i.default(r,o)},t.calculateGradientBackgroundSize=function(e,t){var n=e.size,r=n[0].value?n[0].value.getAbsoluteValue(t.width):t.width,o=n[1].value?n[1].value.getAbsoluteValue(t.height):n[0].value?r:t.height;return new i.default(r,o)},new A("auto")),h=(t.calculateBackgroungPaintingArea=function(e,t){switch(t){case f.BORDER_BOX:return(0,a.calculateBorderBoxPath)(e);case f.PADDING_BOX:default:return(0,a.calculatePaddingBoxPath)(e)}},t.calculateBackgroungPositioningArea=function(e,t,n,r){var o=(0,a.calculatePaddingBox)(t,r);switch(e){case p.BORDER_BOX:return t;case p.CONTENT_BOX:var i=n[u.PADDING_SIDES.LEFT].getAbsoluteValue(t.width),s=n[u.PADDING_SIDES.RIGHT].getAbsoluteValue(t.width),c=n[u.PADDING_SIDES.TOP].getAbsoluteValue(t.width),l=n[u.PADDING_SIDES.BOTTOM].getAbsoluteValue(t.width);return new a.Bounds(o.left+i,o.top+c,o.width-i-s,o.height-c-l);case p.PADDING_BOX:default:return o}},t.calculateBackgroundPosition=function(e,t,n){return new s.default(e[0].getAbsoluteValue(n.width-t.width),e[1].getAbsoluteValue(n.height-t.height))},t.calculateBackgroundRepeatPath=function(e,t,n,r,o){switch(e.repeat){case l.REPEAT_X:return[new s.default(Math.round(o.left),Math.round(r.top+t.y)),new s.default(Math.round(o.left+o.width),Math.round(r.top+t.y)),new s.default(Math.round(o.left+o.width),Math.round(n.height+r.top+t.y)),new s.default(Math.round(o.left),Math.round(n.height+r.top+t.y))];case l.REPEAT_Y:return[new s.default(Math.round(r.left+t.x),Math.round(o.top)),new s.default(Math.round(r.left+t.x+n.width),Math.round(o.top)),new s.default(Math.round(r.left+t.x+n.width),Math.round(o.height+o.top)),new s.default(Math.round(r.left+t.x),Math.round(o.height+o.top))];case l.NO_REPEAT:return[new s.default(Math.round(r.left+t.x),Math.round(r.top+t.y)),new s.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y)),new s.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y+n.height)),new s.default(Math.round(r.left+t.x),Math.round(r.top+t.y+n.height))];default:return[new s.default(Math.round(o.left),Math.round(o.top)),new s.default(Math.round(o.left+o.width),Math.round(o.top)),new s.default(Math.round(o.left+o.width),Math.round(o.height+o.top)),new s.default(Math.round(o.left),Math.round(o.height+o.top))]}},t.parseBackground=function(e,t){return{backgroundColor:new r.default(e.backgroundColor),backgroundImage:v(e,t),backgroundClip:h(e.backgroundClip),backgroundOrigin:m(e.backgroundOrigin)}},function(e){switch(e){case"padding-box":return f.PADDING_BOX;case"content-box":return f.CONTENT_BOX}return f.BORDER_BOX}),m=function(e){switch(e){case"padding-box":return p.PADDING_BOX;case"content-box":return p.CONTENT_BOX}return p.BORDER_BOX},y=function(e){switch(e.trim()){case"no-repeat":return l.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return l.REPEAT_X;case"repeat-y":case"no-repeat repeat":return l.REPEAT_Y;case"repeat":return l.REPEAT}return console.error('Invalid background-repeat value "'+e+'"'),l.REPEAT},v=function(e,t){var n=C(e.backgroundImage).map((function(e){if("url"===e.method){var n=t.loadImage(e.args[0]);e.args=n?[n]:[]}return e})),r=e.backgroundPosition.split(","),o=e.backgroundRepeat.split(","),i=e.backgroundSize.split(",");return n.map((function(e,t){var n=(i[t]||"auto").trim().split(" ").map(b),s=(r[t]||"auto").trim().split(" ").map(E);return{source:e,repeat:y("string"==typeof o[t]?o[t]:o[0]),size:n.length<2?[n[0],g]:[n[0],n[1]],position:s.length<2?[s[0],s[0]]:[s[0],s[1]]}}))},b=function(e){return"auto"===e?g:new A(e)},E=function(e){switch(e){case"bottom":case"right":return new o.default("100%");case"left":case"top":return new o.default("0%");case"auto":return new o.default("0")}return new o.default(e)},C=t.parseBackgroundImage=function(e){var t=/^\s$/,n=[],r=[],o="",i=null,s="",a=0,u=0,c=function(){var e="";if(o){'"'===s.substr(0,1)&&(s=s.substr(1,s.length-2)),s&&r.push(s.trim());var t=o.indexOf("-",1)+1;"-"===o.substr(0,1)&&t>0&&(e=o.substr(0,t).toLowerCase(),o=o.substr(t)),"none"!==(o=o.toLowerCase())&&n.push({prefix:e,method:o,args:r})}r=[],o=s=""};return e.split("").forEach((function(e){if(0!==a||!t.test(e)){switch(e){case'"':i?i===e&&(i=null):i=e;break;case"(":if(i)break;if(0===a)return void(a=1);u++;break;case")":if(i)break;if(1===a){if(0===u)return a=0,void c();u--}break;case",":if(i)break;if(0===a)return void c();if(1===a&&0===u&&!o.match(/^url$/i))return r.push(s.trim()),void(s="")}0===a?o+=e:s+=e}})),c(),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PATH={VECTOR:0,BEZIER_CURVE:1,CIRCLE:2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(r=i)&&r.__esModule?r:{default:r},a=n(3),u=n(4),c=n(12),l=n(33),d=n(34),f=n(35),p=n(36),A=n(37),g=n(38),h=n(8),m=n(39),y=n(40),v=n(18),b=n(17),E=n(19),C=n(11),T=n(41),S=n(20),x=n(42),_=n(43),w=n(44),B=n(45),I=n(2),R=n(21),O=n(14),N=["INPUT","TEXTAREA","SELECT"],M=function(){function e(t,n,r,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=n,this.tagName=t.tagName,this.index=o,this.childNodes=[],this.listItems=[],"number"==typeof t.start&&(this.listStart=t.start);var a=t.ownerDocument.defaultView,M=a.pageXOffset,L=a.pageYOffset,F=a.getComputedStyle(t,null),P=(0,d.parseDisplay)(F.display),j="radio"===t.type||"checkbox"===t.type,D=(0,E.parsePosition)(F.position);if(this.style={background:j?R.INPUT_BACKGROUND:(0,u.parseBackground)(F,r),border:j?R.INPUT_BORDERS:(0,c.parseBorder)(F),borderRadius:(t instanceof a.HTMLInputElement||t instanceof HTMLInputElement)&&j?(0,R.getInputBorderRadius)(t):(0,l.parseBorderRadius)(F),color:j?R.INPUT_COLOR:new s.default(F.color),display:P,float:(0,f.parseCSSFloat)(F.float),font:(0,p.parseFont)(F),letterSpacing:(0,A.parseLetterSpacing)(F.letterSpacing),listStyle:P===d.DISPLAY.LIST_ITEM?(0,h.parseListStyle)(F):null,lineBreak:(0,g.parseLineBreak)(F.lineBreak),margin:(0,m.parseMargin)(F),opacity:parseFloat(F.opacity),overflowX:-1===N.indexOf(t.tagName)?(0,y.parseOverflow)(F.overflowX):y.OVERFLOW.HIDDEN,overflowY:-1===N.indexOf(t.tagName)?(0,y.parseOverflow)(F.overflowY):y.OVERFLOW.HIDDEN,overflow:-1===N.indexOf(t.tagName)?(0,y.parseOverflow)(F.overflow):y.OVERFLOW.HIDDEN,overflowWrap:(0,v.parseOverflowWrap)(F.overflowWrap?F.overflowWrap:F.wordWrap),padding:(0,b.parsePadding)(F),position:D,textDecoration:(0,C.parseTextDecoration)(F),textShadow:(0,T.parseTextShadow)(F.textShadow),textTransform:(0,S.parseTextTransform)(F.textTransform),transform:(0,x.parseTransform)(F),visibility:(0,_.parseVisibility)(F.visibility),wordBreak:(0,w.parseWordBreak)(F.wordBreak),zIndex:(0,B.parseZIndex)(D!==E.POSITION.STATIC?F.zIndex:"auto")},this.isTransformed()&&(t.style.transform="matrix(1,0,0,1,0,0)"),P===d.DISPLAY.LIST_ITEM){var k=(0,O.getListOwner)(this);if(k){var H=k.listItems.length;k.listItems.push(this),this.listIndex=t.hasAttribute("value")&&"number"==typeof t.value?t.value:0===H?"number"==typeof k.listStart?k.listStart:1:k.listItems[H-1].listIndex+1}}"IMG"===t.tagName&&t.addEventListener("load",(function(){i.bounds=(0,I.parseBounds)(t,M,L),i.curvedBounds=(0,I.parseBoundCurves)(i.bounds,i.style.border,i.style.borderRadius)})),this.image=U(t,r),this.bounds=j?(0,R.reformatInputBounds)((0,I.parseBounds)(t,M,L)):(0,I.parseBounds)(t,M,L),this.curvedBounds=(0,I.parseBoundCurves)(this.bounds,this.style.border,this.style.borderRadius),this.name=t.tagName.toLowerCase()+(t.id?"#"+t.id:"")+t.className.toString().split(" ").map((function(e){return e.length?"."+e:""})).join("")}return o(e,[{key:"getClipPaths",value:function(){var e=this.parent?this.parent.getClipPaths():[];return(this.style.overflowX||this.style.overflowY?!this.style.overflowX!==y.OVERFLOW.VISIBLE&&!this.style.overflowY!==y.OVERFLOW.VISIBLE:this.style.overflow!==y.OVERFLOW.VISIBLE)?e.concat([(0,I.calculatePaddingBoxPath)(this.curvedBounds)]):e}},{key:"isInFlow",value:function(){return this.isRootElement()&&!this.isFloating()&&!this.isAbsolutelyPositioned()}},{key:"isVisible",value:function(){return!(0,a.contains)(this.style.display,d.DISPLAY.NONE)&&this.style.opacity>0&&this.style.visibility===_.VISIBILITY.VISIBLE}},{key:"isAbsolutelyPositioned",value:function(){return this.style.position!==E.POSITION.STATIC&&this.style.position!==E.POSITION.RELATIVE}},{key:"isPositioned",value:function(){return this.style.position!==E.POSITION.STATIC}},{key:"isFloating",value:function(){return this.style.float!==f.FLOAT.NONE}},{key:"isRootElement",value:function(){return null===this.parent}},{key:"isTransformed",value:function(){return null!==this.style.transform}},{key:"isPositionedWithZIndex",value:function(){return this.isPositioned()&&!this.style.zIndex.auto}},{key:"isInlineLevel",value:function(){return(0,a.contains)(this.style.display,d.DISPLAY.INLINE)||(0,a.contains)(this.style.display,d.DISPLAY.INLINE_BLOCK)||(0,a.contains)(this.style.display,d.DISPLAY.INLINE_FLEX)||(0,a.contains)(this.style.display,d.DISPLAY.INLINE_GRID)||(0,a.contains)(this.style.display,d.DISPLAY.INLINE_LIST_ITEM)||(0,a.contains)(this.style.display,d.DISPLAY.INLINE_TABLE)}},{key:"isInlineBlockOrInlineTable",value:function(){return(0,a.contains)(this.style.display,d.DISPLAY.INLINE_BLOCK)||(0,a.contains)(this.style.display,d.DISPLAY.INLINE_TABLE)}}]),e}();t.default=M;var U=function(e,t){if(e instanceof e.ownerDocument.defaultView.SVGSVGElement||e instanceof SVGSVGElement){var n=new XMLSerializer;return t.loadImage("data:image/svg+xml,"+encodeURIComponent(n.serializeToString(e)))}switch(e.tagName){case"IMG":var r=e;return t.loadImage(r.currentSrc||r.src);case"CANVAS":var o=e;return t.loadCanvas(o);case"IFRAME":var i=e.getAttribute("data-html2canvas-internal-iframe-key");if(i)return i}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=r.PATH.VECTOR,this.x=t,this.y=n,isNaN(t)&&console.error("Invalid x value given for Vector"),isNaN(n)&&console.error("Invalid y value given for Vector")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseListStyle=t.parseListStyleType=t.LIST_STYLE_TYPE=t.LIST_STYLE_POSITION=void 0;var r=n(4),o=t.LIST_STYLE_POSITION={INSIDE:0,OUTSIDE:1},i=t.LIST_STYLE_TYPE={NONE:-1,DISC:0,CIRCLE:1,SQUARE:2,DECIMAL:3,CJK_DECIMAL:4,DECIMAL_LEADING_ZERO:5,LOWER_ROMAN:6,UPPER_ROMAN:7,LOWER_GREEK:8,LOWER_ALPHA:9,UPPER_ALPHA:10,ARABIC_INDIC:11,ARMENIAN:12,BENGALI:13,CAMBODIAN:14,CJK_EARTHLY_BRANCH:15,CJK_HEAVENLY_STEM:16,CJK_IDEOGRAPHIC:17,DEVANAGARI:18,ETHIOPIC_NUMERIC:19,GEORGIAN:20,GUJARATI:21,GURMUKHI:22,HEBREW:22,HIRAGANA:23,HIRAGANA_IROHA:24,JAPANESE_FORMAL:25,JAPANESE_INFORMAL:26,KANNADA:27,KATAKANA:28,KATAKANA_IROHA:29,KHMER:30,KOREAN_HANGUL_FORMAL:31,KOREAN_HANJA_FORMAL:32,KOREAN_HANJA_INFORMAL:33,LAO:34,LOWER_ARMENIAN:35,MALAYALAM:36,MONGOLIAN:37,MYANMAR:38,ORIYA:39,PERSIAN:40,SIMP_CHINESE_FORMAL:41,SIMP_CHINESE_INFORMAL:42,TAMIL:43,TELUGU:44,THAI:45,TIBETAN:46,TRAD_CHINESE_FORMAL:47,TRAD_CHINESE_INFORMAL:48,UPPER_ARMENIAN:49,DISCLOSURE_OPEN:50,DISCLOSURE_CLOSED:51},s=t.parseListStyleType=function(e){switch(e){case"disc":return i.DISC;case"circle":return i.CIRCLE;case"square":return i.SQUARE;case"decimal":return i.DECIMAL;case"cjk-decimal":return i.CJK_DECIMAL;case"decimal-leading-zero":return i.DECIMAL_LEADING_ZERO;case"lower-roman":return i.LOWER_ROMAN;case"upper-roman":return i.UPPER_ROMAN;case"lower-greek":return i.LOWER_GREEK;case"lower-alpha":return i.LOWER_ALPHA;case"upper-alpha":return i.UPPER_ALPHA;case"arabic-indic":return i.ARABIC_INDIC;case"armenian":return i.ARMENIAN;case"bengali":return i.BENGALI;case"cambodian":return i.CAMBODIAN;case"cjk-earthly-branch":return i.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return i.CJK_HEAVENLY_STEM;case"cjk-ideographic":return i.CJK_IDEOGRAPHIC;case"devanagari":return i.DEVANAGARI;case"ethiopic-numeric":return i.ETHIOPIC_NUMERIC;case"georgian":return i.GEORGIAN;case"gujarati":return i.GUJARATI;case"gurmukhi":return i.GURMUKHI;case"hebrew":return i.HEBREW;case"hiragana":return i.HIRAGANA;case"hiragana-iroha":return i.HIRAGANA_IROHA;case"japanese-formal":return i.JAPANESE_FORMAL;case"japanese-informal":return i.JAPANESE_INFORMAL;case"kannada":return i.KANNADA;case"katakana":return i.KATAKANA;case"katakana-iroha":return i.KATAKANA_IROHA;case"khmer":return i.KHMER;case"korean-hangul-formal":return i.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return i.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return i.KOREAN_HANJA_INFORMAL;case"lao":return i.LAO;case"lower-armenian":return i.LOWER_ARMENIAN;case"malayalam":return i.MALAYALAM;case"mongolian":return i.MONGOLIAN;case"myanmar":return i.MYANMAR;case"oriya":return i.ORIYA;case"persian":return i.PERSIAN;case"simp-chinese-formal":return i.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return i.SIMP_CHINESE_INFORMAL;case"tamil":return i.TAMIL;case"telugu":return i.TELUGU;case"thai":return i.THAI;case"tibetan":return i.TIBETAN;case"trad-chinese-formal":return i.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return i.TRAD_CHINESE_INFORMAL;case"upper-armenian":return i.UPPER_ARMENIAN;case"disclosure-open":return i.DISCLOSURE_OPEN;case"disclosure-closed":return i.DISCLOSURE_CLOSED;case"none":default:return i.NONE}},a=(t.parseListStyle=function(e){var t=(0,r.parseBackgroundImage)(e.getPropertyValue("list-style-image"));return{listStyleType:s(e.getPropertyValue("list-style-type")),listStyleImage:t.length?t[0]:null,listStylePosition:a(e.getPropertyValue("list-style-position"))}},function(e){switch(e){case"inside":return o.INSIDE;case"outside":default:return o.OUTSIDE}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(20),i=n(22),s=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.parent=n,this.bounds=r}return r(e,null,[{key:"fromTextNode",value:function(t,n){var r=u(t.data,n.style.textTransform);return new e(r,n,(0,i.parseTextBounds)(r,n,t))}}]),e}();t.default=s;var a=/(^|\s|:|-|\(|\))([a-z])/g,u=function(e,t){switch(t){case o.TEXT_TRANSFORM.LOWERCASE:return e.toLowerCase();case o.TEXT_TRANSFORM.CAPITALIZE:return e.replace(a,c);case o.TEXT_TRANSFORM.UPPERCASE:return e.toUpperCase();default:return e}};function c(e,t,n){return e.length>0?t+n.toUpperCase():e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),o=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},i={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),o=Math.round(r.height);if(e.body.removeChild(n),123===o)return!0}}return!1}(document);return Object.defineProperty(i,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(i,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_BASE64_DRAWING(){return function(e){var t=function(e,t){var n=new Image,r=e.createElement("canvas"),o=r.getContext("2d");return new Promise((function(e){n.src=t;var i=function(){try{o.drawImage(n,0,0),r.toDataURL()}catch(t){return e(!1)}return e(!0)};n.onload=i,n.onerror=function(){return e(!1)},!0===n.complete&&setTimeout((function(){i()}),500)}))}(document,e);return Object.defineProperty(i,"SUPPORT_BASE64_DRAWING",{value:function(){return t}}),t}},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var i=new Image,s=t.toDataURL();i.src=s;var a=(0,r.createForeignObjectSVG)(100,100,0,0,i);return n.fillStyle="red",n.fillRect(0,0,100,100),(0,r.loadSerializedSVG)(a).then((function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var a=e.createElement("div");return a.style.backgroundImage="url("+s+")",a.style.height="100px",o(i)?(0,r.loadSerializedSVG)((0,r.createForeignObjectSVG)(100,100,0,0,a)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),o(n.getImageData(0,0,100,100).data)})).catch((function(e){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(i,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(i,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(i,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(i,"SUPPORT_CORS_XHR",{value:e}),e}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextDecoration=t.TEXT_DECORATION_LINE=t.TEXT_DECORATION=t.TEXT_DECORATION_STYLE=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},s=t.TEXT_DECORATION_STYLE={SOLID:0,DOUBLE:1,DOTTED:2,DASHED:3,WAVY:4},a=t.TEXT_DECORATION={NONE:null},u=t.TEXT_DECORATION_LINE={UNDERLINE:1,OVERLINE:2,LINE_THROUGH:3,BLINK:4},c=function(e){switch(e){case"underline":return u.UNDERLINE;case"overline":return u.OVERLINE;case"line-through":return u.LINE_THROUGH}return u.BLINK};t.parseTextDecoration=function(e){var t,n="none"===(t=e.textDecorationLine?e.textDecorationLine:e.textDecoration)?null:t.split(" ").map(c);return null===n?a.NONE:{textDecorationLine:n,textDecorationColor:e.textDecorationColor?new i.default(e.textDecorationColor):null,textDecorationStyle:function(e){switch(e){case"double":return s.DOUBLE;case"dotted":return s.DOTTED;case"dashed":return s.DASHED;case"wavy":return s.WAVY}return s.SOLID}(e.textDecorationStyle)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorder=t.BORDER_SIDES=t.BORDER_STYLE=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},s=t.BORDER_STYLE={NONE:0,SOLID:1},a=t.BORDER_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},u=Object.keys(a).map((function(e){return e.toLowerCase()}));t.parseBorder=function(e){return u.map((function(t){var n=new i.default(e.getPropertyValue("border-"+t+"-color")),r=function(e){switch(e){case"none":return s.NONE}return s.SOLID}(e.getPropertyValue("border-"+t+"-style")),o=parseFloat(e.getPropertyValue("border-"+t+"-width"));return{borderColor:n,borderStyle:r,borderWidth:isNaN(o)?0:o}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCodePoints=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t},t.fromCodePoint=function(){if(String.fromCodePoint)return String.fromCodePoint.apply(String,arguments);var e=arguments.length;if(!e)return"";for(var t=[],n=-1,r="";++n<e;){var o=arguments.length<=n?void 0:arguments[n];o<=65535?t.push(o):(o-=65536,t.push(55296+(o>>10),o%1024+56320)),(n+1===e||t.length>16384)&&(r+=String.fromCharCode.apply(String,t),t.length=0)}return r};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="undefined"==typeof Uint8Array?[]:new Uint8Array(256),i=0;i<r.length;i++)o[r.charCodeAt(i)]=i;t.decode=function(e){var t=.75*e.length,n=e.length,r=void 0,i=0,s=void 0,a=void 0,u=void 0,c=void 0;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(t):new Array(t),d=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)s=o[e.charCodeAt(r)],a=o[e.charCodeAt(r+1)],u=o[e.charCodeAt(r+2)],c=o[e.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(15&a)<<4|u>>2,d[i++]=(3&u)<<6|63&c;return l},t.polyUint16Array=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},t.polyUint32Array=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCounterText=t.inlineListItemElement=t.getListOwner=void 0;var r=n(3),o=u(n(6)),i=u(n(9)),s=n(8),a=n(24);function u(e){return e&&e.__esModule?e:{default:e}}var c=["OL","UL","MENU"],l=(t.getListOwner=function(e){var t=e.parent;if(!t)return null;do{if(-1!==c.indexOf(t.tagName))return t;t=t.parent}while(t);return e.parent},t.inlineListItemElement=function(e,t,n){var a=t.style.listStyle;if(a){var u=e.ownerDocument.defaultView.getComputedStyle(e,null),c=e.ownerDocument.createElement("html2canvaswrapper");switch((0,r.copyCSSStyles)(u,c),c.style.position="absolute",c.style.bottom="auto",c.style.display="block",c.style.letterSpacing="normal",a.listStylePosition){case s.LIST_STYLE_POSITION.OUTSIDE:c.style.left="auto",c.style.right=e.ownerDocument.defaultView.innerWidth-t.bounds.left-t.style.margin[1].getAbsoluteValue(t.bounds.width)+7+"px",c.style.textAlign="right";break;case s.LIST_STYLE_POSITION.INSIDE:c.style.left=t.bounds.left-t.style.margin[3].getAbsoluteValue(t.bounds.width)+"px",c.style.right="auto",c.style.textAlign="left"}var l=void 0,d=t.style.margin[0].getAbsoluteValue(t.bounds.width),f=a.listStyleImage;if(f)if("url"===f.method){var p=e.ownerDocument.createElement("img");p.src=f.args[0],c.style.top=t.bounds.top-d+"px",c.style.width="auto",c.style.height="auto",c.appendChild(p)}else{var A=.5*parseFloat(t.style.font.fontSize);c.style.top=t.bounds.top-d+t.bounds.height-1.5*A+"px",c.style.width=A+"px",c.style.height=A+"px",c.style.backgroundImage=u.listStyleImage}else"number"==typeof t.listIndex&&(l=e.ownerDocument.createTextNode(v(t.listIndex,a.listStyleType,!0)),c.appendChild(l),c.style.top=t.bounds.top-d+"px");var g=e.ownerDocument.body;g.appendChild(c),l?(t.childNodes.push(i.default.fromTextNode(l,t)),g.removeChild(c)):t.childNodes.push(new o.default(c,t,n,0))}},{integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]}),d={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},f={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},p={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},A=function(e,t,n,r,o,i){return e<t||e>n?v(e,o,i.length>0):r.integers.reduce((function(t,n,o){for(;e>=n;)e-=n,t+=r.values[o];return t}),"")+i},g=function(e,t,n,r){var o="";do{n||e--,o=r(e)+o,e/=t}while(e*t>=t);return o},h=function(e,t,n,r,o){var i=n-t+1;return(e<0?"-":"")+(g(Math.abs(e),i,r,(function(e){return(0,a.fromCodePoint)(Math.floor(e%i)+t)}))+o)},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:". ",r=t.length;return g(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},y=function(e,t,n,o,i,a){if(e<-9999||e>9999)return v(e,s.LIST_STYLE_TYPE.CJK_DECIMAL,i.length>0);var u=Math.abs(e),c=i;if(0===u)return t[0]+c;for(var l=0;u>0&&l<=4;l++){var d=u%10;0===d&&(0,r.contains)(a,1)&&""!==c?c=t[d]+c:d>1||1===d&&0===l||1===d&&1===l&&(0,r.contains)(a,2)||1===d&&1===l&&(0,r.contains)(a,4)&&e>100||1===d&&l>1&&(0,r.contains)(a,8)?c=t[d]+(l>0?n[l-1]:"")+c:1===d&&l>0&&(c=n[l-1]+c),u=Math.floor(u/10)}return(e<0?o:"")+c},v=t.createCounterText=function(e,t,n){var r=n?". ":"",o=n?"、":"",i=n?", ":"";switch(t){case s.LIST_STYLE_TYPE.DISC:return"•";case s.LIST_STYLE_TYPE.CIRCLE:return"◦";case s.LIST_STYLE_TYPE.SQUARE:return"◾";case s.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:var a=h(e,48,57,!0,r);return a.length<4?"0"+a:a;case s.LIST_STYLE_TYPE.CJK_DECIMAL:return m(e,"〇一二三四五六七八九",o);case s.LIST_STYLE_TYPE.LOWER_ROMAN:return A(e,1,3999,l,s.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case s.LIST_STYLE_TYPE.UPPER_ROMAN:return A(e,1,3999,l,s.LIST_STYLE_TYPE.DECIMAL,r);case s.LIST_STYLE_TYPE.LOWER_GREEK:return h(e,945,969,!1,r);case s.LIST_STYLE_TYPE.LOWER_ALPHA:return h(e,97,122,!1,r);case s.LIST_STYLE_TYPE.UPPER_ALPHA:return h(e,65,90,!1,r);case s.LIST_STYLE_TYPE.ARABIC_INDIC:return h(e,1632,1641,!0,r);case s.LIST_STYLE_TYPE.ARMENIAN:case s.LIST_STYLE_TYPE.UPPER_ARMENIAN:return A(e,1,9999,d,s.LIST_STYLE_TYPE.DECIMAL,r);case s.LIST_STYLE_TYPE.LOWER_ARMENIAN:return A(e,1,9999,d,s.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case s.LIST_STYLE_TYPE.BENGALI:return h(e,2534,2543,!0,r);case s.LIST_STYLE_TYPE.CAMBODIAN:case s.LIST_STYLE_TYPE.KHMER:return h(e,6112,6121,!0,r);case s.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:return m(e,"子丑寅卯辰巳午未申酉戌亥",o);case s.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:return m(e,"甲乙丙丁戊己庚辛壬癸",o);case s.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:case s.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:return y(e,"零一二三四五六七八九","十百千萬","負",o,14);case s.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:return y(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",o,15);case s.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:return y(e,"零一二三四五六七八九","十百千萬","负",o,14);case s.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:return y(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",o,15);case s.LIST_STYLE_TYPE.JAPANESE_INFORMAL:return y(e,"〇一二三四五六七八九","十百千万","マイナス",o,0);case s.LIST_STYLE_TYPE.JAPANESE_FORMAL:return y(e,"零壱弐参四伍六七八九","拾百千万","マイナス",o,7);case s.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:return y(e,"영일이삼사오육칠팔구","십백천만","마이너스",i,7);case s.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:return y(e,"零一二三四五六七八九","十百千萬","마이너스",i,0);case s.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:return y(e,"零壹貳參四五六七八九","拾百千","마이너스",i,7);case s.LIST_STYLE_TYPE.DEVANAGARI:return h(e,2406,2415,!0,r);case s.LIST_STYLE_TYPE.GEORGIAN:return A(e,1,19999,p,s.LIST_STYLE_TYPE.DECIMAL,r);case s.LIST_STYLE_TYPE.GUJARATI:return h(e,2790,2799,!0,r);case s.LIST_STYLE_TYPE.GURMUKHI:return h(e,2662,2671,!0,r);case s.LIST_STYLE_TYPE.HEBREW:return A(e,1,10999,f,s.LIST_STYLE_TYPE.DECIMAL,r);case s.LIST_STYLE_TYPE.HIRAGANA:return m(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case s.LIST_STYLE_TYPE.HIRAGANA_IROHA:return m(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case s.LIST_STYLE_TYPE.KANNADA:return h(e,3302,3311,!0,r);case s.LIST_STYLE_TYPE.KATAKANA:return m(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",o);case s.LIST_STYLE_TYPE.KATAKANA_IROHA:return m(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",o);case s.LIST_STYLE_TYPE.LAO:return h(e,3792,3801,!0,r);case s.LIST_STYLE_TYPE.MONGOLIAN:return h(e,6160,6169,!0,r);case s.LIST_STYLE_TYPE.MYANMAR:return h(e,4160,4169,!0,r);case s.LIST_STYLE_TYPE.ORIYA:return h(e,2918,2927,!0,r);case s.LIST_STYLE_TYPE.PERSIAN:return h(e,1776,1785,!0,r);case s.LIST_STYLE_TYPE.TAMIL:return h(e,3046,3055,!0,r);case s.LIST_STYLE_TYPE.TELUGU:return h(e,3174,3183,!0,r);case s.LIST_STYLE_TYPE.THAI:return h(e,3664,3673,!0,r);case s.LIST_STYLE_TYPE.TIBETAN:return h(e,3872,3881,!0,r);case s.LIST_STYLE_TYPE.DECIMAL:default:return h(e,48,57,!0,r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5),i=n(11),s=function(e,t){var n=Math.max.apply(null,e.colorStops.map((function(e){return e.stop}))),r=1/Math.max(1,n);e.colorStops.forEach((function(e){t.addColorStop(r*e.stop,e.color.toString())}))},a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t||document.createElement("canvas")}return r(e,[{key:"render",value:function(e){this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x,-e.y),this.ctx.textBaseline="bottom",e.logger.log("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+this.options.scale)}},{key:"clip",value:function(e,t){var n=this;e.length&&(this.ctx.save(),e.forEach((function(e){n.path(e),n.ctx.clip()}))),t(),e.length&&this.ctx.restore()}},{key:"drawImage",value:function(e,t,n){this.ctx.drawImage(e,t.left,t.top,t.width,t.height,n.left,n.top,n.width,n.height)}},{key:"drawShape",value:function(e,t){this.path(e),this.ctx.fillStyle=t.toString(),this.ctx.fill()}},{key:"fill",value:function(e){this.ctx.fillStyle=e.toString(),this.ctx.fill()}},{key:"getTarget",value:function(){return this.canvas.getContext("2d").setTransform(1,0,0,1,0,0),Promise.resolve(this.canvas)}},{key:"path",value:function(e){var t=this;this.ctx.beginPath(),Array.isArray(e)?e.forEach((function(e,n){var r=e.type===o.PATH.VECTOR?e:e.start;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),e.type===o.PATH.BEZIER_CURVE&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})):this.ctx.arc(e.x+e.radius,e.y+e.radius,e.radius,0,2*Math.PI,!0),this.ctx.closePath()}},{key:"rectangle",value:function(e,t,n,r,o){this.ctx.fillStyle=o.toString(),this.ctx.fillRect(e,t,n,r)}},{key:"renderLinearGradient",value:function(e,t){var n=this.ctx.createLinearGradient(e.left+t.direction.x1,e.top+t.direction.y1,e.left+t.direction.x0,e.top+t.direction.y0);s(t,n),this.ctx.fillStyle=n,this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRadialGradient",value:function(e,t){var n=this,r=e.left+t.center.x,o=e.top+t.center.y,i=this.ctx.createRadialGradient(r,o,0,r,o,t.radius.x);if(i)if(s(t,i),this.ctx.fillStyle=i,t.radius.x!==t.radius.y){var a=e.left+.5*e.width,u=e.top+.5*e.height,c=t.radius.y/t.radius.x,l=1/c;this.transform(a,u,[1,0,0,c,0,0],(function(){return n.ctx.fillRect(e.left,l*(e.top-u)+u,e.width,e.height*l)}))}else this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRepeat",value:function(e,t,n,r,o){this.path(e),this.ctx.fillStyle=this.ctx.createPattern(this.resizeImage(t,n),"repeat"),this.ctx.translate(r,o),this.ctx.fill(),this.ctx.translate(-r,-o)}},{key:"renderTextNode",value:function(e,t,n,r,o){var s=this;this.ctx.font=[n.fontStyle,n.fontVariant,n.fontWeight,n.fontSize,n.fontFamily].join(" "),e.forEach((function(e){if(s.ctx.fillStyle=t.toString(),o&&e.text.trim().length?o.slice(0).reverse().forEach((function(t){s.ctx.shadowColor=t.color.toString(),s.ctx.shadowOffsetX=t.offsetX*s.options.scale,s.ctx.shadowOffsetY=t.offsetY*s.options.scale,s.ctx.shadowBlur=t.blur,s.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)})):s.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height),null!==r){var a=r.textDecorationColor||t;r.textDecorationLine.forEach((function(t){switch(t){case i.TEXT_DECORATION_LINE.UNDERLINE:var r=s.options.fontMetrics.getMetrics(n).baseline;s.rectangle(e.bounds.left,Math.round(e.bounds.top+r),e.bounds.width,1,a);break;case i.TEXT_DECORATION_LINE.OVERLINE:s.rectangle(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1,a);break;case i.TEXT_DECORATION_LINE.LINE_THROUGH:var o=s.options.fontMetrics.getMetrics(n).middle;s.rectangle(e.bounds.left,Math.ceil(e.bounds.top+o),e.bounds.width,1,a)}}))}}))}},{key:"resizeImage",value:function(e,t){if(e.width===t.width&&e.height===t.height)return e;var n=this.canvas.ownerDocument.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),n}},{key:"setOpacity",value:function(e){this.ctx.globalAlpha=e}},{key:"transform",value:function(e,t,n,r){this.ctx.save(),this.ctx.translate(e,t),this.ctx.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.ctx.translate(-e,-t),r(),this.ctx.restore()}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled="undefined"!=typeof window&&t,this.start=r||Date.now(),this.id=n}return r(e,[{key:"child",value:function(t){return new e(this.enabled,t,this.start)}},{key:"log",value:function(){if(this.enabled&&window.console&&window.console.log){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}},{key:"error",value:function(){if(this.enabled&&window.console&&window.console.error){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.error,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadding=t.PADDING_SIDES=void 0;var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};t.PADDING_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3};var s=["top","right","bottom","left"];t.parsePadding=function(e){return s.map((function(t){return new i.default(e.getPropertyValue("padding-"+t))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW_WRAP={NORMAL:0,BREAK_WORD:1};t.parseOverflowWrap=function(e){switch(e){case"break-word":return r.BREAK_WORD;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.POSITION={STATIC:0,RELATIVE:1,ABSOLUTE:2,FIXED:3,STICKY:4};t.parsePosition=function(e){switch(e){case"relative":return r.RELATIVE;case"absolute":return r.ABSOLUTE;case"fixed":return r.FIXED;case"sticky":return r.STICKY}return r.STATIC}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.TEXT_TRANSFORM={NONE:0,LOWERCASE:1,UPPERCASE:2,CAPITALIZE:3};t.parseTextTransform=function(e){switch(e){case"uppercase":return r.UPPERCASE;case"lowercase":return r.LOWERCASE;case"capitalize":return r.CAPITALIZE}return r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reformatInputBounds=t.inlineSelectElement=t.inlineTextAreaElement=t.inlineInputElement=t.getInputBorderRadius=t.INPUT_BACKGROUND=t.INPUT_BORDERS=t.INPUT_COLOR=void 0;var r=d(n(9)),o=n(4),i=n(12),s=d(n(50)),a=d(n(7)),u=d(n(0)),c=d(n(1)),l=(n(2),n(22),n(3));function d(e){return e&&e.__esModule?e:{default:e}}t.INPUT_COLOR=new u.default([42,42,42]);var f=new u.default([165,165,165]),p=new u.default([222,222,222]),A={borderWidth:1,borderColor:f,borderStyle:i.BORDER_STYLE.SOLID},g=(t.INPUT_BORDERS=[A,A,A,A],t.INPUT_BACKGROUND={backgroundColor:p,backgroundImage:[],backgroundClip:o.BACKGROUND_CLIP.PADDING_BOX,backgroundOrigin:o.BACKGROUND_ORIGIN.PADDING_BOX},new c.default("50%")),h=[g,g],m=[h,h,h,h],y=new c.default("3px"),v=[y,y],b=[v,v,v,v],E=(t.getInputBorderRadius=function(e){return"radio"===e.type?m:b},t.inlineInputElement=function(e,t){if("radio"===e.type||"checkbox"===e.type){if(e.checked){var n=Math.min(t.bounds.width,t.bounds.height);t.childNodes.push("checkbox"===e.type?[new a.default(t.bounds.left+.39363*n,t.bounds.top+.79*n),new a.default(t.bounds.left+.16*n,t.bounds.top+.5549*n),new a.default(t.bounds.left+.27347*n,t.bounds.top+.44071*n),new a.default(t.bounds.left+.39694*n,t.bounds.top+.5649*n),new a.default(t.bounds.left+.72983*n,t.bounds.top+.23*n),new a.default(t.bounds.left+.84*n,t.bounds.top+.34085*n),new a.default(t.bounds.left+.39363*n,t.bounds.top+.79*n)]:new s.default(t.bounds.left+n/4,t.bounds.top+n/4,n/4))}}else E(C(e),e,t,!1)},t.inlineTextAreaElement=function(e,t){E(e.value,e,t,!0)},t.inlineSelectElement=function(e,t){var n=e.options[e.selectedIndex||0];E(n&&n.text||"",e,t,!1)},t.reformatInputBounds=function(e){return e.width>e.height?(e.left+=(e.width-e.height)/2,e.width=e.height):e.width<e.height&&(e.top+=(e.height-e.width)/2,e.height=e.width),e},function(e,t,n,o){var i=t.ownerDocument.body;if(e.length>0&&i){var s=t.ownerDocument.createElement("html2canvaswrapper");(0,l.copyCSSStyles)(t.ownerDocument.defaultView.getComputedStyle(t,null),s),s.style.position="absolute",s.style.left=n.bounds.left+"px",s.style.top=n.bounds.top+"px",o||(s.style.whiteSpace="nowrap");var a=t.ownerDocument.createTextNode(e);s.appendChild(a),i.appendChild(s),n.childNodes.push(r.default.fromTextNode(a,n)),i.removeChild(s)}}),C=function(e){var t="password"===e.type?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextBounds=t.TextBounds=void 0;var r,o=n(2),i=n(11),s=n(10),a=(r=s)&&r.__esModule?r:{default:r},u=n(24),c=t.TextBounds=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.bounds=n},l=(t.parseTextBounds=function(e,t,n){for(var r=0!==t.style.letterSpacing?(0,u.toCodePoints)(e).map((function(e){return(0,u.fromCodePoint)(e)})):(0,u.breakWords)(e,t),o=r.length,s=n.parentNode?n.parentNode.ownerDocument.defaultView:null,f=s?s.pageXOffset:0,p=s?s.pageYOffset:0,A=[],g=0,h=0;h<o;h++){var m=r[h];if(t.style.textDecoration!==i.TEXT_DECORATION.NONE||m.trim().length>0)if(a.default.SUPPORT_RANGE_BOUNDS)A.push(new c(m,d(n,g,m.length,f,p)));else{var y=n.splitText(m.length);A.push(new c(m,l(n,f,p))),n=y}else a.default.SUPPORT_RANGE_BOUNDS||(n=n.splitText(m.length));g+=m.length}return A},function(e,t,n){var r=e.ownerDocument.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=(0,o.parseBounds)(r,t,n);return r.firstChild&&i.replaceChild(r.firstChild,r),s}return new o.Bounds(0,0,0,0)}),d=function(e,t,n,r,i){var s=e.ownerDocument.createRange();return s.setStart(e,t),s.setEnd(e,t+n),o.Bounds.fromClientRect(s.getBoundingClientRect(),r,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t}return r(e,[{key:"render",value:function(e){var t=this;this.options=e,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(e.width)*e.scale,this.canvas.height=Math.floor(e.height)*e.scale,this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",e.logger.log("ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale);var n=i(Math.max(e.windowWidth,e.width)*e.scale,Math.max(e.windowHeight,e.height)*e.scale,e.scrollX*e.scale,e.scrollY*e.scale,this.element);return s(n).then((function(n){return e.backgroundColor&&(t.ctx.fillStyle=e.backgroundColor.toString(),t.ctx.fillRect(0,0,e.width*e.scale,e.height*e.scale)),t.ctx.drawImage(n,-e.x*e.scale,-e.y*e.scale),t.canvas}))}}]),e}();t.default=o;var i=t.createForeignObjectSVG=function(e,t,n,r,o){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",e),s.setAttributeNS(null,"height",t),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n),a.setAttributeNS(null,"y",r),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(o),s},s=t.loadSerializedSVG=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.breakWords=t.fromCodePoint=t.toCodePoints=void 0;var r=n(46);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});var o=n(18);t.breakWords=function(e,t){for(var n=(0,r.LineBreaker)(e,{lineBreak:t.style.lineBreak,wordBreak:t.style.overflowWrap===o.OVERFLOW_WRAP.BREAK_WORD?"break-word":t.style.wordBreak}),i=[],s=void 0;!(s=n.next()).done;)i.push(s.value.slice());return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontMetrics=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3);t.FontMetrics=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={},this._document=t}return r(e,[{key:"_parseMetrics",value:function(e){var t=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),i=this._document.body;if(!i)throw new Error("No document found for font metrics");t.style.visibility="hidden",t.style.fontFamily=e.fontFamily,t.style.fontSize=e.fontSize,t.style.margin="0",t.style.padding="0",i.appendChild(t),n.src=o.SMALL_IMAGE,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=e.fontFamily,r.style.fontSize=e.fontSize,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode("Hidden Text")),t.appendChild(r),t.appendChild(n);var s=n.offsetTop-r.offsetTop+2;t.removeChild(r),t.appendChild(this._document.createTextNode("Hidden Text")),t.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-t.offsetTop+2;return i.removeChild(t),{baseline:s,middle:a}}},{key:"getMetrics",value:function(e){var t=e.fontFamily+" "+e.fontSize;return void 0===this._data[t]&&(this._data[t]=this._parseMetrics(e)),this._data[t]}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Proxy=void 0;var r,o=n(10),i=(r=o)&&r.__esModule?r:{default:r};t.Proxy=function(e,t){if(!t.proxy)return Promise.reject("No proxy defined");var n=t.proxy;return new Promise((function(r,o){var s=i.default.SUPPORT_CORS_XHR&&i.default.SUPPORT_RESPONSE_TYPE?"blob":"text",a=i.default.SUPPORT_CORS_XHR?new XMLHttpRequest:new XDomainRequest;if(a.onload=function(){if(a instanceof XMLHttpRequest)if(200===a.status)if("text"===s)r(a.response);else{var t=new FileReader;t.addEventListener("load",(function(){return r(t.result)}),!1),t.addEventListener("error",(function(e){return o(e)}),!1),t.readAsDataURL(a.response)}else o("Failed to proxy resource "+e.substring(0,256)+" with status code "+a.status);else r(a.responseText)},a.onerror=o,a.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),t.imageTimeout){var u=t.imageTimeout;a.timeout=u,a.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+e.substring(0,256))}}a.send()}))}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(n(15)),i=a(n(16)),s=n(28);function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){var n=t||{},a=new i.default("boolean"!=typeof n.logging||n.logging);a.log("html2canvas 1.0.0-alpha.12"),"function"==typeof n.onrendered&&a.error("onrendered option is deprecated, html2canvas returns a Promise with the canvas as the value");var u=e.ownerDocument;if(!u)return Promise.reject("Provided element is not within a Document");var c=u.defaultView,l={async:!0,allowTaint:!1,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,scale:c.devicePixelRatio||1,target:new o.default(n.canvas),useCORS:!1,windowWidth:c.innerWidth,windowHeight:c.innerHeight,scrollX:c.pageXOffset,scrollY:c.pageYOffset},d=(0,s.renderElement)(e,r({},l,n),a);return d.catch((function(e){throw a.error(e),e}))};u.CanvasRenderer=o.default,e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderElement=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=(p(n(16)),n(29)),i=p(n(51)),s=p(n(23)),a=p(n(10)),u=n(2),c=n(54),l=n(25),d=n(0),f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}t.renderElement=function e(t,n,p){var A=t.ownerDocument,g=new u.Bounds(n.scrollX,n.scrollY,n.windowWidth,n.windowHeight),h=A.documentElement?new f.default(getComputedStyle(A.documentElement).backgroundColor):d.TRANSPARENT,m=A.body?new f.default(getComputedStyle(A.body).backgroundColor):d.TRANSPARENT,y=t===A.documentElement?h.isTransparent()?m.isTransparent()?n.backgroundColor?new f.default(n.backgroundColor):null:m:h:n.backgroundColor?new f.default(n.backgroundColor):null;return(n.foreignObjectRendering?a.default.SUPPORT_FOREIGNOBJECT_DRAWING:Promise.resolve(!1)).then((function(a){return a?(f=new c.DocumentCloner(t,n,p,!0,e),p.log("Document cloned, using foreignObject rendering"),f.inlineFonts(A).then((function(){return f.resourceLoader.ready()})).then((function(){var e=new s.default(f.documentElement),r=A.defaultView,o=r.pageXOffset,i=r.pageYOffset,a="HTML"===t.tagName||"BODY"===t.tagName?(0,u.parseDocumentSize)(A):(0,u.parseBounds)(t,o,i),c=a.width,l=a.height,d=a.left,g=a.top;return e.render({backgroundColor:y,logger:p,scale:n.scale,x:"number"==typeof n.x?n.x:d,y:"number"==typeof n.y?n.y:g,width:"number"==typeof n.width?n.width:Math.ceil(c),height:"number"==typeof n.height?n.height:Math.ceil(l),windowWidth:n.windowWidth,windowHeight:n.windowHeight,scrollX:n.scrollX,scrollY:n.scrollY})}))):(0,c.cloneWindow)(A,g,t,n,p,e).then((function(e){var t=r(e,3),s=t[0],a=t[1],c=t[2];p.log("Document cloned, using computed rendering");var f=(0,o.NodeParser)(a,c,p),g=a.ownerDocument;return y===f.container.style.background.backgroundColor&&(f.container.style.background.backgroundColor=d.TRANSPARENT),c.ready().then((function(e){var t=new l.FontMetrics(g);p.log("Starting renderer");var r=g.defaultView,o=r.pageXOffset,c=r.pageYOffset,d="HTML"===a.tagName||"BODY"===a.tagName?(0,u.parseDocumentSize)(A):(0,u.parseBounds)(a,o,c),h=d.width,m=d.height,v=d.left,b=d.top,E={backgroundColor:y,fontMetrics:t,imageStore:e,logger:p,scale:n.scale,x:"number"==typeof n.x?n.x:v,y:"number"==typeof n.y?n.y:b,width:"number"==typeof n.width?n.width:Math.ceil(h),height:"number"==typeof n.height?n.height:Math.ceil(m)};if(Array.isArray(n.target))return Promise.all(n.target.map((function(e){return new i.default(e,E).render(f)})));var C=new i.default(n.target,E).render(f);return!0===n.removeContainer&&(s.parentNode?s.parentNode.removeChild(s):p.log("Cannot detach cloned iframe as it is not in the DOM anymore")),C}))}));var f}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeParser=void 0;var r=c(n(30)),o=c(n(6)),i=c(n(9)),s=n(21),a=n(14),u=n(8);function c(e){return e&&e.__esModule?e:{default:e}}t.NodeParser=function(e,t,n){n.log("Starting node parsing");var i=0,s=new o.default(e,null,t,i++),a=new r.default(s,null,!0);return d(e,s,a,t,1),n.log("Finished parsing node tree"),a};var l=["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"],d=function e(t,n,c,d,A){if(A>5e4)throw new Error("Recursion error while parsing node tree");for(var g,h=t.firstChild;h;h=g){g=h.nextSibling;var m=h.ownerDocument.defaultView;if(h instanceof m.Text||h instanceof Text||m.parent&&h instanceof m.parent.Text)h.data.trim().length>0&&n.childNodes.push(i.default.fromTextNode(h,n));else if(h instanceof m.HTMLElement||h instanceof HTMLElement||m.parent&&h instanceof m.parent.HTMLElement){if(-1===l.indexOf(h.nodeName)){var y=new o.default(h,n,d,A++);if(y.isVisible()){"INPUT"===h.tagName?(0,s.inlineInputElement)(h,y):"TEXTAREA"===h.tagName?(0,s.inlineTextAreaElement)(h,y):"SELECT"===h.tagName?(0,s.inlineSelectElement)(h,y):y.style.listStyle&&y.style.listStyle.listStyleType!==u.LIST_STYLE_TYPE.NONE&&(0,a.inlineListItemElement)(h,y,d);var v="TEXTAREA"!==h.tagName,b=f(y,h);if(b||p(y)){var E=b||y.isPositioned()?c.getRealParentStackingContext():c,C=new r.default(y,E,b);E.contexts.push(C),v&&e(h,y,C,d,A)}else c.children.push(y),v&&e(h,y,c,d,A)}}}else if(h instanceof m.SVGSVGElement||h instanceof SVGSVGElement||m.parent&&h instanceof m.parent.SVGSVGElement){var T=new o.default(h,n,d,A++),S=f(T,h);if(S||p(T)){var x=S||T.isPositioned()?c.getRealParentStackingContext():c,_=new r.default(T,x,S);x.contexts.push(_)}else c.children.push(T)}}},f=function(e,t){return e.isRootElement()||e.isPositionedWithZIndex()||e.style.opacity<1||e.isTransformed()||A(e,t)},p=function(e){return e.isPositioned()||e.isFloating()},A=function(e,t){return"BODY"===t.nodeName&&e.parent instanceof o.default&&e.parent.style.background.backgroundColor.isTransparent()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6);(r=i)&&r.__esModule,n(19);var s=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.parent=n,this.contexts=[],this.children=[],this.treatAsRealStackingContext=r}return o(e,[{key:"getOpacity",value:function(){return this.parent?this.container.style.opacity*this.parent.getOpacity():this.container.style.opacity}},{key:"getRealParentStackingContext",value:function(){return!this.parent||this.treatAsRealStackingContext?this:this.parent.getRealParentStackingContext()}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t,this.height=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(5),s=n(7),a=(r=s)&&r.__esModule?r:{default:r},u=function(e,t,n){return new a.default(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},c=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=i.PATH.BEZIER_CURVE,this.start=t,this.startControl=n,this.endControl=r,this.end=o}return o(e,[{key:"subdivide",value:function(t,n){var r=u(this.start,this.startControl,t),o=u(this.startControl,this.endControl,t),i=u(this.endControl,this.end,t),s=u(r,o,t),a=u(o,i,t),c=u(s,a,t);return n?new e(this.start,r,s,c):new e(c,a,i,this.end)}},{key:"reverse",value:function(){return new e(this.end,this.endControl,this.startControl,this.start)}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorderRadius=void 0;var r,o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(1),s=(r=i)&&r.__esModule?r:{default:r},a=["top-left","top-right","bottom-right","bottom-left"];t.parseBorderRadius=function(e){return a.map((function(t){var n=e.getPropertyValue("border-"+t+"-radius").split(" ").map(s.default.create),r=o(n,2),i=r[0],a=r[1];return void 0===a?[i,i]:[i,a]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.DISPLAY={NONE:1,BLOCK:2,INLINE:4,RUN_IN:8,FLOW:16,FLOW_ROOT:32,TABLE:64,FLEX:128,GRID:256,RUBY:512,SUBGRID:1024,LIST_ITEM:2048,TABLE_ROW_GROUP:4096,TABLE_HEADER_GROUP:8192,TABLE_FOOTER_GROUP:16384,TABLE_ROW:32768,TABLE_CELL:65536,TABLE_COLUMN_GROUP:1<<17,TABLE_COLUMN:1<<18,TABLE_CAPTION:1<<19,RUBY_BASE:1<<20,RUBY_TEXT:1<<21,RUBY_BASE_CONTAINER:1<<22,RUBY_TEXT_CONTAINER:1<<23,CONTENTS:1<<24,INLINE_BLOCK:1<<25,INLINE_LIST_ITEM:1<<26,INLINE_TABLE:1<<27,INLINE_FLEX:1<<28,INLINE_GRID:1<<29},o=function(e,t){return e|function(e){switch(e){case"block":return r.BLOCK;case"inline":return r.INLINE;case"run-in":return r.RUN_IN;case"flow":return r.FLOW;case"flow-root":return r.FLOW_ROOT;case"table":return r.TABLE;case"flex":return r.FLEX;case"grid":return r.GRID;case"ruby":return r.RUBY;case"subgrid":return r.SUBGRID;case"list-item":return r.LIST_ITEM;case"table-row-group":return r.TABLE_ROW_GROUP;case"table-header-group":return r.TABLE_HEADER_GROUP;case"table-footer-group":return r.TABLE_FOOTER_GROUP;case"table-row":return r.TABLE_ROW;case"table-cell":return r.TABLE_CELL;case"table-column-group":return r.TABLE_COLUMN_GROUP;case"table-column":return r.TABLE_COLUMN;case"table-caption":return r.TABLE_CAPTION;case"ruby-base":return r.RUBY_BASE;case"ruby-text":return r.RUBY_TEXT;case"ruby-base-container":return r.RUBY_BASE_CONTAINER;case"ruby-text-container":return r.RUBY_TEXT_CONTAINER;case"contents":return r.CONTENTS;case"inline-block":return r.INLINE_BLOCK;case"inline-list-item":return r.INLINE_LIST_ITEM;case"inline-table":return r.INLINE_TABLE;case"inline-flex":return r.INLINE_FLEX;case"inline-grid":return r.INLINE_GRID}return r.NONE}(t)};t.parseDisplay=function(e){return e.split(" ").reduce(o,0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.FLOAT={NONE:0,LEFT:1,RIGHT:2,INLINE_START:3,INLINE_END:4};t.parseCSSFloat=function(e){switch(e){case"left":return r.LEFT;case"right":return r.RIGHT;case"inline-start":return r.INLINE_START;case"inline-end":return r.INLINE_END}return r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFont=function(e){return{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontVariant:e.fontVariant,fontWeight:function(e){switch(e){case"normal":return 400;case"bold":return 700}var t=parseInt(e,10);return isNaN(t)?400:t}(e.fontWeight)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLetterSpacing=function(e){if("normal"===e)return 0;var t=parseFloat(e);return isNaN(t)?0:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.LINE_BREAK={NORMAL:"normal",STRICT:"strict"};t.parseLineBreak=function(e){switch(e){case"strict":return r.STRICT;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMargin=void 0;var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r},s=["top","right","bottom","left"];t.parseMargin=function(e){return s.map((function(t){return new i.default(e.getPropertyValue("margin-"+t))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW={VISIBLE:0,HIDDEN:1,SCROLL:2,AUTO:3};t.parseOverflow=function(e){switch(e){case"hidden":return r.HIDDEN;case"scroll":return r.SCROLL;case"auto":return r.AUTO;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextShadow=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},s=/^([+-]|\d|\.)$/i;t.parseTextShadow=function(e){if("none"===e||"string"!=typeof e)return null;for(var t="",n=!1,r=[],o=[],a=0,u=null,c=function(){t.length&&(n?r.push(parseFloat(t)):u=new i.default(t)),n=!1,t=""},l=function(){r.length&&null!==u&&o.push({color:u,offsetX:r[0]||0,offsetY:r[1]||0,blur:r[2]||0}),r.splice(0,r.length),u=null},d=0;d<e.length;d++){var f=e[d];switch(f){case"(":t+=f,a++;break;case")":t+=f,a--;break;case",":0===a?(c(),l()):t+=f;break;case" ":0===a?c():t+=f;break;default:0===t.length&&s.test(f)&&(n=!0),t+=f}}return c(),l(),0===o.length?null:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransform=void 0;var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r},s=function(e){return parseFloat(e.trim())},a=/(matrix|matrix3d)\((.+)\)/,u=(t.parseTransform=function(e){var t=c(e.transform||e.webkitTransform||e.mozTransform||e.msTransform||e.oTransform);return null===t?null:{transform:t,transformOrigin:u(e.transformOrigin||e.webkitTransformOrigin||e.mozTransformOrigin||e.msTransformOrigin||e.oTransformOrigin)}},function(e){if("string"!=typeof e){var t=new i.default("0");return[t,t]}var n=e.split(" ").map(i.default.create);return[n[0],n[1]]}),c=function(e){if("none"===e||"string"!=typeof e)return null;var t=e.match(a);if(t){if("matrix"===t[1]){var n=t[2].split(",").map(s);return[n[0],n[1],n[2],n[3],n[4],n[5]]}var r=t[2].split(",").map(s);return[r[0],r[1],r[4],r[5],r[12],r[13]]}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.VISIBILITY={VISIBLE:0,HIDDEN:1,COLLAPSE:2};t.parseVisibility=function(e){switch(e){case"hidden":return r.HIDDEN;case"collapse":return r.COLLAPSE;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.WORD_BREAK={NORMAL:"normal",BREAK_ALL:"break-all",KEEP_ALL:"keep-all"};t.parseWordBreak=function(e){switch(e){case"break-all":return r.BREAK_ALL;case"keep-all":return r.KEEP_ALL;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseZIndex=function(e){var t="auto"===e;return{auto:t,order:t?0:parseInt(e,10)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});var o=n(47);Object.defineProperty(t,"LineBreaker",{enumerable:!0,get:function(){return o.LineBreaker}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineBreaker=t.inlineBreakOpportunities=t.lineBreakAtIndex=t.codePointsToCharacterClasses=t.UnicodeTrie=t.BREAK_ALLOWED=t.BREAK_NOT_ALLOWED=t.BREAK_MANDATORY=t.classes=t.LETTER_NUMBER_MODIFIER=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=n(48),a=n(49),u=(r=a)&&r.__esModule?r:{default:r},c=n(13),l=t.LETTER_NUMBER_MODIFIER=50,d=10,f=13,p=15,A=17,g=18,h=19,m=20,y=21,v=22,b=24,E=25,C=26,T=27,S=28,x=30,_=32,w=33,B=34,I=35,R=37,O=38,N=39,M=40,U=42,L=(t.classes={BK:1,CR:2,LF:3,CM:4,NL:5,SG:6,WJ:7,ZW:8,GL:9,SP:d,ZWJ:11,B2:12,BA:f,BB:14,HY:p,CB:16,CL:A,CP:g,EX:h,IN:m,NS:y,OP:v,QU:23,IS:b,NU:E,PO:C,PR:T,SY:S,AI:29,AL:x,CJ:31,EB:_,EM:w,H2:B,H3:I,HL:36,ID:R,JL:O,JV:N,JT:M,RI:41,SA:U,XX:43},t.BREAK_MANDATORY="!"),F=t.BREAK_NOT_ALLOWED="×",P=t.BREAK_ALLOWED="÷",j=t.UnicodeTrie=(0,s.createTrieFromBase64)(u.default),D=[x,36],k=[1,2,3,5],H=[d,8],Q=[T,C],G=k.concat(H),V=[O,N,M,B,I],K=[p,f],W=t.codePointsToCharacterClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"strict",n=[],r=[],o=[];return e.forEach((function(e,i){var s=j.get(e);if(s>l?(o.push(!0),s-=l):o.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(i),n.push(16);if(4===s||11===s){if(0===i)return r.push(i),n.push(x);var a=n[i-1];return-1===G.indexOf(a)?(r.push(r[i-1]),n.push(a)):(r.push(i),n.push(x))}return r.push(i),31===s?n.push("strict"===t?y:R):s===U||29===s?n.push(x):43===s?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(R):n.push(x):void n.push(s)})),[r,n,o]},z=function(e,t,n,r){var o=r[n];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var i=n;i<=r.length;){var s=r[++i];if(s===t)return!0;if(s!==d)break}if(o===d)for(var a=n;a>0;){var u=r[--a];if(Array.isArray(e)?-1!==e.indexOf(u):e===u)for(var c=n;c<=r.length;){var l=r[++c];if(l===t)return!0;if(l!==d)break}if(u!==d)break}return!1},X=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==d)return r;n--}return 0},Y=function(e,t,n,r,o){if(0===n[r])return F;var i=r-1;if(Array.isArray(o)&&!0===o[i])return F;var s=i-1,a=i+1,u=t[i],c=s>=0?t[s]:0,l=t[a];if(2===u&&3===l)return F;if(-1!==k.indexOf(u))return L;if(-1!==k.indexOf(l))return F;if(-1!==H.indexOf(l))return F;if(8===X(i,t))return P;if(11===j.get(e[i])&&(l===R||l===_||l===w))return F;if(7===u||7===l)return F;if(9===u)return F;if(-1===[d,f,p].indexOf(u)&&9===l)return F;if(-1!==[A,g,h,b,S].indexOf(l))return F;if(X(i,t)===v)return F;if(z(23,v,i,t))return F;if(z([A,g],y,i,t))return F;if(z(12,12,i,t))return F;if(u===d)return P;if(23===u||23===l)return F;if(16===l||16===u)return P;if(-1!==[f,p,y].indexOf(l)||14===u)return F;if(36===c&&-1!==K.indexOf(u))return F;if(u===S&&36===l)return F;if(l===m&&-1!==D.concat(m,h,E,R,_,w).indexOf(u))return F;if(-1!==D.indexOf(l)&&u===E||-1!==D.indexOf(u)&&l===E)return F;if(u===T&&-1!==[R,_,w].indexOf(l)||-1!==[R,_,w].indexOf(u)&&l===C)return F;if(-1!==D.indexOf(u)&&-1!==Q.indexOf(l)||-1!==Q.indexOf(u)&&-1!==D.indexOf(l))return F;if(-1!==[T,C].indexOf(u)&&(l===E||-1!==[v,p].indexOf(l)&&t[a+1]===E)||-1!==[v,p].indexOf(u)&&l===E||u===E&&-1!==[E,S,b].indexOf(l))return F;if(-1!==[E,S,b,A,g].indexOf(l))for(var x=i;x>=0;){var U=t[x];if(U===E)return F;if(-1===[S,b].indexOf(U))break;x--}if(-1!==[T,C].indexOf(l))for(var G=-1!==[A,g].indexOf(u)?s:i;G>=0;){var W=t[G];if(W===E)return F;if(-1===[S,b].indexOf(W))break;G--}if(O===u&&-1!==[O,N,B,I].indexOf(l)||-1!==[N,B].indexOf(u)&&-1!==[N,M].indexOf(l)||-1!==[M,I].indexOf(u)&&l===M)return F;if(-1!==V.indexOf(u)&&-1!==[m,C].indexOf(l)||-1!==V.indexOf(l)&&u===T)return F;if(-1!==D.indexOf(u)&&-1!==D.indexOf(l))return F;if(u===b&&-1!==D.indexOf(l))return F;if(-1!==D.concat(E).indexOf(u)&&l===v||-1!==D.concat(E).indexOf(l)&&u===g)return F;if(41===u&&41===l){for(var Y=n[i],J=1;Y>0&&41===t[--Y];)J++;if(J%2!=0)return F}return u===_&&l===w?F:P},J=(t.lineBreakAtIndex=function(e,t){if(0===t)return F;if(t>=e.length)return L;var n=W(e),r=i(n,2),o=r[0],s=r[1];return Y(e,s,o,t)},function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=W(e,t.lineBreak),r=i(n,3),o=r[0],s=r[1],a=r[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(s=s.map((function(e){return-1!==[E,x,U].indexOf(e)?R:e}))),[o,s,"keep-all"===t.wordBreak?a.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):null]}),q=(t.inlineBreakOpportunities=function(e,t){var n=(0,c.toCodePoints)(e),r=F,o=J(n,t),s=i(o,3),a=s[0],u=s[1],l=s[2];return n.forEach((function(e,t){r+=(0,c.fromCodePoint)(e)+(t>=n.length-1?L:Y(n,u,a,t+1,l))})),r},function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._codePoints=t,this.required=n===L,this.start=r,this.end=o}return o(e,[{key:"slice",value:function(){return c.fromCodePoint.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this._codePoints.slice(this.start,this.end)))}}]),e}());t.LineBreaker=function(e,t){var n=(0,c.toCodePoints)(e),r=J(n,t),o=i(r,3),s=o[0],a=o[1],u=o[2],l=n.length,d=0,f=0;return{next:function(){if(f>=l)return{done:!0};for(var e=F;f<l&&(e=Y(n,a,s,++f,u))===F;);if(e!==F||f===l){var t=new q(n,e,d,f);return d=f,{value:t,done:!1}}return{done:!0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trie=t.createTrieFromBase64=t.UTRIE2_INDEX_2_MASK=t.UTRIE2_INDEX_2_BLOCK_LENGTH=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=t.UTRIE2_INDEX_1_OFFSET=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=t.UTRIE2_INDEX_2_BMP_LENGTH=t.UTRIE2_LSCP_INDEX_2_LENGTH=t.UTRIE2_DATA_MASK=t.UTRIE2_DATA_BLOCK_LENGTH=t.UTRIE2_LSCP_INDEX_2_OFFSET=t.UTRIE2_SHIFT_1_2=t.UTRIE2_INDEX_SHIFT=t.UTRIE2_SHIFT_1=t.UTRIE2_SHIFT_2=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(13),i=t.UTRIE2_SHIFT_2=5,s=t.UTRIE2_SHIFT_1=11,a=t.UTRIE2_INDEX_SHIFT=2,u=t.UTRIE2_SHIFT_1_2=s-i,c=t.UTRIE2_LSCP_INDEX_2_OFFSET=65536>>i,l=t.UTRIE2_DATA_BLOCK_LENGTH=1<<i,d=t.UTRIE2_DATA_MASK=l-1,f=t.UTRIE2_LSCP_INDEX_2_LENGTH=1024>>i,p=t.UTRIE2_INDEX_2_BMP_LENGTH=c+f,A=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=p,g=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,h=t.UTRIE2_INDEX_1_OFFSET=A+g,m=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>s,y=t.UTRIE2_INDEX_2_BLOCK_LENGTH=1<<u,v=t.UTRIE2_INDEX_2_MASK=y-1,b=(t.createTrieFromBase64=function(e){var t=(0,o.decode)(e),n=Array.isArray(t)?(0,o.polyUint32Array)(t):new Uint32Array(t),r=Array.isArray(t)?(0,o.polyUint16Array)(t):new Uint16Array(t),i=r.slice(12,n[4]/2),s=2===n[5]?r.slice((24+n[4])/2):n.slice(Math.ceil((24+n[4])/4));return new b(n[0],n[1],n[2],n[3],i,s)},t.Trie=function(){function e(t,n,r,o,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=o,this.index=i,this.data=s}return r(e,[{key:"get",value:function(e){var t=void 0;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>i])<<a)+(e&d),this.data[t];if(e<=65535)return t=((t=this.index[c+(e-55296>>i)])<<a)+(e&d),this.data[t];if(e<this.highStart)return t=h-m+(e>>s),t=this.index[t],t+=e>>i&v,t=((t=this.index[t])<<a)+(e&d),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue}}]),e}())},function(e,t,n){"use strict";e.exports="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=r.PATH.CIRCLE,this.x=t,this.y=n,this.radius=o,isNaN(t)&&console.error("Invalid x value given for Circle"),isNaN(n)&&console.error("Invalid y value given for Circle"),isNaN(o)&&console.error("Invalid radius value given for Circle")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),a=(n(25),n(52)),u=n(9),c=(r=u)&&r.__esModule?r:{default:r},l=n(4),d=n(12),f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=t,this.options=n,t.render(n)}return i(e,[{key:"renderNode",value:function(e){e.isVisible()&&(this.renderNodeBackgroundAndBorders(e),this.renderNodeContent(e))}},{key:"renderNodeContent",value:function(e){var t=this,n=function(){if(e.childNodes.length&&e.childNodes.forEach((function(n){if(n instanceof c.default){var r=n.parent.style;t.target.renderTextNode(n.bounds,r.color,r.font,r.textDecoration,r.textShadow)}else t.target.drawShape(n,e.style.color)})),e.image){var n=t.options.imageStore.get(e.image);if(n){var r=(0,s.calculateContentBox)(e.bounds,e.style.padding,e.style.border),o="number"==typeof n.width&&n.width>0?n.width:r.width,i="number"==typeof n.height&&n.height>0?n.height:r.height;o>0&&i>0&&t.target.clip([(0,s.calculatePaddingBoxPath)(e.curvedBounds)],(function(){t.target.drawImage(n,new s.Bounds(0,0,o,i),r)}))}}},r=e.getClipPaths();r.length?this.target.clip(r,n):n()}},{key:"renderNodeBackgroundAndBorders",value:function(e){var t=this,n=!e.style.background.backgroundColor.isTransparent()||e.style.background.backgroundImage.length,r=e.style.border.some((function(e){return e.borderStyle!==d.BORDER_STYLE.NONE&&!e.borderColor.isTransparent()})),o=function(){var r=(0,l.calculateBackgroungPaintingArea)(e.curvedBounds,e.style.background.backgroundClip);n&&t.target.clip([r],(function(){e.style.background.backgroundColor.isTransparent()||t.target.fill(e.style.background.backgroundColor),t.renderBackgroundImage(e)})),e.style.border.forEach((function(n,r){n.borderStyle===d.BORDER_STYLE.NONE||n.borderColor.isTransparent()||t.renderBorder(n,r,e.curvedBounds)}))};if(n||r){var i=e.parent?e.parent.getClipPaths():[];i.length?this.target.clip(i,o):o()}}},{key:"renderBackgroundImage",value:function(e){var t=this;e.style.background.backgroundImage.slice(0).reverse().forEach((function(n){"url"===n.source.method&&n.source.args.length?t.renderBackgroundRepeat(e,n):/gradient/i.test(n.source.method)&&t.renderBackgroundGradient(e,n)}))}},{key:"renderBackgroundRepeat",value:function(e,t){var n=this.options.imageStore.get(t.source.args[0]);if(n){var r=(0,l.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),o=(0,l.calculateBackgroundSize)(t,n,r),i=(0,l.calculateBackgroundPosition)(t.position,o,r),s=(0,l.calculateBackgroundRepeatPath)(t,i,o,r,e.bounds),a=Math.round(r.left+i.x),u=Math.round(r.top+i.y);this.target.renderRepeat(s,n,o,a,u)}}},{key:"renderBackgroundGradient",value:function(e,t){var n=(0,l.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),r=(0,l.calculateGradientBackgroundSize)(t,n),o=(0,l.calculateBackgroundPosition)(t.position,r,n),i=new s.Bounds(Math.round(n.left+o.x),Math.round(n.top+o.y),r.width,r.height),u=(0,a.parseGradient)(e,t.source,i);if(u)switch(u.type){case a.GRADIENT_TYPE.LINEAR_GRADIENT:this.target.renderLinearGradient(i,u);break;case a.GRADIENT_TYPE.RADIAL_GRADIENT:this.target.renderRadialGradient(i,u)}}},{key:"renderBorder",value:function(e,t,n){this.target.drawShape((0,s.parsePathForBorder)(n,t),e.borderColor)}},{key:"renderStack",value:function(e){var t=this;if(e.container.isVisible()){var n=e.getOpacity();n!==this._opacity&&(this.target.setOpacity(e.getOpacity()),this._opacity=n);var r=e.container.style.transform;null!==r?this.target.transform(e.container.bounds.left+r.transformOrigin[0].value,e.container.bounds.top+r.transformOrigin[1].value,r.transform,(function(){return t.renderStackContent(e)})):this.renderStackContent(e)}}},{key:"renderStackContent",value:function(e){var t=A(e),n=o(t,5),r=n[0],i=n[1],s=n[2],a=n[3],u=n[4],c=p(e),l=o(c,2),d=l[0],f=l[1];this.renderNodeBackgroundAndBorders(e.container),r.sort(g).forEach(this.renderStack,this),this.renderNodeContent(e.container),f.forEach(this.renderNode,this),a.forEach(this.renderStack,this),u.forEach(this.renderStack,this),d.forEach(this.renderNode,this),i.forEach(this.renderStack,this),s.sort(g).forEach(this.renderStack,this)}},{key:"render",value:function(e){var t=this;this.options.backgroundColor&&this.target.rectangle(this.options.x,this.options.y,this.options.width,this.options.height,this.options.backgroundColor),this.renderStack(e);var n=this.target.getTarget();return n.then((function(e){return t.options.logger.log("Render completed"),e}))}}]),e}();t.default=f;var p=function(e){for(var t=[],n=[],r=e.children.length,o=0;o<r;o++){var i=e.children[o];i.isInlineLevel()?t.push(i):n.push(i)}return[t,n]},A=function(e){for(var t=[],n=[],r=[],o=[],i=[],s=e.contexts.length,a=0;a<s;a++){var u=e.contexts[a];u.container.isPositioned()||u.container.style.opacity<1||u.container.isTransformed()?u.container.style.zIndex.order<0?t.push(u):u.container.style.zIndex.order>0?r.push(u):n.push(u):u.container.isFloating()?o.push(u):i.push(u)}return[t,n,r,o,i]},g=function(e,t){return e.container.style.zIndex.order>t.container.style.zIndex.order?1:e.container.style.zIndex.order<t.container.style.zIndex.order?-1:e.container.index>t.container.index?1:-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformWebkitRadialGradientArgs=t.parseGradient=t.RadialGradient=t.LinearGradient=t.RADIAL_GRADIENT_SHAPE=t.GRADIENT_TYPE=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=(c(n(6)),n(53)),i=c(n(0)),s=n(1),a=c(s),u=n(3);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=/^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i,f=/^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i,p=/(px)|%|( 0)$/i,A=/^(from|to|color-stop)\((?:([\d.]+)(%)?,\s*)?(.+?)\)$/i,g=/^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*(?:(left|center|right)|([\d.]+)(px|r?em|%))\s+(?:(top|center|bottom)|([\d.]+)(px|r?em|%)))?(?:\s|$)/i,h=t.GRADIENT_TYPE={LINEAR_GRADIENT:0,RADIAL_GRADIENT:1},m=t.RADIAL_GRADIENT_SHAPE={CIRCLE:0,ELLIPSE:1},y={left:new a.default("0%"),top:new a.default("0%"),center:new a.default("50%"),right:new a.default("100%"),bottom:new a.default("100%")},v=t.LinearGradient=function e(t,n){l(this,e),this.type=h.LINEAR_GRADIENT,this.colorStops=t,this.direction=n},b=t.RadialGradient=function e(t,n,r,o){l(this,e),this.type=h.RADIAL_GRADIENT,this.colorStops=t,this.shape=n,this.center=r,this.radius=o},E=(t.parseGradient=function(e,t,n){var r=t.args,o=t.method,i=t.prefix;return"linear-gradient"===o?C(r,n,!!i):"gradient"===o&&"linear"===r[0]?C(["to bottom"].concat(O(r.slice(3))),n,!!i):"radial-gradient"===o?T(e,"-webkit-"===i?R(r):r,n):"gradient"===o&&"radial"===r[0]?T(e,O(R(r.slice(1))),n):void 0},function(e,t,n){for(var r=[],o=t;o<e.length;o++){var s=e[o],u=p.test(s),c=s.lastIndexOf(" "),l=new i.default(u?s.substring(0,c):s),d=u?new a.default(s.substring(c+1)):o===t?new a.default("0%"):o===e.length-1?new a.default("100%"):null;r.push({color:l,stop:d})}for(var f=r.map((function(e){var t=e.color,r=e.stop;return{color:t,stop:0===n?0:r?r.getAbsoluteValue(n)/n:null}})),A=f[0].stop,g=0;g<f.length;g++)if(null!==A){var h=f[g].stop;if(null===h){for(var m=g;null===f[m].stop;)m++;for(var y=m-g+1,v=(f[m].stop-A)/y;g<m;g++)A=f[g].stop=A+v}else A=h}return f}),C=function(e,t,n){var r=(0,o.parseAngle)(e[0]),i=d.test(e[0]),s=i||null!==r||f.test(e[0]),a=s?null!==r?S(n?r-.5*Math.PI:r,t):i?_(e[0],t):w(e[0],t):S(Math.PI,t),c=s?1:0,l=Math.min((0,u.distance)(Math.abs(a.x0)+Math.abs(a.x1),Math.abs(a.y0)+Math.abs(a.y1)),2*t.width,2*t.height);return new v(E(e,c,l),a)},T=function(e,t,n){var r=t[0].match(g),o=r&&("circle"===r[1]||void 0!==r[3]&&void 0===r[5])?m.CIRCLE:m.ELLIPSE,i={},a={};r&&(void 0!==r[3]&&(i.x=(0,s.calculateLengthFromValueWithUnit)(e,r[3],r[4]).getAbsoluteValue(n.width)),void 0!==r[5]&&(i.y=(0,s.calculateLengthFromValueWithUnit)(e,r[5],r[6]).getAbsoluteValue(n.height)),r[7]?a.x=y[r[7].toLowerCase()]:void 0!==r[8]&&(a.x=(0,s.calculateLengthFromValueWithUnit)(e,r[8],r[9])),r[10]?a.y=y[r[10].toLowerCase()]:void 0!==r[11]&&(a.y=(0,s.calculateLengthFromValueWithUnit)(e,r[11],r[12])));var u={x:void 0===a.x?n.width/2:a.x.getAbsoluteValue(n.width),y:void 0===a.y?n.height/2:a.y.getAbsoluteValue(n.height)},c=I(r&&r[2]||"farthest-corner",o,u,i,n);return new b(E(t,r?1:0,Math.min(c.x,c.y)),o,u,c)},S=function(e,t){var n=t.width,r=t.height,o=.5*n,i=.5*r,s=(Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e)))/2,a=o+Math.sin(e)*s,u=i-Math.cos(e)*s;return{x0:a,x1:n-a,y0:u,y1:r-u}},x=function(e){return Math.acos(e.width/2/((0,u.distance)(e.width,e.height)/2))},_=function(e,t){switch(e){case"bottom":case"to top":return S(0,t);case"left":case"to right":return S(Math.PI/2,t);case"right":case"to left":return S(3*Math.PI/2,t);case"top right":case"right top":case"to bottom left":case"to left bottom":return S(Math.PI+x(t),t);case"top left":case"left top":case"to bottom right":case"to right bottom":return S(Math.PI-x(t),t);case"bottom left":case"left bottom":case"to top right":case"to right top":return S(x(t),t);case"bottom right":case"right bottom":case"to top left":case"to left top":return S(2*Math.PI-x(t),t);case"top":case"to bottom":default:return S(Math.PI,t)}},w=function(e,t){var n=e.split(" ").map(parseFloat),o=r(n,2),i=o[0],s=o[1],a=i/100*t.width/(s/100*t.height);return S(Math.atan(isNaN(a)?1:a)+Math.PI/2,t)},B=function(e,t,n,r){return[{x:0,y:0},{x:0,y:e.height},{x:e.width,y:0},{x:e.width,y:e.height}].reduce((function(e,o){var i=(0,u.distance)(t-o.x,n-o.y);return(r?i<e.optimumDistance:i>e.optimumDistance)?{optimumCorner:o,optimumDistance:i}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},I=function(e,t,n,r,o){var i=n.x,s=n.y,a=0,c=0;switch(e){case"closest-side":t===m.CIRCLE?a=c=Math.min(Math.abs(i),Math.abs(i-o.width),Math.abs(s),Math.abs(s-o.height)):t===m.ELLIPSE&&(a=Math.min(Math.abs(i),Math.abs(i-o.width)),c=Math.min(Math.abs(s),Math.abs(s-o.height)));break;case"closest-corner":if(t===m.CIRCLE)a=c=Math.min((0,u.distance)(i,s),(0,u.distance)(i,s-o.height),(0,u.distance)(i-o.width,s),(0,u.distance)(i-o.width,s-o.height));else if(t===m.ELLIPSE){var l=Math.min(Math.abs(s),Math.abs(s-o.height))/Math.min(Math.abs(i),Math.abs(i-o.width)),d=B(o,i,s,!0);c=l*(a=(0,u.distance)(d.x-i,(d.y-s)/l))}break;case"farthest-side":t===m.CIRCLE?a=c=Math.max(Math.abs(i),Math.abs(i-o.width),Math.abs(s),Math.abs(s-o.height)):t===m.ELLIPSE&&(a=Math.max(Math.abs(i),Math.abs(i-o.width)),c=Math.max(Math.abs(s),Math.abs(s-o.height)));break;case"farthest-corner":if(t===m.CIRCLE)a=c=Math.max((0,u.distance)(i,s),(0,u.distance)(i,s-o.height),(0,u.distance)(i-o.width,s),(0,u.distance)(i-o.width,s-o.height));else if(t===m.ELLIPSE){var f=Math.max(Math.abs(s),Math.abs(s-o.height))/Math.max(Math.abs(i),Math.abs(i-o.width)),p=B(o,i,s,!1);c=f*(a=(0,u.distance)(p.x-i,(p.y-s)/f))}break;default:a=r.x||0,c=void 0!==r.y?r.y:a}return{x:a,y:c}},R=t.transformWebkitRadialGradientArgs=function(e){var t="",n="",r="",o="",i=0,s=/^(left|center|right|\d+(?:px|r?em|%)?)(?:\s+(top|center|bottom|\d+(?:px|r?em|%)?))?$/i,a=/^\d+(px|r?em|%)?(?:\s+\d+(px|r?em|%)?)?$/i,u=e[i].match(s);u&&i++;var c=e[i].match(/^(circle|ellipse)?\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i);c&&(t=c[1]||"","contain"===(r=c[2]||"")?r="closest-side":"cover"===r&&(r="farthest-corner"),i++);var l=e[i].match(a);l&&i++;var d=e[i].match(s);d&&i++;var f=e[i].match(a);f&&i++;var p=d||u;p&&p[1]&&(o=p[1]+(/^\d+$/.test(p[1])?"px":""),p[2]&&(o+=" "+p[2]+(/^\d+$/.test(p[2])?"px":"")));var A=f||l;return A&&(n=A[0],A[1]||(n+="px")),!o||t||n||r||(n=o,o=""),o&&(o="at "+o),[[t,r,n,o].filter((function(e){return!!e})).join(" ")].concat(e.slice(i))},O=function(e){return e.map((function(e){return e.match(A)})).map((function(t,n){if(!t)return e[n];switch(t[1]){case"from":return t[4]+" 0%";case"to":return t[4]+" 100%";case"color-stop":return"%"===t[3]?t[4]+" "+t[2]:t[4]+" "+100*parseFloat(t[2])+"%"}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;t.parseAngle=function(e){var t=e.match(r);if(t){var n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"deg":return Math.PI*n/180;case"grad":return Math.PI/200*n;case"rad":return n;case"turn":return 2*Math.PI*n}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneWindow=t.DocumentCloner=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),s=n(26),a=f(n(55)),u=n(3),c=n(4),l=f(n(15)),d=n(56);function f(e){return e&&e.__esModule?e:{default:e}}var p=t.DocumentCloner=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.referenceElement=t,this.scrolledElements=[],this.copyStyles=o,this.inlineImages=o,this.logger=r,this.options=n,this.renderer=i,this.resourceLoader=new a.default(n,r,window),this.pseudoContentData={counters:{},quoteDepth:0},this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return o(e,[{key:"inlineAllImages",value:function(e){var t=this;if(this.inlineImages&&e){var n=e.style;Promise.all((0,c.parseBackgroundImage)(n.backgroundImage).map((function(e){return"url"===e.method?t.resourceLoader.inlineImage(e.args[0]).then((function(e){return e&&"string"==typeof e.src?'url("'+e.src+'")':"none"})).catch((function(e){t.logger.log("Unable to load image",e)})):Promise.resolve(""+e.prefix+e.method+"("+e.args.join(",")+")")}))).then((function(e){e.length>1&&(n.backgroundColor=""),n.backgroundImage=e.join(",")})),e instanceof HTMLImageElement&&this.resourceLoader.inlineImage(e.src).then((function(t){if(t&&e instanceof HTMLImageElement&&e.parentNode){var n=e.parentNode,r=(0,u.copyCSSStyles)(e.style,t.cloneNode(!1));n.replaceChild(r,e)}})).catch((function(e){t.logger.log("Unable to load image",e)}))}}},{key:"inlineFonts",value:function(e){var t=this;return Promise.all(Array.from(e.styleSheets).map((function(n){return n.href?fetch(n.href).then((function(e){return e.text()})).then((function(e){return g(e,n.href)})).catch((function(e){return t.logger.log("Unable to load stylesheet",e),[]})):A(n,e)}))).then((function(e){return e.reduce((function(e,t){return e.concat(t)}),[])})).then((function(e){return Promise.all(e.map((function(e){return fetch(e.formats[0].src).then((function(e){return e.blob()})).then((function(e){return new Promise((function(t,n){var r=new FileReader;r.onerror=n,r.onload=function(){var e=r.result;t(e)},r.readAsDataURL(e)}))})).then((function(t){return e.fontFace.setProperty("src",'url("'+t+'")'),"@font-face {"+e.fontFace.cssText+" "}))})))})).then((function(n){var r=e.createElement("style");r.textContent=n.join("\n"),t.documentElement.appendChild(r)}))}},{key:"createElementClone",value:function(e){var t=this;if(this.copyStyles&&e instanceof HTMLCanvasElement){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(e){this.logger.log("Unable to clone canvas contents, canvas is tainted")}}if(e instanceof HTMLIFrameElement){var r=e.cloneNode(!1),o=x();r.setAttribute("data-html2canvas-internal-iframe-key",o);var s=(0,i.parseBounds)(e,0,0),a=s.width,c=s.height;return this.resourceLoader.cache[o]=w(e,this.options).then((function(e){return t.renderer(e,{async:t.options.async,allowTaint:t.options.allowTaint,backgroundColor:"#ffffff",canvas:null,imageTimeout:t.options.imageTimeout,logging:t.options.logging,proxy:t.options.proxy,removeContainer:t.options.removeContainer,scale:t.options.scale,foreignObjectRendering:t.options.foreignObjectRendering,useCORS:t.options.useCORS,target:new l.default,width:a,height:c,x:0,y:0,windowWidth:e.ownerDocument.defaultView.innerWidth,windowHeight:e.ownerDocument.defaultView.innerHeight,scrollX:e.ownerDocument.defaultView.pageXOffset,scrollY:e.ownerDocument.defaultView.pageYOffset},t.logger.child(o))})).then((function(t){return new Promise((function(n,o){var i=document.createElement("img");i.onload=function(){return n(t)},i.onerror=o,i.src=t.toDataURL(),r.parentNode&&r.parentNode.replaceChild((0,u.copyCSSStyles)(e.ownerDocument.defaultView.getComputedStyle(e),i),r)}))})),r}if(e instanceof HTMLStyleElement&&e.sheet&&e.sheet.cssRules){var d=[].slice.call(e.sheet.cssRules,0).reduce((function(e,n){try{return n&&n.cssText?e+n.cssText:e}catch(r){return t.logger.log("Unable to access cssText property",n.name),e}}),""),f=e.cloneNode(!1);return f.textContent=d,f}return e.cloneNode(!1)}},{key:"cloneNode",value:function(e){var t=e.nodeType===Node.TEXT_NODE?document.createTextNode(e.nodeValue):this.createElementClone(e),n=e.ownerDocument.defaultView,r=e instanceof n.HTMLElement?n.getComputedStyle(e):null,o=e instanceof n.HTMLElement?n.getComputedStyle(e,":before"):null,i=e instanceof n.HTMLElement?n.getComputedStyle(e,":after"):null;this.referenceElement===e&&t instanceof n.HTMLElement&&(this.clonedReferenceElement=t),t instanceof n.HTMLBodyElement&&C(t);for(var s=(0,d.parseCounterReset)(r,this.pseudoContentData),a=(0,d.resolvePseudoContent)(e,o,this.pseudoContentData),c=e.firstChild;c;c=c.nextSibling)c.nodeType===Node.ELEMENT_NODE&&("SCRIPT"===c.nodeName||c.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(c))||this.copyStyles&&"STYLE"===c.nodeName||t.appendChild(this.cloneNode(c));var l=(0,d.resolvePseudoContent)(e,i,this.pseudoContentData);if((0,d.popCounters)(s,this.pseudoContentData),e instanceof n.HTMLElement&&t instanceof n.HTMLElement)switch(o&&this.inlineAllImages(m(e,t,o,a,y)),i&&this.inlineAllImages(m(e,t,i,l,v)),!r||!this.copyStyles||e instanceof HTMLIFrameElement||(0,u.copyCSSStyles)(r,t),this.inlineAllImages(t),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([t,e.scrollLeft,e.scrollTop]),e.nodeName){case"CANVAS":this.copyStyles||h(e,t);break;case"TEXTAREA":case"SELECT":t.value=e.value}return t}}]),e}(),A=function(e,t){return(e.cssRules?Array.from(e.cssRules):[]).filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).map((function(e){for(var n=(0,c.parseBackgroundImage)(e.style.getPropertyValue("src")),r=[],o=0;o<n.length;o++)if("url"===n[o].method&&n[o+1]&&"format"===n[o+1].method){var i=t.createElement("a");i.href=n[o].args[0],t.body&&t.body.appendChild(i);var s={src:i.href,format:n[o+1].args[0]};r.push(s)}return{formats:r.filter((function(e){return/^woff/i.test(e.format)})),fontFace:e.style}})).filter((function(e){return e.formats.length}))},g=function(e,t){var n=document.implementation.createHTMLDocument(""),r=document.createElement("base");r.href=t;var o=document.createElement("style");return o.textContent=e,n.head&&n.head.appendChild(r),n.body&&n.body.appendChild(o),o.sheet?A(o.sheet,n):[]},h=function(e,t){try{if(t){t.width=e.width,t.height=e.height;var n=e.getContext("2d"),r=t.getContext("2d");n?r.putImageData(n.getImageData(0,0,e.width,e.height),0,0):r.drawImage(e,0,0)}}catch(e){}},m=function(e,t,n,r,o){if(n&&n.content&&"none"!==n.content&&"-moz-alt-content"!==n.content&&"none"!==n.display){var i=t.ownerDocument.createElement("html2canvaspseudoelement");if((0,u.copyCSSStyles)(n,i),r)for(var s=r.length,a=0;a<s;a++){var l=r[a];switch(l.type){case d.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:var f=t.ownerDocument.createElement("img");f.src=(0,c.parseBackgroundImage)("url("+l.value+")")[0].args[0],f.style.opacity="1",i.appendChild(f);break;case d.PSEUDO_CONTENT_ITEM_TYPE.TEXT:i.appendChild(t.ownerDocument.createTextNode(l.value))}}return i.className=b+" "+E,t.className+=o===y?" "+b:" "+E,o===y?t.insertBefore(i,t.firstChild):t.appendChild(i),i}},y=":before",v=":after",b="___html2canvas___pseudoelement_before",E="___html2canvas___pseudoelement_after",C=function(e){T(e,"."+b+y+'{\n    content: "" !important;\n    display: none !important;\n}\n         .'+E+v+'{\n    content: "" !important;\n    display: none !important;\n}')},T=function(e,t){var n=e.ownerDocument.createElement("style");n.innerHTML=t,e.appendChild(n)},S=function(e){var t=r(e,3),n=t[0],o=t[1],i=t[2];n.scrollLeft=o,n.scrollTop=i},x=function(){return Math.ceil(Date.now()+1e7*Math.random()).toString(16)},_=/^data:text\/(.+);(base64)?,(.*)$/i,w=function(e,t){try{return Promise.resolve(e.contentWindow.document.documentElement)}catch(n){return t.proxy?(0,s.Proxy)(e.src,t).then((function(e){var t=e.match(_);return t?"base64"===t[2]?window.atob(decodeURIComponent(t[3])):decodeURIComponent(t[3]):Promise.reject()})).then((function(t){return B(e.ownerDocument,(0,i.parseBounds)(e,0,0)).then((function(e){var n=e.contentWindow.document;n.open(),n.write(t);var r=I(e).then((function(){return n.documentElement}));return n.close(),r}))})):Promise.reject()}},B=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),e.body?(e.body.appendChild(n),Promise.resolve(n)):Promise.reject("Body element not found in Document that is getting rendered")},I=function(e){var t=e.contentWindow,n=t.document;return new Promise((function(r,o){t.onload=e.onload=n.onreadystatechange=function(){var t=setInterval((function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(t),r(e))}),50)}}))},R=(t.cloneWindow=function(e,t,n,r,o,i){var s=new p(n,r,o,!1,i),a=e.defaultView.pageXOffset,u=e.defaultView.pageYOffset;return B(e,t).then((function(o){var i=o.contentWindow,c=i.document,l=I(o).then((function(){s.scrolledElements.forEach(S),i.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||i.scrollY===t.top&&i.scrollX===t.left||(c.documentElement.style.top=-t.top+"px",c.documentElement.style.left=-t.left+"px",c.documentElement.style.position="absolute");var a=Promise.resolve([o,s.clonedReferenceElement,s.resourceLoader]),u=r.onclone;return s.clonedReferenceElement instanceof i.HTMLElement||s.clonedReferenceElement instanceof e.defaultView.HTMLElement||s.clonedReferenceElement instanceof HTMLElement?"function"==typeof u?Promise.resolve().then((function(){return u(c)})).then((function(){return a})):a:Promise.reject("Error finding the "+n.nodeName+" in the cloned document")}));return c.open(),c.write(R(document.doctype)+"<html></html>"),function(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}(n.ownerDocument,a,u),c.replaceChild(c.adoptNode(s.documentElement),c.documentElement),c.close(),l}))},function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceStore=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(10),s=(r=i)&&r.__esModule?r:{default:r},a=n(26);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t,n,r){u(this,e),this.options=t,this._window=r,this.origin=this.getOrigin(r.location.href),this.cache={},this.logger=n,this._index=0}return o(e,[{key:"loadImage",value:function(e){var t=this;if(this.hasResourceInCache(e))return e;if(h(e))return this.cache[e]=y(e,this.options.imageTimeout||0),e;if(!m(e)||s.default.SUPPORT_SVG_DRAWING){if(!0===this.options.allowTaint||A(e)||this.isSameOrigin(e))return this.addImage(e,e,!1);if(!this.isSameOrigin(e)){if("string"==typeof this.options.proxy)return this.cache[e]=(0,a.Proxy)(e,this.options).then((function(e){return y(e,t.options.imageTimeout||0)})),e;if(!0===this.options.useCORS&&s.default.SUPPORT_CORS_IMAGES)return this.addImage(e,e,!0)}}}},{key:"inlineImage",value:function(e){var t=this;return A(e)?y(e,this.options.imageTimeout||0):this.hasResourceInCache(e)?this.cache[e]:this.isSameOrigin(e)||"string"!=typeof this.options.proxy?this.xhrImage(e):this.cache[e]=(0,a.Proxy)(e,this.options).then((function(e){return y(e,t.options.imageTimeout||0)}))}},{key:"xhrImage",value:function(e){var t=this;return this.cache[e]=new Promise((function(n,r){var o=new XMLHttpRequest;if(o.onreadystatechange=function(){if(4===o.readyState)if(200!==o.status)r("Failed to fetch image "+e.substring(0,256)+" with status code "+o.status);else{var t=new FileReader;t.addEventListener("load",(function(){var e=t.result;n(e)}),!1),t.addEventListener("error",(function(e){return r(e)}),!1),t.readAsDataURL(o.response)}},o.responseType="blob",t.options.imageTimeout){var i=t.options.imageTimeout;o.timeout=i,o.ontimeout=function(){return r("Timed out ("+i+"ms) fetching "+e.substring(0,256))}}o.open("GET",e,!0),o.send()})).then((function(e){return y(e,t.options.imageTimeout||0)})),this.cache[e]}},{key:"loadCanvas",value:function(e){var t=String(this._index++);return this.cache[t]=Promise.resolve(e),t}},{key:"hasResourceInCache",value:function(e){return void 0!==this.cache[e]}},{key:"addImage",value:function(e,t,n){var r=this;this.logger.log("Added image "+e.substring(0,256));var o=function(e){return new Promise((function(o,i){var s=new Image;if(s.onload=function(){return o(s)},e&&!n||(s.crossOrigin="anonymous"),s.onerror=i,s.src=t,!0===s.complete&&setTimeout((function(){o(s)}),500),r.options.imageTimeout){var a=r.options.imageTimeout;setTimeout((function(){return i("Timed out ("+a+"ms) fetching "+t.substring(0,256))}),a)}}))};return this.cache[e]=g(t)&&!m(t)?s.default.SUPPORT_BASE64_DRAWING(t).then(o):o(!0),e}},{key:"isSameOrigin",value:function(e){return this.getOrigin(e)===this.origin}},{key:"getOrigin",value:function(e){var t=this._link||(this._link=this._window.document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port}},{key:"ready",value:function(){var e=this,t=Object.keys(this.cache),n=t.map((function(t){return e.cache[t].catch((function(t){return e.logger.log("Unable to load image",t),null}))}));return Promise.all(n).then((function(n){return e.logger.log("Finished loading "+n.length+" images",n),new l(t,n)}))}}]),e}();t.default=c;var l=t.ResourceStore=function(){function e(t,n){u(this,e),this._keys=t,this._resources=n}return o(e,[{key:"get",value:function(e){var t=this._keys.indexOf(e);return-1===t?null:this._resources[t]}}]),e}(),d=/^data:image\/svg\+xml/i,f=/^data:image\/.*;base64,/i,p=/^data:image\/.*/i,A=function(e){return p.test(e)},g=function(e){return f.test(e)},h=function(e){return"blob"===e.substr(0,4)},m=function(e){return"svg"===e.substr(-3).toLowerCase()||d.test(e)},y=function(e,t){return new Promise((function(n,r){var o=new Image;o.onload=function(){return n(o)},o.onerror=r,o.src=e,!0===o.complete&&setTimeout((function(){n(o)}),500),t&&setTimeout((function(){return r("Timed out ("+t+"ms) loading image")}),t)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseContent=t.resolvePseudoContent=t.popCounters=t.parseCounterReset=t.TOKEN_TYPE=t.PSEUDO_CONTENT_ITEM_TYPE=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(14),i=n(8),s=t.PSEUDO_CONTENT_ITEM_TYPE={TEXT:0,IMAGE:1},a=t.TOKEN_TYPE={STRING:0,ATTRIBUTE:1,URL:2,COUNTER:3,COUNTERS:4,OPENQUOTE:5,CLOSEQUOTE:6},u=(t.parseCounterReset=function(e,t){if(!e||!e.counterReset||"none"===e.counterReset)return[];for(var n=[],o=e.counterReset.split(/\s*,\s*/),i=o.length,s=0;s<i;s++){var a=o[s].split(/\s+/),u=r(a,2),c=u[0],l=u[1];n.push(c);var d=t.counters[c];d||(d=t.counters[c]=[]),d.push(parseInt(l||0,10))}return n},t.popCounters=function(e,t){for(var n=e.length,r=0;r<n;r++)t.counters[e[r]].pop()},t.resolvePseudoContent=function(e,t,n){if(!t||!t.content||"none"===t.content||"-moz-alt-content"===t.content||"none"===t.display)return null;var o=u(t.content),i=o.length,c=[],f="",p=t.counterIncrement;if(p&&"none"!==p){var A=p.split(/\s+/),g=r(A,2),h=g[0],m=g[1],y=n.counters[h];y&&(y[y.length-1]+=void 0===m?1:parseInt(m,10))}for(var v=0;v<i;v++){var b=o[v];switch(b.type){case a.STRING:f+=b.value||"";break;case a.ATTRIBUTE:e instanceof HTMLElement&&b.value&&(f+=e.getAttribute(b.value)||"");break;case a.COUNTER:var E=n.counters[b.name||""];E&&(f+=d([E[E.length-1]],"",b.format));break;case a.COUNTERS:var C=n.counters[b.name||""];C&&(f+=d(C,b.glue,b.format));break;case a.OPENQUOTE:f+=l(t,!0,n.quoteDepth),n.quoteDepth++;break;case a.CLOSEQUOTE:n.quoteDepth--,f+=l(t,!1,n.quoteDepth);break;case a.URL:f&&(c.push({type:s.TEXT,value:f}),f=""),c.push({type:s.IMAGE,value:b.value||""})}}return f&&c.push({type:s.TEXT,value:f}),c},t.parseContent=function(e,t){if(t&&t[e])return t[e];for(var n=[],r=e.length,o=!1,i=!1,s=!1,u="",l="",d=[],f=0;f<r;f++){var p=e.charAt(f);switch(p){case"'":case'"':i?u+=p:(o=!o,s||o||(n.push({type:a.STRING,value:u}),u=""));break;case"\\":i?(u+=p,i=!1):i=!0;break;case"(":o?u+=p:(s=!0,l=u,u="",d=[]);break;case")":if(o)u+=p;else if(s){switch(u&&d.push(u),l){case"attr":d.length>0&&n.push({type:a.ATTRIBUTE,value:d[0]});break;case"counter":if(d.length>0){var A={type:a.COUNTER,name:d[0]};d.length>1&&(A.format=d[1]),n.push(A)}break;case"counters":if(d.length>0){var g={type:a.COUNTERS,name:d[0]};d.length>1&&(g.glue=d[1]),d.length>2&&(g.format=d[2]),n.push(g)}break;case"url":d.length>0&&n.push({type:a.URL,value:d[0]})}s=!1,u=""}break;case",":o?u+=p:s&&(d.push(u),u="");break;case" ":case"\t":o?u+=p:u&&(c(n,u),u="");break;default:u+=p}"\\"!==p&&(i=!1)}return u&&c(n,u),t&&(t[e]=n),n}),c=function(e,t){switch(t){case"open-quote":e.push({type:a.OPENQUOTE});break;case"close-quote":e.push({type:a.CLOSEQUOTE})}},l=function(e,t,n){var r=e.quotes?e.quotes.split(/\s+/):["'\"'","'\"'"],o=2*n;return o>=r.length&&(o=r.length-2),t||++o,r[o].replace(/^["']|["']$/g,"")},d=function(e,t,n){for(var r=e.length,s="",a=0;a<r;a++)a>0&&(s+=t||""),s+=(0,o.createCounterText)(e[a],(0,i.parseListStyleType)(n||"decimal"),!1);return s}}])},"object"===s(t)&&"object"===s(e)?e.exports=i():(r=[],void 0===(o="function"==typeof(n=i)?n.apply(t,r):n)||(e.exports=o))}).call(this,n(92)(e))},function(e,t,n){e.exports=n.p+"./static/kchat203/images/marker.svg"},function(e,t,n){"use strict";var r=n(81);function o(e,t,n,o,i){var s=r.writeRtpDescription(e.kind,t);if(s+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"),s+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?s+="a=sendrecv\r\n":e.rtpSender?s+="a=sendonly\r\n":e.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var u="msid:"+(o?o.id:"-")+" "+a+"\r\n";s+="a="+u,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+u,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+u,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),s}function i(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},o=function(e,t,n,o){var i=r(e.parameters.apt,n),s=r(t.parameters.apt,o);return i&&s&&i.name.toLowerCase()===s.name.toLowerCase()};return e.codecs.forEach((function(r){for(var i=0;i<t.codecs.length;i++){var s=t.codecs[i];if(r.name.toLowerCase()===s.name.toLowerCase()&&r.clockRate===s.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&s.parameters.apt&&!o(r,s,e.codecs,t.codecs))continue;(s=JSON.parse(JSON.stringify(s))).numChannels=Math.min(r.numChannels,s.numChannels),n.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var o=t.headerExtensions[r];if(e.uri===o.uri){n.headerExtensions.push(o);break}}})),n}function s(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function a(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function u(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}e.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function c(t,n,r,o){var i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=o,e.setTimeout((function(){t._dispatchEvent("track",i)}))}var l=function(n){var o=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){o[e]=i[e].bind(i)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw u("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o="string"==typeof r;return o&&(r=[r]),r=r.filter((function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!n?(n=!0,!0):0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp")})),delete e.url,e.urls=o?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var s=n.iceCandidatePoolSize;s>0;s--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var o=this._createIceAndDtlsTransports();r.iceTransport=o.iceTransport,r.dtlsTransport=o.dtlsTransport}return t||this.transceivers.push(r),r},l.prototype.addTrack=function(t,n){if(this._isClosed)throw u("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw u("InvalidAccessError","Track already exists.");for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(r=this.transceivers[o]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},l.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},l.prototype.removeTrack=function(t){if(this._isClosed)throw u("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw u("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},l.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},l.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},l.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var o=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(o,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;o.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},o.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),o},l.prototype._gather=function(t,n){var o=this,i=this.transceivers[n].iceGatherer;if(!i.onlocalcandidate){var s=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),i.onlocalcandidate=function(e){if(!(o.usingBundle&&n>0)){var s=new Event("icecandidate");s.candidate={sdpMid:t,sdpMLineIndex:n};var a=e.candidate,u=!a||0===Object.keys(a).length;if(u)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),a.component=1,a.ufrag=i.getLocalParameters().usernameFragment;var c=r.writeCandidate(a);s.candidate=Object.assign(s.candidate,r.parseCandidate(c)),s.candidate.candidate=c,s.candidate.toJSON=function(){return{candidate:s.candidate.candidate,sdpMid:s.candidate.sdpMid,sdpMLineIndex:s.candidate.sdpMLineIndex,usernameFragment:s.candidate.usernameFragment}}}var l=r.getMediaSections(o._localDescription.sdp);l[s.candidate.sdpMLineIndex]+=u?"a=end-of-candidates\r\n":"a="+s.candidate.candidate+"\r\n",o._localDescription.sdp=r.getDescription(o._localDescription.sdp)+l.join("");var d=o.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),u||o._dispatchEvent("icecandidate",s),d&&(o._dispatchEvent("icecandidate",new Event("icecandidate")),o.iceGatheringState="complete",o._emitGatheringStateChange())}},e.setTimeout((function(){s.forEach((function(e){i.onlocalcandidate(e)}))}),0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,n,o){var s=i(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(s.encodings=e.sendEncodingParameters,s.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(s.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(s)),o&&e.rtpReceiver&&s.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?s.encodings=e.recvEncodingParameters:s.encodings=[{}],s.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(s.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(s.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(s))},l.prototype.setLocalDescription=function(e){var t,n,o=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(u("TypeError",'Unsupported type "'+e.type+'"'));if(!s("setLocalDescription",e.type,o.signalingState)||o._isClosed)return Promise.reject(u("InvalidStateError","Can not set local "+e.type+" in state "+o.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);o.transceivers[t].localCapabilities=n})),o.transceivers.forEach((function(e,t){o._gather(e.mid,t)}));else if("answer"===e.type){t=r.splitSections(o._remoteDescription.sdp),n=t.shift();var a=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var s=o.transceivers[t],u=s.iceGatherer,c=s.iceTransport,l=s.dtlsTransport,d=s.localCapabilities,f=s.remoteCapabilities;if(!(r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length)&&!s.rejected){var p=r.getIceParameters(e,n),A=r.getDtlsParameters(e,n);a&&(A.role="server"),o.usingBundle&&0!==t||(o._gather(s.mid,t),"new"===c.state&&c.start(u,p,a?"controlling":"controlled"),"new"===l.state&&l.start(A));var g=i(d,f);o._transceive(s,g.codecs.length>0,!1)}}))}return o._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?o._updateSignalingState("have-local-offer"):o._updateSignalingState("stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(o){var l=this;if(-1===["offer","answer"].indexOf(o.type))return Promise.reject(u("TypeError",'Unsupported type "'+o.type+'"'));if(!s("setRemoteDescription",o.type,l.signalingState)||l._isClosed)return Promise.reject(u("InvalidStateError","Can not set remote "+o.type+" in state "+l.signalingState));var d={};l.remoteStreams.forEach((function(e){d[e.id]=e}));var f=[],p=r.splitSections(o.sdp),A=p.shift(),g=r.matchPrefix(A,"a=ice-lite").length>0,h=r.matchPrefix(A,"a=group:BUNDLE ").length>0;l.usingBundle=h;var m=r.matchPrefix(A,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!m&&m.substr(14).split(" ").indexOf("trickle")>=0,p.forEach((function(s,u){var c=r.splitLines(s),p=r.getKind(s),m=r.isRejected(s)&&0===r.matchPrefix(s,"a=bundle-only").length,y=c[0].substr(2).split(" ")[2],v=r.getDirection(s,A),b=r.parseMsid(s),E=r.getMid(s)||r.generateIdentifier();if(m||"application"===p&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))l.transceivers[u]={mid:E,kind:p,protocol:y,rejected:!0};else{var C,T,S,x,_,w,B,I,R;!m&&l.transceivers[u]&&l.transceivers[u].rejected&&(l.transceivers[u]=l._createTransceiver(p,!0));var O,N,M=r.parseRtpParameters(s);m||(O=r.getIceParameters(s,A),(N=r.getDtlsParameters(s,A)).role="client"),B=r.parseRtpEncodingParameters(s);var U=r.parseRtcpParameters(s),L=r.matchPrefix(s,"a=end-of-candidates",A).length>0,F=r.matchPrefix(s,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===o.type||"answer"===o.type)&&!m&&h&&u>0&&l.transceivers[u]&&(l._disposeIceAndDtlsTransports(u),l.transceivers[u].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[u].iceTransport=l.transceivers[0].iceTransport,l.transceivers[u].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[u].rtpSender&&l.transceivers[u].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[u].rtpReceiver&&l.transceivers[u].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==o.type||m){if("answer"===o.type&&!m){T=(C=l.transceivers[u]).iceGatherer,S=C.iceTransport,x=C.dtlsTransport,_=C.rtpReceiver,w=C.sendEncodingParameters,I=C.localCapabilities,l.transceivers[u].recvEncodingParameters=B,l.transceivers[u].remoteCapabilities=M,l.transceivers[u].rtcpParameters=U,F.length&&"new"===S.state&&(!g&&!L||h&&0!==u?F.forEach((function(e){a(C.iceTransport,e)})):S.setRemoteCandidates(F)),h&&0!==u||("new"===S.state&&S.start(T,O,"controlling"),"new"===x.state&&x.start(N)),!i(C.localCapabilities,C.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&C.sendEncodingParameters[0].rtx&&delete C.sendEncodingParameters[0].rtx,l._transceive(C,"sendrecv"===v||"recvonly"===v,"sendrecv"===v||"sendonly"===v),!_||"sendrecv"!==v&&"sendonly"!==v?delete C.rtpReceiver:(R=_.track,b?(d[b.stream]||(d[b.stream]=new e.MediaStream),n(R,d[b.stream]),f.push([R,_,d[b.stream]])):(d.default||(d.default=new e.MediaStream),n(R,d.default),f.push([R,_,d.default])))}}else{(C=l.transceivers[u]||l._createTransceiver(p)).mid=E,C.iceGatherer||(C.iceGatherer=l._createIceGatherer(u,h)),F.length&&"new"===C.iceTransport.state&&(!L||h&&0!==u?F.forEach((function(e){a(C.iceTransport,e)})):C.iceTransport.setRemoteCandidates(F)),I=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(I.codecs=I.codecs.filter((function(e){return"rtx"!==e.name}))),w=C.sendEncodingParameters||[{ssrc:1001*(2*u+2)}];var P,j=!1;if("sendrecv"===v||"sendonly"===v){if(j=!C.rtpReceiver,_=C.rtpReceiver||new e.RTCRtpReceiver(C.dtlsTransport,p),j)R=_.track,b&&"-"===b.stream||(b?(d[b.stream]||(d[b.stream]=new e.MediaStream,Object.defineProperty(d[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(R,"id",{get:function(){return b.track}}),P=d[b.stream]):(d.default||(d.default=new e.MediaStream),P=d.default)),P&&(n(R,P),C.associatedRemoteMediaStreams.push(P)),f.push([R,_,P])}else C.rtpReceiver&&C.rtpReceiver.track&&(C.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===C.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),C.associatedRemoteMediaStreams=[]);C.localCapabilities=I,C.remoteCapabilities=M,C.rtpReceiver=_,C.rtcpParameters=U,C.sendEncodingParameters=w,C.recvEncodingParameters=B,l._transceive(l.transceivers[u],!1,j)}}})),void 0===l._dtlsRole&&(l._dtlsRole="offer"===o.type?"active":"passive"),l._remoteDescription={type:o.type,sdp:o.sdp},"offer"===o.type?l._updateSignalingState("have-remote-offer"):l._updateSignalingState("stable"),Object.keys(d).forEach((function(t){var n=d[t];if(n.getTracks().length){if(-1===l.remoteStreams.indexOf(n)){l.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){l._dispatchEvent("addstream",r)}))}f.forEach((function(e){var t=e[0],r=e[1];n.id===e[2].id&&c(l,t,r,[n])}))}})),f.forEach((function(e){e[2]||c(l,e[0],e[1],[])})),e.setTimeout((function(){l&&l.transceivers&&l.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},l.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(u("InvalidStateError","Can not call createOffer after close"));var i=n.transceivers.filter((function(e){return"audio"===e.kind})).length,s=n.transceivers.filter((function(e){return"video"===e.kind})).length,a=arguments[0];if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==a.offerToReceiveAudio&&(i=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio),void 0!==a.offerToReceiveVideo&&(s=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--s<0&&(e.wantReceive=!1)}));i>0||s>0;)i>0&&(n._createTransceiver("audio"),i--),s>0&&(n._createTransceiver("video"),s--);var c=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(o,i){var s=o.track,a=o.kind,u=o.mid||r.generateIdentifier();o.mid=u,o.iceGatherer||(o.iceGatherer=n._createIceGatherer(i,n.usingBundle));var c=e.RTCRtpSender.getCapabilities(a);t<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),o.remoteCapabilities&&o.remoteCapabilities.codecs&&o.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(o.remoteCapabilities&&o.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=o.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];s&&t>=15019&&"video"===a&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),o.wantReceive&&(o.rtpReceiver=new e.RTCRtpReceiver(o.dtlsTransport,a)),o.localCapabilities=c,o.sendEncodingParameters=l})),"max-compat"!==n._config.bundlePolicy&&(c+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){c+=o(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,c+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))}));var l=new e.RTCSessionDescription({type:"offer",sdp:c});return Promise.resolve(l)},l.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(u("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(u("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var s=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(s+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n";var a=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,r){if(!(r+1>a)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?s+="m=application 0 DTLS/SCTP 5000\r\n":s+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?s+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(s+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(s+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var u;if(e.stream)"audio"===e.kind?u=e.stream.getAudioTracks()[0]:"video"===e.kind&&(u=e.stream.getVideoTracks()[0]),u&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var c=i(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,s+=o(e,c,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(s+="a=rtcp-rsize\r\n")}}));var c=new e.RTCSessionDescription({type:"answer",sdp:s});return Promise.resolve(c)},l.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(o,i){if(!n._remoteDescription)return i(u("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var s=e.sdpMLineIndex;if(e.sdpMid)for(var c=0;c<n.transceivers.length;c++)if(n.transceivers[c].mid===e.sdpMid){s=c;break}var l=n.transceivers[s];if(!l)return i(u("OperationError","Can not add ICE candidate"));if(l.rejected)return o();var d=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return o();if(d.component&&1!==d.component)return o();if((0===s||s>0&&l.iceTransport!==n.transceivers[0].iceTransport)&&!a(l.iceTransport,d))return i(u("OperationError","Can not add ICE candidate"));var f=e.candidate.trim();0===f.indexOf("a=")&&(f=f.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[s]+="a="+(d.type?f:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var p=0;p<n.transceivers.length&&(n.transceivers[p].rejected||(n.transceivers[p].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[p]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));p++);o()}))},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw u("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))}}}));var d=["createOffer","createAnswer"];return d.forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(d=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),l}},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(58),i=n(12),s=n(23),a=n(333),u=n(556),c=n(17);function l(e,t){var n=t&&t.rootName||o.newSHA();if(i.default.hasKChat(n))throw s.default(1001,"当前窗口内已存在命名为"+n+"的KChat实例，请换个名称","KChat 初始化");if(t&&"object"!==(void 0===t?"undefined":r(t)))throw s.default(1001,"KChat的options参数只能为空或对象","KChat 初始化");return i.default.addKChat({name:n,tree:a.default(n,e,u.default()),options:t||{}})}n(557),n(559),n(560),l.$setTheme=c.$setTheme,window.KChat=l,t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(){this.events={}}return e.prototype.getEventNames=function(){var e={};for(var t in r.RxjsEventNames)r.RxjsEventNames.hasOwnProperty(t)&&isNaN(+t)&&(e[t]=r.RxjsEventNames[t]);return e},e.prototype.getEvent=function(e){return this.events[e]||(this.events[e]={pipes:[],subscribe:[],locked:!1}),this.events[e]},e.prototype.addPipe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.getEvent(e).pipes;return!!t.length&&(t.forEach((function(e){return r.push(e)})),!0)},e.prototype.unshiftPipe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.getEvent(e).pipes;return!!t.length&&(t.reverse().forEach((function(e){return r.unshift(e)})),!0)},e.prototype.removePipe=function(e,t){var n=this.getEvent(e),r=n.pipes.findIndex((function(e){return e===t}));return!(-1===r||!n.pipes.length)&&(n.pipes.splice(r,1),!0)},e.prototype.lock=function(e){this.getEvent(e).locked=!0,this.getEvent(e).subscribe.forEach((function(e){e.subscriber&&e.subscriber.unsubscribe()}))},e.prototype.unlock=function(e){var t=this;this.getEvent(e).locked=!1,this.getEvent(e).subscribe.forEach((function(n){var r=n.fromEvent,o=n.observer;t.getEvent(e).pipes.forEach((function(e){r=r.pipe(e)})),n.subscriber=r.subscribe(o)}))},e.prototype.subscribe=function(e,t,n){var r=this.getEvent(e),o=r.pipes,i=r.subscribe;if(!r.locked){var s={subscriber:null,fromEvent:t,observer:n};return t=t.pipe.apply(t,o),s.subscriber=t.subscribe(n),i.push(s),{unsubscribe:function(){i.some((function(e,t){if(e===s)return i.splice(t,1),!0})),s.subscriber.unsubscribe()}}}console.log("RxjsEvent 名为 "+e+" 的通道已锁定！")},e}();t.default=o},function(e,t,n){var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(189),u=n(147),c=n(199),l=n(201),d=n(203),f=n(205),p=n(207),A=n(209),g=n(211),h=n(213),m=n(217),y=n(20),v=n(58),b=n(36),E=n(5);y.EventEmitter.defaultMaxListeners=20;var C=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.options=t,n.id=v.newSHA(),n.options=t,n.options&&n.options.configUrl?n.getRemoteConfig(n.options.configUrl).subscribe((function(){n.initSign(),n.emit("created")})):n.initSign(),n}return i(t,e),t.prototype.initSign=function(){this.login=new a.default,this.login.on("loginSuccess",this.init.bind(this))},t.prototype.getRemoteConfig=function(e){var t=this;return b.default(e).pipe(E.map((function(e){return e&&e.KChatConfig&&(window.KChatConfig?t.copyProp(window.KChatConfig,e.KChatConfig):window.KChatConfig=e.KChatConfig),e})))},t.prototype.copyProp=function(e,t){for(var n in t)e[n]?"object"!==o(e[n])||Array.isArray(e[n])||"object"!==o(t[n])||Array.isArray(t[n])?e[n]=t[n]:this.copyProp(e[n],t[n]):e[n]=t[n]},t.Message=function(e){return new g.default(e)},t.Group=function(e){return new A.default(e)},t.User=function(e){return new p.default(e)},t.FrameWork=function(e){return new c.default(e)},t.PTT=function(e){return new m.default(e)},t.Live=function(e){return new h.default(e)},t.Star=function(e){return new d.default(e)},t.Map=function(e){return new f.default(e)},t.Service=function(e){return new u.default(e)},t.History=function(e){return new l.default(e)},t.prototype.init=function(e){this.message&&(this.service.removeAllListeners(),this.service.serviceModel.removeAllListeners(),this.history.removeAllListeners(),this.history.historyModel.removeAllListeners(),this.map.removeAllListeners(),this.map.mapModel.removeAllListeners(),this.star.removeAllListeners(),this.star.starModel.removeAllListeners(),this.user.removeAllListeners(),this.user.userModel.removeAllListeners(),this.group.removeAllListeners(),this.group.groupModel.removeAllListeners(),this.message.removeAllListeners(),this.message.messageModel.removeAllListeners(),this.live.removeAllListeners(),this.live.liveModel.removeAllListeners(),this.ptt.removeAllListeners(),this.ptt.pttModel.removeAllListeners()),this.service=new u.default(e),this.frameWork=new c.default(e),this.history=new l.default(e),this.map=new f.default(e),this.star=new d.default(e),this.user=new p.default(e),this.group=new A.default(e),this.message=new g.default(e);var t=window.KChatConfig.service.mediaSettings;this.live=new h.default(s({videoCallFormat:t&&t.videoCallFormat,audioCallFormat:t&&t.audioCallFormat},e)),this.ptt=new m.default(s({audioCallFormat:t&&t.audioCallFormat,maxWaitingTime:t&&t.maxWaitingTime,maxConnectionTime:t&&t.maxConnectionTime,minConnectionTime:t&&t.minConnectionTime},e))},t}(y.EventEmitter);t.default=C},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),s=n(190),a=n(53),u=n(147),c=n(25),l=n(23),d=n(13),f=n(5),p=n(28),A=n(8),g=n(1),h=function(e){function t(){var t=e.call(this)||this;return t.closeType=!1,t.heartTime=0,t.heartBeat=null,t.data=null,t.logined=!1,t.loginModel=new s.default,t.on("loginOut",(function(){setTimeout((function(){t.close()}),0)})),t}return o(t,e),t.prototype.login=function(e,t){var n=this;void 0===t&&(t=!1);var r=e,o=e,i=e;if(!(o.username&&o.password||!1===r.security||i.access_token))throw l.default(1001,"请检查登录接口参数","login");return 0===c.server.host.indexOf("http://")&&(e.usingSSL=0),console.log("登录过程开始 ====================="),console.log("params",e),(!1===r.security?t?this.loginModel.quickForcedIn(r):this.loginModel.quickIn(r):i.access_token?t?this.loginModel.tokenForcedIn(i):this.loginModel.tokenIn(i):t?this.loginModel.forcedLogin(o):this.loginModel.login(o)).pipe(f.concatMap((function(e){return/^4\d{2}$/.test(e.resultCode)?(console.log("登陆异常：",e),d.of(e)):(!1===r.security&&(e.dst=r.dst),console.log("http login 成功"),n.initService(e).pipe(f.concatMap((function(t){return n.initDataModel(t).pipe(f.map((function(){return n.logined||(n.logined=!0,console.log("登录过程完成 ====================="),n.emit("loginSuccess",t)),e})))}))))})))},t.prototype.initService=function(e){return this.service=new u.default(e),this.service.getService().pipe(f.map((function(t){if(0===c.server.host.indexOf("https")){if(!(t.file instanceof Array))throw l.default(2003,"file服务协议配置错误/服务列表格式不正确，应为Array[Object]格式","Login initService");if(!(r=t.file.filter((function(e){return"https"===e.protoc}))[0]))throw console.log(t),l.default(2003,"file服务协议配置错误","Login initService");c.server.fileBaseUrl="https://"+r.ip+":"+r.port}else{if(!(t.file instanceof Array))throw l.default(2003,"file服务协议配置错误/服务列表格式不正确，应为Array[Object]格式","Login initService");if(!(r=t.file.filter((function(e){return"https"!==e.protoc}))[0]))throw console.log(t),l.default(2003,"file服务协议配置错误","Login initService");c.server.fileBaseUrl="http://"+r.ip+":"+r.port}var n="";if(0===c.server.host.indexOf("https")){if(!(t.connector_ws instanceof Array))throw l.default(2003,"connector_ws服务协议配置错误/服务列表格式不正确，应为Array[Object]格式","Login initService");if(!(r=t.connector_ws.filter((function(e){return"wss"===e.protoc}))[0]))throw console.log(t),l.default(2003,"connector_ws服务协议配置错误","Login initService");n="wss://"+r.ip+":"+r.port+"/websocket"}else{if(!(t.connector_ws instanceof Array))throw l.default(2003,"connector_ws服务协议配置错误/服务列表格式不正确，应为Array[Object]格式","Login initService");if(!(r=t.connector_ws.filter((function(e){return"wss"!==e.protoc}))[0]))throw console.log(t),l.default(2003,"connector_ws服务协议配置错误","Login initService");n="ws://"+r.ip+":"+r.port+"/websocket"}if(t.streamMidea&&t.streamMidea.length>0&&!window.KChatConfig.service.webrtc){if(!(t.streamMidea instanceof Array))throw l.default(2003,"streamMidea服务协议配置错误/服务列表格式不正确，应为Array[Object]格式","Login initService");var r;if(!(r=t.streamMidea.filter((function(e){return"wss"===e.protoc}))[0]))throw console.log(t),l.default(2003,"streamMidea服务协议配置错误","Login initService");window.KChatConfig.service.webrtc="wss://"+r.ip+":"+(r.port||443)}return t.stun&&t.stun.length>0&&(c.server.stun=t.stun[0].ip+":"+t.stun[0].port),console.log("listService 配置完成"),e.dst?{host:n,sessionId:e.sessionId,user:e.user,dst:e.dst}:{host:n,sessionId:e.sessionId,user:e.user}})))},t.prototype.initDataModel=function(e){var t=this;return p.createObserver((function(n){t.close(),t.dataModel&&t.dataModel.removeAllListeners(),t.dataModel=new a.default(e),t.dataModel.on("close",(function(e){!t.closeType&&e.isSleeping&&(console.log("已断线,正在尝试重新连接"),t.emit("reConnecting"),t.dataModel.close(),t.dataModel.init()),t.closeType=!1})),t.dataModel.on("reConnected",(function(){console.log("重连成功"),t.emit("reConnected")})),t.dataModel.on("open",(function(){t.loginModel.removeAllListeners(),t.loginModel.initLoginInfo(e),t.loginModel.on("beCoercive",(function(){console.log("账号被踢出"),t.emit("beCoercive"),setTimeout((function(){t.close()}),0)})),t.loginModel.on("deviceLogin",(function(e){console.log("账号在其它终端登录：",e.device),t.emit("deviceLogin",e)})),t.loginModel.on("deviceLogout",(function(e){console.log("账号在其它终端下线：",e.device),t.emit("deviceLogout",e)})),t.socketlogin(e).subscribe(t.logined?null:{next:function(){return n.next()},error:function(e){return n.error(e)}})}))}))},t.prototype.bindLocalStorage=function(e){var t=function(){return JSON.parse(localStorage.getItem(e)||"{}")},n=function(t){localStorage.setItem(e,JSON.stringify(t))};window.KChatStorage={getItem:function(e){return t()[e]},setItem:function(e,r){var o=t();o[e]=r,n(o)},removeItem:function(e){var r=t();delete r[e],n(r)},clear:function(){n({})}}},t.prototype.close=function(){this.closeType=!0,this.clearHeartBeat(),this.logined=!1,this.dataModel&&(this.dataModel.close(),this.dataModel=null)},t.prototype.clearHeartBeat=function(){this.heartBeat&&(this.heartTime=0,clearInterval(this.heartBeat),this.heartBeat=null)},t.prototype.setHeartBeat=function(){var e=this;this.heartBeat=setInterval((function(){e.heartTime++,e.heartTime%20==0&&e.dataModel&&e.dataModel.send({header:{st:1,dst:"",optType:g.OptType.REQUEST}})}),1e3)},t.prototype.socketlogin=function(e){var t=this;return console.log("获取到的域对象",e),e.user.domainCode&&(console.log("获取到的域",e.user.domainCode),c.domain.domainCode=e.user.domainCode),p.createObserver((function(n){t.dataModel.send({header:{sn:p.setSnCache({onFailure:function(e){452===e.resultCode?(console.log("账号被踢出"),t.emit("beCoercive"),setTimeout((function(){t.close()}),0)):(console.log("websocket loginAuth 失败"),t.emit("loginError",e),t.close()),n.error(e)},onSuccess:function(r){t.setHeartBeat(),t.bindLocalStorage(e.user.userCode),console.log("websocket loginAuth 成功"),t.emit("updateServerClientTime",r),n.next(r)}}),st:0,dst:"",optType:g.OptType.REQUEST},body:{sessionId:e.sessionId,userCode:A.setDomain([e.user.userCode],c.domain.domainCode)[0]}},!0)}))},t}(i);t.default=h},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(36),a=n(25),u=n(23),c=n(20),l=n(53),d=n(28),f=n(8),p=n(1),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.forcedLogin=function(e){return s.default.post({url:a.httpUrl.login.forcedIn,body:this.handleParams(e)})},t.prototype.login=function(e){return s.default.post({url:a.httpUrl.login.in,body:this.handleParams(e)})},t.prototype.tokenIn=function(e){return s.default.post({url:a.httpUrl.login.tokenIn,body:this.handleParams(e)})},t.prototype.tokenForcedIn=function(e){return s.default.post({url:a.httpUrl.login.tokenForcedIn,body:this.handleParams(e)})},t.prototype.quickIn=function(e){return s.default.post({url:a.httpUrl.login.quickIn,body:this.handleParams(e)})},t.prototype.quickForcedIn=function(e){return s.default.post({url:a.httpUrl.login.quickForcedIn,body:this.handleParams(e)})},t.prototype.handleParams=function(e){var t;if(window.KChatConfig.service.deviceType){var n=window.KChatConfig.service.version,r=window.KChatConfig.service.webPort;if(!n||!r)throw u.default(1001,"多点登陆服务配置缺少version或webPort字段","LoginModel handleParams");t={version:n,webPort:r,deviceType:window.KChatConfig.service.deviceType}}if(!1===e.security){var o=e,s=window.KChatConfig.service,a=s.clientId,c=s.clientSecret;if(!a||!c)throw u.default(1001,"免密登录缺少clientId或clientSecret字段","LoginModel handleParams");return i({username:o.username,clientId:a,clientSecret:c,usingSSL:void 0===o.usingSSL?1:o.usingSSL},t||{})}return e.access_token?i({sessionId:(o=e).access_token,usingSSL:void 0===o.usingSSL?1:o.usingSSL},t||{}):i({userCode:(o=e).username,userPassword:o.password,usingSSL:void 0===o.usingSSL?1:o.usingSSL},t||{})},t.prototype.loginOut=function(){return s.default.post({url:a.httpUrl.login.out,body:{uuid:"admin"}})},t.prototype.initLoginInfo=function(e){this._name="LoginModel",this.options=e,l.default.setModule(this,this.options.user.userCode)},t.prototype.socketResponse=function(e){d.handleSocketResponse(e)},t.prototype.socketPush=function(e){if(e&&(80===e.st||81===e.st)){var t=void 0;try{t={time:(new Date).getTime(),messageType:p.MessageType[p.MessageType[e.st]],device:f.handleDeviceType(e.deviceType||p.DeviceType.OLD),target:p.MessageTarget.OTHER}}catch(t){throw console.log(e),u.default(4001,"socketPush信令字段格式错误","LoginModel socketPush")}switch(t.messageType){case p.MessageType.DEVICE_LOGIN:this.emit("deviceLogin",t);break;case p.MessageType.DEVICE_LOGOUT:this.emit("deviceLogout",t)}}452===e.resultCode&&(l.default[this.options.user.userCode].modules.forEach((function(e){null})),l.default[this.options.user.userCode].modules=[],this.emit("beCoercive"))},t}(c.EventEmitter);t.default=A},function(e,t,n){"use strict";var r=n(192),o=n(193),i=n(145);e.exports={formats:i,parse:o,stringify:r}},function(e,t,n){"use strict";var r=n(118),o=n(145),i=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,a(t)?t:[t])},l=Date.prototype.toISOString,d=o.default,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:d,formatter:o.formatters[d],indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(t,n,o,i,s,u,l,d,p,A,g,h,m){var y,v=t;if("function"==typeof l?v=l(n,v):v instanceof Date?v=A(v):"comma"===o&&a(v)&&(v=v.join(",")),null===v){if(i)return u&&!h?u(n,f.encoder,m,"key"):n;v=""}if("string"==typeof(y=v)||"number"==typeof y||"boolean"==typeof y||"symbol"==typeof y||"bigint"==typeof y||r.isBuffer(v))return u?[g(h?n:u(n,f.encoder,m,"key"))+"="+g(u(v,f.encoder,m,"value"))]:[g(n)+"="+g(String(v))];var b,E=[];if(void 0===v)return E;if(a(l))b=l;else{var C=Object.keys(v);b=d?C.sort(d):C}for(var T=0;T<b.length;++T){var S=b[T];s&&null===v[S]||(a(v)?c(E,e(v[S],"function"==typeof o?o(n,S):n,o,i,s,u,l,d,p,A,g,h,m)):c(E,e(v[S],n+(p?"."+S:"["+S+"]"),o,i,s,u,l,d,p,A,g,h,m)))}return E};e.exports=function(e,t){var n,r=e,u=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!i.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],s=f.filter;return("function"==typeof e.filter||a(e.filter))&&(s=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:s,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"==typeof u.filter?r=(0,u.filter)("",r):a(u.filter)&&(n=u.filter);var l,d=[];if("object"!=typeof r||null===r)return"";l=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var A=s[l];n||(n=Object.keys(r)),u.sort&&n.sort(u.sort);for(var g=0;g<n.length;++g){var h=n[g];u.skipNulls&&null===r[h]||c(d,p(r[h],h,A,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.formatter,u.encodeValuesOnly,u.charset))}var m=d.join(u.delimiter),y=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""}},function(e,t,n){"use strict";var r=n(118),o=Object.prototype.hasOwnProperty,i=Array.isArray,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t){if(i(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},l=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(i),c=a?i.slice(0,a.index):i,l=[];if(c){if(!n.plainObjects&&o.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var d=0;n.depth>0&&null!==(a=s.exec(i))&&d<n.depth;){if(d+=1,!n.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+i.slice(a.index)+"]"),function(e,t,n,r){for(var o=r?t:u(t,n),i=e.length-1;i>=0;--i){var s,a=e[i];if("[]"===a&&n.parseArrays)s=[].concat(o);else{s=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(c,10);n.parseArrays||""!==c?!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(s=[])[l]=o:s[c]=o:s={0:o}}o=s}return o}(l,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var d="string"==typeof e?function(e,t){var n,l={},d=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,p=d.split(t.delimiter,f),A=-1,g=t.charset;if(t.charsetSentinel)for(n=0;n<p.length;++n)0===p[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[n]?g="utf-8":"utf8=%26%2310003%3B"===p[n]&&(g="iso-8859-1"),A=n,n=p.length);for(n=0;n<p.length;++n)if(n!==A){var h,m,y=p[n],v=y.indexOf("]="),b=-1===v?y.indexOf("="):v+1;-1===b?(h=t.decoder(y,s.decoder,g,"key"),m=t.strictNullHandling?null:""):(h=t.decoder(y.slice(0,b),s.decoder,g,"key"),m=c(u(y.slice(b+1),t),(function(e){return t.decoder(e,s.decoder,g,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===g&&(m=a(m)),y.indexOf("[]=")>-1&&(m=i(m)?[m]:m),o.call(l,h)?l[h]=r.combine(l[h],m):l[h]=m}return l}(e,n):e,f=n.plainObjects?Object.create(null):{},p=Object.keys(d),A=0;A<p.length;++A){var g=p[A],h=l(g,d[g],n,"string"==typeof e);f=r.merge(f,h,n)}return r.compact(f)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];function o(e){var t,r,o,i,s,a;for(o=e.length,r=0,t="";r<o;){if(i=255&e.charCodeAt(r++),r===o){t+=n.charAt(i>>2),t+=n.charAt((3&i)<<4),t+="==";break}if(s=e.charCodeAt(r++),r===o){t+=n.charAt(i>>2),t+=n.charAt((3&i)<<4|(240&s)>>4),t+=n.charAt((15&s)<<2),t+="=";break}a=e.charCodeAt(r++),t+=n.charAt(i>>2),t+=n.charAt((3&i)<<4|(240&s)>>4),t+=n.charAt((15&s)<<2|(192&a)>>6),t+=n.charAt(63&a)}return t}function i(e){var t,n,o,i,s,a,u;for(a=e.length,s=0,u="";s<a;){do{t=r[255&e.charCodeAt(s++)]}while(s<a&&-1===t);if(-1===t)break;do{n=r[255&e.charCodeAt(s++)]}while(s<a&&-1===n);if(-1===n)break;u+=String.fromCharCode(t<<2|(48&n)>>4);do{if(61===(o=255&e.charCodeAt(s++)))return u;o=r[o]}while(s<a&&-1===o);if(-1===o)break;u+=String.fromCharCode((15&n)<<4|(60&o)>>2);do{if(61===(i=255&e.charCodeAt(s++)))return u;i=r[i]}while(s<a&&-1===i);if(-1===i)break;u+=String.fromCharCode((3&o)<<6|i)}return u}function s(e){var t,n,r,o;for(t="",r=e.length,n=0;n<r;n++)(o=e.charCodeAt(n))>=1&&o<=127?t+=e.charAt(n):o>2047?(t+=String.fromCharCode(224|o>>12&15),t+=String.fromCharCode(128|o>>6&63),t+=String.fromCharCode(128|o>>0&63)):(t+=String.fromCharCode(192|o>>6&31),t+=String.fromCharCode(128|o>>0&63));return t}function a(e){var t,n,r,o,i,s;for(t="",r=e.length,n=0;n<r;)switch((o=e.charCodeAt(n++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:i=e.charCodeAt(n++),t+=String.fromCharCode((31&o)<<6|63&i);break;case 14:i=e.charCodeAt(n++),s=e.charCodeAt(n++),t+=String.fromCharCode((15&o)<<12|(63&i)<<6|(63&s)<<0)}return t}function u(e){var t,n,r,o;for(t="",r=e.length,n=0;n<r;)(o=e.charCodeAt(n++).toString(16)).length<2&&(o="0"+o),t+="\\x"+o+" ",n>0&&n%8==0&&(t+="\r\n");return t}t.base64encode=o,t.base64decode=i,t.utf16to8=s,t.utf8to16=a,t.CharToHex=u,t.doEncode=function(){var e=document.getElementById("src").value;document.getElementById("dest").value=o(s(e))},t.doDecode=function(){var e=document.getElementById("src").value;document.getElementById("opt").checked?document.getElementById("dest").value=u(i(e)):document.getElementById("dest").value=a(i(e))}},function(e,t){function n(e,t){var n;return void 0===(n="#"===t.substr(0,1)?"x"===t.substr(1,1)?parseInt(t.substr(2),16):parseInt(t.substr(1),10):r[t])||isNaN(n)?"&"+t+";":String.fromCharCode(n)}Object.defineProperty(t,"__esModule",{value:!0});var r={nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,quot:34,amp:38,lt:60,gt:62,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364};t.default=function(e){return e.replace(/(?:\n|\r\n|\r)/gi,"").replace(/<\s*br[^>]*>/gi,"\n").replace(/<\s*\/li[^>]*>/gi,"\n").replace(/<\s*p[^>]*>/gi,"\n\n").replace(/<\s*script[^>]*>[\s\S]*?<\/script>/gim,"").replace(/<\s*style[^>]*>[\s\S]*?<\/style>/gim,"").replace(/<!--.*?-->/gim,"").replace(/<\s*a[^>]*href=['"](.*?)['"][^>]*>([\s\S]*?)<\/\s*a\s*>/gi,"$2 ($1)").replace(/(<([^>]+)>)/gi,"").replace(/\t/g,"").replace(/^\n+/m,"").replace(/ {2,}/g," ").replace(/&((\w|\W){2,6});/g,n)}},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),s=n(23),a=n(20);n(197);var u={200:"成功",400:"失败",300:"未知错误",401:"用户名或密码错误",402:"账户被禁用",403:"账号过期",406:"用户已在其他地方登陆",407:"用户不存在",408:"当前申请者已是播主，请不要重复申请",409:"对方客户端不支持",410:"当前组已经存在对讲，请不要重复发起",412:"对方不在线",413:"聊天室异常，请稍后重试",414:"对讲(ptt或者视频对讲)结束文件发送",415:"当前用户已退出聊天室",416:"sn与会话不一致",417:"已在其他终端处理",418:"不能邀请自己",419:"对方忙线中",451:"需要下载的文件不存在",2:"未登录",3:"非法请求",4:"超时",452:"被强制踢出"};function c(e){return u[e+""]||""}t.getErrorMsg=c;var l=window.proto.netty,d=l.DefaultSignalMessage,f=l.DefaultSignalHeader,p=l.DefaultSignalBody,A=l.MonitorBusiBody,g=function(e){function t(t){var n=e.call(this)||this;return n.signalMessage=new d,n.setAuth(t),n}return o(t,e),t.prototype.setAuth=function(e){if(!(i.isPlainObject(e)&&e.userCode&&e.sessionId&&e.domainCode))throw s.default(1001,"protobuf初始化用户信息不正确","protobuf init");this.options=e},t.prototype.setHeader=function(e){this.header=new f;var t=e.sn||(new Date).getTime(),n=e.ver||4;this.header.setSn(t),this.header.setVer(n),this.header.setTime((new Date).getTime()),this.header.setSrc(this.options.userCode+"@"+this.options.domainCode),this.header.setSt(e.st),this.header.setDst(e.dst),this.header.setType(e.type),this.header.setOpttype(e.optType)},t.prototype.setBody=function(e){if(this.body=new p,this.body.setSessionid(this.options.sessionId),e&&(e.description&&this.body.setDescription(e.description||""),e.url&&this.body.setUrl(e.url||""),e.userCode&&this.body.setUsercode(e.userCode),e.userCodes&&this.body.setUsercodesList(e.userCodes),e.sn&&this.body.setSn(e.sn),e.remark&&this.body.setRemark(e.remark),e.pt&&this.body.setPt(e.pt),e.msgcatg&&this.body.setMsgcatg(e.msgcatg),e.id&&this.body.setId(e.id),e.groupCodes&&this.body.setGroupcodesList(e.groupCodes),e.videoCallType&&this.body.setVideocalltype(e.videoCallType),e.status&&this.body.setStatus(e.status),e.description&&this.body.setDescription(e.description),e.refId&&this.body.setRefid(e.refId),e.uid&&this.body.setUid(e.uid),e.monitorBusiBodys)){var t=new A;t.setCode(e.monitorBusiBodys.code),t.setTalktype(e.monitorBusiBodys.talkType),t.setChattype(e.monitorBusiBodys.chatType),t.setSn(e.monitorBusiBodys.sn),this.body.setMonitorbusibodysList([t])}},t.prototype.request=function(e){return this.setHeader(e.header),this.setBody(e.body||{}),this.signalMessage.setHeader(this.header),this.signalMessage.setBody(this.body),this.signalMessage.serializeBinary()},t.prototype.response=function(e){var t=new Blob([e],{type:"text/plain"}),n=new FileReader;return n.readAsArrayBuffer(t),new Promise((function(e,t){n.onload=function(t){var n=d.deserializeBinary(t.target.result),r=n.getHeader(),o=n.getBody(),i={st:r.getSt(),sn:r.getSn(),var:r.getVer(),src:r.getSrc(),dst:r.getDst(),time:r.getTime(),type:r.getType(),optType:r.getOpttype(),id:o.getId(),resultCode:o.getResultcode(),retMsg:c(o.getResultcode()),description:o.getDescription(),url:o.getUrl(),userCodes:o.getUsercodesList(),userStatus:o.getUserstatusList().map((function(e){return e.toObject()})),remark:o.getRemark(),pt:o.getPt(),bsn:o.getSn(),msgcatg:o.getMsgcatg(),groupInfos:o.getGroupinfosList().map((function(e){return e.toObject()})),videoCallType:o.getVideocalltype(),status:o.getStatus(),deviceType:o.getDevicetype(),userActionStatus:o.getUseractionstauts(),refId:o.getRefid(),uid:o.getUid()};e(i)}}))},t}(a.EventEmitter);t.default=g},function(module,exports,__webpack_require__){(function(global){var require,require,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){if(!a&&"function"==typeof require&&require)return require(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){var n=t[s][1][e];return o(n||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){var r=e("google-protobuf"),o=r,i=Function("return this")();o.exportSymbol("proto.netty.ChatType",null,i),o.exportSymbol("proto.netty.DefaultSignalBody",null,i),o.exportSymbol("proto.netty.DefaultSignalHeader",null,i),o.exportSymbol("proto.netty.DefaultSignalMessage",null,i),o.exportSymbol("proto.netty.DeviceType",null,i),o.exportSymbol("proto.netty.GroupInfo",null,i),o.exportSymbol("proto.netty.MissedRecordCountByGroup",null,i),o.exportSymbol("proto.netty.MonitorBusiBody",null,i),o.exportSymbol("proto.netty.Netstat",null,i),o.exportSymbol("proto.netty.NetstatType",null,i),o.exportSymbol("proto.netty.OptType",null,i),o.exportSymbol("proto.netty.PacketType",null,i),o.exportSymbol("proto.netty.ResultCode",null,i),o.exportSymbol("proto.netty.SignalType",null,i),o.exportSymbol("proto.netty.StatusType",null,i),o.exportSymbol("proto.netty.TalkType",null,i),o.exportSymbol("proto.netty.UserActionStatus",null,i),o.exportSymbol("proto.netty.UserStatus",null,i),o.exportSymbol("proto.netty.VideoCallType",null,i),proto.netty.DefaultSignalHeader=function(e){r.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.netty.DefaultSignalHeader,r.Message),o.DEBUG&&!COMPILED&&(proto.netty.DefaultSignalHeader.displayName="proto.netty.DefaultSignalHeader"),proto.netty.MissedRecordCountByGroup=function(e){r.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.netty.MissedRecordCountByGroup,r.Message),o.DEBUG&&!COMPILED&&(proto.netty.MissedRecordCountByGroup.displayName="proto.netty.MissedRecordCountByGroup"),proto.netty.UserStatus=function(e){r.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.netty.UserStatus,r.Message),o.DEBUG&&!COMPILED&&(proto.netty.UserStatus.displayName="proto.netty.UserStatus"),proto.netty.Netstat=function(e){r.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.netty.Netstat,r.Message),o.DEBUG&&!COMPILED&&(proto.netty.Netstat.displayName="proto.netty.Netstat"),proto.netty.MonitorBusiBody=function(e){r.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.netty.MonitorBusiBody,r.Message),o.DEBUG&&!COMPILED&&(proto.netty.MonitorBusiBody.displayName="proto.netty.MonitorBusiBody"),proto.netty.GroupInfo=function(e){r.Message.initialize(this,e,0,-1,proto.netty.GroupInfo.repeatedFields_,null)},o.inherits(proto.netty.GroupInfo,r.Message),o.DEBUG&&!COMPILED&&(proto.netty.GroupInfo.displayName="proto.netty.GroupInfo"),proto.netty.DefaultSignalBody=function(e){r.Message.initialize(this,e,0,-1,proto.netty.DefaultSignalBody.repeatedFields_,null)},o.inherits(proto.netty.DefaultSignalBody,r.Message),o.DEBUG&&!COMPILED&&(proto.netty.DefaultSignalBody.displayName="proto.netty.DefaultSignalBody"),proto.netty.DefaultSignalMessage=function(e){r.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.netty.DefaultSignalMessage,r.Message),o.DEBUG&&!COMPILED&&(proto.netty.DefaultSignalMessage.displayName="proto.netty.DefaultSignalMessage"),r.Message.GENERATE_TO_OBJECT&&(proto.netty.DefaultSignalHeader.prototype.toObject=function(e){return proto.netty.DefaultSignalHeader.toObject(e,this)},proto.netty.DefaultSignalHeader.toObject=function(e,t){var n,o={st:null==(n=r.Message.getField(t,1))?void 0:n,src:null==(n=r.Message.getField(t,2))?void 0:n,dst:null==(n=r.Message.getField(t,3))?void 0:n,time:null==(n=r.Message.getField(t,4))?void 0:n,sn:null==(n=r.Message.getField(t,5))?void 0:n,ver:null==(n=r.Message.getField(t,6))?void 0:n,type:null==(n=r.Message.getField(t,7))?void 0:n,opttype:null==(n=r.Message.getField(t,8))?void 0:n,dimension:null==(n=r.Message.getField(t,9))?void 0:n};return e&&(o.$jspbMessageInstance=t),o}),proto.netty.DefaultSignalHeader.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.netty.DefaultSignalHeader;return proto.netty.DefaultSignalHeader.deserializeBinaryFromReader(n,t)},proto.netty.DefaultSignalHeader.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readEnum();e.setSt(n);break;case 2:n=t.readString();e.setSrc(n);break;case 3:n=t.readString();e.setDst(n);break;case 4:n=t.readInt64();e.setTime(n);break;case 5:n=t.readInt64();e.setSn(n);break;case 6:n=t.readInt32();e.setVer(n);break;case 7:n=t.readEnum();e.setType(n);break;case 8:n=t.readEnum();e.setOpttype(n);break;case 9:n=t.readInt64();e.setDimension(n);break;default:t.skipField()}}return e},proto.netty.DefaultSignalHeader.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.netty.DefaultSignalHeader.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.netty.DefaultSignalHeader.serializeBinaryToWriter=function(e,t){var n=void 0;null!=(n=r.Message.getField(e,1))&&t.writeEnum(1,n),null!=(n=r.Message.getField(e,2))&&t.writeString(2,n),null!=(n=r.Message.getField(e,3))&&t.writeString(3,n),null!=(n=r.Message.getField(e,4))&&t.writeInt64(4,n),null!=(n=r.Message.getField(e,5))&&t.writeInt64(5,n),null!=(n=r.Message.getField(e,6))&&t.writeInt32(6,n),null!=(n=r.Message.getField(e,7))&&t.writeEnum(7,n),null!=(n=r.Message.getField(e,8))&&t.writeEnum(8,n),null!=(n=r.Message.getField(e,9))&&t.writeInt64(9,n)},proto.netty.DefaultSignalHeader.prototype.getSt=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.netty.DefaultSignalHeader.prototype.setSt=function(e){r.Message.setField(this,1,e)},proto.netty.DefaultSignalHeader.prototype.clearSt=function(){r.Message.setField(this,1,void 0)},proto.netty.DefaultSignalHeader.prototype.hasSt=function(){return null!=r.Message.getField(this,1)},proto.netty.DefaultSignalHeader.prototype.getSrc=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.netty.DefaultSignalHeader.prototype.setSrc=function(e){r.Message.setField(this,2,e)},proto.netty.DefaultSignalHeader.prototype.clearSrc=function(){r.Message.setField(this,2,void 0)},proto.netty.DefaultSignalHeader.prototype.hasSrc=function(){return null!=r.Message.getField(this,2)},proto.netty.DefaultSignalHeader.prototype.getDst=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.netty.DefaultSignalHeader.prototype.setDst=function(e){r.Message.setField(this,3,e)},proto.netty.DefaultSignalHeader.prototype.clearDst=function(){r.Message.setField(this,3,void 0)},proto.netty.DefaultSignalHeader.prototype.hasDst=function(){return null!=r.Message.getField(this,3)},proto.netty.DefaultSignalHeader.prototype.getTime=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.netty.DefaultSignalHeader.prototype.setTime=function(e){r.Message.setField(this,4,e)},proto.netty.DefaultSignalHeader.prototype.clearTime=function(){r.Message.setField(this,4,void 0)},proto.netty.DefaultSignalHeader.prototype.hasTime=function(){return null!=r.Message.getField(this,4)},proto.netty.DefaultSignalHeader.prototype.getSn=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.netty.DefaultSignalHeader.prototype.setSn=function(e){r.Message.setField(this,5,e)},proto.netty.DefaultSignalHeader.prototype.clearSn=function(){r.Message.setField(this,5,void 0)},proto.netty.DefaultSignalHeader.prototype.hasSn=function(){return null!=r.Message.getField(this,5)},proto.netty.DefaultSignalHeader.prototype.getVer=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.netty.DefaultSignalHeader.prototype.setVer=function(e){r.Message.setField(this,6,e)},proto.netty.DefaultSignalHeader.prototype.clearVer=function(){r.Message.setField(this,6,void 0)},proto.netty.DefaultSignalHeader.prototype.hasVer=function(){return null!=r.Message.getField(this,6)},proto.netty.DefaultSignalHeader.prototype.getType=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.netty.DefaultSignalHeader.prototype.setType=function(e){r.Message.setField(this,7,e)},proto.netty.DefaultSignalHeader.prototype.clearType=function(){r.Message.setField(this,7,void 0)},proto.netty.DefaultSignalHeader.prototype.hasType=function(){return null!=r.Message.getField(this,7)},proto.netty.DefaultSignalHeader.prototype.getOpttype=function(){return r.Message.getFieldWithDefault(this,8,0)},proto.netty.DefaultSignalHeader.prototype.setOpttype=function(e){r.Message.setField(this,8,e)},proto.netty.DefaultSignalHeader.prototype.clearOpttype=function(){r.Message.setField(this,8,void 0)},proto.netty.DefaultSignalHeader.prototype.hasOpttype=function(){return null!=r.Message.getField(this,8)},proto.netty.DefaultSignalHeader.prototype.getDimension=function(){return r.Message.getFieldWithDefault(this,9,0)},proto.netty.DefaultSignalHeader.prototype.setDimension=function(e){r.Message.setField(this,9,e)},proto.netty.DefaultSignalHeader.prototype.clearDimension=function(){r.Message.setField(this,9,void 0)},proto.netty.DefaultSignalHeader.prototype.hasDimension=function(){return null!=r.Message.getField(this,9)},r.Message.GENERATE_TO_OBJECT&&(proto.netty.MissedRecordCountByGroup.prototype.toObject=function(e){return proto.netty.MissedRecordCountByGroup.toObject(e,this)},proto.netty.MissedRecordCountByGroup.toObject=function(e,t){var n,o={groupcode:null==(n=r.Message.getField(t,1))?void 0:n,total:null==(n=r.Message.getField(t,2))?void 0:n,starttime:null==(n=r.Message.getField(t,3))?void 0:n};return e&&(o.$jspbMessageInstance=t),o}),proto.netty.MissedRecordCountByGroup.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.netty.MissedRecordCountByGroup;return proto.netty.MissedRecordCountByGroup.deserializeBinaryFromReader(n,t)},proto.netty.MissedRecordCountByGroup.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setGroupcode(n);break;case 2:n=t.readInt32();e.setTotal(n);break;case 3:n=t.readInt64();e.setStarttime(n);break;default:t.skipField()}}return e},proto.netty.MissedRecordCountByGroup.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.netty.MissedRecordCountByGroup.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.netty.MissedRecordCountByGroup.serializeBinaryToWriter=function(e,t){var n=void 0;null!=(n=r.Message.getField(e,1))&&t.writeString(1,n),null!=(n=r.Message.getField(e,2))&&t.writeInt32(2,n),null!=(n=r.Message.getField(e,3))&&t.writeInt64(3,n)},proto.netty.MissedRecordCountByGroup.prototype.getGroupcode=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.netty.MissedRecordCountByGroup.prototype.setGroupcode=function(e){r.Message.setField(this,1,e)},proto.netty.MissedRecordCountByGroup.prototype.clearGroupcode=function(){r.Message.setField(this,1,void 0)},proto.netty.MissedRecordCountByGroup.prototype.hasGroupcode=function(){return null!=r.Message.getField(this,1)},proto.netty.MissedRecordCountByGroup.prototype.getTotal=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.netty.MissedRecordCountByGroup.prototype.setTotal=function(e){r.Message.setField(this,2,e)},proto.netty.MissedRecordCountByGroup.prototype.clearTotal=function(){r.Message.setField(this,2,void 0)},proto.netty.MissedRecordCountByGroup.prototype.hasTotal=function(){return null!=r.Message.getField(this,2)},proto.netty.MissedRecordCountByGroup.prototype.getStarttime=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.netty.MissedRecordCountByGroup.prototype.setStarttime=function(e){r.Message.setField(this,3,e)},proto.netty.MissedRecordCountByGroup.prototype.clearStarttime=function(){r.Message.setField(this,3,void 0)},proto.netty.MissedRecordCountByGroup.prototype.hasStarttime=function(){return null!=r.Message.getField(this,3)},r.Message.GENERATE_TO_OBJECT&&(proto.netty.UserStatus.prototype.toObject=function(e){return proto.netty.UserStatus.toObject(e,this)},proto.netty.UserStatus.toObject=function(e,t){var n,o={usercode:null==(n=r.Message.getField(t,1))?void 0:n,status:null==(n=r.Message.getField(t,2))?void 0:n,activegroupcode:null==(n=r.Message.getField(t,3))?void 0:n,description:null==(n=r.Message.getField(t,4))?void 0:n};return e&&(o.$jspbMessageInstance=t),o}),proto.netty.UserStatus.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.netty.UserStatus;return proto.netty.UserStatus.deserializeBinaryFromReader(n,t)},proto.netty.UserStatus.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setUsercode(n);break;case 2:n=t.readEnum();e.setStatus(n);break;case 3:n=t.readString();e.setActivegroupcode(n);break;case 4:n=t.readString();e.setDescription(n);break;default:t.skipField()}}return e},proto.netty.UserStatus.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.netty.UserStatus.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.netty.UserStatus.serializeBinaryToWriter=function(e,t){var n=void 0;null!=(n=r.Message.getField(e,1))&&t.writeString(1,n),null!=(n=r.Message.getField(e,2))&&t.writeEnum(2,n),null!=(n=r.Message.getField(e,3))&&t.writeString(3,n),null!=(n=r.Message.getField(e,4))&&t.writeString(4,n)},proto.netty.UserStatus.prototype.getUsercode=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.netty.UserStatus.prototype.setUsercode=function(e){r.Message.setField(this,1,e)},proto.netty.UserStatus.prototype.clearUsercode=function(){r.Message.setField(this,1,void 0)},proto.netty.UserStatus.prototype.hasUsercode=function(){return null!=r.Message.getField(this,1)},proto.netty.UserStatus.prototype.getStatus=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.netty.UserStatus.prototype.setStatus=function(e){r.Message.setField(this,2,e)},proto.netty.UserStatus.prototype.clearStatus=function(){r.Message.setField(this,2,void 0)},proto.netty.UserStatus.prototype.hasStatus=function(){return null!=r.Message.getField(this,2)},proto.netty.UserStatus.prototype.getActivegroupcode=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.netty.UserStatus.prototype.setActivegroupcode=function(e){r.Message.setField(this,3,e)},proto.netty.UserStatus.prototype.clearActivegroupcode=function(){r.Message.setField(this,3,void 0)},proto.netty.UserStatus.prototype.hasActivegroupcode=function(){return null!=r.Message.getField(this,3)},proto.netty.UserStatus.prototype.getDescription=function(){return r.Message.getFieldWithDefault(this,4,"")},proto.netty.UserStatus.prototype.setDescription=function(e){r.Message.setField(this,4,e)},proto.netty.UserStatus.prototype.clearDescription=function(){r.Message.setField(this,4,void 0)},proto.netty.UserStatus.prototype.hasDescription=function(){return null!=r.Message.getField(this,4)},r.Message.GENERATE_TO_OBJECT&&(proto.netty.Netstat.prototype.toObject=function(e){return proto.netty.Netstat.toObject(e,this)},proto.netty.Netstat.toObject=function(e,t){var n,o={usercode:null==(n=r.Message.getField(t,1))?void 0:n,deviceid:null==(n=r.Message.getField(t,2))?void 0:n,devicetype:null==(n=r.Message.getField(t,3))?void 0:n,devicemodel:null==(n=r.Message.getField(t,4))?void 0:n,netstattype:null==(n=r.Message.getField(t,5))?void 0:n,protocoldata:t.getProtocoldata_asB64()};return e&&(o.$jspbMessageInstance=t),o}),proto.netty.Netstat.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.netty.Netstat;return proto.netty.Netstat.deserializeBinaryFromReader(n,t)},proto.netty.Netstat.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setUsercode(n);break;case 2:n=t.readString();e.setDeviceid(n);break;case 3:n=t.readString();e.setDevicetype(n);break;case 4:n=t.readString();e.setDevicemodel(n);break;case 5:n=t.readEnum();e.setNetstattype(n);break;case 6:n=t.readBytes();e.setProtocoldata(n);break;default:t.skipField()}}return e},proto.netty.Netstat.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.netty.Netstat.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.netty.Netstat.serializeBinaryToWriter=function(e,t){var n=void 0;null!=(n=r.Message.getField(e,1))&&t.writeString(1,n),null!=(n=r.Message.getField(e,2))&&t.writeString(2,n),null!=(n=r.Message.getField(e,3))&&t.writeString(3,n),null!=(n=r.Message.getField(e,4))&&t.writeString(4,n),null!=(n=r.Message.getField(e,5))&&t.writeEnum(5,n),null!=(n=r.Message.getField(e,6))&&t.writeBytes(6,n)},proto.netty.Netstat.prototype.getUsercode=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.netty.Netstat.prototype.setUsercode=function(e){r.Message.setField(this,1,e)},proto.netty.Netstat.prototype.clearUsercode=function(){r.Message.setField(this,1,void 0)},proto.netty.Netstat.prototype.hasUsercode=function(){return null!=r.Message.getField(this,1)},proto.netty.Netstat.prototype.getDeviceid=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.netty.Netstat.prototype.setDeviceid=function(e){r.Message.setField(this,2,e)},proto.netty.Netstat.prototype.clearDeviceid=function(){r.Message.setField(this,2,void 0)},proto.netty.Netstat.prototype.hasDeviceid=function(){return null!=r.Message.getField(this,2)},proto.netty.Netstat.prototype.getDevicetype=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.netty.Netstat.prototype.setDevicetype=function(e){r.Message.setField(this,3,e)},proto.netty.Netstat.prototype.clearDevicetype=function(){r.Message.setField(this,3,void 0)},proto.netty.Netstat.prototype.hasDevicetype=function(){return null!=r.Message.getField(this,3)},proto.netty.Netstat.prototype.getDevicemodel=function(){return r.Message.getFieldWithDefault(this,4,"")},proto.netty.Netstat.prototype.setDevicemodel=function(e){r.Message.setField(this,4,e)},proto.netty.Netstat.prototype.clearDevicemodel=function(){r.Message.setField(this,4,void 0)},proto.netty.Netstat.prototype.hasDevicemodel=function(){return null!=r.Message.getField(this,4)},proto.netty.Netstat.prototype.getNetstattype=function(){return r.Message.getFieldWithDefault(this,5,1)},proto.netty.Netstat.prototype.setNetstattype=function(e){r.Message.setField(this,5,e)},proto.netty.Netstat.prototype.clearNetstattype=function(){r.Message.setField(this,5,void 0)},proto.netty.Netstat.prototype.hasNetstattype=function(){return null!=r.Message.getField(this,5)},proto.netty.Netstat.prototype.getProtocoldata=function(){return r.Message.getFieldWithDefault(this,6,"")},proto.netty.Netstat.prototype.getProtocoldata_asB64=function(){return r.Message.bytesAsB64(this.getProtocoldata())},proto.netty.Netstat.prototype.getProtocoldata_asU8=function(){return r.Message.bytesAsU8(this.getProtocoldata())},proto.netty.Netstat.prototype.setProtocoldata=function(e){r.Message.setField(this,6,e)},proto.netty.Netstat.prototype.clearProtocoldata=function(){r.Message.setField(this,6,void 0)},proto.netty.Netstat.prototype.hasProtocoldata=function(){return null!=r.Message.getField(this,6)},r.Message.GENERATE_TO_OBJECT&&(proto.netty.MonitorBusiBody.prototype.toObject=function(e){return proto.netty.MonitorBusiBody.toObject(e,this)},proto.netty.MonitorBusiBody.toObject=function(e,t){var n,o={code:null==(n=r.Message.getField(t,1))?void 0:n,talktype:null==(n=r.Message.getField(t,2))?void 0:n,chattype:null==(n=r.Message.getField(t,3))?void 0:n,resultcode:null==(n=r.Message.getField(t,4))?void 0:n,sn:null==(n=r.Message.getField(t,10))?void 0:n};return e&&(o.$jspbMessageInstance=t),o}),proto.netty.MonitorBusiBody.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.netty.MonitorBusiBody;return proto.netty.MonitorBusiBody.deserializeBinaryFromReader(n,t)},proto.netty.MonitorBusiBody.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setCode(n);break;case 2:n=t.readEnum();e.setTalktype(n);break;case 3:n=t.readEnum();e.setChattype(n);break;case 4:n=t.readEnum();e.setResultcode(n);break;case 10:n=t.readInt64();e.setSn(n);break;default:t.skipField()}}return e},proto.netty.MonitorBusiBody.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.netty.MonitorBusiBody.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.netty.MonitorBusiBody.serializeBinaryToWriter=function(e,t){var n=void 0;null!=(n=r.Message.getField(e,1))&&t.writeString(1,n),null!=(n=r.Message.getField(e,2))&&t.writeEnum(2,n),null!=(n=r.Message.getField(e,3))&&t.writeEnum(3,n),null!=(n=r.Message.getField(e,4))&&t.writeEnum(4,n),null!=(n=r.Message.getField(e,10))&&t.writeInt64(10,n)},proto.netty.MonitorBusiBody.prototype.getCode=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.netty.MonitorBusiBody.prototype.setCode=function(e){r.Message.setField(this,1,e)},proto.netty.MonitorBusiBody.prototype.clearCode=function(){r.Message.setField(this,1,void 0)},proto.netty.MonitorBusiBody.prototype.hasCode=function(){return null!=r.Message.getField(this,1)},proto.netty.MonitorBusiBody.prototype.getTalktype=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.netty.MonitorBusiBody.prototype.setTalktype=function(e){r.Message.setField(this,2,e)},proto.netty.MonitorBusiBody.prototype.clearTalktype=function(){r.Message.setField(this,2,void 0)},proto.netty.MonitorBusiBody.prototype.hasTalktype=function(){return null!=r.Message.getField(this,2)},proto.netty.MonitorBusiBody.prototype.getChattype=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.netty.MonitorBusiBody.prototype.setChattype=function(e){r.Message.setField(this,3,e)},proto.netty.MonitorBusiBody.prototype.clearChattype=function(){r.Message.setField(this,3,void 0)},proto.netty.MonitorBusiBody.prototype.hasChattype=function(){return null!=r.Message.getField(this,3)},proto.netty.MonitorBusiBody.prototype.getResultcode=function(){return r.Message.getFieldWithDefault(this,4,200)},proto.netty.MonitorBusiBody.prototype.setResultcode=function(e){r.Message.setField(this,4,e)},proto.netty.MonitorBusiBody.prototype.clearResultcode=function(){r.Message.setField(this,4,void 0)},proto.netty.MonitorBusiBody.prototype.hasResultcode=function(){return null!=r.Message.getField(this,4)},proto.netty.MonitorBusiBody.prototype.getSn=function(){return r.Message.getFieldWithDefault(this,10,0)},proto.netty.MonitorBusiBody.prototype.setSn=function(e){r.Message.setField(this,10,e)},proto.netty.MonitorBusiBody.prototype.clearSn=function(){r.Message.setField(this,10,void 0)},proto.netty.MonitorBusiBody.prototype.hasSn=function(){return null!=r.Message.getField(this,10)},proto.netty.GroupInfo.repeatedFields_=[4,5],r.Message.GENERATE_TO_OBJECT&&(proto.netty.GroupInfo.prototype.toObject=function(e){return proto.netty.GroupInfo.toObject(e,this)},proto.netty.GroupInfo.toObject=function(e,t){var n,o={type:null==(n=r.Message.getField(t,1))?void 0:n,id:null==(n=r.Message.getField(t,2))?void 0:n,videoanchor:null==(n=r.Message.getField(t,3))?void 0:n,activemembersList:null==(n=r.Message.getRepeatedField(t,4))?void 0:n,inactivemembersList:null==(n=r.Message.getRepeatedField(t,5))?void 0:n,roomid:null==(n=r.Message.getField(t,6))?void 0:n,videocalltype:null==(n=r.Message.getField(t,7))?void 0:n,memberstatuspairMap:(n=t.getMemberstatuspairMap())?n.toObject(e,void 0):[],initiator:null==(n=r.Message.getField(t,9))?void 0:n,sn:null==(n=r.Message.getField(t,10))?void 0:n,videoresourceid:null==(n=r.Message.getField(t,11))?void 0:n,starttime:null==(n=r.Message.getField(t,12))?void 0:n,endtime:null==(n=r.Message.getField(t,13))?void 0:n};return e&&(o.$jspbMessageInstance=t),o}),proto.netty.GroupInfo.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.netty.GroupInfo;return proto.netty.GroupInfo.deserializeBinaryFromReader(n,t)},proto.netty.GroupInfo.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readEnum();e.setType(n);break;case 2:n=t.readString();e.setId(n);break;case 3:n=t.readString();e.setVideoanchor(n);break;case 4:n=t.readString();e.addActivemembers(n);break;case 5:n=t.readString();e.addInactivemembers(n);break;case 6:n=t.readString();e.setRoomid(n);break;case 7:n=t.readEnum();e.setVideocalltype(n);break;case 8:n=e.getMemberstatuspairMap();t.readMessage(n,(function(e,t){r.Map.deserializeBinary(e,t,r.BinaryReader.prototype.readString,r.BinaryReader.prototype.readInt32,null,"")}));break;case 9:n=t.readString();e.setInitiator(n);break;case 10:n=t.readInt64();e.setSn(n);break;case 11:n=t.readString();e.setVideoresourceid(n);break;case 12:n=t.readInt64();e.setStarttime(n);break;case 13:n=t.readInt64();e.setEndtime(n);break;default:t.skipField()}}return e},proto.netty.GroupInfo.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.netty.GroupInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.netty.GroupInfo.serializeBinaryToWriter=function(e,t){var n=void 0;null!=(n=r.Message.getField(e,1))&&t.writeEnum(1,n),null!=(n=r.Message.getField(e,2))&&t.writeString(2,n),null!=(n=r.Message.getField(e,3))&&t.writeString(3,n),(n=e.getActivemembersList()).length>0&&t.writeRepeatedString(4,n),(n=e.getInactivemembersList()).length>0&&t.writeRepeatedString(5,n),null!=(n=r.Message.getField(e,6))&&t.writeString(6,n),null!=(n=r.Message.getField(e,7))&&t.writeEnum(7,n),(n=e.getMemberstatuspairMap(!0))&&n.getLength()>0&&n.serializeBinary(8,t,r.BinaryWriter.prototype.writeString,r.BinaryWriter.prototype.writeInt32),null!=(n=r.Message.getField(e,9))&&t.writeString(9,n),null!=(n=r.Message.getField(e,10))&&t.writeInt64(10,n),null!=(n=r.Message.getField(e,11))&&t.writeString(11,n),null!=(n=r.Message.getField(e,12))&&t.writeInt64(12,n),null!=(n=r.Message.getField(e,13))&&t.writeInt64(13,n)},proto.netty.GroupInfo.prototype.getType=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.netty.GroupInfo.prototype.setType=function(e){r.Message.setField(this,1,e)},proto.netty.GroupInfo.prototype.clearType=function(){r.Message.setField(this,1,void 0)},proto.netty.GroupInfo.prototype.hasType=function(){return null!=r.Message.getField(this,1)},proto.netty.GroupInfo.prototype.getId=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.netty.GroupInfo.prototype.setId=function(e){r.Message.setField(this,2,e)},proto.netty.GroupInfo.prototype.clearId=function(){r.Message.setField(this,2,void 0)},proto.netty.GroupInfo.prototype.hasId=function(){return null!=r.Message.getField(this,2)},proto.netty.GroupInfo.prototype.getVideoanchor=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.netty.GroupInfo.prototype.setVideoanchor=function(e){r.Message.setField(this,3,e)},proto.netty.GroupInfo.prototype.clearVideoanchor=function(){r.Message.setField(this,3,void 0)},proto.netty.GroupInfo.prototype.hasVideoanchor=function(){return null!=r.Message.getField(this,3)},proto.netty.GroupInfo.prototype.getActivemembersList=function(){return r.Message.getRepeatedField(this,4)},proto.netty.GroupInfo.prototype.setActivemembersList=function(e){r.Message.setField(this,4,e||[])},proto.netty.GroupInfo.prototype.addActivemembers=function(e,t){r.Message.addToRepeatedField(this,4,e,t)},proto.netty.GroupInfo.prototype.clearActivemembersList=function(){this.setActivemembersList([])},proto.netty.GroupInfo.prototype.getInactivemembersList=function(){return r.Message.getRepeatedField(this,5)},proto.netty.GroupInfo.prototype.setInactivemembersList=function(e){r.Message.setField(this,5,e||[])},proto.netty.GroupInfo.prototype.addInactivemembers=function(e,t){r.Message.addToRepeatedField(this,5,e,t)},proto.netty.GroupInfo.prototype.clearInactivemembersList=function(){this.setInactivemembersList([])},proto.netty.GroupInfo.prototype.getRoomid=function(){return r.Message.getFieldWithDefault(this,6,"")},proto.netty.GroupInfo.prototype.setRoomid=function(e){r.Message.setField(this,6,e)},proto.netty.GroupInfo.prototype.clearRoomid=function(){r.Message.setField(this,6,void 0)},proto.netty.GroupInfo.prototype.hasRoomid=function(){return null!=r.Message.getField(this,6)},proto.netty.GroupInfo.prototype.getVideocalltype=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.netty.GroupInfo.prototype.setVideocalltype=function(e){r.Message.setField(this,7,e)},proto.netty.GroupInfo.prototype.clearVideocalltype=function(){r.Message.setField(this,7,void 0)},proto.netty.GroupInfo.prototype.hasVideocalltype=function(){return null!=r.Message.getField(this,7)},proto.netty.GroupInfo.prototype.getMemberstatuspairMap=function(e){return r.Message.getMapField(this,8,e,null)},proto.netty.GroupInfo.prototype.clearMemberstatuspairMap=function(){this.getMemberstatuspairMap().clear()},proto.netty.GroupInfo.prototype.getInitiator=function(){return r.Message.getFieldWithDefault(this,9,"")},proto.netty.GroupInfo.prototype.setInitiator=function(e){r.Message.setField(this,9,e)},proto.netty.GroupInfo.prototype.clearInitiator=function(){r.Message.setField(this,9,void 0)},proto.netty.GroupInfo.prototype.hasInitiator=function(){return null!=r.Message.getField(this,9)},proto.netty.GroupInfo.prototype.getSn=function(){return r.Message.getFieldWithDefault(this,10,0)},proto.netty.GroupInfo.prototype.setSn=function(e){r.Message.setField(this,10,e)},proto.netty.GroupInfo.prototype.clearSn=function(){r.Message.setField(this,10,void 0)},proto.netty.GroupInfo.prototype.hasSn=function(){return null!=r.Message.getField(this,10)},proto.netty.GroupInfo.prototype.getVideoresourceid=function(){return r.Message.getFieldWithDefault(this,11,"")},proto.netty.GroupInfo.prototype.setVideoresourceid=function(e){r.Message.setField(this,11,e)},proto.netty.GroupInfo.prototype.clearVideoresourceid=function(){r.Message.setField(this,11,void 0)},proto.netty.GroupInfo.prototype.hasVideoresourceid=function(){return null!=r.Message.getField(this,11)},proto.netty.GroupInfo.prototype.getStarttime=function(){return r.Message.getFieldWithDefault(this,12,0)},proto.netty.GroupInfo.prototype.setStarttime=function(e){r.Message.setField(this,12,e)},proto.netty.GroupInfo.prototype.clearStarttime=function(){r.Message.setField(this,12,void 0)},proto.netty.GroupInfo.prototype.hasStarttime=function(){return null!=r.Message.getField(this,12)},proto.netty.GroupInfo.prototype.getEndtime=function(){return r.Message.getFieldWithDefault(this,13,0)},proto.netty.GroupInfo.prototype.setEndtime=function(e){r.Message.setField(this,13,e)},proto.netty.GroupInfo.prototype.clearEndtime=function(){r.Message.setField(this,13,void 0)},proto.netty.GroupInfo.prototype.hasEndtime=function(){return null!=r.Message.getField(this,13)},proto.netty.DefaultSignalBody.repeatedFields_=[2,7,9,15,17,18,23],r.Message.GENERATE_TO_OBJECT&&(proto.netty.DefaultSignalBody.prototype.toObject=function(e){return proto.netty.DefaultSignalBody.toObject(e,this)},proto.netty.DefaultSignalBody.toObject=function(e,t){var n,o={sessionid:null==(n=r.Message.getField(t,1))?void 0:n,usercodesList:null==(n=r.Message.getRepeatedField(t,2))?void 0:n,st:null==(n=r.Message.getField(t,3))?void 0:n,resultcode:null==(n=r.Message.getField(t,4))?void 0:n,ip:null==(n=r.Message.getField(t,5))?void 0:n,port:null==(n=r.Message.getField(t,6))?void 0:n,missedrecordcountbygroupList:r.Message.toObjectList(t.getMissedrecordcountbygroupList(),proto.netty.MissedRecordCountByGroup.toObject,e),status:null==(n=r.Message.getField(t,8))?void 0:n,userstatusList:r.Message.toObjectList(t.getUserstatusList(),proto.netty.UserStatus.toObject,e),sn:null==(n=r.Message.getField(t,10))?void 0:n,url:null==(n=r.Message.getField(t,11))?void 0:n,pt:null==(n=r.Message.getField(t,12))?void 0:n,description:null==(n=r.Message.getField(t,13))?void 0:n,remark:null==(n=r.Message.getField(t,14))?void 0:n,netstatList:r.Message.toObjectList(t.getNetstatList(),proto.netty.Netstat.toObject,e),roomid:null==(n=r.Message.getField(t,16))?void 0:n,groupcodesList:null==(n=r.Message.getRepeatedField(t,17))?void 0:n,groupinfosList:r.Message.toObjectList(t.getGroupinfosList(),proto.netty.GroupInfo.toObject,e),id:null==(n=r.Message.getField(t,19))?void 0:n,msgcatg:null==(n=r.Message.getField(t,20))?void 0:n,usercode:null==(n=r.Message.getField(t,21))?void 0:n,videocalltype:null==(n=r.Message.getField(t,22))?void 0:n,monitorbusibodysList:r.Message.toObjectList(t.getMonitorbusibodysList(),proto.netty.MonitorBusiBody.toObject,e),devicetype:null==(n=r.Message.getField(t,24))?void 0:n,usersn:null==(n=r.Message.getField(t,25))?void 0:n,devicesn:null==(n=r.Message.getField(t,26))?void 0:n,devicecode:null==(n=r.Message.getField(t,27))?void 0:n,useractionstauts:null==(n=r.Message.getField(t,28))?void 0:n,refid:null==(n=r.Message.getField(t,29))?void 0:n,uid:null==(n=r.Message.getField(t,30))?void 0:n};return e&&(o.$jspbMessageInstance=t),o}),proto.netty.DefaultSignalBody.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.netty.DefaultSignalBody;return proto.netty.DefaultSignalBody.deserializeBinaryFromReader(n,t)},proto.netty.DefaultSignalBody.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setSessionid(n);break;case 2:n=t.readString();e.addUsercodes(n);break;case 3:n=t.readEnum();e.setSt(n);break;case 4:n=t.readEnum();e.setResultcode(n);break;case 5:n=t.readString();e.setIp(n);break;case 6:n=t.readInt32();e.setPort(n);break;case 7:n=new proto.netty.MissedRecordCountByGroup;t.readMessage(n,proto.netty.MissedRecordCountByGroup.deserializeBinaryFromReader),e.addMissedrecordcountbygroup(n);break;case 8:n=t.readEnum();e.setStatus(n);break;case 9:n=new proto.netty.UserStatus;t.readMessage(n,proto.netty.UserStatus.deserializeBinaryFromReader),e.addUserstatus(n);break;case 10:n=t.readInt64();e.setSn(n);break;case 11:n=t.readString();e.setUrl(n);break;case 12:n=t.readEnum();e.setPt(n);break;case 13:n=t.readString();e.setDescription(n);break;case 14:n=t.readString();e.setRemark(n);break;case 15:n=new proto.netty.Netstat;t.readMessage(n,proto.netty.Netstat.deserializeBinaryFromReader),e.addNetstat(n);break;case 16:n=t.readString();e.setRoomid(n);break;case 17:n=t.readString();e.addGroupcodes(n);break;case 18:n=new proto.netty.GroupInfo;t.readMessage(n,proto.netty.GroupInfo.deserializeBinaryFromReader),e.addGroupinfos(n);break;case 19:n=t.readString();e.setId(n);break;case 20:n=t.readInt32();e.setMsgcatg(n);break;case 21:n=t.readString();e.setUsercode(n);break;case 22:n=t.readEnum();e.setVideocalltype(n);break;case 23:n=new proto.netty.MonitorBusiBody;t.readMessage(n,proto.netty.MonitorBusiBody.deserializeBinaryFromReader),e.addMonitorbusibodys(n);break;case 24:n=t.readEnum();e.setDevicetype(n);break;case 25:n=t.readInt64();e.setUsersn(n);break;case 26:n=t.readInt64();e.setDevicesn(n);break;case 27:n=t.readString();e.setDevicecode(n);break;case 28:n=t.readEnum();e.setUseractionstauts(n);break;case 29:n=t.readString();e.setRefid(n);break;case 30:n=t.readString();e.setUid(n);break;default:t.skipField()}}return e},proto.netty.DefaultSignalBody.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.netty.DefaultSignalBody.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.netty.DefaultSignalBody.serializeBinaryToWriter=function(e,t){var n=void 0;null!=(n=r.Message.getField(e,1))&&t.writeString(1,n),(n=e.getUsercodesList()).length>0&&t.writeRepeatedString(2,n),null!=(n=r.Message.getField(e,3))&&t.writeEnum(3,n),null!=(n=r.Message.getField(e,4))&&t.writeEnum(4,n),null!=(n=r.Message.getField(e,5))&&t.writeString(5,n),null!=(n=r.Message.getField(e,6))&&t.writeInt32(6,n),(n=e.getMissedrecordcountbygroupList()).length>0&&t.writeRepeatedMessage(7,n,proto.netty.MissedRecordCountByGroup.serializeBinaryToWriter),null!=(n=r.Message.getField(e,8))&&t.writeEnum(8,n),(n=e.getUserstatusList()).length>0&&t.writeRepeatedMessage(9,n,proto.netty.UserStatus.serializeBinaryToWriter),null!=(n=r.Message.getField(e,10))&&t.writeInt64(10,n),null!=(n=r.Message.getField(e,11))&&t.writeString(11,n),null!=(n=r.Message.getField(e,12))&&t.writeEnum(12,n),null!=(n=r.Message.getField(e,13))&&t.writeString(13,n),null!=(n=r.Message.getField(e,14))&&t.writeString(14,n),(n=e.getNetstatList()).length>0&&t.writeRepeatedMessage(15,n,proto.netty.Netstat.serializeBinaryToWriter),null!=(n=r.Message.getField(e,16))&&t.writeString(16,n),(n=e.getGroupcodesList()).length>0&&t.writeRepeatedString(17,n),(n=e.getGroupinfosList()).length>0&&t.writeRepeatedMessage(18,n,proto.netty.GroupInfo.serializeBinaryToWriter),null!=(n=r.Message.getField(e,19))&&t.writeString(19,n),null!=(n=r.Message.getField(e,20))&&t.writeInt32(20,n),null!=(n=r.Message.getField(e,21))&&t.writeString(21,n),null!=(n=r.Message.getField(e,22))&&t.writeEnum(22,n),(n=e.getMonitorbusibodysList()).length>0&&t.writeRepeatedMessage(23,n,proto.netty.MonitorBusiBody.serializeBinaryToWriter),null!=(n=r.Message.getField(e,24))&&t.writeEnum(24,n),null!=(n=r.Message.getField(e,25))&&t.writeInt64(25,n),null!=(n=r.Message.getField(e,26))&&t.writeInt64(26,n),null!=(n=r.Message.getField(e,27))&&t.writeString(27,n),null!=(n=r.Message.getField(e,28))&&t.writeEnum(28,n),null!=(n=r.Message.getField(e,29))&&t.writeString(29,n),null!=(n=r.Message.getField(e,30))&&t.writeString(30,n)},proto.netty.DefaultSignalBody.prototype.getSessionid=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.netty.DefaultSignalBody.prototype.setSessionid=function(e){r.Message.setField(this,1,e)},proto.netty.DefaultSignalBody.prototype.clearSessionid=function(){r.Message.setField(this,1,void 0)},proto.netty.DefaultSignalBody.prototype.hasSessionid=function(){return null!=r.Message.getField(this,1)},proto.netty.DefaultSignalBody.prototype.getUsercodesList=function(){return r.Message.getRepeatedField(this,2)},proto.netty.DefaultSignalBody.prototype.setUsercodesList=function(e){r.Message.setField(this,2,e||[])},proto.netty.DefaultSignalBody.prototype.addUsercodes=function(e,t){r.Message.addToRepeatedField(this,2,e,t)},proto.netty.DefaultSignalBody.prototype.clearUsercodesList=function(){this.setUsercodesList([])},proto.netty.DefaultSignalBody.prototype.getSt=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.netty.DefaultSignalBody.prototype.setSt=function(e){r.Message.setField(this,3,e)},proto.netty.DefaultSignalBody.prototype.clearSt=function(){r.Message.setField(this,3,void 0)},proto.netty.DefaultSignalBody.prototype.hasSt=function(){return null!=r.Message.getField(this,3)},proto.netty.DefaultSignalBody.prototype.getResultcode=function(){return r.Message.getFieldWithDefault(this,4,200)},proto.netty.DefaultSignalBody.prototype.setResultcode=function(e){r.Message.setField(this,4,e)},proto.netty.DefaultSignalBody.prototype.clearResultcode=function(){r.Message.setField(this,4,void 0)},proto.netty.DefaultSignalBody.prototype.hasResultcode=function(){return null!=r.Message.getField(this,4)},proto.netty.DefaultSignalBody.prototype.getIp=function(){return r.Message.getFieldWithDefault(this,5,"")},proto.netty.DefaultSignalBody.prototype.setIp=function(e){r.Message.setField(this,5,e)},proto.netty.DefaultSignalBody.prototype.clearIp=function(){r.Message.setField(this,5,void 0)},proto.netty.DefaultSignalBody.prototype.hasIp=function(){return null!=r.Message.getField(this,5)},proto.netty.DefaultSignalBody.prototype.getPort=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.netty.DefaultSignalBody.prototype.setPort=function(e){r.Message.setField(this,6,e)},proto.netty.DefaultSignalBody.prototype.clearPort=function(){r.Message.setField(this,6,void 0)},proto.netty.DefaultSignalBody.prototype.hasPort=function(){return null!=r.Message.getField(this,6)},proto.netty.DefaultSignalBody.prototype.getMissedrecordcountbygroupList=function(){return r.Message.getRepeatedWrapperField(this,proto.netty.MissedRecordCountByGroup,7)},proto.netty.DefaultSignalBody.prototype.setMissedrecordcountbygroupList=function(e){r.Message.setRepeatedWrapperField(this,7,e)},proto.netty.DefaultSignalBody.prototype.addMissedrecordcountbygroup=function(e,t){return r.Message.addToRepeatedWrapperField(this,7,e,proto.netty.MissedRecordCountByGroup,t)},proto.netty.DefaultSignalBody.prototype.clearMissedrecordcountbygroupList=function(){this.setMissedrecordcountbygroupList([])},proto.netty.DefaultSignalBody.prototype.getStatus=function(){return r.Message.getFieldWithDefault(this,8,0)},proto.netty.DefaultSignalBody.prototype.setStatus=function(e){r.Message.setField(this,8,e)},proto.netty.DefaultSignalBody.prototype.clearStatus=function(){r.Message.setField(this,8,void 0)},proto.netty.DefaultSignalBody.prototype.hasStatus=function(){return null!=r.Message.getField(this,8)},proto.netty.DefaultSignalBody.prototype.getUserstatusList=function(){return r.Message.getRepeatedWrapperField(this,proto.netty.UserStatus,9)},proto.netty.DefaultSignalBody.prototype.setUserstatusList=function(e){r.Message.setRepeatedWrapperField(this,9,e)},proto.netty.DefaultSignalBody.prototype.addUserstatus=function(e,t){return r.Message.addToRepeatedWrapperField(this,9,e,proto.netty.UserStatus,t)},proto.netty.DefaultSignalBody.prototype.clearUserstatusList=function(){this.setUserstatusList([])},proto.netty.DefaultSignalBody.prototype.getSn=function(){return r.Message.getFieldWithDefault(this,10,0)},proto.netty.DefaultSignalBody.prototype.setSn=function(e){r.Message.setField(this,10,e)},proto.netty.DefaultSignalBody.prototype.clearSn=function(){r.Message.setField(this,10,void 0)},proto.netty.DefaultSignalBody.prototype.hasSn=function(){return null!=r.Message.getField(this,10)},proto.netty.DefaultSignalBody.prototype.getUrl=function(){return r.Message.getFieldWithDefault(this,11,"")},proto.netty.DefaultSignalBody.prototype.setUrl=function(e){r.Message.setField(this,11,e)},proto.netty.DefaultSignalBody.prototype.clearUrl=function(){r.Message.setField(this,11,void 0)},proto.netty.DefaultSignalBody.prototype.hasUrl=function(){return null!=r.Message.getField(this,11)},proto.netty.DefaultSignalBody.prototype.getPt=function(){return r.Message.getFieldWithDefault(this,12,5)},proto.netty.DefaultSignalBody.prototype.setPt=function(e){r.Message.setField(this,12,e)},proto.netty.DefaultSignalBody.prototype.clearPt=function(){r.Message.setField(this,12,void 0)},proto.netty.DefaultSignalBody.prototype.hasPt=function(){return null!=r.Message.getField(this,12)},proto.netty.DefaultSignalBody.prototype.getDescription=function(){return r.Message.getFieldWithDefault(this,13,"")},proto.netty.DefaultSignalBody.prototype.setDescription=function(e){r.Message.setField(this,13,e)},proto.netty.DefaultSignalBody.prototype.clearDescription=function(){r.Message.setField(this,13,void 0)},proto.netty.DefaultSignalBody.prototype.hasDescription=function(){return null!=r.Message.getField(this,13)},proto.netty.DefaultSignalBody.prototype.getRemark=function(){return r.Message.getFieldWithDefault(this,14,"")},proto.netty.DefaultSignalBody.prototype.setRemark=function(e){r.Message.setField(this,14,e)},proto.netty.DefaultSignalBody.prototype.clearRemark=function(){r.Message.setField(this,14,void 0)},proto.netty.DefaultSignalBody.prototype.hasRemark=function(){return null!=r.Message.getField(this,14)},proto.netty.DefaultSignalBody.prototype.getNetstatList=function(){return r.Message.getRepeatedWrapperField(this,proto.netty.Netstat,15)},proto.netty.DefaultSignalBody.prototype.setNetstatList=function(e){r.Message.setRepeatedWrapperField(this,15,e)},proto.netty.DefaultSignalBody.prototype.addNetstat=function(e,t){return r.Message.addToRepeatedWrapperField(this,15,e,proto.netty.Netstat,t)},proto.netty.DefaultSignalBody.prototype.clearNetstatList=function(){this.setNetstatList([])},proto.netty.DefaultSignalBody.prototype.getRoomid=function(){return r.Message.getFieldWithDefault(this,16,"")},proto.netty.DefaultSignalBody.prototype.setRoomid=function(e){r.Message.setField(this,16,e)},proto.netty.DefaultSignalBody.prototype.clearRoomid=function(){r.Message.setField(this,16,void 0)},proto.netty.DefaultSignalBody.prototype.hasRoomid=function(){return null!=r.Message.getField(this,16)},proto.netty.DefaultSignalBody.prototype.getGroupcodesList=function(){return r.Message.getRepeatedField(this,17)},proto.netty.DefaultSignalBody.prototype.setGroupcodesList=function(e){r.Message.setField(this,17,e||[])},proto.netty.DefaultSignalBody.prototype.addGroupcodes=function(e,t){r.Message.addToRepeatedField(this,17,e,t)},proto.netty.DefaultSignalBody.prototype.clearGroupcodesList=function(){this.setGroupcodesList([])},proto.netty.DefaultSignalBody.prototype.getGroupinfosList=function(){return r.Message.getRepeatedWrapperField(this,proto.netty.GroupInfo,18)},proto.netty.DefaultSignalBody.prototype.setGroupinfosList=function(e){r.Message.setRepeatedWrapperField(this,18,e)},proto.netty.DefaultSignalBody.prototype.addGroupinfos=function(e,t){return r.Message.addToRepeatedWrapperField(this,18,e,proto.netty.GroupInfo,t)},proto.netty.DefaultSignalBody.prototype.clearGroupinfosList=function(){this.setGroupinfosList([])},proto.netty.DefaultSignalBody.prototype.getId=function(){return r.Message.getFieldWithDefault(this,19,"")},proto.netty.DefaultSignalBody.prototype.setId=function(e){r.Message.setField(this,19,e)},proto.netty.DefaultSignalBody.prototype.clearId=function(){r.Message.setField(this,19,void 0)},proto.netty.DefaultSignalBody.prototype.hasId=function(){return null!=r.Message.getField(this,19)},proto.netty.DefaultSignalBody.prototype.getMsgcatg=function(){return r.Message.getFieldWithDefault(this,20,0)},proto.netty.DefaultSignalBody.prototype.setMsgcatg=function(e){r.Message.setField(this,20,e)},proto.netty.DefaultSignalBody.prototype.clearMsgcatg=function(){r.Message.setField(this,20,void 0)},proto.netty.DefaultSignalBody.prototype.hasMsgcatg=function(){return null!=r.Message.getField(this,20)},proto.netty.DefaultSignalBody.prototype.getUsercode=function(){return r.Message.getFieldWithDefault(this,21,"")},proto.netty.DefaultSignalBody.prototype.setUsercode=function(e){r.Message.setField(this,21,e)},proto.netty.DefaultSignalBody.prototype.clearUsercode=function(){r.Message.setField(this,21,void 0)},proto.netty.DefaultSignalBody.prototype.hasUsercode=function(){return null!=r.Message.getField(this,21)},proto.netty.DefaultSignalBody.prototype.getVideocalltype=function(){return r.Message.getFieldWithDefault(this,22,0)},proto.netty.DefaultSignalBody.prototype.setVideocalltype=function(e){r.Message.setField(this,22,e)},proto.netty.DefaultSignalBody.prototype.clearVideocalltype=function(){r.Message.setField(this,22,void 0)},proto.netty.DefaultSignalBody.prototype.hasVideocalltype=function(){return null!=r.Message.getField(this,22)},proto.netty.DefaultSignalBody.prototype.getMonitorbusibodysList=function(){return r.Message.getRepeatedWrapperField(this,proto.netty.MonitorBusiBody,23)},proto.netty.DefaultSignalBody.prototype.setMonitorbusibodysList=function(e){r.Message.setRepeatedWrapperField(this,23,e)},proto.netty.DefaultSignalBody.prototype.addMonitorbusibodys=function(e,t){return r.Message.addToRepeatedWrapperField(this,23,e,proto.netty.MonitorBusiBody,t)},proto.netty.DefaultSignalBody.prototype.clearMonitorbusibodysList=function(){this.setMonitorbusibodysList([])},proto.netty.DefaultSignalBody.prototype.getDevicetype=function(){return r.Message.getFieldWithDefault(this,24,0)},proto.netty.DefaultSignalBody.prototype.setDevicetype=function(e){r.Message.setField(this,24,e)},proto.netty.DefaultSignalBody.prototype.clearDevicetype=function(){r.Message.setField(this,24,void 0)},proto.netty.DefaultSignalBody.prototype.hasDevicetype=function(){return null!=r.Message.getField(this,24)},proto.netty.DefaultSignalBody.prototype.getUsersn=function(){return r.Message.getFieldWithDefault(this,25,0)},proto.netty.DefaultSignalBody.prototype.setUsersn=function(e){r.Message.setField(this,25,e)},proto.netty.DefaultSignalBody.prototype.clearUsersn=function(){r.Message.setField(this,25,void 0)},proto.netty.DefaultSignalBody.prototype.hasUsersn=function(){return null!=r.Message.getField(this,25)},proto.netty.DefaultSignalBody.prototype.getDevicesn=function(){return r.Message.getFieldWithDefault(this,26,0)},proto.netty.DefaultSignalBody.prototype.setDevicesn=function(e){r.Message.setField(this,26,e)},proto.netty.DefaultSignalBody.prototype.clearDevicesn=function(){r.Message.setField(this,26,void 0)},proto.netty.DefaultSignalBody.prototype.hasDevicesn=function(){return null!=r.Message.getField(this,26)},proto.netty.DefaultSignalBody.prototype.getDevicecode=function(){return r.Message.getFieldWithDefault(this,27,"")},proto.netty.DefaultSignalBody.prototype.setDevicecode=function(e){r.Message.setField(this,27,e)},proto.netty.DefaultSignalBody.prototype.clearDevicecode=function(){r.Message.setField(this,27,void 0)},proto.netty.DefaultSignalBody.prototype.hasDevicecode=function(){return null!=r.Message.getField(this,27)},proto.netty.DefaultSignalBody.prototype.getUseractionstauts=function(){return r.Message.getFieldWithDefault(this,28,0)},proto.netty.DefaultSignalBody.prototype.setUseractionstauts=function(e){r.Message.setField(this,28,e)},proto.netty.DefaultSignalBody.prototype.clearUseractionstauts=function(){r.Message.setField(this,28,void 0)},proto.netty.DefaultSignalBody.prototype.hasUseractionstauts=function(){return null!=r.Message.getField(this,28)},proto.netty.DefaultSignalBody.prototype.getRefid=function(){return r.Message.getFieldWithDefault(this,29,"")},proto.netty.DefaultSignalBody.prototype.setRefid=function(e){r.Message.setField(this,29,e)},proto.netty.DefaultSignalBody.prototype.clearRefid=function(){r.Message.setField(this,29,void 0)},proto.netty.DefaultSignalBody.prototype.hasRefid=function(){return null!=r.Message.getField(this,29)},proto.netty.DefaultSignalBody.prototype.getUid=function(){return r.Message.getFieldWithDefault(this,30,"")},proto.netty.DefaultSignalBody.prototype.setUid=function(e){r.Message.setField(this,30,e)},proto.netty.DefaultSignalBody.prototype.clearUid=function(){r.Message.setField(this,30,void 0)},proto.netty.DefaultSignalBody.prototype.hasUid=function(){return null!=r.Message.getField(this,30)},r.Message.GENERATE_TO_OBJECT&&(proto.netty.DefaultSignalMessage.prototype.toObject=function(e){return proto.netty.DefaultSignalMessage.toObject(e,this)},proto.netty.DefaultSignalMessage.toObject=function(e,t){var n,r={header:(n=t.getHeader())&&proto.netty.DefaultSignalHeader.toObject(e,n),body:(n=t.getBody())&&proto.netty.DefaultSignalBody.toObject(e,n)};return e&&(r.$jspbMessageInstance=t),r}),proto.netty.DefaultSignalMessage.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.netty.DefaultSignalMessage;return proto.netty.DefaultSignalMessage.deserializeBinaryFromReader(n,t)},proto.netty.DefaultSignalMessage.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=new proto.netty.DefaultSignalHeader;t.readMessage(n,proto.netty.DefaultSignalHeader.deserializeBinaryFromReader),e.setHeader(n);break;case 2:n=new proto.netty.DefaultSignalBody;t.readMessage(n,proto.netty.DefaultSignalBody.deserializeBinaryFromReader),e.setBody(n);break;default:t.skipField()}}return e},proto.netty.DefaultSignalMessage.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.netty.DefaultSignalMessage.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.netty.DefaultSignalMessage.serializeBinaryToWriter=function(e,t){var n=void 0;null!=(n=e.getHeader())&&t.writeMessage(1,n,proto.netty.DefaultSignalHeader.serializeBinaryToWriter),null!=(n=e.getBody())&&t.writeMessage(2,n,proto.netty.DefaultSignalBody.serializeBinaryToWriter)},proto.netty.DefaultSignalMessage.prototype.getHeader=function(){return r.Message.getWrapperField(this,proto.netty.DefaultSignalHeader,1,1)},proto.netty.DefaultSignalMessage.prototype.setHeader=function(e){r.Message.setWrapperField(this,1,e)},proto.netty.DefaultSignalMessage.prototype.clearHeader=function(){r.Message.setField(this,1,void 0)},proto.netty.DefaultSignalMessage.prototype.hasHeader=function(){return null!=r.Message.getField(this,1)},proto.netty.DefaultSignalMessage.prototype.getBody=function(){return r.Message.getWrapperField(this,proto.netty.DefaultSignalBody,2,1)},proto.netty.DefaultSignalMessage.prototype.setBody=function(e){r.Message.setWrapperField(this,2,e)},proto.netty.DefaultSignalMessage.prototype.clearBody=function(){r.Message.setField(this,2,void 0)},proto.netty.DefaultSignalMessage.prototype.hasBody=function(){return null!=r.Message.getField(this,2)},proto.netty.ResultCode={SUCCESS:200,FAILURE:400,UNKNOW_ERROR:300,ACCOUNT_OR_PASSWORD_ERROR:401,ACCOUNT_DISABLE:402,ACCOUNT_OVERDUE:403,ACCOUNT_LOGINED:406,ACCOUNT_IS_NOT_EXIT:407,ACCOUNT_IS_ANCHOR:408,CLIENT_NOT_SUPPORT:409,REPEAT_INVITE:410,FILE_NOT_EXIT:451,NOT_LOGGED:2,ILLEGAL_REQ:3,TIMEOUT:4,KICT_OUT:452,DST_OFFLINE:412,ROOM_ERROR:413,TALK_COMPLETED:414,NOT_IN_ROOM:415,SN_NOT_CONSISTENCE:416,OTHER_DEVICE_OCCUPYING:417,CANNOT_INVITE_SELF:418,DST_IS_BUSY:419},proto.netty.StatusType={OFF_LINE:0,ON_LINE:1,DND:2,AWAY:3,ABNORMAL_OFF_LINE:4,RELOGIN_OFF_LINE:5},proto.netty.OptType={REQUEST:0,RESPONSE:1,PUSH:2},proto.netty.SignalType={LOGIN_AUTH:0,HEART_BEAT:1,INVITE:2,ACCEPT:3,REFUSE:4,QUIT:5,DISMISS:6,REMOVE:7,JOIN:8,START_SINGLE_CALL:10,ACCEPT_SINGLE_CALL:11,REFUSE_SINGLE_CALL:12,QUIT_SINGLE_CALL:13,START_TEMPORARY_GROUP_CALL:20,ACCEPT_TEMPORARY_GROUP_CALL:21,REFUSE_TEMPORARY_GROUP_CALL:22,QUIT_TEMPORARY_GROUP_CALL:23,DEL_TEMPORARY_GROUP_CALL:24,REMOVE_TEMPORARY_GROUP_MEMBER:25,ACTIVATE_CALL:40,START_SPEAK:41,END_SPEAK:42,START_SEND_FILE:43,END_SEND_FILE:44,SEND_TEXT:45,APPLY_SPEAK:46,SEND_PROMPT:47,SHARE:48,REQ_DATA_TRANSMIT_SERVER:50,MISSED_RECORD_COUNT:51,STATUS:52,NETSTAT:53,SEND_LOC:54,APPLY_NEW_CHANNEL:55,REVOKE:56,BROADCAST_NOTIFY:57,GATEWAY_RECOVER:58,INVITE_VIDEO_CALL:60,ACCEPT_VIDEO_CALL:61,REFUSE_VIDEO_CALL:62,QUIT_VIDEO_CALL:63,DEL_VIDEO_CALL:64,REMOVE_VIDEO_CALL_GROUP_MEMBER:65,APPLY_JOIN_VIDEO_CALL_GROUP:66,GET_GROUP_INFO:67,APPLY_UPLOAD_VIDEO:68,ACCEPT_UPLOAD_VIDEO:69,REFUSE_UPLOAD_VIDEO:70,INTERRUPT_ANCHOR_VIDEO:71,VIDEO_CMD_OPS:72,DATA_STREAM_MONITOR:73,DEVICE_LOGIN:80,DEVICE_LOGOUT:81,GET_OWNER_VIDEO_INFO:82,RECALL:90,BILLBOARD:91,IM_COMBIND:92,IM_REPLY:93,RESP:99,TRANSPARENT:101,UPS:102,LOG:103},proto.netty.PacketType={TEXT:5,FILE:6,EMOTICON:7,OPUS:10,OPUS_8K:11,OPUS_16K:12,OPUS_24K:13,OPUS_32K:14,OPUS_44K:15,OPUS_48K:16,G711A:17,G711U:18,ADPCM:19,AACLC:20,G7221C:21,G722:22,AMR:23},proto.netty.ChatType={CHAT:0,GROUP_CHAT:1,BROADCAST_CHAT:2},proto.netty.VideoCallType={UNKONWN:0,LIVE_SHOW:1,BID_VIDEO:2,MULTI_VIDEO:3},proto.netty.NetstatType={INSTABILITY:1,RTCP:2},proto.netty.TalkType={UNKONWN_TYPE:0,PTT:1,SHOWLIVE:2,BIDVIDEO:3,MULTIVIDEO:4},proto.netty.DeviceType={OLD:0,PHONE:1,BODY_WORN_CAMERA:2,WINDOWS_PC:3,WEB_CHROME:4,WEB_MANAGEMENT:5,VEHICLE:6,INDIVIDUAL:7,TACHOGRAPH:8,TABLET_PC:9,TWO_WAY_RADIO:10,PORTABLE:11,UAV:12,CONTROL_BALL:13,WEB_CHROME_SUP:14},proto.netty.UserActionStatus={IDEL:0,TALKING:1,UNKNOWN:2},o.object.extend(n,proto.netty)},{"google-protobuf":3}],2:[function(e,t,n){var r=e("./DefaultSignalMessage_pb.js");t.exports={DataProto:r}},{"./DefaultSignalMessage_pb.js":1}],3:[function(require,module,exports){(function(global){var $jscomp={scope:{},getGlobal:function(e){return"undefined"!=typeof window&&window===e?e:void 0!==global?global:e}};$jscomp.global=$jscomp.getGlobal(this),$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol),$jscomp.initSymbol=function(){}},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return"jscomp_symbol_"+e+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol(),$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),$jscomp.initSymbolIterator=function(){}},$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator();var t=e[Symbol.iterator];if(t)return t.call(e);var n=0;return{next:function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}}}},$jscomp.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))},$jscomp.inherits=function(e,t){function n(){}for(var r in n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,t)if(Object.defineProperties){var o=Object.getOwnPropertyDescriptor(t,r);o&&Object.defineProperty(e,r,o)}else e[r]=t[r]},$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(e,t){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var n=0,r={next:function(){if(n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return $jscomp.initSymbol(),$jscomp.initSymbolIterator(),r[Symbol.iterator]=function(){return r},r},$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,o=0;o<r;o++){var i=e[o];if(t.call(n,i,o,e))return{i:o,v:i}}return{i:-1,v:void 0}},$jscomp.array.from=function(e,t,n){$jscomp.initSymbolIterator(),t=null!=t?t:function(e){return e};var r=[];if($jscomp.initSymbol(),$jscomp.initSymbolIterator(),"function"==typeof(o=e[Symbol.iterator])&&(e=o.call(e)),"function"==typeof e.next)for(;!(o=e.next()).done;)r.push(t.call(n,o.value));else for(var o=e.length,i=0;i<o;i++)r.push(t.call(n,e[i]));return r},$jscomp.array.of=function(e){return $jscomp.array.from(arguments)},$jscomp.array.entries=function(){return $jscomp.iteratorFromArray(this,(function(e,t){return[e,t]}))},$jscomp.array.installHelper_=function(e,t){!Array.prototype[e]&&Object.defineProperties&&Object.defineProperty&&Object.defineProperty(Array.prototype,e,{configurable:!0,enumerable:!1,writable:!0,value:t})},$jscomp.array.entries$install=function(){$jscomp.array.installHelper_("entries",$jscomp.array.entries)},$jscomp.array.keys=function(){return $jscomp.iteratorFromArray(this,(function(e){return e}))},$jscomp.array.keys$install=function(){$jscomp.array.installHelper_("keys",$jscomp.array.keys)},$jscomp.array.values=function(){return $jscomp.iteratorFromArray(this,(function(e,t){return t}))},$jscomp.array.values$install=function(){$jscomp.array.installHelper_("values",$jscomp.array.values)},$jscomp.array.copyWithin=function(e,t,n){var r=this.length;if(e=Number(e),t=Number(t),n=Number(null!=n?n:r),e<t)for(n=Math.min(n,r);t<n;)t in this?this[e++]=this[t++]:(delete this[e++],t++);else for(e+=(n=Math.min(n,r+t-e))-t;n>t;)--n in this?this[--e]=this[n]:delete this[e];return this},$jscomp.array.copyWithin$install=function(){$jscomp.array.installHelper_("copyWithin",$jscomp.array.copyWithin)},$jscomp.array.fill=function(e,t,n){var r=this.length||0;for(0>t&&(t=Math.max(0,r+t)),(null==n||n>r)&&(n=r),0>(n=Number(n))&&(n=Math.max(0,r+n)),t=Number(t||0);t<n;t++)this[t]=e;return this},$jscomp.array.fill$install=function(){$jscomp.array.installHelper_("fill",$jscomp.array.fill)},$jscomp.array.find=function(e,t){return $jscomp.findInternal(this,e,t).v},$jscomp.array.find$install=function(){$jscomp.array.installHelper_("find",$jscomp.array.find)},$jscomp.array.findIndex=function(e,t){return $jscomp.findInternal(this,e,t).i},$jscomp.array.findIndex$install=function(){$jscomp.array.installHelper_("findIndex",$jscomp.array.findIndex)},$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.Map$isConformant=function(){if($jscomp.ASSUME_NO_NATIVE_MAP)return!1;var e=$jscomp.global.Map;if(!e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e($jscomp.makeIterator([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),o=r.next();return!o.done&&o.value[0]==t&&"s"==o.value[1]&&!((o=r.next()).done||4!=o.value[0].x||"t"!=o.value[1]||!r.next().done)}catch(e){return!1}},$jscomp.Map=function(e){if(this.data_={},this.head_=$jscomp.Map.createHead(),this.size=0,e){e=$jscomp.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}},$jscomp.Map.prototype.set=function(e,t){var n=$jscomp.Map.maybeGetEntry(this,e);return n.list||(n.list=this.data_[n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:t},n.list.push(n.entry),this.head_.previous.next=n.entry,this.head_.previous=n.entry,this.size++),this},$jscomp.Map.prototype.delete=function(e){return!(!(e=$jscomp.Map.maybeGetEntry(this,e)).entry||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.data_[e.id],e.entry.previous.next=e.entry.next,e.entry.next.previous=e.entry.previous,e.entry.head=null,this.size--,!0)},$jscomp.Map.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=$jscomp.Map.createHead(),this.size=0},$jscomp.Map.prototype.has=function(e){return!!$jscomp.Map.maybeGetEntry(this,e).entry},$jscomp.Map.prototype.get=function(e){return(e=$jscomp.Map.maybeGetEntry(this,e).entry)&&e.value},$jscomp.Map.prototype.entries=function(){return $jscomp.Map.makeIterator_(this,(function(e){return[e.key,e.value]}))},$jscomp.Map.prototype.keys=function(){return $jscomp.Map.makeIterator_(this,(function(e){return e.key}))},$jscomp.Map.prototype.values=function(){return $jscomp.Map.makeIterator_(this,(function(e){return e.value}))},$jscomp.Map.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},$jscomp.Map.maybeGetEntry=function(e,t){var n=$jscomp.Map.getId(t),r=e.data_[n];if(r&&Object.prototype.hasOwnProperty.call(e.data_,n))for(var o=0;o<r.length;o++){var i=r[o];if(t!=t&&i.key!=i.key||t===i.key)return{id:n,list:r,index:o,entry:i}}return{id:n,list:r,index:-1,entry:void 0}},$jscomp.Map.makeIterator_=function(e,t){var n=e.head_,r={next:function(){if(n){for(;n.head!=e.head_;)n=n.previous;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}};return $jscomp.initSymbol(),$jscomp.initSymbolIterator(),r[Symbol.iterator]=function(){return r},r},$jscomp.Map.mapIndex_=0,$jscomp.Map.createHead=function(){var e={};return e.previous=e.next=e.head=e},$jscomp.Map.getId=function(e){if(!(e instanceof Object))return"p_"+e;if(!($jscomp.Map.idKey in e))try{$jscomp.Map.defineProperty(e,$jscomp.Map.idKey,{value:++$jscomp.Map.mapIndex_})}catch(e){}return $jscomp.Map.idKey in e?e[$jscomp.Map.idKey]:"o_ "+e},$jscomp.Map.defineProperty=Object.defineProperty?function(e,t,n){Object.defineProperty(e,t,{value:String(n)})}:function(e,t,n){e[t]=String(n)},$jscomp.Map.Entry=function(){},$jscomp.Map$install=function(){$jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map$isConformant()?$jscomp.Map=$jscomp.global.Map:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map.prototype[Symbol.iterator]=$jscomp.Map.prototype.entries,$jscomp.initSymbol(),$jscomp.Map.idKey=Symbol("map-id-key"),$jscomp.Map$install=function(){})},$jscomp.math=$jscomp.math||{},$jscomp.math.clz32=function(e){if(0===(e=Number(e)>>>0))return 32;var t=0;return 0==(4294901760&e)&&(e<<=16,t+=16),0==(4278190080&e)&&(e<<=8,t+=8),0==(4026531840&e)&&(e<<=4,t+=4),0==(3221225472&e)&&(e<<=2,t+=2),0==(2147483648&e)&&t++,t},$jscomp.math.imul=function(e,t){var n=65535&(e=Number(e)),r=65535&(t=Number(t));return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},$jscomp.math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:0<e?1:-1},$jscomp.math.log10=function(e){return Math.log(e)/Math.LN10},$jscomp.math.log2=function(e){return Math.log(e)/Math.LN2},$jscomp.math.log1p=function(e){if(.25>(e=Number(e))&&-.25<e){for(var t=e,n=1,r=e,o=0,i=1;o!=r;)r=(o=r)+(i*=-1)*(t*=e)/++n;return r}return Math.log(1+e)},$jscomp.math.expm1=function(e){if(.25>(e=Number(e))&&-.25<e){for(var t=e,n=1,r=e,o=0;o!=r;)r=(o=r)+(t*=e/++n);return r}return Math.exp(e)-1},$jscomp.math.cosh=function(e){return e=Number(e),(Math.exp(e)+Math.exp(-e))/2},$jscomp.math.sinh=function(e){return 0===(e=Number(e))?e:(Math.exp(e)-Math.exp(-e))/2},$jscomp.math.tanh=function(e){if(0===(e=Number(e)))return e;var t=(1-(t=Math.exp(-2*Math.abs(e))))/(1+t);return 0>e?-t:t},$jscomp.math.acosh=function(e){return e=Number(e),Math.log(e+Math.sqrt(e*e-1))},$jscomp.math.asinh=function(e){if(0===(e=Number(e)))return e;var t=Math.log(Math.abs(e)+Math.sqrt(e*e+1));return 0>e?-t:t},$jscomp.math.atanh=function(e){return e=Number(e),($jscomp.math.log1p(e)-$jscomp.math.log1p(-e))/2},$jscomp.math.hypot=function(e,t,n){e=Number(e),t=Number(t);var r,o,i,s=Math.max(Math.abs(e),Math.abs(t));for(r=2;r<arguments.length;r++)s=Math.max(s,Math.abs(arguments[r]));if(1e100<s||1e-100>s){for(i=(e/=s)*e+(t/=s)*t,r=2;r<arguments.length;r++)i+=(o=Number(arguments[r])/s)*o;return Math.sqrt(i)*s}for(i=e*e+t*t,r=2;r<arguments.length;r++)i+=(o=Number(arguments[r]))*o;return Math.sqrt(i)},$jscomp.math.trunc=function(e){if(e=Number(e),isNaN(e)||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return 0>e?-t:t},$jscomp.math.cbrt=function(e){if(0===e)return e;e=Number(e);var t=Math.pow(Math.abs(e),1/3);return 0>e?-t:t},$jscomp.number=$jscomp.number||{},$jscomp.number.isFinite=function(e){return"number"==typeof e&&(!isNaN(e)&&1/0!==e&&-1/0!==e)},$jscomp.number.isInteger=function(e){return!!$jscomp.number.isFinite(e)&&e===Math.floor(e)},$jscomp.number.isNaN=function(e){return"number"==typeof e&&isNaN(e)},$jscomp.number.isSafeInteger=function(e){return $jscomp.number.isInteger(e)&&Math.abs(e)<=$jscomp.number.MAX_SAFE_INTEGER},$jscomp.number.EPSILON=Math.pow(2,-52),$jscomp.number.MAX_SAFE_INTEGER=9007199254740991,$jscomp.number.MIN_SAFE_INTEGER=-9007199254740991,$jscomp.object=$jscomp.object||{},$jscomp.object.assign=function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},$jscomp.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.Set$isConformant=function(){if($jscomp.ASSUME_NO_NATIVE_SET)return!1;var e=$jscomp.global.Set;if(!e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e($jscomp.makeIterator([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),o=r.next();return!o.done&&o.value[0]==t&&o.value[1]==t&&(!(o=r.next()).done&&o.value[0]!=t&&4==o.value[0].x&&o.value[1]==o.value[0]&&r.next().done)}catch(e){return!1}},$jscomp.Set=function(e){if(this.map_=new $jscomp.Map,e){e=$jscomp.makeIterator(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.map_.size},$jscomp.Set.prototype.add=function(e){return this.map_.set(e,e),this.size=this.map_.size,this},$jscomp.Set.prototype.delete=function(e){return e=this.map_.delete(e),this.size=this.map_.size,e},$jscomp.Set.prototype.clear=function(){this.map_.clear(),this.size=0},$jscomp.Set.prototype.has=function(e){return this.map_.has(e)},$jscomp.Set.prototype.entries=function(){return this.map_.entries()},$jscomp.Set.prototype.values=function(){return this.map_.values()},$jscomp.Set.prototype.forEach=function(e,t){var n=this;this.map_.forEach((function(r){return e.call(t,r,r,n)}))},$jscomp.Set$install=function(){$jscomp.Map$install(),$jscomp.Set$isConformant()?$jscomp.Set=$jscomp.global.Set:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Set.prototype[Symbol.iterator]=$jscomp.Set.prototype.values,$jscomp.Set$install=function(){})},$jscomp.string=$jscomp.string||{},$jscomp.checkStringArgs=function(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""},$jscomp.string.fromCodePoint=function(e){for(var t="",n=0;n<arguments.length;n++){var r=Number(arguments[n]);if(0>r||1114111<r||r!==Math.floor(r))throw new RangeError("invalid_code_point "+r);65535>=r?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(r>>>10&1023|55296),t+=String.fromCharCode(1023&r|56320))}return t},$jscomp.string.repeat=function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n},$jscomp.string.repeat$install=function(){String.prototype.repeat||(String.prototype.repeat=$jscomp.string.repeat)},$jscomp.string.codePointAt=function(e){var t=$jscomp.checkStringArgs(this,null,"codePointAt"),n=t.length;if(0<=(e=Number(e)||0)&&e<n){e|=0;var r=t.charCodeAt(e);return 55296>r||56319<r||e+1===n||(56320>(e=t.charCodeAt(e+1))||57343<e)?r:1024*(r-55296)+e+9216}},$jscomp.string.codePointAt$install=function(){String.prototype.codePointAt||(String.prototype.codePointAt=$jscomp.string.codePointAt)},$jscomp.string.includes=function(e,t){return-1!==$jscomp.checkStringArgs(this,e,"includes").indexOf(e,t||0)},$jscomp.string.includes$install=function(){String.prototype.includes||(String.prototype.includes=$jscomp.string.includes)},$jscomp.string.startsWith=function(e,t){var n=$jscomp.checkStringArgs(this,e,"startsWith");e+="";for(var r=n.length,o=e.length,i=Math.max(0,Math.min(0|t,n.length)),s=0;s<o&&i<r;)if(n[i++]!=e[s++])return!1;return s>=o},$jscomp.string.startsWith$install=function(){String.prototype.startsWith||(String.prototype.startsWith=$jscomp.string.startsWith)},$jscomp.string.endsWith=function(e,t){var n=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=n.length);for(var r=Math.max(0,Math.min(0|t,n.length)),o=e.length;0<o&&0<r;)if(n[--r]!=e[--o])return!1;return 0>=o},$jscomp.string.endsWith$install=function(){String.prototype.endsWith||(String.prototype.endsWith=$jscomp.string.endsWith)};var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,t,n){e=e.split("."),n=n||goog.global,e[0]in n||!n.execScript||n.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)!e.length&&goog.isDef(t)?n[r]=t:n=n[r]?n[r]:n[r]={}},goog.define=function(e,t){var n=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?n=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(n=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,n)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var n=e;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED)return goog.isProvided_(e)?e in goog.loadedModules_?goog.loadedModules_[e]:goog.getObjectByName(e):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var n,r=e.split("."),o=t||goog.global;n=r.shift();){if(!goog.isDefAndNotNull(o[n]))return null;o=o[n]}return o},goog.globalize=function(e,t){var n,r=t||goog.global;for(n in e)r[n]=e[n]},goog.addDependency=function(e,t,n,r){if(goog.DEPENDENCIES_ENABLED){var o;e=e.replace(/\\/g,"/");for(var i=goog.dependencies_,s=0;o=t[s];s++)i.nameToPath[o]=e,i.pathIsModule[e]=!!r;for(r=0;t=n[r];r++)e in i.requires||(i.requires[e]={}),i.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e))return goog.isInModuleLoader_()?goog.module.getInternal_(e):null;if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.writeScripts_(t),null}throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e)}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var n=e[t].src,r=-1==(r=n.lastIndexOf("?"))?n.length:r;if("base.js"==n.substr(r-7,7)){goog.basePath=n.substr(0,r-7);break}}},goog.importScript_=function(e,t){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importModule_=function(e){goog.importScript_("",'goog.retrieveAndExecModule_("'+e+'");')&&(goog.dependencies_.written[e]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(0<e){var t=goog.queuedModules_;goog.queuedModules_=[];for(var n=0;n<e;n++)goog.maybeProcessDeferredPath_(t[n])}},goog.maybeProcessDeferredDep_=function(e){goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)&&(e=goog.getPathFromDeps_(e),goog.maybeProcessDeferredPath_(goog.basePath+e))},goog.isDeferredModule_=function(e){return!(!(e=goog.getPathFromDeps_(e))||!goog.dependencies_.pathIsModule[e])&&goog.basePath+e in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(e){if((e=goog.getPathFromDeps_(e))&&e in goog.dependencies_.requires)for(var t in goog.dependencies_.requires[e])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModuleFromUrl=function(e){goog.retrieveAndExecModule_(e)},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{var n;if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(e))n=e.call(goog.global,{});else{if(!goog.isString(e))throw Error("Invalid module definition");n=goog.loadModuleFromSource_.call(goog.global,e)}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r)throw Error('Invalid module name "'+r+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(n),goog.loadedModules_[r]=n}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,n=t.createElement("script");n.type="text/javascript",n.src=e,n.defer=!1,n.async=!1,t.head.appendChild(n)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var n=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==n.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}var r=goog.IS_OLD_IE_;return void 0===t?r?(r=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",n.write('<script type="text/javascript" src="'+e+'"'+r+"><\/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e):n.write('<script type="text/javascript">'+t+"<\/script>"),!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){var t=[],n={},r=goog.dependencies_;for(function e(o){if(!(o in r.written)&&!(o in r.visited)){if(r.visited[o]=!0,o in r.requires)for(var i in r.requires[o])if(!goog.isProvided_(i)){if(!(i in r.nameToPath))throw Error("Undefined nameToPath for "+i);e(r.nameToPath[i])}o in n||(n[o]=!0,t.push(o))}}(e),e=0;e<t.length;e++){var o=t[e];goog.dependencies_.written[o]=!0}var i=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,e=0;e<t.length;e++){if(!(o=t[e]))throw goog.moduleLoaderState_=i,Error("Undefined script input");r.pathIsModule[o]?goog.importModule_(goog.basePath+o):goog.importScript_(goog.basePath+o)}goog.moduleLoaderState_=i},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.responseText},goog.retrieveAndExecModule_=function(e){if(!COMPILED){var t=e;e=goog.normalizePath_(e);var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,r=goog.loadFileSync_(e);if(null==r)throw Error("load of "+e+"failed");r=goog.wrapModule_(e,r),goog.IS_OLD_IE_?(goog.dependencies_.deferred[t]=r,goog.queuedModules_.push(t)):n(e,r)}},goog.typeOf=function(e){var t=void 0===e?"undefined":_typeof(e);if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=void 0===e?"undefined":_typeof(e);return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){if("object"==(n=goog.typeOf(e))||"array"==n){if(e.clone)return e.clone();var t,n="array"==n?[]:{};for(t in e)n[t]=goog.cloneObject(e[t]);return n}return e},goog.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,n){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,n=t.createElement("SCRIPT");n.type="text/javascript",n.defer=!1,n.appendChild(t.createTextNode(e)),t.body.appendChild(n),t.body.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){var n=function(e){return goog.cssNameMapping_[e]||e},r=function(e){e=e.split("-");for(var t=[],r=0;r<e.length;r++)t.push(n(e[r]));return t.join("-")};r=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:r:function(e){return e};return t?e+"-"+r(t):r(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}},goog.base=function(e,t,n){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_){for(var o=Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];return r.superClass_.constructor.apply(e,o)}for(o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];i=!1;for(var s=e.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[t]===r)i=!0;else if(i)return s.prototype[t].apply(e,o);if(e[t]===r)return e.constructor.prototype[t].apply(e,o);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var n=t.constructor,r=t.statics;return n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),n=goog.defineClass.createSealingConstructor_(n,e),e&&goog.inherits(n,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(n.prototype,t),null!=r&&(r instanceof Function?r(n):goog.defineClass.applyProperties_(n,r)),n},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return e;return function t(){var n=e.apply(this,arguments)||this;return n[goog.UID_PROPERTY_]=n[goog.UID_PROPERTY_],this.constructor===t&&Object.seal(n),n}}return e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.subs=function(e,t){for(var n=e.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var n=String(e).toLowerCase(),r=String(t).toLowerCase();return n<r?-1:n==r?0:1},goog.string.numberAwareCompare_=function(e,t,n){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var r=e.toLowerCase().match(n),o=t.toLowerCase().match(n),i=Math.min(r.length,o.length),s=0;s<i;s++){n=r[s];var a=o[s];if(n!=a)return e=parseInt(n,10),!isNaN(e)&&(t=parseInt(a,10),!isNaN(t)&&e-t)?e-t:n<a?-1:1}return r.length!=o.length?r.length-o.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(e))return e;e.indexOf("&"),-1!=e.indexOf("<")&&(e=e.replace(goog.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(goog.string.E_RE_,"&#101;"))}return e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var n,r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return n=t?t.createElement("div"):goog.global.document.createElement("div"),e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var o=r[e];if(o)return o;if("#"==t.charAt(0)){var i=Number("0"+t.substr(1));isNaN(i)||(o=String.fromCharCode(i))}return o||(n.innerHTML=e+" ",o=n.firstChild.nodeValue.slice(0,-1)),r[e]=o}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var n=Number("0"+t.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return e}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var n=t.length,r=0;r<n;r++){var o=1==n?t:t.charAt(r);if(e.charAt(0)==o&&e.charAt(e.length-1)==o)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,n){return n&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),n&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,n,r){if(n&&(e=goog.string.unescapeEntities(e)),r&&e.length>t){r>t&&(r=t);var o=e.length-r;e=e.substring(0,t-r)+"..."+e.substring(o)}else e.length>t&&(r=Math.floor(t/2),o=e.length-r,e=e.substring(0,r+t%2)+"..."+e.substring(o));return n&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],n=0;n<e.length;n++){var r=e.charAt(n),o=r.charCodeAt(0);t[n+1]=goog.string.specialEscapeChars_[r]||(31<o&&127>o?r:goog.string.escapeChar(r))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=goog.string.escapeChar(e.charAt(n));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t,n=e.charCodeAt(0);return 31<n&&127>n?t=e:(256>n?(t="\\x",(16>n||256<n)&&(t+="0")):(t="\\u",4096>n&&(t+="0")),t+=n.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.caseInsensitiveContains=function(e,t){return goog.string.contains(e.toLowerCase(),t.toLowerCase())},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,n){var r=e;return 0<=t&&t<e.length&&0<n&&(r=e.substr(0,t)+e.substr(t+n,e.length-t-n)),r},goog.string.remove=function(e,t){var n=new RegExp(goog.string.regExpEscape(t),"");return e.replace(n,"")},goog.string.removeAll=function(e,t){var n=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(n,"")},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,n){return-1==(n=(e=goog.isDef(n)?e.toFixed(n):String(e)).indexOf("."))&&(n=e.length),goog.string.repeat("0",Math.max(0,t-n))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var n=0,r=goog.string.trim(String(e)).split("."),o=goog.string.trim(String(t)).split("."),i=Math.max(r.length,o.length),s=0;0==n&&s<i;s++){var a=r[s]||"",u=o[s]||"",c=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var d=c.exec(a)||["","",""],f=l.exec(u)||["","",""];if(0==d[0].length&&0==f[0].length)break;n=0==d[1].length?0:parseInt(d[1],10);var p=0==f[1].length?0:parseInt(f[1],10);n=goog.string.compareElements_(n,p)||goog.string.compareElements_(0==d[2].length,0==f[2].length)||goog.string.compareElements_(d[2],f[2])}while(0==n)}return n},goog.string.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.hashCode=function(e){for(var t=0,n=0;n<e.length;++n)t=31*t+e.charCodeAt(n)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var n=goog.isString(t)?goog.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(n?"|["+n+"]+":"")+")([a-z])","g"),(function(e,t,n){return t+n.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,n){e=e.split(t);for(var r=[];0<n&&e.length;)r.push(e.shift()),n--;return e.length&&r.push(e.join(t)),r},goog.string.editDistance=function(e,t){var n=[],r=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var o=0;o<t.length+1;o++)n[o]=o;for(o=0;o<e.length;o++){r[0]=o+1;for(var i=0;i<t.length;i++)r[i+1]=Math.min(r[i]+1,n[i+1]+1,n[i]+Number(e[o]!=t[i]));for(i=0;i<n.length;i++)n[i]=r[i]}return r[t.length]},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,t,n,r){var o="Assertion failed";if(n){o=o+": "+n;var i=r}else e&&(o+=": "+e,i=t);e=new goog.asserts.AssertionError(""+o,i||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,n,r){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],n,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":void 0===e?"undefined":_typeof(e)};var jspb={Map:function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()}},a,b;jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],n=t[0];this.map_[n.toString()]=new jspb.Map.Entry_(n,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var n=t[e].valueWrapper;n&&n.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var r=this.map_[t[e]];(n=r.valueWrapper)&&n.toArray(),this.arr_.push([r.key,r.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var n=this.toArray(),r=[],o=0;o<n.length;o++){var i=this.map_[n[o][0].toString()];this.wrapEntry_(i);var s=i.valueWrapper;s?(goog.asserts.assert(t),r.push([i.key,t(e,s)])):r.push([i.key,i.value])}return r},jspb.Map.fromObject=function(e,t,n){t=new jspb.Map([],t);for(var r=0;r<e.length;r++){var o=e[r][0],i=n(e[r][1]);t.set(o,i)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},$jscomp.initSymbol(),"undefined"!=typeof Symbol&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++){var r=this.map_[t[n]];e.push([r.key,r.value])}return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++){var r=this.map_[t[n]];e.push([r.key,this.wrapEntry_(r)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++)e.push(this.map_[t[n]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++)e.push(this.wrapEntry_(this.map_[t[n]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var n=this.stringKeys_();n.sort();for(var r=0;r<n.length;r++){var o=this.map_[n[r]];e.call(t,this.wrapEntry_(o),o.key,this)}},jspb.Map.prototype.set=function(e,t){var n=new jspb.Map.Entry_(e);return this.valueCtor_?(n.valueWrapper=t,n.value=t.toArray()):n.value=t,this.map_[e.toString()]=n,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,n,r,o){var i=this.stringKeys_();i.sort();for(var s=0;s<i.length;s++){var a=this.map_[i[s]];t.beginSubMessage(e),n.call(t,1,a.key),this.valueCtor_?r.call(t,2,this.wrapEntry_(a),o):r.call(t,2,a.value),t.endSubMessage()}},jspb.Map.deserializeBinary=function(e,t,n,r,o){for(var i=void 0,s=void 0;t.nextField()&&!t.isEndGroup();){var a=t.getFieldNumber();1==a?i=n.call(t):2==a&&(e.valueCtor_?(s=new e.valueCtor_,r.call(t,s,o)):s=r.call(t))}goog.asserts.assert(null!=i),goog.asserts.assert(null!=s),e.set(i,s)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==n?e.length-1:n)}:function(e,t,n){if(0>(n=null==n?e.length-1:n)&&(n=Math.max(0,e.length+n)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,n):-1;for(;0<=n;n--)if(n in e&&e[n]===t)return n;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,n){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)},goog.array.forEachRight=function(e,t,n){var r=e.length,o=goog.isString(e)?e.split(""):e;for(r=r-1;0<=r;--r)r in o&&t.call(n,o[r],r,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=[],i=0,s=goog.isString(e)?e.split(""):e,a=0;a<r;a++)if(a in s){var u=s[a];t.call(n,u,a,e)&&(o[i++]=u)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=Array(r),i=goog.isString(e)?e.split(""):e,s=0;s<r;s++)s in i&&(o[s]=t.call(n,i[s],s,e));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,n,r){return goog.asserts.assert(null!=e.length),r&&(t=goog.bind(t,r)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,r){var o=n;return goog.array.forEach(e,(function(n,i){o=t.call(r,o,n,i,e)})),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,n,r){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),r&&(t=goog.bind(t,r)),Array.prototype.reduceRight.call(e,t,n)}:function(e,t,n,r){var o=n;return goog.array.forEachRight(e,(function(n,i){o=t.call(r,o,n,i,e)})),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<r;i++)if(i in o&&t.call(n,o[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<r;i++)if(i in o&&!t.call(n,o[i],i,e))return!1;return!0},goog.array.count=function(e,t,n){var r=0;return goog.array.forEach(e,(function(e,o,i){t.call(n,e,o,i)&&++r}),n),r},goog.array.find=function(e,t,n){return 0>(t=goog.array.findIndex(e,t,n))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,n){for(var r=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<r;i++)if(i in o&&t.call(n,o[i],i,e))return i;return-1},goog.array.findRight=function(e,t,n){return 0>(t=goog.array.findIndexRight(e,t,n))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,n){var r=e.length,o=goog.isString(e)?e.split(""):e;for(r=r-1;0<=r;r--)if(r in o&&t.call(n,o[r],r,e))return r;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,n){goog.array.splice(e,n,0,t)},goog.array.insertArrayAt=function(e,t,n){goog.partial(goog.array.splice,e,n,0).apply(null,t)},goog.array.insertBefore=function(e,t,n){var r;2==arguments.length||0>(r=goog.array.indexOf(e,n))?e.push(t):goog.array.insertAt(e,t,r)},goog.array.remove=function(e,t){var n,r=goog.array.indexOf(e,t);return(n=0<=r)&&goog.array.removeAt(e,r),n},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,n){return 0<=(t=goog.array.findIndex(e,t,n))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,n){var r=0;return goog.array.forEachRight(e,(function(o,i){t.call(n,o,i,e)&&goog.array.removeAt(e,i)&&r++})),r},goog.array.concat=function(e){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.join=function(e){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(goog.isArrayLike(r)){var o=e.length||0,i=r.length||0;e.length=o+i;for(var s=0;s<i;s++)e[o+s]=r[s]}else e.push(r)}},goog.array.splice=function(e,t,n,r){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,n){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)},goog.array.removeDuplicates=function(e,t,n){t=t||e;var r=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(void 0===e?"undefined":_typeof(e)).charAt(0)+e};n=n||r;r={};for(var o=0,i=0;i<e.length;){var s=e[i++],a=n(s);Object.prototype.hasOwnProperty.call(r,a)||(r[a]=!0,t[o++]=s)}t.length=o},goog.array.binarySearch=function(e,t,n){return goog.array.binarySearch_(e,n||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,n){return goog.array.binarySearch_(e,t,!0,void 0,n)},goog.array.binarySearch_=function(e,t,n,r,o){for(var i,s=0,a=e.length;s<a;){var u,c=s+a>>1;0<(u=n?t.call(o,e[c],c,e):t(r,e[c]))?s=c+1:(a=c,i=!u)}return i?s:~s},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var n=0;n<e.length;n++)e[n]={index:n,value:e[n]};var r=t||goog.array.defaultCompare;for(goog.array.sort(e,(function(e,t){return r(e.value,t.value)||e.index-t.index})),n=0;n<e.length;n++)e[n]=e[n].value},goog.array.sortByKey=function(e,t,n){var r=n||goog.array.defaultCompare;goog.array.sort(e,(function(e,n){return r(t(e),t(n))}))},goog.array.sortObjectsByKey=function(e,t,n){goog.array.sortByKey(e,(function(e){return e[t]}),n)},goog.array.isSorted=function(e,t,n){t=t||goog.array.defaultCompare;for(var r=1;r<e.length;r++){var o=t(e[r-1],e[r]);if(0<o||0==o&&n)return!1}return!0},goog.array.equals=function(e,t,n){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var r=e.length;n=n||goog.array.defaultCompareEquality;for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1;return!0},goog.array.compare3=function(e,t,n){n=n||goog.array.defaultCompare;for(var r=Math.min(e.length,t.length),o=0;o<r;o++){var i=n(e[o],t[o]);if(0!=i)return i}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,n){return 0>(n=goog.array.binarySearch(e,t,n))&&(goog.array.insertAt(e,t,-(n+1)),!0)},goog.array.binaryRemove=function(e,t,n){return 0<=(t=goog.array.binarySearch(e,t,n))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,n){for(var r={},o=0;o<e.length;o++){var i=e[o],s=t.call(n,i,o,e);goog.isDef(s)&&(r[s]||(r[s]=[])).push(i)}return r},goog.array.toObject=function(e,t,n){var r={};return goog.array.forEach(e,(function(o,i){r[t.call(n,o,i,e)]=o})),r},goog.array.range=function(e,t,n){var r=[],o=0,i=e;if(void 0!==t&&(o=e,i=t),0>(n=n||1)*(i-o))return[];if(0<n)for(e=o;e<i;e+=n)r.push(e);else for(e=o;e>i;e+=n)r.push(e);return r},goog.array.repeat=function(e,t){for(var n=[],r=0;r<t;r++)n[r]=e;return n},goog.array.flatten=function(e){for(var t=[],n=0;n<arguments.length;n++){var r=arguments[n];if(goog.isArray(r))for(var o=0;o<r.length;o+=8192)for(var i=goog.array.slice(r,o,o+8192),s=(i=goog.array.flatten.apply(null,i),0);s<i.length;s++)t.push(i[s]);else t.push(r)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,n){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=n&&n<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,n,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],n=arguments[0].length,r=1;r<arguments.length;r++)arguments[r].length<n&&(n=arguments[r].length);for(r=0;r<n;r++){for(var o=[],i=0;i<arguments.length;i++)o.push(arguments[i][r]);t.push(o)}return t},goog.array.shuffle=function(e,t){for(var n=t||Math.random,r=e.length-1;0<r;r--){var o=Math.floor(n()*(r+1)),i=e[r];e[r]=e[o],e[o]=i}},goog.array.copyByIndex=function(e,t){var n=[];return goog.array.forEach(t,(function(t){n.push(e[t])})),n},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){for(var o=e.charCodeAt(r);255<o;)t[n++]=255&o,o>>=8;t[n++]=o}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",n=0;n<e.length;n+=8192){var r=goog.array.slice(e,n,n+8192);t=t+String.fromCharCode.apply(null,r)}return t},goog.crypt.byteArrayToHex=function(e){return goog.array.map(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substring(n,n+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);128>o?t[n++]=o:(2048>o?t[n++]=o>>6|192:(55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128):t[n++]=o>>12|224,t[n++]=o>>6&63|128),t[n++]=63&o|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],n=0,r=0;n<e.length;){if(128>(s=e[n++]))t[r++]=String.fromCharCode(s);else if(191<s&&224>s){var o=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&o)}else if(239<s&&365>s){o=e[n++];var i=e[n++],s=((7&s)<<18|(63&o)<<12|(63&i)<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else o=e[n++],i=e[n++],t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&i)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var n=[],r=0;r<e.length;r++)n.push(e[r]^t[r]);return n},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,n=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),r=[];t=n.exec(e);)r.push([t[1],t[2],t[3]||void 0]);return r},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.object={},goog.object.forEach=function(e,t,n){for(var r in e)t.call(n,e[r],r,e)},goog.object.filter=function(e,t,n){var r,o={};for(r in e)t.call(n,e[r],r,e)&&(o[r]=e[r]);return o},goog.object.map=function(e,t,n){var r,o={};for(r in e)o[r]=t.call(n,e[r],r,e);return o},goog.object.some=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return!0;return!1},goog.object.every=function(e,t,n){for(var r in e)if(!t.call(n,e[r],r,e))return!1;return!0},goog.object.getCount=function(e){var t,n=0;for(t in e)n++;return n},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n},goog.object.getKeys=function(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n},goog.object.getValueByKeys=function(e,t){for(var n=(r=goog.isArrayLike(t))?t:arguments,r=r?0:1;r<n.length&&(e=e[n[r]],goog.isDef(e));r++);return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},goog.object.findKey=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},goog.object.findValue=function(e,t,n){return(t=goog.object.findKey(e,t,n))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n},goog.object.add=function(e,t,n){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,n)},goog.object.get=function(e,t,n){return null!==e&&t in e?e[t]:n},goog.object.set=function(e,t,n){e[t]=n},goog.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n},goog.object.setWithReturnValueIfNotSet=function(e,t,n){return t in e?e[t]:(n=n(),e[t]=n)},goog.object.equals=function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(n in t)if(!(n in e))return!1;return!0},goog.object.clone=function(e){var t,n={};for(t in e)n[t]=e[t];return n},goog.object.unsafeClone=function(e){if("object"==(n=goog.typeOf(e))||"array"==n){if(goog.isFunction(e.clone))return e.clone();var t,n="array"==n?[]:{};for(t in e)n[t]=goog.object.unsafeClone(e[t]);return n}return e},goog.object.transpose=function(e){var t,n={};for(t in e)n[e[t]]=t;return n},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)n=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var n={},r=0;r<t;r+=2)n[arguments[r]]=arguments[r+1];return n},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var n={},r=0;r<t;r++)n[arguments[r]]=!0;return n},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchOpera_()&&!goog.labs.userAgent.browser.matchEdge_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,r),n[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var n={};goog.array.forEach(t,(function(e){n[e[0]]=e[1]}));var r=goog.partial(goog.object.containsKey,n);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera","OPR"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){if((t=/rv: *([\d\.]*)/.exec(e))&&t[1])return t[1];var t="",n=/MSIE +([\d\.]+)/.exec(e);if(n&&n[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==n[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=n[1];return t},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){if(t=goog.labs.userAgent.util.getUserAgent()){var e,t=goog.labs.userAgent.util.extractVersionTuples(t),n=goog.labs.userAgent.engine.getEngineTuple_(t);if(n)return"Gecko"==n[0]?goog.labs.userAgent.engine.getVersionForKey_(t,"Firefox"):n[1];if((t=t[0])&&(e=t[2])&&(e=/Trident\/([^\s;]+)/.exec(e)))return e[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var n=e[t];if("Edge"==n[0])return n}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){var n=goog.array.find(e,(function(e){return t==e[0]}));return n&&n[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigator();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.operaVersion_=function(){var e=goog.global.opera.version;try{return e()}catch(t){return e}},goog.userAgent.determineVersion_=function(){if(goog.userAgent.OPERA&&goog.global.opera)return goog.userAgent.operaVersion_();var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(t=goog.userAgent.getDocumentMode_())>parseFloat(e)?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv\:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[e]||(goog.userAgent.isVersionOrHigherCache_[e]=0<=goog.string.compareVersions(goog.userAgent.VERSION,e))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=(a=goog.global.document,b=goog.userAgent.getDocumentMode_(),a&&goog.userAgent.IE?b||("CSS1Compat"==a.compatMode?parseInt(goog.userAgent.VERSION,10):5):void 0),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.byteToCharMap_=null,goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.byteToCharMapWebSafe_=null,goog.crypt.base64.ENCODED_VALS_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.ENCODED_VALS_BASE+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.ENCODED_VALS_BASE+"-_.",goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),goog.crypt.base64.init_();for(var n=t?goog.crypt.base64.byteToCharMapWebSafe_:goog.crypt.base64.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],s=o+1<e.length,a=s?e[o+1]:0,u=o+2<e.length,c=i>>2,l=(i=(3&i)<<4|a>>4,a=(15&a)<<2|(l=u?e[o+2]:0)>>6,63&l);u||(l=64,s||(a=64)),r.push(n[c],n[i],n[a],n[l])}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var n="";return goog.crypt.base64.decodeStringInternal_(e,(function(e){n+=String.fromCharCode(e)})),n},goog.crypt.base64.decodeStringToByteArray=function(e,t){var n=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){n.push(e)})),n},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=new Uint8Array(Math.ceil(3*e.length/4)),n=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){t[n++]=e})),t.subarray(0,n)},goog.crypt.base64.decodeStringInternal_=function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=goog.crypt.base64.charToByteMap_[n];if(null!=o)return o;if(!goog.string.isEmptyOrWhitespace(n))throw Error("Unknown base64 encoding at char: "+n)}return t}goog.crypt.base64.init_();for(var r=0;;){var o=n(-1),i=n(0),s=n(64),a=n(64);if(64===a&&-1===o)break;t(o<<2|i>>4),64!=s&&(t(i<<4&240|s>>2),64!=a&&t(s<<6&192|a))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.byteToCharMap_){goog.crypt.base64.byteToCharMap_={},goog.crypt.base64.charToByteMap_={},goog.crypt.base64.byteToCharMapWebSafe_={};for(var e=0;e<goog.crypt.base64.ENCODED_VALS.length;e++)goog.crypt.base64.byteToCharMap_[e]=goog.crypt.base64.ENCODED_VALS.charAt(e),goog.crypt.base64.charToByteMap_[goog.crypt.base64.byteToCharMap_[e]]=e,goog.crypt.base64.byteToCharMapWebSafe_[e]=goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(e),e>=goog.crypt.base64.ENCODED_VALS_BASE.length&&(goog.crypt.base64.charToByteMap_[goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(e)]=e)}},jspb.ExtensionFieldInfo=function(e,t,n,r,o){this.fieldIndex=e,this.fieldName=t,this.ctor=n,this.toObjectFn=r,this.isRepeated=o},jspb.ExtensionFieldBinaryInfo=function(e,t,n,r,o,i){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=n,this.binaryMessageSerializeFn=r,this.binaryMessageDeserializeFn=o,this.isPacked=i},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.MINIMIZE_MEMORY_ALLOCATIONS=COMPILED,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,n,r,o,i){if(e.wrappers_=jspb.Message.MINIMIZE_MEMORY_ALLOCATIONS?null:{},t||(t=n?[n]:[]),e.messageId_=n?String(n):void 0,e.arrayIndexOffset_=0===n?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,r),e.convertedFloatingPointFields_={},o)for(t=0;t<o.length;t++)(n=o[t])<e.pivot_?(n=jspb.Message.getIndex_(e,n),e.array[n]=e.array[n]||(jspb.Message.MINIMIZE_MEMORY_ALLOCATIONS?jspb.Message.EMPTY_LIST_SENTINEL_:[])):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[n]=e.extensionObject_[n]||(jspb.Message.MINIMIZE_MEMORY_ALLOCATIONS?jspb.Message.EMPTY_LIST_SENTINEL_:[]));i&&i.length&&goog.array.forEach(i,goog.partial(jspb.Message.computeOneofCase,e))},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:goog.isArray(e)},jspb.Message.initPivotAndExtensionObject_=function(e,t){if(e.array.length){var n=e.array.length-1,r=e.array[n];if(r&&"object"==(void 0===r?"undefined":_typeof(r))&&!jspb.Message.isArray_(r)&&!(jspb.Message.SUPPORTS_UINT8ARRAY_&&r instanceof Uint8Array))return e.pivot_=n-e.arrayIndexOffset_,void(e.extensionObject_=r)}-1<t?(e.pivot_=t,e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,n){for(var r=[],o=0;o<e.length;o++)r[o]=t.call(e[o],n,e[o]);return r},jspb.Message.toObjectExtension=function(e,t,n,r,o){for(var i in n){var s=n[i],a=r.call(e,s);if(null!=a){for(var u in s.fieldName)if(s.fieldName.hasOwnProperty(u))break;t[u]=s.toObjectFn?s.isRepeated?jspb.Message.toObjectList(a,s.toObjectFn,o):s.toObjectFn(o,a):a}}},jspb.Message.serializeBinaryExtensions=function(e,t,n,r){for(var o in n){var i=n[o],s=i.fieldInfo;if(!i.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var a=r.call(e,s);if(null!=a)if(s.isMessageType()){if(!i.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");i.binaryWriterFn.call(t,s.fieldIndex,a,i.binaryMessageSerializeFn)}else i.binaryWriterFn.call(t,s.fieldIndex,a)}},jspb.Message.readBinaryExtension=function(e,t,n,r,o){var i=n[t.getFieldNumber()];if(i){if(n=i.fieldInfo,!i.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");var s;n.isMessageType()?(s=new n.ctor,i.binaryReaderFn.call(t,s,i.binaryMessageDeserializeFn)):s=i.binaryReaderFn.call(t),n.isRepeated&&!i.isPacked?(t=r.call(e,n))?t.push(s):o.call(e,n,[s]):o.call(e,n,s)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){var n=jspb.Message.getIndex_(e,t),r=e.array[n];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[n]=[]:r}if(e.extensionObject_)return(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},jspb.Message.getRepeatedField=function(e,t){if(t<e.pivot_){var n=jspb.Message.getIndex_(e,t),r=e.array[n];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[n]=[]:r}return(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},jspb.Message.getOptionalFloatingPointField=function(e,t){var n=jspb.Message.getField(e,t);return null==n?n:+n},jspb.Message.getRepeatedFloatingPointField=function(e,t){var n=jspb.Message.getRepeatedField(e,t);if(e.convertedFloatingPointFields_||(e.convertedFloatingPointFields_={}),!e.convertedFloatingPointFields_[t]){for(var r=0;r<n.length;r++)n[r]=+n[r];e.convertedFloatingPointFields_[t]=!0}return n},jspb.Message.bytesAsB64=function(e){return null==e||goog.isString(e)?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:goog.isString(e)?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||goog.isString(e[0])?e:goog.array.map(e,jspb.Message.bytesAsB64)},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,n){return null==(e=jspb.Message.getField(e,t))?n:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,n,r){return e.wrappers_||(e.wrappers_={}),t in e.wrappers_?e.wrappers_[t]:n?void 0:((n=jspb.Message.getField(e,t))||(n=[],jspb.Message.setField(e,t,n)),e.wrappers_[t]=new jspb.Map(n,r))},jspb.Message.setField=function(e,t,n){t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=n:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=n)},jspb.Message.setProto3IntField=function(e,t,n){jspb.Message.setFieldIgnoringDefault_(e,t,n,0)},jspb.Message.setProto3FloatField=function(e,t,n){jspb.Message.setFieldIgnoringDefault_(e,t,n,0)},jspb.Message.setProto3BooleanField=function(e,t,n){jspb.Message.setFieldIgnoringDefault_(e,t,n,!1)},jspb.Message.setProto3StringField=function(e,t,n){jspb.Message.setFieldIgnoringDefault_(e,t,n,"")},jspb.Message.setProto3BytesField=function(e,t,n){jspb.Message.setFieldIgnoringDefault_(e,t,n,"")},jspb.Message.setProto3EnumField=function(e,t,n){jspb.Message.setFieldIgnoringDefault_(e,t,n,0)},jspb.Message.setFieldIgnoringDefault_=function(e,t,n,r){n!=r?jspb.Message.setField(e,t,n):e.array[jspb.Message.getIndex_(e,t)]=null},jspb.Message.addToRepeatedField=function(e,t,n,r){e=jspb.Message.getRepeatedField(e,t),null!=r?e.splice(r,0,n):e.push(n)},jspb.Message.setOneofField=function(e,t,n,r){(n=jspb.Message.computeOneofCase(e,n))&&n!==t&&void 0!==r&&(e.wrappers_&&n in e.wrappers_&&(e.wrappers_[n]=void 0),jspb.Message.setField(e,n,void 0)),jspb.Message.setField(e,t,r)},jspb.Message.computeOneofCase=function(e,t){var n,r;return goog.array.forEach(t,(function(t){var o=jspb.Message.getField(e,t);goog.isDefAndNotNull(o)&&(n=t,r=o,jspb.Message.setField(e,t,void 0))})),n?(jspb.Message.setField(e,n,r),n):0},jspb.Message.getWrapperField=function(e,t,n,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[n]){var o=jspb.Message.getField(e,n);(r||o)&&(e.wrappers_[n]=new t(o))}return e.wrappers_[n]},jspb.Message.getRepeatedWrapperField=function(e,t,n){return jspb.Message.wrapRepeatedField_(e,t,n),(t=e.wrappers_[n])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[n]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,n){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[n]){for(var r=jspb.Message.getRepeatedField(e,n),o=[],i=0;i<r.length;i++)o[i]=new t(r[i]);e.wrappers_[n]=o}},jspb.Message.setWrapperField=function(e,t,n){e.wrappers_||(e.wrappers_={});var r=n?n.toArray():n;e.wrappers_[t]=n,jspb.Message.setField(e,t,r)},jspb.Message.setOneofWrapperField=function(e,t,n,r){e.wrappers_||(e.wrappers_={});var o=r?r.toArray():r;e.wrappers_[t]=r,jspb.Message.setOneofField(e,t,n,o)},jspb.Message.setRepeatedWrapperField=function(e,t,n){e.wrappers_||(e.wrappers_={}),n=n||[];for(var r=[],o=0;o<n.length;o++)r[o]=n[o].toArray();e.wrappers_[t]=n,jspb.Message.setField(e,t,r)},jspb.Message.addToRepeatedWrapperField=function(e,t,n,r,o){jspb.Message.wrapRepeatedField_(e,r,t);var i=e.wrappers_[t];return i||(i=e.wrappers_[t]=[]),n=n||new r,e=jspb.Message.getRepeatedField(e,t),null!=o?(i.splice(o,0,n),e.splice(o,0,n.toArray())):(i.push(n),e.push(n.toArray())),n},jspb.Message.toMap=function(e,t,n,r){for(var o={},i=0;i<e.length;i++)o[t.call(e[i])]=n?n.call(e[i],r,e[i]):e[i];return o},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(goog.isArray(t))for(var n=0;n<t.length;n++)t[n]&&t[n].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var n=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[n]=t,this.extensionObject_[n]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[n]=t):e.isMessageType()?(this.wrappers_[n]=t,this.extensionObject_[n]=t?t.toArray():t):this.extensionObject_[n]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var n=e.toArray(),r=t.toArray(),o=[],i=0,s=n.length>r.length?n.length:r.length;for(e.getJsPbMessageId()&&(o[0]=e.getJsPbMessageId(),i=1);i<s;i++)jspb.Message.compareFields(n[i],r[i])||(o[i]=r[i]);return new e.constructor(o)},jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var n,r={};for(n in e)r[n]=0;for(n in t)r[n]=0;for(n in r)if(!jspb.Message.compareFields(e[n],t[n]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t)||e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}if(e.constructor===Array){var r=void 0,o=void 0,i=Math.max(e.length,t.length);for(n=0;n<i;n++){var s=e[n],a=t[n];if(s&&s.constructor==Object&&(goog.asserts.assert(void 0===r),goog.asserts.assert(n===e.length-1),r=s,s=void 0),a&&a.constructor==Object&&(goog.asserts.assert(void 0===o),goog.asserts.assert(n===t.length-1),o=a,a=void 0),!jspb.Message.compareFields(s,a))return!1}return!r&&!o||(r=r||{},o=o||{},jspb.Message.compareExtensions(r,o))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type.");for(var n=jspb.Message.clone(e),r=t.toArray(),o=n.toArray(),i=r.length=0;i<o.length;i++)r[i]=o[i];t.wrappers_=n.wrappers_,t.extensionObject_=n.extensionObject_},jspb.Message.clone_=function(e){var t;if(goog.isArray(e)){for(var n=Array(e.length),r=0;r<e.length;r++)null!=(t=e[r])&&(n[r]="object"==(void 0===t?"undefined":_typeof(t))?jspb.Message.clone_(t):t);return n}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(r in n={},e)null!=(t=e[r])&&(n[r]="object"==(void 0===t?"undefined":_typeof(t))?jspb.Message.clone_(t):t);return n},jspb.Message.registerMessageType=function(e,t){jspb.Message.registry_[e]=t,t.messageId=e},jspb.Message.registry_={},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){for(var n=e>>>16,r=65535&t,o=t>>>16,i=(s=65535&e)*r+65536*(s*o&65535)+65536*(n*r&65535),s=n*o+(s*o>>>16)+(n*r>>>16);4294967296<=i;)i-=4294967296,s+=1;return new jspb.arith.UInt64(i>>>0,s>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),n=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var r=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),r=r.leftShift();for(;!r.zero();)0>=e.cmp(n)&&(t=t.add(r),n=n.sub(e)),e=e.rightShift(),r=r.rightShift();return[t,n]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){var n=(t=t.div(10))[0];e=t[1].lo+e,t=n}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),n=new jspb.arith.UInt64(0,0),r=0;r<e.length;r++){if("0">e[r]||"9"<e[r])return null;var o=parseInt(e[r],10);n.lo=o,t=t.mul(10).add(n)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,n=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return n.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return n.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return n.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return n.FIXED32;default:return n.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,n=(e=Math.abs(e))>>>0;e=Math.floor((e-n)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(n=1+(~n>>>0))&&(n=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=n,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var n=jspb.utils.split64High;t&&(0==e?0==n?n=e=4294967295:(n--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=n},jspb.utils.splitFloat32=function(e){var t,n=0>e?1:0;0===(e=n?-e:e)?0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648):isNaN(e)?(jspb.utils.split64High=0,jspb.utils.split64Low=2147483647):e>jspb.BinaryConstants.FLOAT32_MAX?(jspb.utils.split64High=0,jspb.utils.split64Low=(n<<31|2139095040)>>>0):e<jspb.BinaryConstants.FLOAT32_MIN?(e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(n<<31|e)>>>0):(t=Math.floor(Math.log(e)/Math.LN2),e*=Math.pow(2,-t),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(n<<31|t+127<<23|e)>>>0)},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var n=e/Math.pow(2,-1074);e=n/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=n>>>0}else{var r=Math.floor(Math.log(e)/Math.LN2);1024==r&&(r=1023),e=(n=e*Math.pow(2,-r))*jspb.BinaryConstants.TWO_TO_20&1048575,n=n*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|r+1023<<20|e)>>>0,jspb.utils.split64Low=n}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),i=e.charCodeAt(4),s=e.charCodeAt(5),a=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(n<<8)+(r<<16)+(o<<24)>>>0,jspb.utils.split64High=i+(s<<8)+(a<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+e},jspb.utils.joinInt64=function(e,t){var n=2147483648&t;n&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0));var r=jspb.utils.joinUint64(e,t);return n?-r:r},jspb.utils.joinZigzag64=function(e,t){var n=1&e;e=(e>>>1|t<<31)>>>0,t>>>=1,n&&(0==(e=e+1>>>0)&&(t=t+1>>>0));var r=jspb.utils.joinUint64(e,t);return n?-r:r},jspb.utils.joinFloat32=function(e,t){var n=2*(e>>31)+1,r=e>>>23&255,o=8388607&e;return 255==r?o?NaN:1/0*n:0==r?n*Math.pow(2,-149)*o:n*Math.pow(2,r-150)*(o+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var n=2*(t>>31)+1,r=t>>>20&2047,o=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e;return 2047==r?o?NaN:1/0*n:0==r?n*Math.pow(2,-1074)*o:n*Math.pow(2,r-1075)*(o+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.joinUnsignedDecimalString=function(e,t){function n(e){for(var t=1e7,n=0;7>n;n++){var r=e/(t=t/10)%10>>>0;(0!=r||a)&&(a=!0,u+=s[r])}}if(2097151>=t)return""+(jspb.BinaryConstants.TWO_TO_32*t+e);var r=(16777215&e)+6777216*(o=(e>>>24|t<<8)>>>0&16777215)+6710656*(i=t>>16&65535),o=o+8147497*i,i=2*i;1e7<=r&&(o+=Math.floor(r/1e7),r%=1e7),1e7<=o&&(i+=Math.floor(o/1e7),o%=1e7);var s=jspb.utils.DIGITS,a=!1,u="";return(i||a)&&n(i),(o||a)&&n(o),(r||a)&&n(r),u},jspb.utils.joinSignedDecimalString=function(e,t){var n=2147483648&t;n&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0);var r=jspb.utils.joinUnsignedDecimalString(e,t);return n?"-"+r:r},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e);var n=jspb.utils.split64Low,r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(n,r):jspb.utils.joinUnsignedDecimalString(n,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=jspb.utils.hash64ToDecimalString(e[r],t);return n},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var n=0;8>n&&(1!==e||0<t);n++){var o=e*r[n]+t;r[n]=255&o,t=o>>>8}}goog.asserts.assert(0<e.length);var n=!1;"-"===e[0]&&(n=!0,e=e.slice(1));for(var r=[0,0,0,0,0,0,0,0],o=0;o<e.length;o++)t(10,jspb.utils.DIGITS.indexOf(e[o]));return n&&(function(){for(var e=0;8>e;e++)r[e]=255&~r[e]}(),t(1,1)),goog.crypt.byteArrayToString(r)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var n=0;8>n;n++){var r=e.charCodeAt(7-n);t[2*n+2]=jspb.utils.DIGITS[r>>4],t[2*n+3]=jspb.utils.DIGITS[15&r]}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert("0"==e[0]),goog.asserts.assert("x"==e[1]);for(var t="",n=0;8>n;n++){var r=jspb.utils.DIGITS.indexOf(e[2*n+2]),o=jspb.utils.DIGITS.indexOf(e[2*n+3]);t=String.fromCharCode(16*r+o)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e);var n=jspb.utils.split64Low,r=jspb.utils.split64High;return t?jspb.utils.joinInt64(n,r):jspb.utils.joinUint64(n,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,n){for(var r=0,o=t;o<n;o++)r+=e[o]>>7;return n-t-r},jspb.utils.countVarintFields=function(e,t,n,r){var o=0;if(128>(r=8*r+jspb.BinaryConstants.WireType.VARINT))for(;t<n&&e[t++]==r;)for(o++;;){var i=e[t++];if(0==(128&i))break}else for(;t<n;){for(i=r;128<i;){if(e[t]!=(127&i|128))return o;t++,i>>=7}if(e[t++]!=i)break;for(o++;0!=(128&(i=e[t++])););}return o},jspb.utils.countFixedFields_=function(e,t,n,r,o){var i=0;if(128>r)for(;t<n&&e[t++]==r;)i++,t+=o;else for(;t<n;){for(var s=r;128<s;){if(e[t++]!=(127&s|128))return i;s>>=7}if(e[t++]!=s)break;i++,t+=o}return i},jspb.utils.countFixed32Fields=function(e,t,n,r){return jspb.utils.countFixedFields_(e,t,n,8*r+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,n,r){return jspb.utils.countFixedFields_(e,t,n,8*r+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,n,r){var o=0;for(r=8*r+jspb.BinaryConstants.WireType.DELIMITED;t<n;){for(var i=r;128<i;){if(e[t++]!=(127&i|128))return o;i>>=7}if(e[t++]!=i)break;o++;for(var s=0,a=1;s+=(127&(i=e[t++]))*a,a*=128,0!=(128&i););t+=s}return o},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var n=0;n<e.length;n++)t+="\\x",16>e[n]&&(t+="0"),t+=e[n].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return goog.isString(e)?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++){var r=e.charCodeAt(n);if(255<r)throw Error("Conversion error: string contains codepoint outside of byte range");t[n]=r}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarint64(parseInt(e,10))},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert(goog.isBoolean(e)||goog.isNumber(e)),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var t=this.buffer_.length,n=0;n<e.length;n++){var r=e.charCodeAt(n);if(128>r)this.buffer_.push(r);else if(2048>r)this.buffer_.push(r>>6|192),this.buffer_.push(63&r|128);else if(65536>r)if(55296<=r&&56319>=r&&n+1<e.length){var o=e.charCodeAt(n+1);56320<=o&&57343>=o&&(r=1024*(r-55296)+o-56320+65536,this.buffer_.push(r>>18|240),this.buffer_.push(r>>12&63|128),this.buffer_.push(r>>6&63|128),this.buffer_.push(63&r|128),n++)}else this.buffer_.push(r>>12|224),this.buffer_.push(r>>6&63|128),this.buffer_.push(63&r|128)}return this.buffer_.length-t},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();t=this.totalLength_+this.encoder_.length()-t;for(goog.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,n){this.appendUint8Array_(e.subarray(t,n))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,n){null!=e&&null!=t&&null!=n&&this.writeSerializedMessage(e,t,n)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,n=t.length,r=0,o=0;o<n;o++){var i=t[o];e.set(i,r),r+=i.length}return t=this.encoder_.end(),e.set(t,r),r+=t.length,goog.asserts.assert(r==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(){return goog.crypt.base64.encodeByteArray(this.getResultBuffer())},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,n){var r=jspb.BinaryConstants.FieldType;switch(e){case r.DOUBLE:this.writeDouble(t,n);break;case r.FLOAT:this.writeFloat(t,n);break;case r.INT64:this.writeInt64(t,n);break;case r.UINT64:this.writeUint64(t,n);break;case r.INT32:this.writeInt32(t,n);break;case r.FIXED64:this.writeFixed64(t,n);break;case r.FIXED32:this.writeFixed32(t,n);break;case r.BOOL:this.writeBool(t,n);break;case r.STRING:this.writeString(t,n);break;case r.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case r.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case r.BYTES:this.writeBytes(t,n);break;case r.UINT32:this.writeUint32(t,n);break;case r.ENUM:this.writeEnum(t,n);break;case r.SFIXED32:this.writeSfixed32(t,n);break;case r.SFIXED64:this.writeSfixed64(t,n);break;case r.SINT32:this.writeSint32(t,n);break;case r.SINT64:this.writeSint64(t,n);break;case r.FHASH64:this.writeFixedHash64(t,n);break;case r.VHASH64:this.writeVarintHash64(t,n);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){if(null!=t){var n=parseInt(t,10);goog.asserts.assert(n>=-jspb.BinaryConstants.TWO_TO_31&&n<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,n)}},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){if(null!=t){var n=jspb.arith.Int64.fromString(t);this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(n.lo,n.hi)}},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){if(null!=t){var n=parseInt(t,10);goog.asserts.assert(0<=n&&n<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,n)}},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){if(null!=t){var n=jspb.arith.UInt64.fromString(t);this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(n.lo,n.hi)}},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&(goog.asserts.assert(+t>=-jspb.BinaryConstants.TWO_TO_63&&+t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64String_(e,t))},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){if(null!=t){var n=jspb.arith.UInt64.fromString(t);this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(n.lo,n.hi)}},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){if(null!=t){var n=jspb.arith.Int64.fromString(t);this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(n.lo,n.hi)}},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert(goog.isBoolean(t)||goog.isNumber(t)),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){if(null!=t){var n=this.beginDelimited_(e);this.encoder_.writeString(t),this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writeBytes=function(e,t){if(null!=t){var n=jspb.utils.byteSourceToUint8Array(t);this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(n.length),this.appendUint8Array_(n)}},jspb.BinaryWriter.prototype.writeMessage=function(e,t,n){null!=t&&(e=this.beginDelimited_(e),n(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,n){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),n(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSignedVarint32_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeInt32String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSignedVarint64_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeInt64String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUnsignedVarint32_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUint32String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUnsignedVarint64_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUint64String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeZigzagVarint32_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeZigzagVarint64_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeZigzagVarint64String_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixed32(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixed64(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixed64String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSfixed32(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSfixed64(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSfixed64String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFloat(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeDouble(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeBool(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeEnum(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeString(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeBytes(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,n){if(null!=t)for(var r=0;r<t.length;r++){var o=this.beginDelimited_(e);n(t[r],this),this.endDelimited_(o)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,n){if(null!=t)for(var r=0;r<t.length;r++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),n(t[r],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixedHash64(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeVarintHash64(e,t[n])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++){var o=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(o.lo,o.hi)}this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++){var o=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(o.lo,o.hi)}this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(parseInt(t[r],10));this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length);for(var n=0;n<t.length;n++)this.encoder_.writeUint32(t[n])}},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var n=0;n<t.length;n++)this.encoder_.writeUint64(t[n])}},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var n=0;n<t.length;n++){var r=jspb.arith.UInt64.fromString(t[n]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length);for(var n=0;n<t.length;n++)this.encoder_.writeInt32(t[n])}},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var n=0;n<t.length;n++)this.encoder_.writeInt64(t[n])}},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var n=0;n<t.length;n++)this.encoder_.writeInt64String(t[n])}},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length);for(var n=0;n<t.length;n++)this.encoder_.writeFloat(t[n])}},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var n=0;n<t.length;n++)this.encoder_.writeDouble(t[n])}},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length);for(var n=0;n<t.length;n++)this.encoder_.writeBool(t[n])}},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length);for(var n=0;n<t.length;n++)this.encoder_.writeFixedHash64(t[n])}},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){for(var n=this.beginDelimited_(e),r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(n)}},jspb.BinaryIterator=function(e,t,n){this.elements_=this.nextMethod_=this.decoder_=null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!0,this.init_(e,t,n)},jspb.BinaryIterator.prototype.init_=function(e,t,n){e&&t&&(this.decoder_=e,this.nextMethod_=t),this.elements_=n||null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!this.decoder_&&!this.elements_,this.next()},jspb.BinaryIterator.instanceCache_=[],jspb.BinaryIterator.alloc=function(e,t,n){if(jspb.BinaryIterator.instanceCache_.length){var r=jspb.BinaryIterator.instanceCache_.pop();return r.init_(e,t,n),r}return new jspb.BinaryIterator(e,t,n)},jspb.BinaryIterator.prototype.free=function(){this.clear(),100>jspb.BinaryIterator.instanceCache_.length&&jspb.BinaryIterator.instanceCache_.push(this)},jspb.BinaryIterator.prototype.clear=function(){this.decoder_&&this.decoder_.free(),this.elements_=this.nextMethod_=this.decoder_=null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!0},jspb.BinaryIterator.prototype.get=function(){return this.nextValue_},jspb.BinaryIterator.prototype.atEnd=function(){return this.atEnd_},jspb.BinaryIterator.prototype.next=function(){var e=this.nextValue_;return this.decoder_?this.decoder_.atEnd()?(this.nextValue_=null,this.atEnd_=!0):this.nextValue_=this.nextMethod_.call(this.decoder_):this.elements_&&(this.cursor_==this.elements_.length?(this.nextValue_=null,this.atEnd_=!0):this.nextValue_=this.elements_[this.cursor_++]),e},jspb.BinaryDecoder=function(e,t,n){this.bytes_=null,this.tempHigh_=this.tempLow_=this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,n)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,n){if(jspb.BinaryDecoder.instanceCache_.length){var r=jspb.BinaryDecoder.instanceCache_.pop();return e&&r.setBlock(e,t,n),r}return new jspb.BinaryDecoder(e,t,n)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,n){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=goog.isDef(t)?t:0,this.end_=goog.isDef(n)?this.start_+n:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64_=function(){for(var e,t,n=0,r=0;4>r;r++)if(n|=(127&(e=this.bytes_[this.cursor_++]))<<7*r,128>e)return this.tempLow_=n>>>0,void(this.tempHigh_=0);if(n|=(127&(e=this.bytes_[this.cursor_++]))<<28,t=0|(127&e)>>4,128>e)this.tempLow_=n>>>0,this.tempHigh_=t>>>0;else{for(r=0;5>r;r++)if(t|=(127&(e=this.bytes_[this.cursor_++]))<<7*r+3,128>e)return this.tempLow_=n>>>0,void(this.tempHigh_=t>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0}},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e,t=this.bytes_,n=127&(e=t[this.cursor_+0]);return 128>e?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),n):(n|=(127&(e=t[this.cursor_+1]))<<7,128>e?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),n):(n|=(127&(e=t[this.cursor_+2]))<<14,128>e?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),n):(n|=(127&(e=t[this.cursor_+3]))<<21,128>e?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),n):(n|=(15&(e=t[this.cursor_+4]))<<28,128>e?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),n>>>0):(this.cursor_+=5,128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),n)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinUint64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64_(),jspb.utils.joinUnsignedDecimalString(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinInt64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64_(),jspb.utils.joinSignedDecimalString(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinZigzag64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readZigzagVarint64().toString()},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],n=this.bytes_[this.cursor_+2],r=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|n<<16|r<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],n=this.bytes_[this.cursor_+2],r=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|n<<16|r<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,n=this.cursor_;e=n+e;for(var r=[],o="";n<e;){if(128>(a=t[n++]))r.push(a);else{if(192>a)continue;if(224>a){var i=t[n++];r.push((31&a)<<6|63&i)}else if(240>a){i=t[n++];var s=t[n++];r.push((15&a)<<12|(63&i)<<6|63&s)}else if(248>a){var a=(a=(7&a)<<18|(63&(i=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;r.push(55296+(a>>10&1023),56320+(1023&a))}}8192<=r.length&&(o+=String.fromCharCode.apply(null,r),r.length=0)}return o+=goog.crypt.byteArrayToString(r),this.cursor_=n,o},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64_(),jspb.utils.joinHash64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,n=e[t+0],r=e[t+1],o=e[t+2],i=e[t+3],s=e[t+4],a=e[t+5],u=e[t+6];e=e[t+7];return this.cursor_+=8,String.fromCharCode(n,r,o,i,s,a,u,e)},jspb.BinaryReader=function(e,t,n){this.decoder_=jspb.BinaryDecoder.alloc(e,t,n),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,n){if(jspb.BinaryReader.instanceCache_.length){var r=jspb.BinaryReader.instanceCache_.pop();return e&&r.decoder_.setBlock(e,t,n),r}return new jspb.BinaryReader(e,t,n)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,n){this.decoder_.setBlock(e,t,n),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e,t=(e=this.decoder_.readUnsignedVarint32())>>>3;return(e=7&e)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type"),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){var e=[this.nextField_];do{if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP)e.push(this.nextField_);else if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP&&this.nextField_!=e.pop()){goog.asserts.fail("Unmatched end-group tag"),this.error_=!0;break}}while(0<e.length)},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){goog.isNull(this.readCallbacks_)&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(!goog.isNull(this.readCallbacks_)),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var n=this.decoder_.getEnd(),r=this.decoder_.readUnsignedVarint32();r=this.decoder_.getCursor()+r;this.decoder_.setEnd(r),t(e,this),this.decoder_.setCursor(r),this.decoder_.setEnd(n)},jspb.BinaryReader.prototype.readGroup=function(e,t,n){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),n(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),n=t+e;e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e);return this.decoder_.setCursor(n),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);for(var t=this.decoder_.readUnsignedVarint32(),n=(t=this.decoder_.getCursor()+t,[]);this.decoder_.getCursor()<t;)n.push(e.call(this.decoder_));return n},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[2])}).call(this,__webpack_require__(83))},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),s=n(25),a=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,n}return o(t,e),t.prototype.getService=function(e){return i.default.get({url:s.httpUrl.service,body:e?{uid:this.options.sessionId,stype:e}:{uid:this.options.sessionId}})},t.prototype.getOnlineDevices=function(){return i.default.post({url:s.httpUrl.getDevices,body:{sessionId:this.options.sessionId}})},t}(n(20).EventEmitter);t.default=a},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(200),s=n(20),a=n(5),u=function(e){function t(t){var n=e.call(this)||this;return n.frameworkModel=new i.default(t),n}return o(t,e),t.prototype.getTree=function(e){return this.frameworkModel.getTree(e).pipe(a.map((function(e){return e.data})))},t}(s.EventEmitter);t.default=u},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(36),a=n(25),u=n(53),c=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,u.default.setModule(n,n.options.user.userCode),n._name="FrameworkModel",n}return o(t,e),t.prototype.getTree=function(e){return s.default.post({url:a.httpUrl.framework.tree,body:i({sessionId:this.options.sessionId},e||{})})},t.prototype.searchTree=function(){return s.default.get({url:a.httpUrl.framework.searchTree+this.options.sessionId})},t}(n(20).EventEmitter);t.default=c},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(202),a=n(5),u=n(20),c=n(1),l=n(28),d=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,n.historyModel=new s.default(t),n}return o(t,e),t.prototype.getUnreadMsg=function(e){var t=this;return void 0===e&&(e={}),this.historyModel.getUnreadMsg(e).pipe(a.map((function(e){return e&&e.countList||[]})),a.concatMap((function(e){var n=e.sort((function(e,t){return t.endTime-e.endTime}));return t.addUnReadMsg(n)})),a.catchError((function(e){return console.log(e),t.getContactList()})))},t.prototype.getContactList=function(){var e=this;return l.createObserver((function(t){t.next(e.historyModel.getContactList())}))},t.prototype.addContactList=function(e){var t=this;return l.createObserver((function(n){n.next(t.historyModel.addContactList(e))}))},t.prototype.removeContact=function(e){var t=this;return l.createObserver((function(n){n.next(t.historyModel.removeContact(e))}))},t.prototype.addUnReadMsg=function(e){var t=this;return l.createObserver((function(n){n.next(t.historyModel.addUnReadMsg(e))}))},t.prototype.clearUnReadMsg=function(e){var t=this;return l.createObserver((function(n){n.next(t.historyModel.clearUnReadMsg(e))}))},t.prototype.clearAllUnReadMsg=function(){var e=this;return l.createObserver((function(t){t.next(e.historyModel.clearAllUnReadMsg())}))},t.prototype.getHistory=function(e){var t=this;return void 0===e&&(e={}),this.historyModel.getHistory(e).pipe(a.map((function(n){if(!n||!n.msgs)return{total:0,list:[]};var r=n.msgs.map((function(n){var r=n.from.split("@")[0],o={signalType:c.SignalType[t.historyModel.convertType(n.type,!1)],time:n.sendtime,chatCode:e.groupCodeStr||e.userCode,userCode:r,messageId:n.msgid,uid:n.msgid,status:n.status,target:r===t.options.user.userCode?c.MessageTarget.SELF:c.MessageTarget.OTHER};return e.groupCodeStr&&(o=i(i({},o),{groupCodeStr:e.groupCodeStr})),o.signalType===c.SignalType.TEXT?o=i(i({},o),{content:n.body.msg}):o.signalType===c.SignalType.GROUP_ANNOUNCEMENT?(o.signalType=c.SignalType.TEXT,o=i(i({},o),{content:n.body.description})):o.signalType===c.SignalType.IM_COMBIND?o.combindBody=n.body.msg?JSON.parse(n.body.msg):{}:o.signalType===c.SignalType.IM_REPLY?(o.bodyMessage=n.body.msg?JSON.parse(n.body.msg):{},o.content=o.bodyMessage.text):o.signalType===c.SignalType.IMAGE||o.signalType===c.SignalType.FILE||o.signalType===c.SignalType.VIDEO_FILE?o=i(i({},o),{url:n.body.url,remark:{fileName:n.body.fileName,fileSize:n.body.fileSize}}):o.signalType===c.SignalType.LOCATION?o=i(i({},o),{location:{address:n.body.address,name:n.body.name,latitude:n.body.latitude,longitude:n.body.longitude,snapshotUrl:n.body.snapshotUrl,zoom:n.body.zoom}}):o.signalType!==c.SignalType.PTT&&o.signalType!==c.SignalType.VOICE_FILE||(o=i(i({},o),{url:n.body.url,remark:{duration:+n.body.duration}})),o}));return{total:n.size||0,list:r}})))},t}(u.EventEmitter);t.default=d},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),s=n(25),a=n(20),u=n(5),c=n(1),l=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,n._name="HistoryModel",n}return o(t,e),t.prototype.getUnreadMsg=function(e){var t=this;console.log("获取未读消息数量",e),console.log("this.options.sessionId",this.options.sessionId);var n=(e.types||s.interestMsg.unReadMsg).join(",");return i.default.post({url:s.httpUrl.history.count,body:{sessionId:this.options.sessionId,stList:n,snapshot:e.messageId||this.getLastRecvMsgId()}}).pipe(u.map((function(e){return t.removeLastRecvMsgId(),s.interestMsg.isOnlineUnreadCounted||t.clearAllUnReadMsg(),e})))},t.prototype.getLastRecvMsgId=function(){return window.KChatStorage.getItem(s.interestMsg.localStorage.id)||void 0},t.prototype.removeLastRecvMsgId=function(){return window.KChatStorage.removeItem(s.interestMsg.localStorage.id),s.interestMsg.localStorage.id},t.prototype.getContactList=function(){var e=window.KChatStorage.getItem(s.interestMsg.localStorage.contact)||[];return e=e.filter((function(e){return e.chatCode})),window.KChatStorage.setItem(s.interestMsg.localStorage.contact,e),e},t.prototype.addContactList=function(e){var t=this;Array.isArray(e)||(e=[e]);var n=this.getContactList();return e.map((function(e){return e})).reverse().forEach((function(e){if(e.chatCode!==t.options.user.userCode&&void 0!==e.chatCode&&void 0!==e.chatType){var r=0;n.some((function(t,o){if(e.chatCode===t.chatCode)return r=t.count||0,n.splice(o,1),!0})),n.unshift({chatCode:e.chatCode,chatType:e.chatType,count:e.count||r})}})),window.KChatStorage.setItem(s.interestMsg.localStorage.contact,n),this.getContactList()},t.prototype.removeContact=function(e){var t=this.getContactList();return t.some((function(n,r){if(e===n.chatCode)return t.splice(r,1),!0})),window.KChatStorage.setItem(s.interestMsg.localStorage.contact,t),this.getContactList()},t.prototype.addUnReadMsg=function(e){var t=this;Array.isArray(e)||(e=[e]);var n=this.getContactList();return e.map((function(e){return e})).reverse().forEach((function(e){n.some((function(t,r){if(t.chatCode===e.chatCode)return t.count+=e.count||1,n.unshift(n.splice(r,1)[0]),!0}))||e.chatCode===t.options.user.userCode||n.unshift({chatCode:e.chatCode,chatType:e.chatType,count:e.count||1})})),window.KChatStorage.setItem(s.interestMsg.localStorage.contact,n),this.getContactList()},t.prototype.clearUnReadMsg=function(e){var t=this.getContactList();return t.some((function(t){if(t.chatCode===e)return t.count=0,!0})),window.KChatStorage.setItem(s.interestMsg.localStorage.contact,t),this.getContactList()},t.prototype.clearAllUnReadMsg=function(){var e=this.getContactList();return e.forEach((function(e){e.count=0})),window.KChatStorage.setItem(s.interestMsg.localStorage.contact,e),this.getContactList()},t.prototype.getHistory=function(e){var t=this,n=(e.types||s.interestMsg.history).map((function(e){var n=t.convertType(e);if(void 0===n)throw new Error("请输入正确的消息类型");return n})).join(",");return e.groupCodeStr?i.default.post({url:s.httpUrl.history[e.searchKey?"searchGroup":"group"],body:{access_token:this.options.sessionId,tid:e.groupCodeStr,begintime:e.begintime||void 0,endtime:e.endtime||void 0,limit:e.limit>100?100:e.limit||15,reverse:e.reverse||c.HistoryReverse.BACK,type:n,key:e.searchKey||void 0}}):e.userCode?i.default.post({url:s.httpUrl.history[e.searchKey?"searchUser":"user"],body:{access_token:this.options.sessionId,from:this.options.user.userCode,to:e.userCode,begintime:e.begintime||void 0,endtime:e.endtime||void 0,limit:e.limit>100?100:e.limit||15,reverse:e.reverse||c.HistoryReverse.BACK,type:n,key:e.searchKey||void 0}}):void 0},t.prototype.convertType=function(e,t){return void 0===t&&(t=!0),t?e:c.SignalType[e]},t}(a.EventEmitter);t.default=l},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(204),s=n(8),a=n(5),u=n(23),c=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,n.starModel=new i.default(t),n}return o(t,e),t.prototype.addStar=function(e){return this.starModel.addStar(e)},t.prototype.removeStar=function(e){return this.starModel.removeStar(e)},t.prototype.queryStar=function(e){var t=e.pageCount||15;return this.starModel.queryStar(e).pipe(a.map((function(e){if(!e.data||!Array.isArray(e.data))throw u.default(2003,"data属性不为数组","Star queryStar");return{data:e.data.map((function(e){try{e.favoriteContent=JSON.parse(e.favoriteContent)}catch(e){}return e})),totalPage:Math.ceil(e.total/t),total:e.total}})),a.map((function(e){return e.data.forEach((function(e){e.favoriteContent&&s.handleUrl(e.favoriteContent)})),e})))},t}(n(20).EventEmitter);t.default=c},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(36),a=n(25),u=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,n._name="StarModel",n}return o(t,e),t.prototype.addStar=function(e){return s.default.post({url:a.httpUrl.star.add,body:{uid:this.options.sessionId,sessionId:this.options.sessionId,insertBean:{favoriteUserCode:this.options.user.userCode,favoritedUserCode:e.author.userCode,favoritedUserName:e.author.userName||"",favoriteType:e.type,favoritedChatCode:e.groupCodeStr||"",favoritedChatName:e.groupName||"",favoriteContent:JSON.stringify(e.content),favoritedCode:(new Date).getTime()+""}}})},t.prototype.removeStar=function(e){return s.default.post({url:a.httpUrl.star.remove,body:{uid:this.options.sessionId,sessionId:this.options.sessionId,modfiyBean:e.starId}})},t.prototype.queryStar=function(e){var t=e.pageCount||15,n=e.pageNo||1;return s.default.post({url:a.httpUrl.star.query,body:{uid:this.options.sessionId,queryBean:i({favoriteUserCode:this.options.user.userCode},null!==e.type?{favoriteType:e.type}:{}),searchWord:e.searchWord||"",start:(n-1)*t,limit:t,pageNo:n}})},t}(n(20).EventEmitter);t.default=u},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(206),a=n(8),u=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.mapModel=new s.default(t),n.options=t,n.mapModel.on("receiveMessage",(function(e){a.handleUrl(e),console.log("收到位置消息：",e),n.emit("receiveMessage",e)})),n}return o(t,e),t.prototype.getCityJSON=function(){return this.mapModel.getCityJSON()},t.prototype.sendLocation=function(e){return this.mapModel.sendLocation({type:e.type,chatCode:a.splitColon(e.chatCode),location:i({address:null,csysLat:null,csysLon:null,csysType:null,latitude:null,longitude:null,name:null,snapshotUrl:null,zoom:null},e.location)})},t}(n(20).EventEmitter);t.default=u},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(53),s=n(25),a=n(36),u=n(20),c=n(1),l=n(28),d=n(23),f=n(90),p=n(8),A=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,i.default.setModule(n,n.options.user.userCode),n.socketSend=i.default[n.options.user.userCode].socketSend,n._name="MapModel",n.errorCodes=[c.UploadErrorCodes.ACCOUNT_IS_ANCHOR,c.UploadErrorCodes.CLIENT_NOT_SUPPORT,c.UploadErrorCodes.REPEAT_INVITE,c.UploadErrorCodes.DST_OFFLINE,c.UploadErrorCodes.ROOM_ERROR,c.UploadErrorCodes.TALK_COMPLETED,c.UploadErrorCodes.NOT_IN_ROOM,c.UploadErrorCodes.SN_NOT_CONSISTENCE,c.UploadErrorCodes.FAILURE],n}return o(t,e),t.prototype.socketRequest=function(e){if(e){var t=void 0;try{t={srcCode:e.src.split("@")[0],chatCode:e.dst.split("@")[0],time:(new Date).getTime(),messageId:e.id,uid:e.uid,messageType:c.MessageType[c.MessageType[e.st]],type:c.ChatType[c.ChatType[e.type]],location:JSON.parse(e.description),signalType:c.SignalType.LOCATION,target:c.MessageTarget.OTHER}}catch(t){throw console.log(e),d.default(4001,"socketRequest信令字段格式错误","MapModel socketRequest")}t.srcCode===this.options.user.userCode&&(t.target=c.MessageTarget.SELF),p.handleRecvMessage(t),t.messageId&&this.setLastRecvMsgId(t.messageId),this.emit("receiveMessage",t)}},t.prototype.setLastRecvMsgId=function(e){e&&window.KChatStorage.setItem(s.interestMsg.localStorage.id,e)},t.prototype.sendLocation=function(e){var t=this;return l.createObserver((function(n){console.log("发送位置消息：",e),t.socketSend({header:{st:c.MessageType.LOCATION,dst:e.chatCode+"@"+(e.type===c.ChatType.GROUP?s.domain.domainDefaultCode:s.domain.domainCode),type:e.type,optType:c.OptType.REQUEST,sn:l.setSnCache({onFailure:function(e){t.errorCodes.includes(e.resultCode)&&f.default({businessType:c.SignalType.LOCATION,code:e.resultCode,optExceptionType:c.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.uid||e.messageId}),n.error(e)},onSuccess:function(e){return n.next(e)}})},body:{description:JSON.stringify(e.location)}})}))},t.prototype.socketResponse=function(e){l.handleSocketResponse(e)},t.prototype.getCityJSON=function(){return a.default.getJSON(window.KChatConfig.kmap.cityJSON+"?v="+Date.now())},t}(u.EventEmitter);t.default=A},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(208),s=n(8),a=n(20),u=n(5),c=n(23),l=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,n.userModel=new i.default(t),n.userModel.on("userStatus",(function(e){n.emit("userStatus",e)})),n}return o(t,e),t.prototype.getUserInfo=function(e){var t=this;return this.userModel.getUserInfo({userCode:s.splitColon(e.userCode)}).pipe(u.map((function(e){return t.emit("updateUserListInfo",[e]),e})))},t.prototype.getUserListInfo=function(e){var t=this;return this.userModel.getUserListInfo({userCodes:e.userCodes.map((function(e){return s.splitColon(e)}))}).pipe(u.map((function(e){return t.emit("updateUserListInfo",e),e})))},t.prototype.getGroupList=function(){return this.userModel.getGroupList().pipe(u.map((function(e){if(e)return e.temporaryGroupList=e.temporaryGroupList||[],e.temporaryGroupList.filter((function(e){return 0===e.state}));throw c.default(2003,"返回结果缺少temporaryGroupList属性","User getGroupList")})))},t.prototype.searchUsers=function(e){return this.userModel.searchUsers(e)},t.prototype.modifyUserInfo=function(e){return this.userModel.modifyUserInfo(e)},t.prototype.getUserStatus=function(e){return this.userModel.getUserStatus(e).pipe(u.map((function(e){if(!e||!Array.isArray(e.userStatus))return[];if(e.remark){var t=JSON.parse(e.remark);if(t.abnoralConnection)return t.abnoralConnection="公安网与"+t.abnoralConnection.replace(/;/,",")+"连接断开",t.abnoralConnection}return console.log("用户在线状态：",e),e.userStatus.map((function(e){return{userCode:e.usercode.split("@")[0],status:e.status,activegroupcode:e.activegroupcode,description:e.description}}))})))},t}(a.EventEmitter);t.default=l},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(36),a=n(53),u=n(25),c=n(8),l=n(28),d=n(1),f=n(23),p=n(5),A=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,a.default.setModule(n,n.options.user.userCode),n.socketSend=a.default[n.options.user.userCode].socketSend,n._name="UserModel",n}return o(t,e),t.prototype.getUserInfo=function(e){return s.default.post({url:u.httpUrl.user.getUserInfo,body:{sessionId:this.options.sessionId,userCode:e.userCode}}).pipe(p.map((function(e){return e.user})))},t.prototype.getUserListInfo=function(e){return s.default.post({url:u.httpUrl.user.getUserListInfo,body:{sessionId:this.options.sessionId,userCodes:e.userCodes}}).pipe(p.map((function(e){return e.data})))},t.prototype.getGroupList=function(){return s.default.post({url:u.httpUrl.user.getUserRelations,body:{sessionId:this.options.sessionId,updateTime:0}})},t.prototype.searchUsers=function(e){return s.default.post({url:u.httpUrl.user.searchUsers,body:i(i({},e),{sessionId:this.options.sessionId,orgCode:this.options.user.userCode})})},t.prototype.modifyUserInfo=function(e){return s.default.post({url:u.httpUrl.user.modifyUserInfo,body:{sessionId:this.options.sessionId,modfiyBean:i(i({},e),{userCode:this.options.user.userCode})}})},t.prototype.getUserStatus=function(e){var t=this;return l.createObserver((function(n){if(!Array.isArray(e.userCodes))throw f.default(1001,"userCodes字段缺失或不为数组","UserModel getUserStatus");t.socketSend({header:{st:d.MessageType.STATUS,sn:l.setSnCache({onSuccess:function(e){return n.next(e)},onFailure:function(e){return n.error(e)}}),dst:"",src:c.setDomain([t.options.user.userCode],u.domain.domainCode)[0],optType:d.OptType.REQUEST},body:{userCodes:e.userCodes.map((function(e){return c.setDomain([e],u.domain.domainCode)[0]}))}})}))},t.prototype.socketResponse=function(e){l.handleSocketResponse(e)},t}(n(20).EventEmitter);t.default=A},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(210),s=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.groupModel=new i.default(t),n.options=t,n.groupModel.on("entering_group",(function(e){console.log("entering_group:",e),n.emit("entering_group",e)})).on("quit_group",(function(e){console.log("quit_group:",e),n.emit("quit_group",e)})).on("dismiss",(function(e){console.log("dismiss:",e),n.emit("dismiss",e)})).on("remove",(function(e){console.log("remove:",e),n.emit("remove",e)})).on("modify_group_info",(function(e){console.log("modify_group_info:",e),n.emit("modify_group_info",e)})),n}return o(t,e),t.prototype.createGroup=function(e){return this.groupModel.createGroup(e)},t.prototype.getGroupInfo=function(e){return this.groupModel.getGroupInfo(e)},t.prototype.getGroupListInfo=function(e){return this.groupModel.getGroupListInfo(e)},t.prototype.deleteGroup=function(e){return this.groupModel.deleteGroup(e)},t.prototype.quitGroup=function(e){return this.groupModel.quitGroup(e)},t.prototype.modifyGroupMembers=function(e){return this.groupModel.modifyGroupMembers(e)},t.prototype.addGroupMembers=function(e){return this.groupModel.addGroupMembers(e)},t.prototype.delGroupMembers=function(e){return this.groupModel.delGroupMembers(e)},t.prototype.modifyGroupInfo=function(e){return this.groupModel.modifyGroupInfo(e)},t.prototype.markTarget=function(e){return this.groupModel.markTarget(e)},t.prototype.getMarkList=function(e){return this.groupModel.getMarkList(e)},t}(n(20).EventEmitter);t.default=s},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(36),a=n(53),u=n(25),c=n(8),l=n(20),d=n(28),f=n(1),p=n(5),A=n(23),g=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,a.default.setModule(n,n.options.user.userCode),n.socketSend=a.default[n.options.user.userCode].socketSend,n._name="GroupModel",n}return o(t,e),t.prototype.createGroup=function(e){var t=this;return e.userCodes.unshift(this.options.user.userCode),s.default.post({url:u.httpUrl.group.create,body:{sessionId:this.options.sessionId,groupRelationList:e.userCodes.map((function(e){return{userCode:e,userDomainCode:u.domain.domainCode,userAuthority:1,relatedParty:0}})),group:{groupType:e.groupType||f.GroupType.TEMP,groupName:e.groupName||""}}}).pipe(p.concatMap((function(e){return t.getGroupInfo({groupCodeStr:e.group.groupCodeStr}).pipe(p.map((function(e){return i(i({},e),{operator:t.options.user.userCode})})))})))},t.prototype.deleteGroup=function(e){return s.default.post({url:u.httpUrl.group.deleteGroup,body:{sessionId:this.options.sessionId,groupCode:e,array:[e]}}).pipe(p.map((function(e){return e})))},t.prototype.quitGroup=function(e){return s.default.post({url:u.httpUrl.group.quitGroup,body:{sessionId:this.options.sessionId,groupCode:e.groupCodeStr}}).pipe(p.map((function(e){return e})))},t.prototype.getGroupInfo=function(e){return s.default.post({url:u.httpUrl.group.get,body:{sessionId:this.options.sessionId,groupCode:e.groupCodeStr}}).pipe(p.map((function(e){var t=e.group,n=e.groupMembers,r=(n=e.groupMembers.map((function(e){return i(i({},e.user),{state:e.state})}))).findIndex((function(e){return e.userCode===t.userCode}));return n.unshift(n.splice(r,1)[0]),i(i({},t),{groupMembers:n})})))},t.prototype.getGroupListInfo=function(e){return s.default.post({url:u.httpUrl.group.getList,body:{sessionId:this.options.sessionId,groupCodes:e.groupCodeStrs}}).pipe(p.map((function(e){return e.data.map((function(e){var t=e.group,n=e.groupMembers,r=(n=n.map((function(e){return i(i({},e.user),{state:e.state})}))).findIndex((function(e){return e.userCode===t.userCode}));return n.unshift(n.splice(r,1)[0]),i(i({},t),{groupMembers:n})}))})))},t.prototype.modifyGroupMembers=function(e){var t=this;return-1===e.userCodes.indexOf(this.options.user.userCode)&&e.userCodes.push(this.options.user.userCode),s.default.post({url:u.httpUrl.group.modifyGroupMembers,body:{sessionId:this.options.sessionId,groupCode:e.groupCodeStr}}).pipe(p.map((function(n){return{groupCodeStr:e.groupCodeStr,operator:t.options.user.userCode,members:e.userCodes,membersName:[]}})))},t.prototype.addGroupMembers=function(e){var t=this;return s.default.post({url:u.httpUrl.group.addGroupMembers,body:{sessionId:this.options.sessionId,groupCode:e.groupCodeStr,userCodeList:e.userCodes}}).pipe(p.map((function(n){return{groupCodeStr:e.groupCodeStr,operator:t.options.user.userCode,members:e.userCodes,membersName:[],created:!1}})))},t.prototype.delGroupMembers=function(e){var t=this;return s.default.post({url:u.httpUrl.group.delGroupMembers,body:{sessionId:this.options.sessionId,groupCode:e.groupCodeStr,userCodeList:e.userCodes}}).pipe(p.map((function(n){return{groupCodeStr:e.groupCodeStr,operator:t.options.user.userCode,members:e.userCodes,membersName:[]}})))},t.prototype.modifyGroupInfo=function(e){return s.default.post({url:u.httpUrl.group.modifyGroupInfo,body:{sessionId:this.options.sessionId,modfiyBean:{groupCode:e.groupCodeStr,groupName:e.groupName||void 0,groupType:e.groupType||void 0,priority:e.priority||void 0}}})},t.prototype.markTarget=function(e){return s.default.post({url:u.httpUrl.group[e.modifyType===f.MarkModifyType.DEL?"removeMark":"addMark"],body:{sessionId:this.options.sessionId,markType:e.markType,chatType:e.chatType,chatCode:e.chatCode}})},t.prototype.getMarkList=function(e){return s.default.post({url:u.httpUrl.group.markList,body:{sessionId:this.options.sessionId,markType:e.markType,chatObjectList:e.chatCodeList}}).pipe(p.map((function(e){return e.data})))},t.prototype.socketPush=function(e){var t=this;if(e){var n,r=JSON.parse(e.description||"{}");if(!r||8!==r.msgType||12!==r.messageSubType)return;var o=f.SignalType.OTHER,s=[];try{0===r.state?r.membersUpdate&&Array.isArray(r.membersUpdate)&&(r.membersUpdate.some((function(e){return 0===e.state}))&&(o=f.SignalType.GROUP_JOIN,s=r.membersUpdate.filter((function(e){return 0===e.state})).map((function(e){return e.userCode.split("@")[0]}))),r.membersUpdate.some((function(e){return 1===e.state}))&&(s=r.membersUpdate.filter((function(e){return 1===e.state})).map((function(e){return e.userCode.split("@")[0]})),o=e.src.split("@")[0]===s[0]&&1===s.length?f.SignalType.GROUP_QUIT:f.SignalType.GROUP_KICK)):o=f.SignalType.GROUP_DISMISS,n={type:f.ChatType.GROUP,messageType:f.MessageType.TRANSPARENT,time:(new Date).getTime(),chatCode:r.groupCode.split("@")[0],srcCode:e.src.split("@")[0],userCodes:s,target:f.MessageTarget.OTHER,signalType:o}}catch(t){throw console.log(e),A.default(4001,"socketRequest信令字段格式错误","GroupModel socketRequest")}if(e.src.split("@")[0]===this.options.user.userCode)return void console.log("群变动信令拦截(来源者为登录用户)：",e);switch(c.handleRecvMessage(n),n.signalType){case f.SignalType.GROUP_JOIN:this.getGroupInfo({groupCodeStr:n.chatCode}).subscribe((function(e){t.emit("entering_group",{data:n,group:e})}));break;case f.SignalType.GROUP_QUIT:this.getGroupInfo({groupCodeStr:n.chatCode}).subscribe((function(e){t.emit("quit_group",{data:n,group:e})}));break;case f.SignalType.GROUP_DISMISS:this.getGroupInfo({groupCodeStr:n.chatCode}).subscribe((function(e){t.emit("dismiss",{data:n,group:e})}));break;case f.SignalType.GROUP_KICK:this.getGroupInfo({groupCodeStr:n.chatCode}).subscribe((function(e){t.emit("remove",{data:n,group:e})}));break;default:(r.groupName||r.groupImageUrl)&&this.getGroupInfo({groupCodeStr:n.chatCode}).subscribe((function(e){n.signalType=f.SignalType.GROUP_RENAME,n.modifyGroupInfo=i(i({},r.groupName?{groupName:r.groupName}:{}),r.groupImageUrl?{groupImageUrl:r.groupImageUrl}:{}),t.emit("modify_group_info",{data:n,group:e})}))}}},t.prototype.socketResponse=function(e){d.handleSocketResponse(e)},t}(l.EventEmitter);t.default=g},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(212),s=n(120),a=n(8),u=n(20),c=n(28),l=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,n.messageModel=new i.default(t),n.messageModel.on("receiveMessage",(function(e){a.handleUrl(e),console.log("收到文本/文件消息：",e),n.emit("receiveMessage",e)})).on("sendfileSuccess",(function(e){console.log("发送文件成功",e),n.emit("sendfileSuccess",e)})),n}return o(t,e),t.prototype.sendText=function(e){return this.messageModel.sendText({type:e.type,chatCode:a.splitColon(e.chatCode),content:e.content,userCodes:e.userCodes})},t.prototype.recallMessage=function(e){return this.messageModel.recallMessage({type:e.type,chatCode:a.splitColon(e.chatCode),id:e.id})},t.prototype.combindMessage=function(e){return this.messageModel.combindMessage({type:e.type,chatCode:a.splitColon(e.chatCode),combindBody:e.combindBody})},t.prototype.replyMessage=function(e){return this.messageModel.replyMessage({type:e.type,chatCode:a.splitColon(e.chatCode),bodyMessage:e.bodyMessage})},t.prototype.sendFile=function(e){var t=this,n=e,r=e;if(r.url)return this.messageModel.sendFile({url:r.url,fileName:r.fileName,fileSize:r.fileSize,fileType:r.fileType,chatCode:a.splitColon(r.chatCode),type:r.type});var o=n.queueId||s.genQueueId(a.splitColon(n.chatCode)),i=s.uploadToQueue({loginUserCode:this.options.user.userCode,fileType:n.fileType,file:n.file,queueId:o,uploadProgress:n.uploadProgress});return{cancel:i.cancel,upload:c.createObserver((function(e){i.upload.subscribe({next:function(r){r.cancel||(r.queueId=o,t.messageModel.sendFile({url:r.url,fileSize:n.file.size,fileType:n.fileType,chatCode:a.splitColon(n.chatCode),type:n.type,fileName:n.file.name||""}).subscribe({next:function(){return e.next(r)},error:function(t){return e.error(t)}}))},error:function(t){return e.error(t)}})}))}},t.prototype.singleFileUpload=function(e){return s.singleFileUpload(e)},t}(u.EventEmitter);t.default=l},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(53),a=n(25),u=n(28),c=n(1),l=n(20),d=n(8),f=n(23),p=n(90),A=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,s.default.setModule(n,n.options.user.userCode),n.socketSend=s.default[n.options.user.userCode].socketSend,n._name="MessageModel",n.errorCodes=[c.UploadErrorCodes.ACCOUNT_IS_ANCHOR,c.UploadErrorCodes.CLIENT_NOT_SUPPORT,c.UploadErrorCodes.REPEAT_INVITE,c.UploadErrorCodes.DST_OFFLINE,c.UploadErrorCodes.ROOM_ERROR,c.UploadErrorCodes.TALK_COMPLETED,c.UploadErrorCodes.NOT_IN_ROOM,c.UploadErrorCodes.SN_NOT_CONSISTENCE,c.UploadErrorCodes.FAILURE],n}return o(t,e),t.prototype.sendText=function(e){var t=this;return e.userCodes&&"0"===e.userCodes[0]?this.billBoard(e):u.createObserver((function(n){console.log("发送文本消息：",e),t.socketSend({header:{st:c.MessageType.TEXT,dst:e.chatCode+"@"+(e.type===c.ChatType.GROUP?a.domain.domainDefaultCode:a.domain.domainCode),type:e.type||c.ChatType.USER,optType:c.OptType.REQUEST,sn:u.setSnCache({onSuccess:function(e){return n.next(e)},onFailure:function(e){t.errorCodes.includes(e.resultCode)&&p.default({businessType:c.SignalType.TEXT,code:e.resultCode,optExceptionType:c.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.uid||e.messageId}),n.error(e)}})},body:{description:e.content||"",remark:JSON.stringify({}),userCodes:e.userCodes||[]}})}))},t.prototype.billBoard=function(e){var t=this;return u.createObserver((function(n){console.log("发送群公告：",e),t.socketSend({header:{ver:4,st:c.MessageType.BILLBOARD,src:d.setDomain([t.options.user.userCode],a.domain.domainCode)[0],dst:d.setDomain([e.chatCode],a.domain.domainDefaultCode)[0],type:c.ChatType.GROUP,optType:c.OptType.REQUEST,sn:u.setSnCache({onSuccess:function(e){return n.next(e)},onFailure:function(e){t.errorCodes.includes(e.resultCode)&&p.default({businessType:c.SignalType.GROUP_ANNOUNCEMENT,code:e.resultCode,optExceptionType:c.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.uid||e.messageId}),n.error(e)}})},body:{description:e.content||""}})}))},t.prototype.recallMessage=function(e){var t=this;return u.createObserver((function(n){console.log("撤回某消息：",e),t.socketSend({header:{ver:4,st:c.MessageType.RECALL,src:d.setDomain([t.options.user.userCode],a.domain.domainCode)[0],dst:d.setDomain([e.chatCode],e.type===c.ChatType.GROUP?a.domain.domainDefaultCode:a.domain.domainCode)[0],type:e.type||c.ChatType.USER,optType:c.OptType.REQUEST,sn:u.setSnCache({onSuccess:function(e){return n.next(e)},onFailure:function(e){t.errorCodes.includes(e.resultCode)&&p.default({businessType:c.SignalType.REVOKE,code:e.resultCode,optExceptionType:c.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.uid||e.messageId}),n.error(e)}})},body:{refId:e.id||""}})}))},t.prototype.combindMessage=function(e){var t=this;return u.createObserver((function(n){console.log("发送合并消息：",e),t.socketSend({header:{ver:5,st:c.MessageType.IM_COMBIND,src:d.setDomain([t.options.user.userCode],a.domain.domainCode)[0],dst:d.setDomain([e.chatCode],e.type===c.ChatType.GROUP?a.domain.domainDefaultCode:a.domain.domainCode)[0],type:e.type||c.ChatType.USER,optType:c.OptType.REQUEST,sn:u.setSnCache({onSuccess:function(e){return n.next(e)},onFailure:function(e){t.errorCodes.includes(e.resultCode)&&p.default({businessType:c.SignalType.IM_COMBIND,code:e.resultCode,optExceptionType:c.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.uid||e.messageId}),n.error(e)}})},body:{description:JSON.stringify(e.combindBody)}})}))},t.prototype.replyMessage=function(e){var t=this;return u.createObserver((function(n){console.log("快速回复消息：",e),t.socketSend({header:{ver:5,st:c.MessageType.IM_REPLY,src:d.setDomain([t.options.user.userCode],a.domain.domainCode)[0],dst:d.setDomain([e.chatCode],e.type===c.ChatType.GROUP?a.domain.domainDefaultCode:a.domain.domainCode)[0],type:e.type||c.ChatType.USER,optType:c.OptType.REQUEST,sn:u.setSnCache({onSuccess:function(e){return n.next(e)},onFailure:function(e){t.errorCodes.includes(e.resultCode)&&p.default({businessType:c.SignalType.IM_REPLY,code:e.resultCode,optExceptionType:c.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.uid||e.messageId}),n.error(e)}})},body:{description:JSON.stringify(e.bodyMessage)}})}))},t.prototype.sendFile=function(e){var t=this;return u.createObserver((function(n){console.log("发送文件消息：",e);var r={ext:d.getExtName(e.fileName||""),fileName:e.fileName||"",fileSize:e.fileSize||0,msgType:e.fileType===c.SignalType.IMAGE?c.SignalType.IMAGE:e.fileType===c.SignalType.VIDEO_FILE?c.SignalType.VIDEO_FILE:c.SignalType.FILE};e.fileType===c.SignalType.IMAGE&&(r=i(i({},r),{w:"",h:""})),t.socketSend({header:{st:c.MessageType.FILE,dst:e.chatCode+"@"+(e.type===c.ChatType.GROUP?a.domain.domainDefaultCode:a.domain.domainCode),type:e.type||c.ChatType.USER,optType:c.OptType.REQUEST,sn:u.setSnCache({onSuccess:function(e){t.emit("sendfileSuccess",e),n.next(e)},onFailure:function(r){var o=1;switch(e.fileType){case c.SignalType.TEXT:o=c.SignalType.TEXT;break;case c.SignalType.VIDEO_FILE:o=c.SignalType.VIDEO_FILE;break;case c.SignalType.IMAGE:o=c.SignalType.IMAGE;break;default:o=c.SignalType.FILE}t.errorCodes.includes(r.resultCode)&&p.default({businessType:o,code:r.resultCode,optExceptionType:c.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:r.message||r.retMsg,messageId:r.uid||r.messageId}),n.error(r)}})},body:{url:e.url||"",remark:JSON.stringify(r)}})}))},t.prototype.socketResponse=function(e){u.handleSocketResponse(e)},t.prototype.socketRequest=function(e){if(e){var t=void 0;try{var n=JSON.parse(e.remark||"{}");(t={srcCode:e.src.split("@")[0],chatCode:e.dst.split("@")[0],time:(new Date).getTime(),messageId:e.id,messageType:c.MessageType[c.MessageType[e.st]],type:c.ChatType[c.ChatType[e.type]],remark:n,uid:e.uid,target:c.MessageTarget.OTHER,userCodes:e.userCodes}).srcCode===this.options.user.userCode&&(t.target=c.MessageTarget.SELF),t.messageType===c.MessageType.TEXT?(t.content=e.description,t.signalType=c.SignalType.TEXT):t.messageType===c.MessageType.BILLBOARD?(t.content=e.description,t.signalType=c.SignalType.TEXT,t.userCodes=["0"]):t.messageType===c.MessageType.FILE?(t.url=e.url||"",d.handleFileType(t),n.msgType===c.SignalType.VOICE_FILE?t.signalType=c.SignalType.VOICE_FILE:n.msgType===c.SignalType.VIDEO_FILE&&(t.signalType=c.SignalType.VIDEO_FILE)):t.messageType===c.MessageType.RECALL?t.refId=e.refId:t.messageType===c.MessageType.IM_REPLY?(t.signalType=c.SignalType.IM_REPLY,t.bodyMessage=JSON.parse(e.description),t.content=t.bodyMessage.text):t.messageType===c.MessageType.IM_COMBIND&&(t.signalType=c.SignalType.IM_COMBIND,t.combindBody=JSON.parse(e.description))}catch(e){throw f.default(4001,"socketRequest信令字段格式错误","MessageModel socketRequest")}d.handleRecvMessage(t),t.messageId&&this.setLastRecvMsgId(t.messageId),this.emit("receiveMessage",t)}},t.prototype.setLastRecvMsgId=function(e){e&&window.KChatStorage.setItem(a.interestMsg.localStorage.id,e)},t}(l.EventEmitter);t.default=A},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(214),s=n(20),a=n(5),u=n(23),c=n(1),l=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.options=t,n.liveModel=new i.default(n.options),n.liveModel.on("invite",(function(e){console.log("===========收到直播邀请invite:",e),n.emit("invite",e)})).on("accept",(function(e){console.log("视频通道建立连接"),console.log("收到邀请成员接收直播邀请的反馈accept:",e),n.emit("accept",e)})).on("refuse",(function(e){console.log("收到邀请成员拒绝直播邀请的反馈refuse:",e),n.emit("refuse",e)})).on("quit",(function(e){console.log("===========收到直播或成员退出的信令quit:",e),n.emit("quit",e)})).on("applyJoin",(function(e){console.log("收到成员加入直播间的信令applyJoin:",e),n.emit("applyJoin",e)})).on("applyUpload",(function(e){console.log("收到成员申请主播的信令applyUpload:",e),n.emit("applyUpload",e)})).on("acceptUpload",(function(e){console.log("收到主播同意抢播的信令acceptUpload:",e),n.emit("acceptUpload",e)})).on("refuseUpload",(function(e){console.log("收到主播拒绝抢播的信令refuseUpload:",e),n.emit("refuseUpload",e)})).on("mediaChange",(function(e){console.log("收到双向音视频切换摄像头/麦克风mediaChange:",e),n.emit("mediaChange",e)})).on("receiveStream",(function(e){console.log("收到直播流receiveStream:",e),n.emit("receiveStream",e)})).on("mediaSetBroken",(function(e){console.log("设备异常:",e),n.emit("mediaSetBroken",e)})).on("error",(function(e){console.log("发生其它异常情况:",e),n.emit("error",e)})),n}return o(t,e),t.prototype.startLive=function(e){return e?this.liveModel.startLive(e):this.liveModel.uploadLive()},t.prototype.inviteLive=function(e){return this.liveModel.inviteLive(e)},t.prototype.acceptLive=function(e){return this.liveModel.acceptLive(e)},t.prototype.refuseLive=function(e){return this.liveModel.refuseLive(e)},t.prototype.quitLive=function(e){return this.liveModel.quitLive(e)},t.prototype.applyJoin=function(e){return this.liveModel.applyJoin(e)},t.prototype.applyLivePermit=function(e){return this.liveModel.applyLivePermit(e)},t.prototype.acceptLivePermit=function(e){return this.liveModel.acceptLivePermit(e)},t.prototype.reGetLive=function(e){return this.liveModel.reGetLive(e)},t.prototype.refuseLivePermit=function(e){return this.liveModel.refuseLivePermit(e)},t.prototype.getUserActionStatus=function(){return this.liveModel.getUserActionStatus()},t.prototype.toggleMedia=function(e){return this.liveModel.toggleMedia(e)},t.prototype.getLivingInfo=function(e){return this.liveModel.getLivingInfo(e).pipe(a.map((function(t){if(console.log("批量获取获取群组/用户直播信息",t),!t||!Array.isArray(t.groupInfos))throw console.log("入参：",e,"出参：",t),u.default(4001,"groupInfos字段或groupInfos不为数组","LiveModel getLivingInfo");return t.groupInfos.map((function(e){var t=(e.memberstatuspairMap||[]).map((function(e){return{target:e[0].split("@")[0],status:c.VideoOps[c.VideoOps[e[1]]]}}));return{activemembersList:e.activemembersList.map((function(e){return e.split("@")[0]})),inactivemembersList:e.inactivemembersList.map((function(e){return e.split("@")[0]})),roomid:e.roomid,owner:e.videoanchor?e.videoanchor.split("@")[0]:"",liveType:2===e.videocalltype?c.LiveType.VIDEO:c.LiveType.LIVE,videoType:2===e.videocalltype?c.VideoType.AUDIO:c.VideoType.VIDEO,memberStatusPair:t,sn:e.sn,videoresourceid:e.videoresourceid}}))})))},t.prototype.getRecvLive=function(e){var t=this.liveModel.createWebrtc({videoCallFormat:e.videoCallFormat,audioCallFormat:e.audioCallFormat},c.WebrtcMode.RECV);return t.startRemoteMedia(e),t},t.prototype.getRecvParams=function(){return this.liveModel.livingParams},t.prototype.activeCall=function(e){return this.liveModel.activeCall({chatCode:e.chatCode,type:e.type})},t}(s.EventEmitter);t.default=l},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(53),a=n(8),u=n(25),c=n(28),l=n(20),d=n(215),f=n(1),p=n(5),A=n(13),g=n(23),h=n(90),m=function(e){function t(t){var n=e.call(this)||this;if(n.options=t,!t)return n;n.options=t,n._name="LiveModel",s.default.setModule(n,n.options.user.userCode),n.socketSend=s.default[n.options.user.userCode].socketSend,n.living=!1,n.otherLiving=!1,n.livingParams=null,n.businessType=null;var r={videoCallFormat:n.options.videoCallFormat||void 0,audioCallFormat:n.options.audioCallFormat||void 0};return n.sendWebrtc=n.createWebrtc(r,f.WebrtcMode.SEND),n.recvWebrtc=n.createWebrtc(r,f.WebrtcMode.RECV),n.sendRecvWebrtc=n.createWebrtc(r,f.WebrtcMode.SEND_RECV),n.remoteStream=null,n.streamMonitor=null,n.monitorTime=0,n.liveSn="",n.errorCodes=[f.UploadErrorCodes.ACCOUNT_IS_ANCHOR,f.UploadErrorCodes.CLIENT_NOT_SUPPORT,f.UploadErrorCodes.REPEAT_INVITE,f.UploadErrorCodes.DST_OFFLINE,f.UploadErrorCodes.ROOM_ERROR,f.UploadErrorCodes.TALK_COMPLETED,f.UploadErrorCodes.NOT_IN_ROOM,f.UploadErrorCodes.SN_NOT_CONSISTENCE,f.UploadErrorCodes.FAILURE],n.videoResourceId="",n}return o(t,e),t.prototype.createWebrtc=function(e,t){var n=this,r=new d.default(e,t);return r.on("receiveStream",(function(e){n.remoteStream=e,n.emit("receiveStream",e),console.log("触发采集媒体信息"),r.emit("liveStart",e)})).on("mediaSetBroken",(function(e){n.emit("mediaSetBroken",e),n.webRtcErrorUpload(e.message,f.UploadErrorCodes.ERR_WEBRTC_DEVICE_ABNORMAL)})).on("httpsError",(function(e){n.webRtcErrorUpload(e,f.UploadErrorCodes.ERR_WEBRTC_FUN_ABNORMAL)})).on("getUserMediaError",(function(e){n.webRtcErrorUpload(e,f.UploadErrorCodes.ERR_WEBRTC_MEDIA_ABNORMAL)})).on("mediaRecordError",(function(e){n.webRtcErrorUpload(e,f.UploadErrorCodes.ERR_WEBRTC_RECORD_ABNORMAL)})).on("ws_connect_error",(function(e){h.default({businessType:n.businessType,code:f.UploadErrorCodes.ERR_NM_WS_CONNECT_FAILED,optExceptionType:f.ErrorUploadTypes.STREAMING_MEDIA,userCode:n.options.user.userCode,message:e})})).on("error",(function(e){r.destory(!0),n.emit("error",e),h.default({businessType:n.businessType,code:f.UploadErrorCodes.ERR_WS_MSG_RECV_ABNORMAL,optExceptionType:f.ErrorUploadTypes.STREAMING_MEDIA,userCode:n.options.user.userCode,message:e.message})})),r},t.prototype.webRtcErrorUpload=function(e,t){h.default({code:t,businessType:this.businessType,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:this.options.user.userCode,message:e})},t.prototype.startMedia=function(e){return e?(this.living=!0,this.otherLiving=e.liveType===f.LiveType.VIDEO,this.changeLivingParams(e),this.livingParams.liveType===f.LiveType.VIDEO&&!1!==e.sendRecv?this.sendRecvWebrtc.createStream(this.livingParams):this.sendWebrtc.createStream(this.livingParams)):(this.living=!0,this.otherLiving=!1,this.remoteStream=null,this.recvWebrtc.destory(),this.sendWebrtc.createStream(this.livingParams))},t.prototype.activeCall=function(e){var t=this;return c.createObserver((function(n){t.socketSend({header:{st:f.MessageType.ACTIVE_CALL,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(e){return n.next(e)}})},body:{}})}))},t.prototype.uploadLive=function(){return console.log("===========发起抢直播"),this.startMedia()},t.prototype.startLive=function(e){var t=this;return console.log("===========发起直播/双向对讲邀请:",e),console.log("src",a.setDomain([this.options.user.userCode],u.domain.domainCode)[0]),console.log("dst",a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0]),c.createObserver((function(n){t.socketSend({header:{ver:4,st:f.MessageType.INVITE_VIDEO,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(r){t.living=!1,t.otherLiving=!1,e.liveType===f.LiveType.VIDEO&&!1!==e.sendRecv?t.sendRecvWebrtc.destory():t.sendWebrtc.destory(),n.error(r)},onSuccess:function(r){t.liveSn=r.bsn,t.videoResourceId=JSON.parse(r.remark||"{}").videoResourceId||"",t.startMedia(e).subscribe({next:function(r){t.addStreamMonitor({chatCode:e.chatCode,type:e.type,talkType:t.livingParams.liveType===f.LiveType.LIVE?f.TalkType.LIVE:f.TalkType.VIDEO,sn:t.liveSn}),t.livingParams.liveType===f.LiveType.VIDEO&&!1===e.sendRecv&&(t.remoteStream=null,t.recvWebrtc.startRemoteMedia(t.livingParams)),n.next(r)}})}})},body:i({videoCallType:e.liveType,userCodes:e.type===f.ChatType.GROUP?e.userCodes.map((function(e){return a.setDomain([e],u.domain.domainCode)[0]}))||[]:a.setDomain([e.chatCode],u.domain.domainCode)},e.liveType===f.LiveType.VIDEO?{msgcatg:e.videoType}:{})})}))},t.prototype.inviteLive=function(e){var t=this;return console.log("邀请成员:",e),c.createObserver((function(n){t.socketSend({header:{ver:4,st:f.MessageType.INVITE_VIDEO,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(e){return n.next(e)}})},body:i({videoCallType:e.liveType,userCodes:e.type===f.ChatType.GROUP?e.userCodes.map((function(e){return a.setDomain([e],u.domain.domainCode)[0]}))||[]:a.setDomain([e.chatCode],u.domain.domainCode)},e.liveType===f.LiveType.VIDEO?{msgcatg:e.videoType}:{})})}))},t.prototype.acceptLive=function(e){var t=this;return console.log("接受邀请:",e),console.log("src",a.setDomain([this.options.user.userCode],u.domain.domainCode)[0]),console.log("dst",a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0]),c.createObserver((function(n){e.videoResourceId&&(t.videoResourceId=e.videoResourceId),t.changeLivingParams(e),t.socketSend({header:{ver:4,st:f.MessageType.ACCEPT_VIDEO,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(e){return n.next(e)}})},body:i({videoCallType:e.liveType,sn:e.sn},t.livingParams.liveType===f.LiveType.VIDEO?{userCodes:a.setDomain([e.chatCode],u.domain.domainCode)}:{})})})).pipe(p.map((function(n){if(t.liveSn=e.sn,t.addStreamMonitor({chatCode:e.chatCode,type:e.type,talkType:t.livingParams.liveType===f.LiveType.LIVE?f.TalkType.LIVE:f.TalkType.VIDEO,sn:t.liveSn}),t.otherLiving=!0,t.living=e.liveType===f.LiveType.VIDEO,t.remoteStream=null,t.livingParams.liveType===f.LiveType.VIDEO)return(!1!==e.sendRecv?t.sendRecvWebrtc:t.sendWebrtc).createStream(t.livingParams).pipe(p.map((function(n){return!1===e.sendRecv&&t.recvWebrtc.startRemoteMedia(t.livingParams),e.videoType===f.VideoType.AUDIO?null:n})));var r=i({},t.livingParams);return delete r.callee_id,t.recvWebrtc.startRemoteMedia(r),A.of(null)}))).pipe(p.concatAll())},t.prototype.refuseLive=function(e){var t=this;return console.log("拒绝邀请:",e),c.createObserver((function(n){t.socketSend({header:{ver:4,st:f.MessageType.REFUSE_VIDEO,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(e){return n.next(e)}})},body:i({videoCallType:e.liveType,sn:e.sn},e.statusType?{status:e.statusType}:{})})}))},t.prototype.quitLive=function(e){var t=this;return console.log("===========停止或退出视频直播/双向对讲quitLive:",e),c.createObserver((function(n){t.living=!1,t.otherLiving=!1,t.remoteStream=null,t.recvWebrtc.destory(),t.sendWebrtc.destory(),t.sendRecvWebrtc.destory(),t.removeStreamMonitor(),t.socketSend({header:{ver:4,st:f.MessageType.QUIT_VIDEO,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(e){return n.next(e)}})},body:{videoCallType:e.liveType,sn:t.liveSn}}),t.liveSn="",t.videoResourceId=""}))},t.prototype.applyJoin=function(e){var t=this;return console.log("主动加入房间:",e),e.videoresourceid&&(this.videoResourceId=e.videoresourceid),this.changeLivingParams(e),console.log("111111"),console.log(this.livingParams),console.log("src",a.setDomain([this.options.user.userCode],u.domain.domainCode)[0]),console.log("dst",a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0]),c.createObserver((function(n){t.socketSend({header:{ver:4,st:f.MessageType.APPLY_JOIN,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){console.log("加入直播失败",e),t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(e){console.log("申请加入直播的参数--------",e),n.next(e)}})},body:{sn:e.sn,videoCallType:e.liveType}})})).pipe(p.map((function(){if(console.log("已加入直播"),t.liveSn=e.sn,t.addStreamMonitor({chatCode:e.chatCode,type:e.type,talkType:t.livingParams.liveType===f.LiveType.LIVE?f.TalkType.LIVE:f.TalkType.VIDEO,sn:e.sn}),t.otherLiving=!0,t.living=e.liveType===f.LiveType.VIDEO,t.remoteStream=null,t.livingParams.liveType===f.LiveType.VIDEO)return(!1!==e.sendRecv?t.sendRecvWebrtc:t.sendWebrtc).createStream(t.livingParams).pipe(p.map((function(n){return!1===e.sendRecv&&t.recvWebrtc.startRemoteMedia(t.livingParams),e.videoType===f.VideoType.AUDIO?null:n})));var n=i({},t.livingParams);return delete n.callee_id,t.recvWebrtc.startRemoteMedia(n),A.of(null)})))},t.prototype.applyLivePermit=function(e){var t=this;return console.log("申请抢直播:",e),c.createObserver((function(n){t.socketSend({header:{ver:4,st:f.MessageType.APPLY_UPLOAD_VIDEO,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(e){return n.next(e)}})},body:{}})}))},t.prototype.acceptLivePermit=function(e){var t=this;return console.log("同意抢直播:",e),c.createObserver((function(n){t.living=!1,t.otherLiving=!0,t.sendWebrtc.destory(),t.socketSend({header:{ver:4,st:f.MessageType.ACCEPT_UPLOAD_VIDEO,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(r){t.remoteStream=null,t.recvWebrtc.startRemoteMedia(i(i({},t.livingParams),{callee_id:a.setDomain([e.userCodes[0]],u.domain.domainCode)[0]})),n.next(r)}})},body:{userCodes:e.userCodes.map((function(e){return a.setDomain([e],u.domain.domainCode)[0]})),sn:t.liveSn}})}))},t.prototype.reGetLive=function(e){var t=this;return console.log("播主同意直播后成员重新拉流"),c.createObserver((function(n){t.living=!1,t.otherLiving=!0,t.sendWebrtc.destory(),t.remoteStream=null,t.livingParams.callee_id=a.setDomain([e],u.domain.domainCode)[0],t.recvWebrtc.startRemoteMedia(t.livingParams),n.next()}))},t.prototype.refuseLivePermit=function(e){var t=this;return console.log("拒绝抢直播:",e),c.createObserver((function(n){t.socketSend({header:{ver:4,st:f.MessageType.REFUSE_UPLOAD_VIDEO,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(e){return n.next(e)}})},body:{userCodes:e.userCodes.map((function(e){return a.setDomain([e],u.domain.domainCode)[0]}))}})}))},t.prototype.getUserActionStatus=function(){var e=this;return console.log("获取当前用户对讲状态======:"),c.createObserver((function(t){e.socketSend({header:{ver:4,st:f.MessageType.GET_OWNER_VIDEO_INFO,src:a.setDomain([e.options.user.userCode],u.domain.domainCode)[0],dst:"",optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){return t.error(e)},onSuccess:function(e){return t.next(e)}})},body:{}})}))},t.prototype.getLivingInfo=function(e){var t=this;return console.log("获取直播/对讲信息:",e),c.createObserver((function(n){t.socketSend({header:{ver:4,st:f.MessageType.GET_GROUP_INFO,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:"",type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(e){e.videoResourceId&&(t.videoResourceId=e.videoResourceId),n.next(e)}})},body:e.type===f.ChatType.GROUP?{groupCodes:e.groupCodes.map((function(e){return a.setDomain([e],u.domain.domainDefaultCode)[0]}))}:{userCodes:e.userCodes.map((function(e){return a.setDomain([e],u.domain.domainCode)[0]}))}})}))},t.prototype.toggleMedia=function(e){var t=this;return console.log("切换摄像头/麦克风:",e),c.createObserver((function(n){t.socketSend({header:{ver:4,st:f.MessageType.TOOGLE_MEDIA_TYPE,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.dst],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],type:e.type,optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(e){return n.next(e)}})},body:{msgcatg:e.videoAction}})})).pipe(p.map((function(){return t.sendWebrtc.destory(),e.videoOps!==f.VideoOps.NONE?t.sendWebrtc.toggleStream(i(i({},t.livingParams),{videoType:e.videoOps})):A.of(null)}))).pipe(p.concatAll())},t.prototype.removeAuidoTracks=function(e){e&&e.getAudioTracks().forEach((function(t){e.removeTrack(t)}))},t.prototype.removeVideoTracks=function(e){e&&e.getVideoTracks().forEach((function(t){e.removeTrack(t)}))},t.prototype.addAudioTracks=function(e,t){e&&t&&t.length>0&&t.forEach((function(t){e.addTrack(t)}))},t.prototype.addVideoTracks=function(e,t){e&&t&&t.length>0&&t.forEach((function(t){e.addTrack(t)}))},t.prototype.socketRequest=function(e){if(console.log(1),e){var t=void 0;try{(t={srcCode:e.src.split("@")[0],chatCode:e.dst.split("@")[0],time:(new Date).getTime(),messageId:e.id,messageType:f.MessageType[f.MessageType[e.st]],type:f.ChatType[f.ChatType[e.type]],url:e.url,remark:JSON.parse(e.remark||"{}"),userCodes:e.userCodes.map((function(e){return e.split("@")[0]})),sn:e.bsn,device:a.handleDeviceType(e.deviceType||f.DeviceType.OLD),liveType:f.LiveType[f.LiveType[e.videoCallType]],target:f.MessageTarget.OTHER}).messageType===f.MessageType.TOOGLE_MEDIA_TYPE?t.videoAction=f.VideoAction[f.VideoAction[e.msgcatg]]:t.videoType=f.LiveType[f.LiveType[e.videoCallType]]===f.LiveType.VIDEO?f.VideoType[f.VideoType[e.msgcatg]]:f.VideoType.VIDEO}catch(t){throw console.log(e),g.default(4001,"socketRequest信令字段格式错误","LiveModel socketRequest")}switch(t.srcCode===this.options.user.userCode&&(t.target=f.MessageTarget.SELF),this.videoResourceId=t.remark.videoResourceId||"",a.handleRecvMessage(t),t.signalType=f.SignalType.VIDEO,t.messageType){case f.MessageType.INVITE_VIDEO:this.sendRecvWebrtc.emit("liveData",t),this.emit("invite",t);break;case f.MessageType.ACCEPT_VIDEO:this.sendRecvWebrtc.emit("liveData",t),this.sendRecvWebrtc.emit("liveStart",t),this.emit("accept",t);break;case f.MessageType.REFUSE_VIDEO:t.onlineStatus=e.status,this.emit("refuse",t);break;case f.MessageType.QUIT_VIDEO:(!this.liveSn||this.liveSn===t.sn)&&this.emit("quit",t);break;case f.MessageType.APPLY_JOIN:this.emit("applyJoin",t);break;case f.MessageType.APPLY_UPLOAD_VIDEO:this.emit("applyUpload",t);break;case f.MessageType.ACCEPT_UPLOAD_VIDEO:this.emit("acceptUpload",t);break;case f.MessageType.REFUSE_UPLOAD_VIDEO:this.emit("refuseUpload",t);break;case f.MessageType.TOOGLE_MEDIA_TYPE:this.emit("mediaChange",t)}}},t.prototype.socketResponse=function(e){c.handleSocketResponse(e)},t.prototype.addStreamMonitor=function(e){var t=this;this.removeStreamMonitor(),this.streamMonitor=setInterval((function(){t.monitorTime%3==0&&t.socketSend({header:{ver:4,st:f.MessageType.STREAM_MONITOR,src:a.setDomain([t.options.user.userCode],u.domain.domainCode)[0],dst:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],optType:f.OptType.REQUEST,sn:c.setSnCache({onFailure:function(e){console.log("res.bsn",e),e.bsn===t.liveSn?(t.quitLive({liveType:t.livingParams.liveType,chatCode:e.dst.split("@")[0],type:f.ChatType[f.ChatType[e.type]]}).subscribe(),t.emit("error",new Error(e.retMsg))):t.removeStreamMonitor(),416===e.resultCode&&t.removeStreamMonitor(),t.errorCodes.includes(e.resultCode)&&h.default({businessType:t.businessType,code:e.resultCode,optExceptionType:f.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn})}})},body:{monitorBusiBodys:{code:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],talkType:e.talkType||f.TalkType.UNKNOW,chatType:e.type,sn:e.sn}}}),t.monitorTime++}),1e3)},t.prototype.removeStreamMonitor=function(){clearInterval(this.streamMonitor),this.streamMonitor=null,this.monitorTime=0},t.prototype.changeLivingParams=function(e){switch(this.livingParams={videoResourceId:this.videoResourceId,liveType:e.liveType,caller_id:a.setDomain([this.options.user.userCode],u.domain.domainCode)[0],callee_id:a.setDomain([e.chatCode],e.type===f.ChatType.GROUP?u.domain.domainDefaultCode:u.domain.domainCode)[0],videoType:e.videoType||(e.videoType===f.VideoType.AUDIO?f.VideoType.AUDIO:f.VideoType.VIDEO)},e.liveType){case f.LiveType.LIVE:this.businessType=f.SignalType.LIVE;break;case f.LiveType.VIDEO:this.businessType=f.SignalType.BIDVIDEO}e.videoType===f.VideoType.AUDIO&&(this.businessType=f.SignalType.BIDVOICE)},t}(l.EventEmitter);t.default=m},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(119),a=n(148),u=n(25),c=n(121),l=n(23),d=n(20),f=n(1),p=n(5),A=n(216),g=function(e){function t(t,n){var r=e.call(this)||this;return r.options=t,r.responsetTimeout=null,r.webRtcStatusTimeout=null,r.options=t,r.heartTime=0,r.heartBeat=null,r.responseTime=0,r.responsetTimeout=null,r.webRtcStatusTime=0,r.webRtcStatusTimeout=null,r.responseNoAnswerText="",r._name=n,r.curSendMediaParams=null,r.curRecvMediaParams=null,r.request_id="",r.related_request_id="",r.mediaInfoSum={video:{googRtt:[],bytesSent:[],framesEncoded:[]},audio:{googRtt:[],bytesSent:[]}},window.addEventListener("beforeunload",(function(){r.destory()})),r}return o(t,e),t.prototype.stopMedia=function(){this.curSendMediaParams&&this.curSendMediaParams.liveType===f.LiveType.VIDEO&&this.curSendMediaParams.videoType===f.VideoType.AUDIO?this.socketModel.send(JSON.stringify({account_token:"",cmd_type:"audio_call",request_type:"stop"})):this.socketModel.send(JSON.stringify({account_token:"",cmd_type:"video_call",request_type:"stop"})),this.curSendMediaParams=null,this.stoPWebRtc=!0,console.log("step2:停止直播/双向对讲"),this.handleResponseTimer("停止直播/双向对讲")},t.prototype.sendMediaStartSignal=function(e){var t=this;this.related_request_id=c.genRelatedId(),this.request_id=c.genRequestId(),this.createSocketModel(),this.socketModel.once("open",(function(){if(t.webrtc){var n={account_token:"",request_type:"start",request_id:t.request_id,device_id:e.videoResourceId,stun_server:u.server.stun||"",caller_id:e.caller_id};t._name===f.WebrtcMode.SEND_RECV&&(n.sendrecv=1),e.liveType!==f.LiveType.LIVE&&(n.callee_id=e.callee_id),e.liveType===f.LiveType.LIVE||e.videoType===f.VideoType.VIDEO?(n=i(i({},n),{cmd_type:"video_call",video_format:t.options.videoCallFormat||"720p",audio_format:t.options.audioCallFormat||"opus"}),t.socketModel.send(JSON.stringify(n))):e.videoType===f.VideoOps.VIDEO_ONLY?(n=i(i({},n),{cmd_type:"video_call",video_format:t.options.videoCallFormat||"720p"}),console.log("发送video_call"),t.socketModel.send(JSON.stringify(n))):(n=i(i({},n),{cmd_type:"audio_call",audio_format:t.options.audioCallFormat||"opus"}),console.log("发送audio_call"),t.socketModel.send(JSON.stringify(n))),t.handlerHeart(),t.handleResponseTimer("给新媒体发送推流开始信令"),console.log("给新媒体发送推流开始信令"),console.log(t._name),t._name===f.WebrtcMode.SEND_RECV&&(t.once("onaddstream",(function(e){t.emit("receiveStream",e)})),t.once("onError",(function(e){t.emit("error",e)})))}}))},t.prototype.startRemoteMedia=function(e){this.curRecvMediaParams=e,this.createWebrtc(),this.webrtc.createPeerConnection(),this.sendRemoteMediaStartSignal(e)},t.prototype.stopRemoteMedia=function(){this.socketModel.send(JSON.stringify({account_token:"",cmd_type:"live",request_type:"stop"})),this.curRecvMediaParams=null,this.stoPWebRtc=!0,console.log("停止实时播放"),this.handleResponseTimer("停止实时播放")},t.prototype.sendRemoteMediaStartSignal=function(e){var t=this;this.createSocketModel(),this.socketModel.once("open",(function(){t.related_request_id=c.genRelatedId(),t.request_id=c.genRequestId();var n={account_token:"",cmd_type:"live",request_type:"start",device_id:e.videoResourceId,request_id:t.request_id,stun_server:u.server.stun||"",callee_id:e.callee_id,nmedia_id:0};e.liveType!==f.LiveType.LIVE&&(n.caller_id=e.caller_id),t.socketModel.send(JSON.stringify(n)),t.handlerHeart(),console.log("给新媒体发送拉流开始信令"),t.handleResponseTimer("给新媒体发送拉流开始信令"),t.once("onaddstream",(function(e){t.emit("receiveStream",e)})),t.once("onError",(function(e){t.emit("error",e)}))}))},t.prototype.createSocketModel=function(){var e=this;console.log("step1:创建webrtc信令通道"),this.socketModel=new s.default({host:u.server.webrtc}),this.stoPWebRtc=!1,this.socketModel.on("error",(function(t){console.log("新媒体服务器错误:LiveWebrtc createSocketModel",t),e.emit("error",l.default(3002,t.message,"LiveWebrtc createSocketModel"))})),this.socketModel.on("message",this.onMessage.bind(this)),this.socketModel.on("connect_error",(function(){e.emit("ws_connect_error","WebSocket connect error.")})),this.socketModel.on("close",(function(){e.emit("ws_close","WebSocket is closed.")}))},t.prototype.onMessage=function(e){var t=this;if(!0===this.stoPWebRtc&&(console.log("step3:收到关闭直播信令得反馈"),this.handlerHeart(),this.socketModel.close(),this.socketModel=null,this.stoPWebRtc=!1,console.log("step4:关闭webrtc信令通道")),"message"===e.type){this.clearResponseTimer();var n=JSON.parse(e.data);if(n.error&&this.emit("error",l.default(3002,n.error_string||"webrtc connection error","LiveWebrtc onMessage")),"ice"===n.cmd_type&&"offer"===n.request_type){var r=this.webrtc.getRTCSessionDescription();if(r.sdp=n.sdp,r.type="offer",this._name===f.WebrtcMode.RECV&&this.curRecvMediaParams.videoType===f.VideoType.AUDIO){var o=r.sdp.split("m=video")[0];r.sdp=o.replace(/a=group:BUNDLE audio video\r\n/g,""),this.webrtc.peerConnection.setRemoteDescription(r)}-1===window.navigator.userAgent.indexOf("Unity 3D")&&-1===window.navigator.userAgent.indexOf("unity 3d")&&-1===window.navigator.userAgent.indexOf("Unity")&&-1===window.navigator.userAgent.indexOf("unity")||(console.log("unity 3d offer sdp changed!"),r.sdp=r.sdp.replace(/a=fmtp:96 level-asymmetry-allowed=1;packetization-mode=1/,"a=fmtp:96 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f")),this.webrtc.handleOffer(r).then((function(){t.sendAnswer()}))}}},t.prototype.sendAnswer=function(){var e=this;this.webrtc.createAnswer().then((function(t){e.webrtc.createOfferSuccess(t),e.socketModel.send(JSON.stringify({account_token:"",cmd_type:"ice",request_type:"answer",sdp:t.sdp})),e.handleResponseTimer("发送answer信令")}))},t.prototype.createWebrtc=function(){var e=this;this.webrtc=new a.default,this.webrtc.on("mediaSetBroken",(function(t){return e.emit("mediaSetBroken",t)})),this.webrtc.on("onicecandidate",this.onIcecandidate.bind(this)),this.webrtc.on("onaddstream",(function(t){return e.emit("onaddstream",t.stream)})),this.webrtc.on("onerror",(function(t){return e.emit("onError",t)}))},t.prototype.onIcecandidate=function(e){if(null!==e.candidate){if("host"===e.candidate.type)this.grepIP(e.candidate.candidate)||this.emit("error",l.default(3002,"获取本机ip失败","LiveWebrtc onMessage"));this.sendCandidate(e)}},t.prototype.grepIP=function(e){if(e){var t,n=/^(?!\.)((^|\.)([1-9]?\d|1\d\d|2(5[0-5]|[0-4]\d))){4}$/gm,r=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;return e.split("\r\n").forEach((function(e){if(~e.indexOf("candidate")){var o=e.split(" "),i=o[4];"host"===o[7]&&(n.test(i)||r.test(i))&&(t=i)}})),t}},t.prototype.sendCandidate=function(e){this.socketModel.send(JSON.stringify({account_token:"",cmd_type:"ice",request_type:"candidate",candidate:e.candidate.candidate})),this.handleResponseTimer("发送candidate信令")},t.prototype.destory=function(e){void 0===e&&(e=!1),console.log("关闭webRtc连接"),clearTimeout(this.responsetTimeout),this.responsetTimeout=null,this.webrtc&&(this.webrtc.handleLeave(e),this.webrtc=null,this.request_id="",this.related_request_id="",this.socketModel&&(this._name!==f.WebrtcMode.SEND&&this._name!==f.WebrtcMode.SEND_RECV||this.stopMedia(),this._name===f.WebrtcMode.RECV&&this.stopRemoteMedia()))},t.prototype.createStream=function(e){var t=this;return this.createWebrtc(),this.curSendMediaParams=e,this.webrtc.createStream({audio:!0,video:(e.liveType!==f.LiveType.VIDEO||e.videoType!==f.VideoType.AUDIO)&&{frameRate:25},description:e.videoType===f.VideoType.AUDIO?"audio":"video"}).pipe(p.map((function(n){return t.webrtc&&t.sendMediaStartSignal(e),n})))},t.prototype.toggleStream=function(e){var t=this;return this.createWebrtc(),this.curSendMediaParams=i(i({},e),{videoType:e.videoType!==f.VideoOps.AUDIO_ONLY?f.VideoType.VIDEO:f.VideoType.AUDIO}),this.webrtc.createStream({audio:e.videoType!==f.VideoOps.VIDEO_ONLY,video:(this.curSendMediaParams.liveType!==f.LiveType.VIDEO||this.curSendMediaParams.videoType!==f.VideoType.AUDIO)&&{frameRate:25},description:this.curSendMediaParams.videoType===f.VideoType.AUDIO?"audio":"video"}).pipe(p.map((function(n){return t.webrtc&&t.sendMediaStartSignal(e),n})))},t.prototype.handlerHeart=function(){var e=this;this.heartBeat?(this.heartTime=0,clearInterval(this.heartBeat),this.heartBeat=null):(this.heartTime=0,this.heartBeat=setInterval((function(){e.heartTime++,e.heartTime%10==0&&e.socketModel&&e.socketModel.send(JSON.stringify({account_token:"",cmd_type:"detect",request_type:"heartbeat"}))}),1e3))},t.prototype.handleResponseTimer=function(e){var t=this;this.responsetTimeout?this.clearResponseTimer():(this.responseTime=0,this.responseNoAnswerText=e,this.responsetTimeout=setInterval((function(){t.responseTime++,t.responseTime>=45&&(console.log("新媒体服务器响应超时"),t.emit("error",l.default(3002,e,"LiveWebrtc responseTimeout")),t.createSocketModel(),t.clearResponseTimer())}),1e3))},t.prototype.clearResponseTimer=function(){this.responseTime=0,this.responseNoAnswerText="",clearInterval(this.responsetTimeout),this.responsetTimeout=null},t.prototype.handleWebRtcStatusTimer=function(){var e=this;this.webRtcStatusTimeout?this.clearWebRtcStatusTimer():this.webRtcStatusTimeout=setInterval((function(){e.webrtc&&e.getWebRtcStatusTimer()}),1e3)},t.prototype.clearWebRtcStatusTimer=function(){this.webrtc&&this.getWebRtcStatusTimer(),clearInterval(this.webRtcStatusTimeout),this.webRtcStatusTimeout=null},t.prototype.getWebRtcStatusTimer=function(){var e=this;this.webrtc&&this.webrtc.getStreamStatus().then((function(t){t.video&&(t.video.googRtt&&e.mediaInfoSum.video.googRtt.push(t.video.googRtt),t.video.bytesSent&&e.mediaInfoSum.video.bytesSent.push(t.video.bytesSent),t.video.framesEncoded&&e.mediaInfoSum.video.framesEncoded.push(t.video.framesEncoded)),t.audio&&(t.audio.googRtt&&e.mediaInfoSum.audio.googRtt.push(t.audio.googRtt),t.audio.bytesSent&&e.mediaInfoSum.audio.bytesSent.push(t.audio.bytesSent))})).catch((function(e){console.error(e)}))},t.prototype.getWebRtcStatus=function(e){var t=this;this.webrtc&&(this.webrtc?this.webrtc.getStreamStatus().then((function(n){"last"===e?(t.lastStatus=n,t.lastStatus.time=Date.now(),console.log("最后一次获取到的WebRtcStatus",t.lastStatus),t.commitWebRtcInfo()):(t.firstStatus=n,t.firstStatus.time=Date.now(),console.log("第一次获取到的WebRtcStatus",t.firstStatus))})).catch((function(e){console.error(e)})):console.error("webRtc已关闭连接,无法获取WebRtcStatus"))},t.prototype.commitWebRtcInfo=function(){var e={sessionId:null,userCode:null,deviceType:null,startTime:null,sessionDuration:null,sendMetric:{video:null,audio:null},recvMetric:{video:null,audio:null}};this.liveData?(console.log("this.liveData",this.liveData),this.liveData.sn&&(e.sessionId=this.liveData.sn),this.liveData.userCode&&(e.userCode=this.liveData.userCode),this.liveData.device&&this.liveData.device.code&&(e.deviceType=this.liveData.device.code),this.firstStatus.time&&this.lastStatus.time&&(e.startTime=this.firstStatus.time,e.sessionDuration=this.lastStatus.time-this.firstStatus.time),this.firstStatus.video&&this.lastStatus.video&&(e.sendMetric.video=this.formantSendVideoInfo(),e.recvMetric.video=this.formantRecvVideoInfo()),this.firstStatus.audio&&this.lastStatus.video&&(e.sendMetric.audio=this.formantSendAudioInfo(),e.recvMetric.audio=this.formantSendAudioInfo()),console.log("待上传的liveWebRtcata",e),A.default(e)):console.log("媒体采集未获取到聊天信息"),console.log("直播信息",this.liveData),console.log("直播lastStatus信息",this.lastStatus),console.log("直播firstStatus信息",this.firstStatus)},t.prototype.formantSendAudioInfo=function(){var e={audioFormat:null,avgBitrate:null,lossRate:null,avgRtcpRtt:null};if(e.audioFormat=this.lastStatus.audio.googCodecName,this.mediaInfoSum.audio.bytesSent&&this.mediaInfoSum.audio.bytesSent.length){for(var t=[],n=0;n<this.mediaInfoSum.audio.bytesSent.length-1;n++)t.push(this.mediaInfoSum.audio.bytesSent[n+1]-this.mediaInfoSum.audio.bytesSent[n]);for(var r=0,o=0;o<t.length;o++)r+=t[o];e.avgBitrate=(r/t.length).toFixed(2)}if(this.mediaInfoSum.audio.googRtt&&this.mediaInfoSum.audio.googRtt.length){for(r=0,o=0;o<this.mediaInfoSum.audio.googRtt.length;o++)r+=this.mediaInfoSum.audio.googRtt[o];e.avgRtcpRtt=(r/this.mediaInfoSum.audio.googRtt.length).toFixed(2)}return this.lastStatus.audio.packetsLost&&this.firstStatus.audio.packetsLost&&(e.lossRate=((this.lastStatus.audio.packetsLost-this.firstStatus.audio.packetsLost)/this.lastStatus.audio.packetsSent).toFixed(4),e.lossRate>100&&(e.lossRate=0)),e},t.prototype.formantSendVideoInfo=function(){var e={videoFormat:null,resolutionHorizon:null,resolutionVertical:null,maxFps:null,minFps:null,avgFps:null,maxBitrate:null,minBitrate:null,avgBitrate:null,lossRate:null,avgRtcpRtt:null};if(e.videoFormat=this.lastStatus.video.googCodecName,this.lastStatus.video.googFrameWidthSent&&(e.resolutionHorizon=this.lastStatus.video.googFrameWidthSent),this.lastStatus.video.googFrameHeightSent&&(e.resolutionVertical=this.lastStatus.video.googFrameHeightSent),this.lastStatus.video.packetsLost&&this.firstStatus.video.packetsLost&&(e.lossRate=((this.lastStatus.video.packetsLost-this.firstStatus.video.packetsLost)/this.lastStatus.video.packetsSent).toFixed(4),e.lossRate>100&&(e.lossRate=0)),this.mediaInfoSum){if(this.mediaInfoSum.video.bytesSent&&this.mediaInfoSum.video.bytesSent.length){for(var t=[],n=0;n<this.mediaInfoSum.video.bytesSent.length-1;n++)t.push(this.mediaInfoSum.video.bytesSent[n+1]-this.mediaInfoSum.video.bytesSent[n]);e.maxBitrate=Math.max.apply(Math,t),e.minBitrate=Math.min.apply(Math,t);for(var r=0,o=0;o<t.length;o++)r+=t[o];e.avgBitrate=(r/t.length).toFixed(2)}if(this.mediaInfoSum.video.framesEncoded&&this.mediaInfoSum.video.framesEncoded.length){for(t=[],n=0;n<this.mediaInfoSum.video.framesEncoded.length-1;n++)t.push(this.mediaInfoSum.video.framesEncoded[n+1]-this.mediaInfoSum.video.framesEncoded[n]);console.log("avg",t),e.maxFps=Math.max.apply(Math,t),e.minFps=Math.min.apply(Math,t);for(r=0,o=0;o<t.length;o++)r+=t[o];e.avgFps=(r/t.length).toFixed(2)}if(this.mediaInfoSum.video.googRtt&&this.mediaInfoSum.video.googRtt.length){for(r=0,o=0;o<this.mediaInfoSum.video.googRtt.length;o++)r+=this.mediaInfoSum.video.googRtt[o];e.avgRtcpRtt=(r/this.mediaInfoSum.video.googRtt.length).toFixed(2)}}return console.log("采集到的发送端video信息",e),e},t.prototype.formantRecvVideoInfo=function(){var e={videoFormat:null,resolutionHorizon:null,resolutionVertical:null,maxFps:null,minFps:null,avgFps:null,maxBitrate:null,minBitrate:null,avgBitrate:null,lossRate:null,avgRtcpRtt:null};if(e.videoFormat=this.lastStatus.video.googCodecName,this.lastStatus.video.googFrameWidthInput&&(e.resolutionHorizon=this.lastStatus.video.googFrameWidthInput),this.lastStatus.video.googFrameHeightInput&&(e.resolutionVertical=this.lastStatus.video.googFrameHeightInput),this.lastStatus.video.packetsLost&&this.firstStatus.video.packetsLost&&(e.lossRate=((this.lastStatus.video.packetsLost-this.firstStatus.video.packetsLost)/this.lastStatus.video.packetsSent).toFixed(4),e.lossRate>100&&(e.lossRate=0)),this.mediaInfoSum){if(this.mediaInfoSum.video.bytesSent&&this.mediaInfoSum.video.bytesSent.length){for(var t=[],n=0;n<this.mediaInfoSum.video.bytesSent.length-1;n++)t.push(this.mediaInfoSum.video.bytesSent[n+1]-this.mediaInfoSum.video.bytesSent[n]);e.maxBitrate=Math.max.apply(Math,t),e.minBitrate=Math.min.apply(Math,t);for(var r=0,o=0;o<t.length;o++)r+=t[o];e.avgBitrate=(r/t.length).toFixed(2)}if(this.mediaInfoSum.video.framesEncoded&&this.mediaInfoSum.video.framesEncoded.length){for(t=[],n=0;n<this.mediaInfoSum.video.framesEncoded.length-1;n++)t.push(this.mediaInfoSum.video.framesEncoded[n+1]-this.mediaInfoSum.video.framesEncoded[n]);console.log("avg",t),e.maxFps=Math.max.apply(Math,t),e.minFps=Math.min.apply(Math,t);for(r=0,o=0;o<t.length;o++)r+=t[o];e.avgFps=(r/t.length).toFixed(2)}if(this.mediaInfoSum.video.googRtt&&this.mediaInfoSum.video.googRtt.length){for(r=0,o=0;o<this.mediaInfoSum.video.googRtt.length;o++)r+=this.mediaInfoSum.video.googRtt[o];e.avgRtcpRtt=(r/this.mediaInfoSum.video.googRtt.length).toFixed(2)}}return console.log("采集到的接收端video信息",e),e},t}(d.EventEmitter);t.default=g},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),i=n(25),s=n(1),a=n(89);t.default=function(e){var t=window.KChatConfig.service.deviceType,n=a.date(Date.now()).format("Y-m-d H:i:s")+":"+(new Date).getMilliseconds(),u=[r(r({},e),{collectTime:n,deviceType:s.DeviceType[t]||s.DeviceType.WEB_CHROME})];o.default.post({url:i.httpUrl.mediaInfoUpload,body:{signalMessageList:u}}).subscribe()}},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(218),s=n(20),a=n(8),u=n(5),c=function(e){function t(t){var n=e.call(this)||this;return n.options=t,n.pttModel=new i.default(t),n.pttModel.on("startSpeak",(function(e){a.handleUrl(e),console.log("===========收到startSpeak:",e),n.emit("startSpeak",e)})).on("endSpeak",(function(e){a.handleUrl(e),console.log("收到endSpeak:",e),n.emit("endSpeak",e)})).on("receiveStream",(function(e){console.log("收到远端媒体流:",e),n.emit("receiveStream",e)})).on("error",(function(e){console.log("webrtc连接失败:",e),n.emit("error",e)})).on("captureFailed",(function(){console.log("没有采集到媒体流数据"),n.emit("captureFailed")})).on("connectTimeout",(function(){console.log("推流连接超时"),n.emit("connectTimeout")})).on("talkingTimeout",(function(){console.log("ptt语音发起时长上限超时"),n.emit("talkingTimeout")})).on("channelBusy",(function(){console.log("通道忙,请稍后再试"),n.emit("channelBusy")})).on("otherDeviceHandled",(function(){n.emit("otherDeviceHandled")})).on("ready",(function(){console.log("webrtc通道已连接好，可以对讲"),n.emit("ready")})).on("shortDuration",(function(){console.log("讲话时间太短"),n.emit("shortDuration")})).on("mediaSetBroken",(function(e){console.log("设备异常:",e),n.emit("mediaSetBroken",e)})).on("channelInterrupt",(function(){console.log("对讲被高权限者打断"),n.emit("channelInterrupt")})),n}return o(t,e),t.prototype.startPTT=function(e){return this.pttModel.startPTT({chatCode:e.chatCode,type:e.type})},t.prototype.getPTT=function(e){this.pttModel.getPTT({pttResourceId:e.pttResourceId,chatCode:e.chatCode,srcCode:e.srcCode,type:e.type,sn:e.sn})},t.prototype.endPTT=function(){return this.pttModel.endPTT().pipe(u.map((function(e){return a.handleUrl(e),e})))},t.prototype.stopListen=function(){this.pttModel.stopListen()},t}(s.EventEmitter);t.default=c},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),s=n(53),a=n(121),u=n(5),c=n(13),l=n(219),d=n(1),f=n(28),p=n(8),A=n(25),g=n(58),h=n(23),m=n(90),y=function(e){function t(t){var n=e.call(this)||this;n.options=t,n.timeoutTimer=null,n.pttParams=null,n.pttSn="",n.startSpeakSended=!1,n.endSpeakSended=!1,n.sendTimer=null,n.cutChannel=!1,n.busy=!1,n.otherDeviceHandled=!1,n.startTime=(new Date).getTime(),n.pttUrl="",n.readyBegin=null,n.options=t,n._name="PTTModel",s.default.setModule(n,n.options.user.userCode),n.socketSend=s.default[n.options.user.userCode].socketSend,n.maxWaitingTime=n.options.maxWaitingTime||1e4,n.maxConnectionTime=n.options.maxConnectionTime||6e4,n.minConnectionTime=n.options.minConnectionTime||2e3;var r={audioCallFormat:n.options.audioCallFormat||void 0};return n.sendWebrtc=n.createWebrtc(r,d.WebrtcMode.SEND),n.recvWebrtc=n.createWebrtc(r,d.WebrtcMode.RECV),n.errorCodes=[d.UploadErrorCodes.ACCOUNT_IS_ANCHOR,d.UploadErrorCodes.CLIENT_NOT_SUPPORT,d.UploadErrorCodes.REPEAT_INVITE,d.UploadErrorCodes.DST_OFFLINE,d.UploadErrorCodes.ROOM_ERROR,d.UploadErrorCodes.TALK_COMPLETED,d.UploadErrorCodes.NOT_IN_ROOM,d.UploadErrorCodes.SN_NOT_CONSISTENCE,d.UploadErrorCodes.FAILURE],n.pttResourceId="",n.requestId="",n}return o(t,e),t.prototype.createWebrtc=function(e,t){var n=this,r=new l.default(e,t);return r.on("receiveStream",(function(e){n.emit("receiveStream",e)})).on("error",(function(e){r.destory(!0),clearTimeout(n.timeoutTimer),n.emit("error",e),m.default({businessType:d.SignalType.PTT,code:d.UploadErrorCodes.ERR_WS_MSG_RECV_ABNORMAL,optExceptionType:d.ErrorUploadTypes.STREAMING_MEDIA,userCode:n.options.user.userCode,message:e.message})})).on("ws_connect_error",(function(e){m.default({businessType:d.SignalType.PTT,code:d.UploadErrorCodes.ERR_NM_WS_CONNECT_FAILED,optExceptionType:d.ErrorUploadTypes.STREAMING_MEDIA,userCode:n.options.user.userCode,message:e})})).on("mediaSetBroken",(function(e){n.emit("mediaSetBroken",e),n.webRtcErrorUpload(e.message,d.UploadErrorCodes.ERR_WEBRTC_DEVICE_ABNORMAL)})).on("httpsError",(function(e){n.webRtcErrorUpload(e,d.UploadErrorCodes.ERR_WEBRTC_FUN_ABNORMAL)})).on("getUserMediaError",(function(e){n.webRtcErrorUpload(e,d.UploadErrorCodes.ERR_WEBRTC_MEDIA_ABNORMAL)})).on("mediaRecordError",(function(e){n.webRtcErrorUpload(e,d.UploadErrorCodes.ERR_WEBRTC_RECORD_ABNORMAL)})).on("captureFailed",(function(){!n.busy&&!n.otherDeviceHandled&&n.emit("captureFailed")})),r},t.prototype.webRtcErrorUpload=function(e,t){m.default({businessType:d.SignalType.PTT,code:t,optExceptionType:d.ErrorUploadTypes.VLINE_SIGNAL,userCode:this.options.user.userCode,message:e})},t.prototype.startPTT=function(e){var t=this;return console.log("===========开始建立ptt推流通道"),this.pttMode=d.WebrtcMode.SEND,this.busy=!1,this.otherDeviceHandled=!1,this.pttParams={chatCode:e.chatCode.split("@")[0],type:e.type},this.startSpeakSended=!1,this.endSpeakSended=!1,this.startTime=(new Date).getTime(),this.pttUrl="",clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout((function(){t.endPTT().subscribe(),t.emit("connectTimeout")}),this.maxWaitingTime),this.endSpeakSended?c.of(null):(this.requestId=a.genRequestId(),this.informStartSpeak(this.requestId).pipe(u.map((function(e){t.sendWebrtc.createStream({pttResourceId:t.pttResourceId,requestId:t.requestId,caller_id:p.setDomain([t.options.user.userCode],A.domain.domainCode)[0]}).subscribe()}))))},t.prototype.informStartSpeak=function(e){var t=this;return f.createObserver((function(n){t.readyBegin=(new Date).getTime(),clearTimeout(t.sendTimer),t.sendTimer=setTimeout((function(){t.emit("talkingTimeout")}),t.maxConnectionTime),clearTimeout(t.timeoutTimer),t.endSpeakSended?n.next():(t.startTime=(new Date).getTime(),t.pttSn=g.genSn(),t.socketSend({header:{ver:4,st:d.MessageType.START_SPEAK,src:p.setDomain([t.options.user.userCode],A.domain.domainCode)[0],dst:p.setDomain([t.pttParams.chatCode],t.pttParams.type===d.ChatType.GROUP?A.domain.domainDefaultCode:A.domain.domainCode)[0],type:t.pttParams.type,optType:d.OptType.REQUEST,sn:f.setSnCache({onFailure:function(e){400===e.resultCode?(t.busy=!0,t.emit("channelBusy")):417===e.resultCode&&(t.otherDeviceHandled=!0,t.emit("otherDeviceHandled")),t.sendWebrtc.destory(),t.errorCodes.includes(e.resultCode)&&m.default({businessType:d.SignalType.PTT,code:e.resultCode,optExceptionType:d.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn}),n.error(e)},onSuccess:function(e){t.pttResourceId=JSON.parse(e.remark).pttResourceId,t.addStreamMonitor({chatCode:t.pttParams.chatCode,type:t.pttParams.type,talkType:d.TalkType.PTT,sn:t.pttSn}),t.emit("ready"),t.pttUrl=e.url,n.next(e)}})},body:{sn:t.pttSn,pt:window.KChatConfig.service.mediaSettings&&window.KChatConfig.service.mediaSettings.opus||10,remark:JSON.stringify({requestId:e})}}),t.startSpeakSended=!0)}))},t.prototype.endPTT=function(){var e=this;return f.createObserver((function(t){if(console.log("===========销毁ptt发送通道"),e.busy||e.otherDeviceHandled)t.next();else{if(e.removeStreamMonitor(),clearTimeout(e.timeoutTimer),e.endSpeakSended=!0,clearTimeout(e.sendTimer),e.sendTimer=null,e.startSpeakSended){var n=(new Date).getTime()-e.startTime;e.socketSend({header:{ver:4,st:d.MessageType.END_SPEAK,src:p.setDomain([e.options.user.userCode],A.domain.domainCode)[0],dst:p.setDomain([e.pttParams.chatCode],e.pttParams.type===d.ChatType.GROUP?A.domain.domainDefaultCode:A.domain.domainCode)[0],type:e.pttParams.type,optType:d.OptType.REQUEST,sn:f.setSnCache({onFailure:function(n){e.errorCodes.includes(n.resultCode)&&m.default({businessType:d.SignalType.PTT,code:n.resultCode,optExceptionType:d.ErrorUploadTypes.VLINE_SIGNAL,userCode:e.options.user.userCode,message:n.message||n.retMsg,messageId:n.sn}),t.error(n)},onSuccess:function(e){e.remark={duration:n},t.next(e)}})},body:{sn:e.pttSn,pt:window.KChatConfig.service.mediaSettings&&window.KChatConfig.service.mediaSettings.opus||10,remark:JSON.stringify({duration:n})}})}else t.next();e.handleShortDuration(),e.sendWebrtc.destory(),e.startSpeakSended=!1,e.pttResourceId=""}})).pipe(u.map((function(t){if(t){var n=void 0;try{n={srcCode:t.src.split("@")[0],chatCode:t.dst.split("@")[0],time:(new Date).getTime(),remark:t.remark,messageId:t.id,messageType:d.MessageType[d.MessageType[t.st]],type:d.ChatType[d.ChatType[t.type]],url:e.pttUrl,target:d.MessageTarget.SELF}}catch(e){throw console.log(t),h.default(4001,"endPTT信令响应字段格式错误","PTTModel endPTT")}return n.signalType=d.SignalType.PTT,p.handleRecvMessage(n),n}})))},t.prototype.handleShortDuration=function(){this.startSpeakSended&&this.readyBegin&&(new Date).getTime()-this.readyBegin<this.minConnectionTime&&(!this.busy&&!this.otherDeviceHandled&&!this.cutChannel&&this.emit("shortDuration"),this.readyBegin=null),this.cutChannel=!1},t.prototype.getPTT=function(e){console.log("开始建立ptt拉流通道"),this.sendWebrtc.destory(),this.recvWebrtc.destory(),this.pttMode=d.WebrtcMode.RECV,this.webrtc&&(this.readyBegin=null),this.recvWebrtc.startRemoteMedia({pttResourceId:e.pttResourceId,callee_id:p.setDomain([e.srcCode],e.type===d.ChatType.GROUP?A.domain.domainDefaultCode:A.domain.domainCode)[0]}),this.addStreamMonitor({chatCode:e.chatCode,type:e.type,talkType:d.TalkType.PTT,sn:e.sn})},t.prototype.stopListen=function(){console.log("===========销毁ptt接受通道"),this.removeStreamMonitor(),this.recvWebrtc.destory()},t.prototype.socketRequest=function(e){if(e){var t=void 0;try{t={srcCode:e.src.split("@")[0],chatCode:e.dst.split("@")[0],time:(new Date).getTime(),remark:JSON.parse(e.remark||"{}"),messageId:e.id,messageType:d.MessageType[d.MessageType[e.st]],type:d.ChatType[d.ChatType[e.type]],url:this.pttUrl,sn:e.bsn,target:d.MessageTarget.OTHER}}catch(t){throw console.log(e),h.default(4001,"socketRequest信令字段格式错误","PTTModel socketRequest")}t.srcCode===this.options.user.userCode&&(t.target=d.MessageTarget.SELF),t.signalType=d.SignalType.PTT,this.pttResourceId=t.remark.pttResourceId,p.handleRecvMessage(t),t.messageType===d.MessageType.START_SPEAK&&(this.webrtc&&(this.cutChannel=!0,this.pttMode===d.WebrtcMode.SEND?this.endPTT().subscribe():this.pttMode===d.WebrtcMode.RECV&&this.recvWebrtc.destory(),this.emit("channelInterrupt")),this.emit("startSpeak",t)),t.messageType===d.MessageType.END_SPEAK&&this.pttMode!==d.WebrtcMode.SEND&&(this.stopListen(),this.emit("endSpeak",t))}},t.prototype.socketResponse=function(e){f.handleSocketResponse(e)},t.prototype.addStreamMonitor=function(e){var t=this;this.removeStreamMonitor(),this.streamMonitor=setInterval((function(){t.monitorTime%3==0&&t.socketSend({header:{ver:4,st:d.MessageType.STREAM_MONITOR,src:p.setDomain([t.options.user.userCode],A.domain.domainCode)[0],dst:p.setDomain([e.chatCode],e.type===d.ChatType.GROUP?A.domain.domainDefaultCode:A.domain.domainCode)[0],optType:d.OptType.REQUEST,sn:f.setSnCache({onFailure:function(e){e.bsn===t.pttSn&&t.pttMode===d.WebrtcMode.SEND?(t.endPTT().subscribe(),t.emit("error",new Error(e.retMsg))):t.removeStreamMonitor(),416===e.resultCode&&t.removeStreamMonitor(),t.errorCodes.includes(e.resultCode)&&m.default({businessType:d.SignalType.PTT,code:e.resultCode,optExceptionType:d.ErrorUploadTypes.VLINE_SIGNAL,userCode:t.options.user.userCode,message:e.message||e.retMsg,messageId:e.sn})}})},body:{monitorBusiBodys:{code:p.setDomain([e.chatCode],e.type===d.ChatType.GROUP?A.domain.domainDefaultCode:A.domain.domainCode)[0],talkType:e.talkType||d.TalkType.UNKNOW,chatType:e.type,sn:e.sn}}}),t.monitorTime++}),1e3)},t.prototype.removeStreamMonitor=function(){clearInterval(this.streamMonitor),this.streamMonitor=null,this.monitorTime=0},t}(i.EventEmitter);t.default=y},function(e,t,n){var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),s=n(148),a=n(119),u=n(25),c=n(23),l=n(121),d=n(5),f=n(1),p=function(e){function t(t,n){var r=e.call(this)||this;return r.options=t,r.heartTime=0,r.heartBeat=null,r._name=f.WebrtcMode.SEND,r.pttRecving=!1,r.options=t,r._name=n,window.addEventListener("beforeunload",(function(){r.destory()})),r}return o(t,e),t.prototype.stopMedia=function(){this.socketModel.send(JSON.stringify({account_token:"",cmd_type:"audio_call",request_type:"stop"}))},t.prototype.sendMediaStartSignal=function(e){var t=this;this.createSocketModel(),this.socketModel.once("open",(function(){t.webrtc&&(t.socketModel.send(JSON.stringify({account_token:"",cmd_type:"audio_call",request_type:"start",device_id:e.pttResourceId,audio_format:t.options.audioCallFormat||"opus",related_request_id:l.genRelatedId(),request_id:e.requestId,stun_server:u.server.stun||"",caller_id:e.caller_id})),t.handlerHeart())}))},t.prototype.startRemoteMedia=function(e){this.createWebrtc(),this.webrtc.createPeerConnection(),this.sendRemoteMediaStartSignal(e)},t.prototype.stopRemoteMedia=function(){this.socketModel.send(JSON.stringify({account_token:"",cmd_type:"live",request_type:"stop"}))},t.prototype.sendRemoteMediaStartSignal=function(e){var t=this;this.createSocketModel(),this.socketModel.once("open",(function(){t.socketModel.send(JSON.stringify({account_token:"",cmd_type:"live",request_type:"start",device_id:e.pttResourceId,related_request_id:l.genRelatedId(),request_id:l.genRequestId(),stun_server:u.server.stun||"",callee_id:e.callee_id})),t.handlerHeart(),t.pttRecving=!0,t.once("onaddstream",(function(e){t.emit("receiveStream",e)})),t.once("onError",(function(e){t.emit("error",e)}))}))},t.prototype.createSocketModel=function(){var e=this;this.socketModel=new a.default({host:u.server.webrtc}),this.socketModel.on("error",(function(t){e.emit("error",c.default(3002,t.message,"PTTWebrtc createSocketModel"))})),this.socketModel.on("message",this.onMessage.bind(this)),this.socketModel.on("connect_error",(function(){e.emit("ws_connect_error","WebSocket connect error.")})),this.socketModel.on("close",(function(){e.emit("ws_close","WebSocket is closed.")}))},t.prototype.onMessage=function(e){var t=this;if("message"===e.type){var n=JSON.parse(e.data);if(n.error&&this.emit("error",c.default(3002,n.error_string||"webrtc connection error","PTTWebrtc onMessage")),"ice"===n.cmd_type&&"offer"===n.request_type){var r=this.webrtc.getRTCSessionDescription();r.sdp=n.sdp,r.type="offer",this.webrtc.handleOffer(r).then((function(){t.sendAnswer()}))}}},t.prototype.sendAnswer=function(){var e=this;this.webrtc.createAnswer().then((function(t){e.webrtc.createOfferSuccess(t),e.socketModel.send(JSON.stringify({account_token:"",cmd_type:"ice",request_type:"answer",sdp:t.sdp}))}))},t.prototype.createWebrtc=function(){var e=this;this.webrtc=new s.default,this.webrtc.on("mediaSetBroken",(function(t){return e.emit("mediaSetBroken",t)})),this.webrtc.on("onicecandidate",this.onIcecandidate.bind(this)),this.webrtc.on("onaddstream",(function(t){return e.emit("onaddstream",t.stream)})),this.webrtc.on("onerror",(function(t){return e.emit("onError",t)})),this.webrtc.on("captureFailed",(function(){return e.emit("captureFailed")}))},t.prototype.onIcecandidate=function(e){null!==e.candidate&&this.sendCandidate(e)},t.prototype.sendCandidate=function(e){this.socketModel.send(JSON.stringify({account_token:"",cmd_type:"ice",request_type:"candidate",candidate:e.candidate.candidate}))},t.prototype.destory=function(e){void 0===e&&(e=!1),this.webrtc&&(this.webrtc.handleLeave(e),this.webrtc=null,this.socketModel&&(this._name===f.WebrtcMode.SEND&&this.stopMedia(),this._name===f.WebrtcMode.RECV&&this.pttRecving&&(this.stopRemoteMedia(),this.pttRecving=!1),this.handlerHeart(),this.socketModel.close(),this.socketModel=null))},t.prototype.createStream=function(e){var t=this;return this.createWebrtc(),this.webrtc.createStream({audio:!0,video:!1}).pipe(d.map((function(n){return t.webrtc&&t.sendMediaStartSignal(e),n})))},t.prototype.handlerHeart=function(){var e=this;this.heartBeat?(this.heartTime=0,clearInterval(this.heartBeat),this.heartBeat=null):(this.heartTime=0,this.heartBeat=setInterval((function(){e.heartTime++,e.heartTime%10==0&&e.socketModel&&e.socketModel.send(JSON.stringify({account_token:"",cmd_type:"detect",request_type:"heartbeat"}))}),1e3))},t}(i.EventEmitter);t.default=p},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(52),i=n(13),s=n(6),a=function(){function e(){var e=this;this.popups=[],i.fromEvent(window,"click").subscribe((function(t){e.persist(t)}))}return e.prototype.persist=function(e){var t=this;this.popups.forEach((function(n){n.targets.some((function(t){return s.isDescendant(e.target||e,t.current)}))||t.remove(n)}))},e.prototype.add=function(e){var t=this,n=this.popupFilter(e.compat),o=n.compat,i=n.incompat;return i.forEach((function(e){return t.remove(e)})),this.popups=r([e],o),e&&e.show(),i},e.prototype.remove=function(e){e&&e.hide(),this.popups=this.popups.filter((function(t){return t.name!==e.name}))},e.prototype.popupFilter=function(e){return void 0===e&&(e=[]),{compat:this.popups.filter((function(t){return-1!==o.inArray(t.name,e)})),incompat:this.popups.filter((function(t){return-1===o.inArray(t.name,e)}))}},e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(91),o=n(233),i=n(295),s=n(296);t.flattenNames=function(e){void 0===e&&(e=[]);var n=[];return o(e,(function(e){Array.isArray(e)?t.flattenNames(e).map((function(e){return n.push(e)})):i(e)?r(e,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):s(e)&&n.push(e)})),n},t.default=t.flattenNames},function(e,t,n){var r=n(223)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var u=s[e?a:++o];if(!1===n(i[u],u,i))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(59),o=n(54);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t,n){var r=n(85),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[a]=n:delete e[a]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(59),o=n(123),i=n(54),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!s[r(e)]}},function(e,t,n){var r=n(126),o=n(231),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(155)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(157);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(158),o=n(234),i=n(292),s=n(41);e.exports=function(e,t){return(s(e)?r:i)(e,o(t,3))}},function(e,t,n){var r=n(235),o=n(279),i=n(157),s=n(41),a=n(289);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?o(e[0],e[1]):r(e):a(e)}},function(e,t,n){var r=n(236),o=n(278),i=n(168);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(127),o=n(160);e.exports=function(e,t,n,i){var s=n.length,a=s,u=!i;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var l=(c=n[s])[0],d=e[l],f=c[1];if(u&&c[2]){if(void 0===d&&!(l in e))return!1}else{var p=new r;if(i)var A=i(d,f,l,e,t,p);if(!(void 0===A?o(f,d,3,i,p):A))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(95),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(95);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(95);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(95);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(94);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(94),o=n(129),i=n(130);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(156),o=n(248),i=n(67),s=n(159),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:a).test(s(e))}},function(e,t,n){var r,o=n(249),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(45)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(252),o=n(94),i=n(129);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(253),o=n(254),i=n(255),s=n(256),a=n(257);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=a,e.exports=u},function(e,t,n){var r=n(96);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(96),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(96),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(96);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(97);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(97);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(97);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(97);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(127),o=n(161),i=n(269),s=n(272),a=n(98),u=n(41),c=n(122),l=n(154),d="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,A,g){var h=u(e),m=u(t),y=h?"[object Array]":a(e),v=m?"[object Array]":a(t),b=(y="[object Arguments]"==y?d:y)==d,E=(v="[object Arguments]"==v?d:v)==d,C=y==v;if(C&&c(e)){if(!c(t))return!1;h=!0,b=!1}if(C&&!b)return g||(g=new r),h||l(e)?o(e,t,n,p,A,g):i(e,t,y,n,p,A,g);if(!(1&n)){var T=b&&f.call(e,"__wrapped__"),S=E&&f.call(t,"__wrapped__");if(T||S){var x=T?e.value():e,_=S?t.value():t;return g||(g=new r),A(x,_,n,p,g)}}return!!C&&(g||(g=new r),s(e,t,n,p,A,g))}},function(e,t,n){var r=n(130),o=n(265),i=n(266);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,e.exports=s},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(85),o=n(162),i=n(128),s=n(161),a=n(270),u=n(271),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var A=1&r;if(p||(p=u),e.size!=t.size&&!A)return!1;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var h=s(p(e),p(t),r,c,d,f);return f.delete(e),h;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(163),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,s,a){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var d=l;d--;){var f=c[d];if(!(u?f in t:o.call(t,f)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var A=!0;a.set(e,t),a.set(t,e);for(var g=u;++d<l;){var h=e[f=c[d]],m=t[f];if(i)var y=u?i(m,h,f,t,e,a):i(h,m,f,e,t,a);if(!(void 0===y?h===m||s(h,m,n,i,a):y)){A=!1;break}g||(g="constructor"==f)}if(A&&!g){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(A=!1)}return a.delete(e),a.delete(t),A}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}},function(e,t,n){var r=n(60)(n(45),"DataView");e.exports=r},function(e,t,n){var r=n(60)(n(45),"Promise");e.exports=r},function(e,t,n){var r=n(60)(n(45),"Set");e.exports=r},function(e,t,n){var r=n(60)(n(45),"WeakMap");e.exports=r},function(e,t,n){var r=n(167),o=n(84);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,r(s)]}return t}},function(e,t,n){var r=n(160),o=n(280),i=n(286),s=n(132),a=n(167),u=n(168),c=n(99);e.exports=function(e,t){return s(e)&&a(t)?u(c(e),t):function(n){var s=o(n,e);return void 0===s&&s===t?i(n,e):r(t,s,3)}}},function(e,t,n){var r=n(169);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(282),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=s},function(e,t,n){var r=n(283);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(130);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(285);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(85),o=n(158),i=n(41),s=n(133),a=r?r.prototype:void 0,u=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(s(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r=n(287),o=n(288);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(170),o=n(151),i=n(41),s=n(153),a=n(123),u=n(99);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,d=!1;++c<l;){var f=u(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=l?d:!!(l=null==e?0:e.length)&&a(l)&&s(f,l)&&(i(e)||o(e))}},function(e,t,n){var r=n(290),o=n(291),i=n(132),s=n(99);e.exports=function(e){return i(e)?r(s(e)):o(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(169);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(293),o=n(93);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},function(e,t,n){var r=n(149),o=n(294)(r);e.exports=o},function(e,t,n){var r=n(93);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,s=t?i:-1,a=Object(n);(t?s--:++s<i)&&!1!==o(a[s],s,a););return n}}},function(e,t,n){var r=n(59),o=n(134),i=n(54),s=Function.prototype,a=Object.prototype,u=s.toString,c=a.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},function(e,t,n){var r=n(59),o=n(41),i=n(54);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(91),i=n(298);t.mergeClasses=function(e,t){void 0===t&&(t=[]);var n=e.default&&i(e.default)||{};return t.map((function(t){var i=e[t];return i&&o(i,(function(e,t){n[t]||(n[t]={}),n[t]=r(r({},n[t]),i[t])})),t})),n},t.default=t.mergeClasses},function(e,t,n){var r=n(299);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(127),o=n(300),i=n(171),s=n(302),a=n(303),u=n(306),c=n(307),l=n(308),d=n(309),f=n(163),p=n(310),A=n(98),g=n(311),h=n(312),m=n(317),y=n(41),v=n(122),b=n(319),E=n(67),C=n(321),T=n(84),S={};S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S["[object Function]"]=S["[object WeakMap]"]=!1,e.exports=function e(t,n,x,_,w,B){var I,R=1&n,O=2&n,N=4&n;if(x&&(I=w?x(t,_,w,B):x(t)),void 0!==I)return I;if(!E(t))return t;var M=y(t);if(M){if(I=g(t),!R)return c(t,I)}else{var U=A(t),L="[object Function]"==U||"[object GeneratorFunction]"==U;if(v(t))return u(t,R);if("[object Object]"==U||"[object Arguments]"==U||L&&!w){if(I=O||L?{}:m(t),!R)return O?d(t,a(I,t)):l(t,s(I,t))}else{if(!S[U])return w?t:{};I=h(t,U,R)}}B||(B=new r);var F=B.get(t);if(F)return F;B.set(t,I),C(t)?t.forEach((function(r){I.add(e(r,n,x,r,t,B))})):b(t)&&t.forEach((function(r,o){I.set(o,e(r,n,x,o,t,B))}));var P=N?O?p:f:O?keysIn:T,j=M?void 0:P(t);return o(j||t,(function(r,o){j&&(r=t[o=r]),i(I,o,e(r,n,x,o,t,B))})),I}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(60),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(100),o=n(84);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(100),o=n(173);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(67),o=n(126),i=n(305),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(45),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(92)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(100),o=n(131);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(100),o=n(174);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(164),o=n(174),i=n(173);e.exports=function(e){return r(e,i,o)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(135),o=n(313),i=n(314),s=n(315),a=n(316);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return i(e);case"[object Set]":return new u;case"[object Symbol]":return s(e)}}},function(e,t,n){var r=n(135);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(85),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(135);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(318),o=n(134),i=n(126);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(67),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(320),o=n(124),i=n(125),s=i&&i.isMap,a=s?o(s):r;e.exports=a},function(e,t,n){var r=n(98),o=n(54);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(322),o=n(124),i=n(125),s=i&&i.isSet,a=s?o(s):r;e.exports=a},function(e,t,n){var r=n(98),o=n(54);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(91),i={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},transformOrigin:function(e){return{msTransformOrigin:e,MozTransformOrigin:e,OTransformOrigin:e,WebkitTransformOrigin:e,transformOrigin:e}},animation:function(e){return{msAnimation:e,MozAnimation:e,OAnimation:e,WebkitAnimation:e,animation:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},lineClamp:function(e){return{msLineClamp:e,MozLineClamp:e,OLineClamp:e,WebkitLineClamp:e,lineClamp:e}},boxOrient:function(e){return{msBoxOrient:e,MozBoxOrient:e,OBoxOrient:e,WebkitBoxOrient:e,boxOrient:e}},extend:function(e,t){var n=t[e];return n||{extend:e}}};t.cssAutoprefix=function(e){var t={};return o(e,(function(e,n){var s={};o(e,(function(e,t){var n=i[t];n?s=r(r({},s),n(e)):s[t]=e})),t[n]=s})),t},t.default=t.cssAutoprefix},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(91),i={borderRadius:function(e){return{"-ms-border-adius":e,"-moz-border-radius":e,"-o-border-radius":e,"-webkit-border-radius":e,"border-radius":e}},boxShadow:function(e){return{"-ms-box-shadow":e,"-moz-box-shadow":e,"-o-box-shadow":e,"-webkit-box-shadow":e,"box-hadow":e}},userSelect:function(e){return{"-webkit-touch-callout":e,"-khtml-user-select":e,"-moz-user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"user-select":e}},flex:function(e){return{"-webkit-box-flex":e,"-moz-box-flex":e,"-webkit-flex":e,"-ms-flex":e,flex:e}},flexBasis:function(e){return{"-webkit-flex-basis":e,"flex-basis":e}},justifyContent:function(e){return{"-webkit-justify-content":e,"justify-content":e}},transition:function(e){return{"-ms-transition":e,"-moz-transition":e,"-o-transition":e,"-webkit-transition":e,transition:e}},transform:function(e){return{"-ms-transform":e,"-moz-transform":e,"-o-transform":e,"-webkit-transform":e,transform:e}},transformOrigin:function(e){return{"-ms-transform-origin":e,"-moz-transform-origin":e,"-o-transform-origin":e,"-webkit-transform-origin":e,"transform-origin":e}},animation:function(e){return{"-ms-animation":e,"-moz-animation":e,"-o-animation":e,"-webkit-animation":e,animation:e}},lineClamp:function(e){return{"-ms-line-clamp":e,"-moz-line-clamp":e,"-o-line-clamp":e,"-webkit-line-clamp":e,"line-clamp":e}},boxOrient:function(e){return{"-ms-box-orient":e,"-moz-box-orient":e,"-o-box-orient":e,"-webkit-box-orient":e,"box-orient":e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}};t.autoprefix=function(e){var t={};return o(e,(function(e,n){var o=i[n];o?t=r(r({},t),o(e)):t[n]=e})),t},t.default=t.autoprefix},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e,t){void 0===t&&(t=!0),n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(175),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,s=o?Symbol.for("react.portal"):60106,a=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,A=o?Symbol.for("react.memo"):60115,g=o?Symbol.for("react.lazy"):60116,h="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}function E(){}function C(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=b.prototype;var T=C.prototype=new E;T.constructor=C,r(T,b.prototype),T.isPureReactComponent=!0;var S={current:null},x=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:S.current}}function B(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g,R=[];function O(e,t,n,r){if(R.length){var o=R.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var u=!1;if(null===t)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case s:u=!0}}if(u)return r(o,t,""===n?"."+U(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+U(a=t[c],c);u+=e(a,l,r,o)}else if(null===t||"object"!=typeof t?l=null:l="function"==typeof(l=h&&t[h]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),c=0;!(a=t.next()).done;)u+=e(a=a.value,l=n+U(a,c++),r,o);else if("object"===a)throw r=""+t,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function U(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?P(e,r,n,(function(e){return e})):null!=e&&(B(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),r.push(e))}function P(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(I,"$&/")+"/"),M(e,F,t=O(t,i,r,o)),N(t)}var j={current:null};function D(){var e=j.current;if(null===e)throw Error(m(321));return e}var k={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return P(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,L,t=O(null,null,t,n)),N(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return P(e,t,null,(function(e){return e})),t},only:function(e){if(!B(e))throw Error(m(143));return e}},t.Component=b,t.Fragment=a,t.Profiler=c,t.PureComponent=C,t.StrictMode=u,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,t.cloneElement=function(e,t,n){if(null==e)throw Error(m(267,e));var o=r({},e.props),s=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)x.call(t,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=B,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:A,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="16.13.1"},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=a(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function A(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new A(e,t)),1!==c.length||l||a(p)},A.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/groupDefaultHeader.png"},function(e,t,n){e.exports=n.p+"./static/kchat203/images/maleDefaultHeader.png"},function(e,t,n){e.exports=n.p+"./static/kchat203/images/femaleDefaultHeader.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(5),i=n(36),s=n(28),a=n(2),u=n(13),c=n(176),l=n(332);t.default=function(e){var t=function(t){return t&&t!==e.tree.name?e.tree.selectTree(t):e.tree};function n(t,n){return s.createObserver((function(r){e.rxjsEvent.subscribe(t,u.of(n),{next:function(e){return r.next(e)},error:function(e){console.log(e),r.error(e)}})}))}return{name:e.name,options:e.options,getVersion:function(){return a.toJS(e.store.version)},setLoginType:function(t,n){return e.setLoginType(t,n)},setFixedStatus:function(t){return e.setFixedStatus(t)},getTreeMap:function(e){return t(e).getTreeMap()},render:function(e){return t(e).render(),!0},destory:function(e){return t(e).destory(),!0},getTheme:function(e){return t(e).getTheme()},getObservableTheme:function(e){return t(e).options.styles},getCurThemeName:function(e){return t(e).getCurThemeName()},getThemeNameList:function(e){return t(e).getThemeNames()},addTheme:function(e,n,r){var o=t(r);return s.createObserver((function(t){"string"==typeof e&&e.startsWith("http")?i.default.getJSON(e).subscribe({next:function(e){o.addTheme(e,n),t.next()},error:function(e){t.error(e)}}):e.name&&(o.addTheme(e,n),t.next())}))},setTheme:function(e,n){return void 0===e&&(e="default"),t(n).setTheme(e),!0},downloadTheme:function(e,n){return t(n).downloadTheme(e),!0},compareToDefaultTheme:function(e,n,r){if(void 0===r&&(r=!1),"default"===e)return{};var o={},i=o,s=function(e,t,n,r){Object.keys(e).forEach((function(o){t&&void 0!==t[o]&&t[o]!==e[o]&&(n[r]||(n[r]={}),n[r][o]=t[o])}))};if(function t(n){i.name=n.name,i.styles={};var r=n.options._styles.default,o=n.options._styles[e];if(o&&Object.keys(r).forEach((function(e){"assets"===e?o.assets&&r.assets&&(r.assets.fonts&&(i.styles.assets||(i.styles.assets={}),s(r.assets.fonts,o.assets.fonts,i.styles.assets,"fonts")),r.assets.images&&(i.styles.assets||(i.styles.assets={}),s(r.assets.images,o.assets.images,i.styles.assets,"images"))):s(r[e],o[e],i.styles,e)})),n.children&&n.children.length>0){i.children=[];var a=i;n.children.forEach((function(e){a.children.push({}),i=a.children[a.children.length-1],t(e),i=a}))}}(t(n)),r){var a=e+"_vs_default_"+t(n).name+".json";c.blob2File(new Blob([JSON.stringify(o)],{type:"application/json"}),a)}return o},removeTheme:function(e,n){return t(n).removeTheme(e)},getEventNames:function(){return e.rxjsEvent.getEventNames()},addEventBeforeListenter:function(t,n){var r=o.map((function(e){return n(e),e}));return e.rxjsEvent.unshiftPipe(t,r),r},addEventAfterListener:function(t,n){var r=o.map((function(e){return n(e),e}));return e.rxjsEvent.addPipe(t,r),r},subscribeEvent:n,removeEventListener:function(t,n){return e.rxjsEvent.removePipe(t,n)},setChatMenu:function(t){var n=e.tree.selectTree("ChatFooter").options.store,r=!1;return Array.isArray(t)||(t=[t]),t.forEach((function(e){var t=e.name,o=e.toolTip,i=e.visible;n.chatMenus.some((function(e){return e.name===t?(void 0!==o&&(e.toolTip=o),void 0!==i&&(e.visible=i),r=!0,!0):e.children&&e.children.length>0?e.children.some((function(e){if(e.name===t)return void 0!==o&&(e.toolTip=o),void 0!==i&&(e.visible=i),r=!0,!0})):void 0}))})),r},setChatRightMouseMenu:function(e){return n(r.RxjsEventNames.SET_RIGHT_MOUSE,e)},groupOperation:function(e){return n(r.RxjsEventNames.GROUP_OPERATION,e)},addContactAndNextAction:function(e,t){return n(r.RxjsEventNames.ADD_CONTACT,e).pipe(o.concatMap((function(e){return e}))).pipe(o.concatMap((function(e){return n(r.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,Array.isArray(e)?e[0]:e).pipe(o.concatMap((function(){return(Array.isArray(e)?e[0]:e)&&t?n(r.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,t):u.of(null)})))})))},sendLocation:function(e,t){return n(r.RxjsEventNames.ADD_CONTACT,e).pipe(o.concatMap((function(e){return e}))).pipe(o.concatMap((function(e){return n(r.RxjsEventNames.BROADCAST_FORWARD_MESSAGE,{location:t,signalType:r.SignalType.LOCATION}).pipe(o.concatMap((function(){return n(r.RxjsEventNames.SELECTED_MEMBER_COMMIT,{type:r.SelectMemberType.FORWARD,list:[Array.isArray(e)?e[0]:e]})})))})))},CONSTANTS:r,subscribeEventNames:l.default,pipeFns:{map:o.map,concatMap:o.concatMap,filter:o.filter,catchError:o.catchError,concatAll:o.concatAll},createObFns:{of:u.of,createObserver:s.createObserver,fromEvent:u.fromEvent,zip:u.zip,merge:u.merge}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),i=(r={},["LOGIN_START","FORCE_LOGIN","LOGIN_OUT","ADD_UNREAD_MSG","UPDATE_TOTAL_MSG_LEN","SHOW_MESSAGE","SHOW_CONFIRM","UPDATE_HEADER_BACK_STATUS","ADD_CONTACT"].forEach((function(e){o.RxjsEventNames.hasOwnProperty(e)&&(r[e]=o.RxjsEventNames[e])})),r);t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(337),i=n(338),s=n(340),a=n(341),u=n(364),c=n(365),l=n(414),d=n(415),f=n(419),p=n(420),A=n(426),g=n(427),h=n(480),m=n(481),y=n(485),v=n(486),b=n(490),E=n(491),C=n(498),T=n(499),S=n(503),x=n(504),_=n(510),w=n(511),B=n(516),I=n(517),R=n(521),O=n(522),N=n(523),M=n(527),U=n(528),L=n(532),F=n(533),P=n(540),j=n(545),D=n(546),k=n(550),H=n(11),Q=n(1),G=n(86),V=n(551),K=n(555),W=n(12),z=n(13),X=n(6),Y=n(5);t.default=function e(t,n,J){return r.default("Container",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:J},[a.default(t,".kc-login-box",u.default()),c.default(t,".kc-panel-box",l.default()),d.default(t,".kc-select-members",f.default()),g.default(t,".kc-chat-box",h.default()),m.default(t,".kc-right-mouse-menu",y.default()),p.default(t,".kc-cut-img",A.default()),v.default(t,".kc-copy-board",b.default()),E.default(t,".kc-history-page",C.default()),T.default(t,".kc-ptt-page",S.default()),x.default(t,".kc-setting",_.default()),w.default(t,".kc-live-page",B.default()),I.default(t,".kc-live-invite",R.default()),N.default(t,".kc-inner-message",O.default()),U.default(t,".kc-map-page",M.default()),F.default(t,".kc-select-map-page",L.default()),P.default(t,".kc-confirm",j.default()),D.default(t,".kc-image-handle",k.default()),G.default(t,".kc-controller",[H.mounted("SetType",(function(){var e=this.store;e.type=Q.ControllerType.CONTAINER,e.isBig=!0})),H.mounted("ClickControllerMenu",(function(){var e=this.refs,t=this.store,n=W.default.getKChat(this.rootName).rxjsEvent;z.fromEvent(e.container.current,"click").subscribe((function(r){e.menus.some((function(o,i){if(X.isDescendant(r.target,o.current,e.container.current))return n.subscribe(Q.RxjsEventNames.CLICK_CONTROLLER,z.of({type:t.type,name:t.menus[i].name})),t.menus[i].name===Q.ControllerName.BIG?t.isBig=!0:t.isBig=!1,!0}))}))})),H.mounted("ResetController",(function(){var e=this.store,t=W.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=Y.map((function(t){return t.type!==e.type||e.isBig||(e.isBig=!0,n.subscribe(Q.RxjsEventNames.CLICK_CONTROLLER,z.of({type:e.type,name:Q.ControllerName.BIG}))),t}));n.addPipe(Q.RxjsEventNames.RESET_CONTROLLER,o);var i=Y.map((function(t){return z.merge(z.fromEvent(r.login,"loginOut"),z.fromEvent(r.login,"beCoercive")).subscribe((function(){e.isBig||(e.isBig=!0,n.subscribe(Q.RxjsEventNames.CLICK_CONTROLLER,z.of({type:e.type,name:Q.ControllerName.BIG})))})),t}));return n.addPipe(Q.RxjsEventNames.LOGIN_SUCCESS,i),function(){n.removePipe(Q.RxjsEventNames.RESET_CONTROLLER,o),n.removePipe(Q.RxjsEventNames.LOGIN_SUCCESS,i)}}))]).setName("ContainerController"),V.default(t,".kc-combind-message",K.default())])}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(7),o=n(175),i=n(335);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));function a(e,t,n,r,o,i,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var u=!1,c=null,l=!1,d=null,f={onError:function(e){u=!0,c=e}};function p(e,t,n,r,o,i,s,l,d){u=!1,c=null,a.apply(f,arguments)}var A=null,g=null,h=null;function m(e,t,n){var r=e.type||"unknown-event";e.currentTarget=h(n),function(e,t,n,r,o,i,a,f,A){if(p.apply(this,arguments),u){if(!u)throw Error(s(198));var g=c;u=!1,c=null,l||(l=!0,d=g)}}(r,t,void 0,e),e.currentTarget=null}var y=null,v={};function b(){if(y)for(var e in v){var t=v[e],n=y.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!C[n]){if(!t.extractEvents)throw Error(s(97,e));for(var r in C[n]=t,n=t.eventTypes){var o=void 0,i=n[r],a=t,u=r;if(T.hasOwnProperty(u))throw Error(s(99,u));T[u]=i;var c=i.phasedRegistrationNames;if(c){for(o in c)c.hasOwnProperty(o)&&E(c[o],a,u);o=!0}else i.registrationName?(E(i.registrationName,a,u),o=!0):o=!1;if(!o)throw Error(s(98,r,e))}}}}function E(e,t,n){if(S[e])throw Error(s(100,e));S[e]=t,x[e]=t.eventTypes[n].dependencies}var C=[],T={},S={},x={};function _(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!v.hasOwnProperty(t)||v[t]!==r){if(v[t])throw Error(s(102,t));v[t]=r,n=!0}}n&&b()}var w=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),B=null,I=null,R=null;function O(e){if(e=g(e)){if("function"!=typeof B)throw Error(s(280));var t=e.stateNode;t&&(t=A(t),B(e.stateNode,e.type,t))}}function N(e){I?R?R.push(e):R=[e]:I=e}function M(){if(I){var e=I,t=R;if(R=I=null,O(e),t)for(e=0;e<t.length;e++)O(t[e])}}function U(e,t){return e(t)}function L(e,t,n,r,o){return e(t,n,r,o)}function F(){}var P=U,j=!1,D=!1;function k(){null===I&&null===R||(F(),M())}function H(e,t,n){if(D)return e(t,n);D=!0;try{return P(e,t,n)}finally{D=!1,k()}}var Q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,V={},K={};function W(e,t,n,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){z[e]=new W(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];z[t]=new W(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){z[e]=new W(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){z[e]=new W(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){z[e]=new W(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){z[e]=new W(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){z[e]=new W(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){z[e]=new W(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){z[e]=new W(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,Y);z[t]=new W(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,Y);z[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,Y);z[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){z[e]=new W(e,1,!1,e.toLowerCase(),null,!1)})),z.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){z[e]=new W(e,1,!1,e.toLowerCase(),null,!0)}));var J=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function q(e,t,n,r){var o=z.hasOwnProperty(t)?z[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!G.call(K,e)||!G.call(V,e)&&(Q.test(e)?K[e]=!0:(V[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}J.hasOwnProperty("ReactCurrentDispatcher")||(J.ReactCurrentDispatcher={current:null}),J.hasOwnProperty("ReactCurrentBatchConfig")||(J.ReactCurrentBatchConfig={suspense:null});var $=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,oe=Z?Symbol.for("react.profiler"):60114,ie=Z?Symbol.for("react.provider"):60109,se=Z?Symbol.for("react.context"):60110,ae=Z?Symbol.for("react.concurrent_mode"):60111,ue=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,de=Z?Symbol.for("react.memo"):60115,fe=Z?Symbol.for("react.lazy"):60116,pe=Z?Symbol.for("react.block"):60121,Ae="function"==typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ae&&e[Ae]||e["@@iterator"])?e:null}function he(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case oe:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case se:return"Context.Consumer";case ie:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return he(e.type);case pe:return he(e.render);case fe:if(e=1===e._status?e._result:null)return he(e)}return null}function me(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=he(e.type);n=null,r&&(n=he(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace($,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=ve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ve(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ce(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&q(e,"checked",t,!1)}function xe(e,t){Se(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?we(e,t.type,n):t.hasOwnProperty("defaultValue")&&we(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _e(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function we(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Be(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ie(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ne(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ue="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var je,De=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((je=je||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=je.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ke(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function He(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qe={animationend:He("Animation","AnimationEnd"),animationiteration:He("Animation","AnimationIteration"),animationstart:He("Animation","AnimationStart"),transitionend:He("Transition","TransitionEnd")},Ge={},Ve={};function Ke(e){if(Ge[e])return Ge[e];if(!Qe[e])return e;var t,n=Qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ve)return Ge[e]=n[t];return e}w&&(Ve=document.createElement("div").style,"AnimationEvent"in window||(delete Qe.animationend.animation,delete Qe.animationiteration.animation,delete Qe.animationstart.animation),"TransitionEvent"in window||delete Qe.transitionend.transition);var We=Ke("animationend"),ze=Ke("animationiteration"),Xe=Ke("animationstart"),Ye=Ke("transitionend"),Je="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qe=new("function"==typeof WeakMap?WeakMap:Map);function $e(e){var t=qe.get(e);return void 0===t&&(t=new Map,qe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(s(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return tt(o),e;if(i===r)return tt(o),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var it=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)m(e,t[r],n[r]);else t&&m(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function at(e){if(null!==e&&(it=rt(it,e)),e=it,it=null,e){if(ot(e,st),it)throw Error(s(95));if(l)throw e=d,l=!1,d=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!w)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var lt=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function ft(e,t,n,r){if(lt.length){var o=lt.pop();return o.topLevelType=e,o.eventSystemFlags=r,o.nativeEvent=t,o.targetInst=n,o}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=wn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=ut(e.nativeEvent);r=e.topLevelType;var i=e.nativeEvent,s=e.eventSystemFlags;0===n&&(s|=64);for(var a=null,u=0;u<C.length;u++){var c=C[u];c&&(c=c.extractEvents(r,t,i,o,s))&&(a=rt(a,c))}at(a)}}function At(e,t,n){if(!n.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Je.indexOf(e)&&zt(e,t)}n.set(e,null)}}var gt,ht,mt,yt=!1,vt=[],bt=null,Et=null,Ct=null,Tt=new Map,St=new Map,xt=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),wt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Bt(e,t,n,r,o){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:o,container:r}}function It(e,t){switch(e){case"focus":case"blur":bt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function Rt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=Bt(t,n,r,o,i),null!==t&&(null!==(t=Bn(t))&&ht(t)),e):(e.eventSystemFlags|=r,e)}function Ot(e){var t=wn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,(function(){mt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Bn(t);return null!==n&&ht(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){Nt(e)&&n.delete(t)}function Ut(){for(yt=!1;0<vt.length;){var e=vt[0];if(null!==e.blockedOn){null!==(e=Bn(e.blockedOn))&&gt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:vt.shift()}null!==bt&&Nt(bt)&&(bt=null),null!==Et&&Nt(Et)&&(Et=null),null!==Ct&&Nt(Ct)&&(Ct=null),Tt.forEach(Mt),St.forEach(Mt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Ft(e){function t(t){return Lt(t,e)}if(0<vt.length){Lt(vt[0],e);for(var n=1;n<vt.length;n++){var r=vt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==bt&&Lt(bt,e),null!==Et&&Lt(Et,e),null!==Ct&&Lt(Ct,e),Tt.forEach(t),St.forEach(t),n=0;n<xt.length;n++)(r=xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<xt.length&&null===(n=xt[0]).blockedOn;)Ot(n),null===n.blockedOn&&xt.shift()}var Pt={},jt=new Map,Dt=new Map,kt=["abort","abort",We,"animationEnd",ze,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Ht(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1],i="on"+(o[0].toUpperCase()+o.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:t},Dt.set(r,t),jt.set(r,i),Pt[o]=i}}Ht("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ht("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ht(kt,2);for(var Qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Gt=0;Gt<Qt.length;Gt++)Dt.set(Qt[Gt],0);var Vt=i.unstable_UserBlockingPriority,Kt=i.unstable_runWithPriority,Wt=!0;function zt(e,t){Xt(t,e,!1)}function Xt(e,t,n){var r=Dt.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=Jt.bind(null,t,1,e);break;default:r=qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){j||F();var o=qt,i=j;j=!0;try{L(o,e,t,n,r)}finally{(j=i)||k()}}function Jt(e,t,n,r){Kt(Vt,qt.bind(null,e,t,n,r))}function qt(e,t,n,r){if(Wt)if(0<vt.length&&-1<_t.indexOf(e))e=Bt(null,e,t,n,r),vt.push(e);else{var o=$t(e,t,n,r);if(null===o)It(e,r);else if(-1<_t.indexOf(e))e=Bt(o,e,t,n,r),vt.push(e);else if(!function(e,t,n,r,o){switch(t){case"focus":return bt=Rt(bt,e,t,n,r,o),!0;case"dragenter":return Et=Rt(Et,e,t,n,r,o),!0;case"mouseover":return Ct=Rt(Ct,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Tt.set(i,Rt(Tt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,St.set(i,Rt(St.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r)){It(e,r),e=ft(e,r,null,t);try{H(pt,e)}finally{dt(e)}}}}function $t(e,t,n,r){if(null!==(n=wn(n=ut(r)))){var o=Ze(n);if(null===o)n=null;else{var i=o.tag;if(13===i){if(null!==(n=et(o)))return n;n=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}e=ft(e,r,n,t);try{H(pt,e)}finally{dt(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=Ue;function un(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=x[t];for(var r=0;r<t.length;r++)At(t[r],e,n)}function cn(){}function ln(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function pn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn=null,hn=null;function mn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vn="function"==typeof setTimeout?setTimeout:void 0,bn="function"==typeof clearTimeout?clearTimeout:void 0;function En(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),Sn="__reactInternalInstance$"+Tn,xn="__reactEventHandlers$"+Tn,_n="__reactContainere$"+Tn;function wn(e){var t=e[Sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[Sn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cn(e);null!==e;){if(n=e[Sn])return n;e=Cn(e)}return t}n=(e=n).parentNode}return null}function Bn(e){return!(e=e[Sn]||e[_n])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function In(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Rn(e){return e[xn]||null}function On(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Nn(e,t){var n=e.stateNode;if(!n)return null;var r=A(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}function Mn(e,t,n){(t=Nn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Un(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=On(t);for(t=n.length;0<t--;)Mn(n[t],"captured",e);for(t=0;t<n.length;t++)Mn(n[t],"bubbled",e)}}function Ln(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Nn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Fn(e){e&&e.dispatchConfig.registrationName&&Ln(e._targetInst,null,e)}function Pn(e){ot(e,Un)}var jn=null,Dn=null,kn=null;function Hn(){if(kn)return kn;var e,t,n=Dn,r=n.length,o="value"in jn?jn.value:jn.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return kn=o.slice(e,1<t?1-t:void 0)}function Qn(){return!0}function Gn(){return!1}function Vn(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Qn:Gn,this.isPropagationStopped=Gn,this}function Kn(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function Wn(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function zn(e){e.eventPool=[],e.getPooled=Kn,e.release=Wn}o(Vn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){this.isPersistent=Qn},isPersistent:Gn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Gn,this._dispatchInstances=this._dispatchListeners=null}}),Vn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Vn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,zn(n),n},zn(Vn);var Xn=Vn.extend({data:null}),Yn=Vn.extend({data:null}),Jn=[9,13,27,32],qn=w&&"CompositionEvent"in window,$n=null;w&&"documentMode"in document&&($n=document.documentMode);var Zn=w&&"TextEvent"in window&&!$n,er=w&&(!qn||$n&&8<$n&&11>=$n),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function or(e,t){switch(e){case"keyup":return-1!==Jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ir(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var sr=!1;var ar={eventTypes:nr,extractEvents:function(e,t,n,r){var o;if(qn)e:{switch(e){case"compositionstart":var i=nr.compositionStart;break e;case"compositionend":i=nr.compositionEnd;break e;case"compositionupdate":i=nr.compositionUpdate;break e}i=void 0}else sr?or(e,n)&&(i=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=nr.compositionStart);return i?(er&&"ko"!==n.locale&&(sr||i!==nr.compositionStart?i===nr.compositionEnd&&sr&&(o=Hn()):(Dn="value"in(jn=r)?jn.value:jn.textContent,sr=!0)),i=Xn.getPooled(i,t,n,r),o?i.data=o:null!==(o=ir(n))&&(i.data=o),Pn(i),o=i):o=null,(e=Zn?function(e,t){switch(e){case"compositionend":return ir(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(sr)return"compositionend"===e||!qn&&or(e,t)?(e=Hn(),kn=Dn=jn=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Yn.getPooled(nr.beforeInput,t,n,r)).data=e,Pn(t)):t=null,null===o?t:null===t?o:[o,t]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ur[e.type]:"textarea"===t}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(e,t,n){return(e=Vn.getPooled(lr.change,e,t,n)).type="change",N(n),Pn(e),e}var fr=null,pr=null;function Ar(e){at(e)}function gr(e){if(Ee(In(e)))return e}function hr(e,t){if("change"===e)return t}var mr=!1;function yr(){fr&&(fr.detachEvent("onpropertychange",vr),pr=fr=null)}function vr(e){if("value"===e.propertyName&&gr(pr))if(e=dr(pr,e,ut(e)),j)at(e);else{j=!0;try{U(Ar,e)}finally{j=!1,k()}}}function br(e,t,n){"focus"===e?(yr(),pr=n,(fr=t).attachEvent("onpropertychange",vr)):"blur"===e&&yr()}function Er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gr(pr)}function Cr(e,t){if("click"===e)return gr(t)}function Tr(e,t){if("input"===e||"change"===e)return gr(t)}w&&(mr=ct("input")&&(!document.documentMode||9<document.documentMode));var Sr={eventTypes:lr,_isInputEventSupported:mr,extractEvents:function(e,t,n,r){var o=t?In(t):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var s=hr;else if(cr(o))if(mr)s=Tr;else{s=Er;var a=br}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(s=Cr);if(s&&(s=s(e,t)))return dr(s,n,r);a&&a(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&we(o,"number",o.value)}},xr=Vn.extend({view:null,detail:null}),_r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_r[e])&&!!t[e]}function Br(){return wr}var Ir=0,Rr=0,Or=!1,Nr=!1,Mr=xr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Br,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ir;return Ir=e.screenX,Or?"mousemove"===e.type?e.screenX-t:0:(Or=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Rr;return Rr=e.screenY,Nr?"mousemove"===e.type?e.screenY-t:0:(Nr=!0,0)}}),Ur=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Lr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fr={eventTypes:Lr,extractEvents:function(e,t,n,r,o){var i="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(i&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!s&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,s)?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?wn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var a=Mr,u=Lr.mouseLeave,c=Lr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=Ur,u=Lr.pointerLeave,c=Lr.pointerEnter,l="pointer");if(e=null==s?i:In(s),i=null==t?i:In(t),(u=a.getPooled(u,s,n,r)).type=l+"leave",u.target=e,u.relatedTarget=i,(n=a.getPooled(c,t,n,r)).type=l+"enter",n.target=i,n.relatedTarget=e,l=t,(r=s)&&l)e:{for(c=l,s=0,e=a=r;e;e=On(e))s++;for(e=0,t=c;t;t=On(t))e++;for(;0<s-e;)a=On(a),s--;for(;0<e-s;)c=On(c),e--;for(;s--;){if(a===c||a===c.alternate)break e;a=On(a),c=On(c)}a=null}else a=null;for(c=a,a=[];r&&r!==c&&(null===(s=r.alternate)||s!==c);)a.push(r),r=On(r);for(r=[];l&&l!==c&&(null===(s=l.alternate)||s!==c);)r.push(l),l=On(l);for(l=0;l<a.length;l++)Ln(a[l],"bubbled",u);for(l=r.length;0<l--;)Ln(r[l],"captured",n);return 0==(64&o)?[u]:[u,n]}};var Pr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},jr=Object.prototype.hasOwnProperty;function Dr(e,t){if(Pr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!jr.call(t,n[r])||!Pr(e[n[r]],t[n[r]]))return!1;return!0}var kr=w&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qr=null,Gr=null,Vr=null,Kr=!1;function Wr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kr||null==Qr||Qr!==ln(n)?null:("selectionStart"in(n=Qr)&&An(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vr&&Dr(Vr,n)?null:(Vr=n,(e=Vn.getPooled(Hr.select,Gr,e,t)).type="select",e.target=Qr,Pn(e),e))}var zr={eventTypes:Hr,extractEvents:function(e,t,n,r,o,i){if(!(i=!(o=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{o=$e(o),i=x.onSelect;for(var s=0;s<i.length;s++)if(!o.has(i[s])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?In(t):window,e){case"focus":(cr(o)||"true"===o.contentEditable)&&(Qr=o,Gr=t,Vr=null);break;case"blur":Vr=Gr=Qr=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kr=!1,Wr(n,r);case"selectionchange":if(kr)break;case"keydown":case"keyup":return Wr(n,r)}return null}},Xr=Vn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yr=Vn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jr=xr.extend({relatedTarget:null});function qr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var $r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eo=xr.extend({key:function(e){if(e.key){var t=$r[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Br,charCode:function(e){return"keypress"===e.type?qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),to=Mr.extend({dataTransfer:null}),no=xr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Br}),ro=Vn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),oo=Mr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),io={eventTypes:Pt,extractEvents:function(e,t,n,r){var o=jt.get(e);if(!o)return null;switch(e){case"keypress":if(0===qr(n))return null;case"keydown":case"keyup":e=eo;break;case"blur":case"focus":e=Jr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=to;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=no;break;case We:case ze:case Xe:e=Xr;break;case Ye:e=ro;break;case"scroll":e=xr;break;case"wheel":e=oo;break;case"copy":case"cut":case"paste":e=Yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ur;break;default:e=Vn}return Pn(t=e.getPooled(o,t,n,r)),t}};if(y)throw Error(s(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),A=Rn,g=Bn,h=In,_({SimpleEventPlugin:io,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:Sr,SelectEventPlugin:zr,BeforeInputEventPlugin:ar});var so=[],ao=-1;function uo(e){0>ao||(e.current=so[ao],so[ao]=null,ao--)}function co(e,t){ao++,so[ao]=e.current,e.current=t}var lo={},fo={current:lo},po={current:!1},Ao=lo;function go(e,t){var n=e.type.contextTypes;if(!n)return lo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ho(e){return null!=(e=e.childContextTypes)}function mo(){uo(po),uo(fo)}function yo(e,t,n){if(fo.current!==lo)throw Error(s(168));co(fo,t),co(po,n)}function vo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,he(t)||"Unknown",i));return o({},n,{},r)}function bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lo,Ao=fo.current,co(fo,e),co(po,po.current),!0}function Eo(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=vo(e,t,Ao),r.__reactInternalMemoizedMergedChildContext=e,uo(po),uo(fo),co(fo,e)):uo(po),co(po,n)}var Co=i.unstable_runWithPriority,To=i.unstable_scheduleCallback,So=i.unstable_cancelCallback,xo=i.unstable_requestPaint,_o=i.unstable_now,wo=i.unstable_getCurrentPriorityLevel,Bo=i.unstable_ImmediatePriority,Io=i.unstable_UserBlockingPriority,Ro=i.unstable_NormalPriority,Oo=i.unstable_LowPriority,No=i.unstable_IdlePriority,Mo={},Uo=i.unstable_shouldYield,Lo=void 0!==xo?xo:function(){},Fo=null,Po=null,jo=!1,Do=_o(),ko=1e4>Do?_o:function(){return _o()-Do};function Ho(){switch(wo()){case Bo:return 99;case Io:return 98;case Ro:return 97;case Oo:return 96;case No:return 95;default:throw Error(s(332))}}function Qo(e){switch(e){case 99:return Bo;case 98:return Io;case 97:return Ro;case 96:return Oo;case 95:return No;default:throw Error(s(332))}}function Go(e,t){return e=Qo(e),Co(e,t)}function Vo(e,t,n){return e=Qo(e),To(e,t,n)}function Ko(e){return null===Fo?(Fo=[e],Po=To(Bo,zo)):Fo.push(e),Mo}function Wo(){if(null!==Po){var e=Po;Po=null,So(e)}zo()}function zo(){if(!jo&&null!==Fo){jo=!0;var e=0;try{var t=Fo;Go(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fo=null}catch(t){throw null!==Fo&&(Fo=Fo.slice(e+1)),To(Bo,Wo),t}finally{jo=!1}}}function Xo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Yo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Jo={current:null},qo=null,$o=null,Zo=null;function ei(){Zo=$o=qo=null}function ti(e){var t=Jo.current;uo(Jo),e.type._context._currentValue=t}function ni(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ri(e,t){qo=e,Zo=$o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Rs=!0),e.firstContext=null)}function oi(e,t){if(Zo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$o){if(null===qo)throw Error(s(308));$o=t,qo.dependencies={expirationTime:0,firstContext:t,responders:null}}else $o=$o.next=t;return e._currentValue}var ii=!1;function si(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ui(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ci(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function li(e,t){var n=e.alternate;null!==n&&ai(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function di(e,t,n,r){var i=e.updateQueue;ii=!1;var s=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==s){var u=s.next;s.next=a.next,a.next=u}s=a,i.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=a))}if(null!==s){u=s.next;var c=i.baseState,l=0,d=null,f=null,p=null;if(null!==u)for(var A=u;;){if((a=A.expirationTime)<r){var g={expirationTime:A.expirationTime,suspenseConfig:A.suspenseConfig,tag:A.tag,payload:A.payload,callback:A.callback,next:null};null===p?(f=p=g,d=c):p=p.next=g,a>l&&(l=a)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:A.suspenseConfig,tag:A.tag,payload:A.payload,callback:A.callback,next:null}),iu(a,A.suspenseConfig);e:{var h=e,m=A;switch(a=t,g=n,m.tag){case 1:if("function"==typeof(h=m.payload)){c=h.call(g,c,a);break e}c=h;break e;case 3:h.effectTag=-4097&h.effectTag|64;case 0:if(null==(a="function"==typeof(h=m.payload)?h.call(g,c,a):h))break e;c=o({},c,a);break e;case 2:ii=!0}}null!==A.callback&&(e.effectTag|=32,null===(a=i.effects)?i.effects=[A]:a.push(A))}if(null===(A=A.next)||A===u){if(null===(a=i.shared.pending))break;A=s.next=a.next,a.next=u,i.baseQueue=s=a,i.shared.pending=null}}null===p?d=c:p.next=f,i.baseState=d,i.baseQueue=p,su(l),e.expirationTime=l,e.memoizedState=c}}function fi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=o,o=n,"function"!=typeof r)throw Error(s(191,r));r.call(o)}}}var pi=J.ReactCurrentBatchConfig,Ai=(new r.Component).refs;function gi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var hi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Wa(),o=pi.suspense;(o=ui(r=za(r,e,o),o)).payload=t,null!=n&&(o.callback=n),ci(e,o),Xa(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Wa(),o=pi.suspense;(o=ui(r=za(r,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),ci(e,o),Xa(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Wa(),r=pi.suspense;(r=ui(n=za(n,e,r),r)).tag=2,null!=t&&(r.callback=t),ci(e,r),Xa(e,n)}};function mi(e,t,n,r,o,i,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Dr(n,r)||!Dr(o,i))}function yi(e,t,n){var r=!1,o=lo,i=t.contextType;return"object"==typeof i&&null!==i?i=oi(i):(o=ho(t)?Ao:fo.current,i=(r=null!=(r=t.contextTypes))?go(e,o):lo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=hi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function vi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hi.enqueueReplaceState(t,t.state,null)}function bi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Ai,si(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=oi(i):(i=ho(t)?Ao:fo.current,o.context=go(e,i)),di(e,n,o,r),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(gi(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&hi.enqueueReplaceState(o,o.state,null),di(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var Ei=Array.isArray;function Ci(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===Ai&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ti(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Si(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=_u(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Iu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Ci(e,t,n),r.return=e,r):((r=wu(n.type,n.key,n.props,null,e.mode,r)).ref=Ci(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ru(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Iu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=wu(t.type,t.key,t.props,null,e.mode,n)).ref=Ci(e,null,t),n.return=e,n;case te:return(t=Ru(t,e.mode,n)).return=e,t}if(Ei(t)||ge(t))return(t=Bu(t,e.mode,n,null)).return=e,t;Ti(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===o?n.type===ne?d(e,t,n.props.children,r,o):c(e,t,n,r):null;case te:return n.key===o?l(e,t,n,r):null}if(Ei(n)||ge(n))return null!==o?null:d(e,t,n,r,null);Ti(e,n)}return null}function A(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,o,r.key):c(t,e,r,o);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Ei(r)||ge(r))return d(t,e=e.get(n)||null,r,o,null);Ti(t,r)}return null}function g(o,s,a,u){for(var c=null,l=null,d=s,g=s=0,h=null;null!==d&&g<a.length;g++){d.index>g?(h=d,d=null):h=d.sibling;var m=p(o,d,a[g],u);if(null===m){null===d&&(d=h);break}e&&d&&null===m.alternate&&t(o,d),s=i(m,s,g),null===l?c=m:l.sibling=m,l=m,d=h}if(g===a.length)return n(o,d),c;if(null===d){for(;g<a.length;g++)null!==(d=f(o,a[g],u))&&(s=i(d,s,g),null===l?c=d:l.sibling=d,l=d);return c}for(d=r(o,d);g<a.length;g++)null!==(h=A(d,o,g,a[g],u))&&(e&&null!==h.alternate&&d.delete(null===h.key?g:h.key),s=i(h,s,g),null===l?c=h:l.sibling=h,l=h);return e&&d.forEach((function(e){return t(o,e)})),c}function h(o,a,u,c){var l=ge(u);if("function"!=typeof l)throw Error(s(150));if(null==(u=l.call(u)))throw Error(s(151));for(var d=l=null,g=a,h=a=0,m=null,y=u.next();null!==g&&!y.done;h++,y=u.next()){g.index>h?(m=g,g=null):m=g.sibling;var v=p(o,g,y.value,c);if(null===v){null===g&&(g=m);break}e&&g&&null===v.alternate&&t(o,g),a=i(v,a,h),null===d?l=v:d.sibling=v,d=v,g=m}if(y.done)return n(o,g),l;if(null===g){for(;!y.done;h++,y=u.next())null!==(y=f(o,y.value,c))&&(a=i(y,a,h),null===d?l=y:d.sibling=y,d=y);return l}for(g=r(o,g);!y.done;h++,y=u.next())null!==(y=A(g,o,h,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?h:y.key),a=i(y,a,h),null===d?l=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(o,e)})),l}return function(e,r,i,u){var c="object"==typeof i&&null!==i&&i.type===ne&&null===i.key;c&&(i=i.props.children);var l="object"==typeof i&&null!==i;if(l)switch(i.$$typeof){case ee:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(i.type===ne){n(e,c.sibling),(r=o(c,i.props.children)).return=e,e=r;break e}break;default:if(c.elementType===i.type){n(e,c.sibling),(r=o(c,i.props)).ref=Ci(e,c,i),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}i.type===ne?((r=Bu(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=wu(i.type,i.key,i.props,null,e.mode,u)).ref=Ci(e,r,i),u.return=e,e=u)}return a(e);case te:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ru(i,e.mode,u)).return=e,e=r}return a(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Iu(i,e.mode,u)).return=e,e=r),a(e);if(Ei(i))return g(e,r,i,u);if(ge(i))return h(e,r,i,u);if(l&&Ti(e,i),void 0===i&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var xi=Si(!0),_i=Si(!1),wi={},Bi={current:wi},Ii={current:wi},Ri={current:wi};function Oi(e){if(e===wi)throw Error(s(174));return e}function Ni(e,t){switch(co(Ri,t),co(Ii,e),co(Bi,wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pe(null,"");break;default:t=Pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}uo(Bi),co(Bi,t)}function Mi(){uo(Bi),uo(Ii),uo(Ri)}function Ui(e){Oi(Ri.current);var t=Oi(Bi.current),n=Pe(t,e.type);t!==n&&(co(Ii,e),co(Bi,n))}function Li(e){Ii.current===e&&(uo(Bi),uo(Ii))}var Fi={current:0};function Pi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ji(e,t){return{responder:e,props:t}}var Di=J.ReactCurrentDispatcher,ki=J.ReactCurrentBatchConfig,Hi=0,Qi=null,Gi=null,Vi=null,Ki=!1;function Wi(){throw Error(s(321))}function zi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pr(e[n],t[n]))return!1;return!0}function Xi(e,t,n,r,o,i){if(Hi=i,Qi=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Di.current=null===e||null===e.memoizedState?ms:ys,e=n(r,o),t.expirationTime===Hi){i=0;do{if(t.expirationTime=0,!(25>i))throw Error(s(301));i+=1,Vi=Gi=null,t.updateQueue=null,Di.current=vs,e=n(r,o)}while(t.expirationTime===Hi)}if(Di.current=hs,t=null!==Gi&&null!==Gi.next,Hi=0,Vi=Gi=Qi=null,Ki=!1,t)throw Error(s(300));return e}function Yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vi?Qi.memoizedState=Vi=e:Vi=Vi.next=e,Vi}function Ji(){if(null===Gi){var e=Qi.alternate;e=null!==e?e.memoizedState:null}else e=Gi.next;var t=null===Vi?Qi.memoizedState:Vi.next;if(null!==t)Vi=t,Gi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Gi=e).memoizedState,baseState:Gi.baseState,baseQueue:Gi.baseQueue,queue:Gi.queue,next:null},null===Vi?Qi.memoizedState=Vi=e:Vi=Vi.next=e}return Vi}function qi(e,t){return"function"==typeof t?t(e):t}function $i(e){var t=Ji(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Gi,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var u=a=i=null,c=o;do{var l=c.expirationTime;if(l<Hi){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(a=u=d,i=r):u=u.next=d,l>Qi.expirationTime&&(Qi.expirationTime=l,su(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),iu(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==o);null===u?i=r:u.next=a,Pr(r,t.memoizedState)||(Rs=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zi(e){var t=Ji(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);Pr(i,t.memoizedState)||(Rs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function es(e){var t=Yi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e}).dispatch=gs.bind(null,Qi,e),[t.memoizedState,e]}function ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qi.updateQueue)?(t={lastEffect:null},Qi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ns(){return Ji().memoizedState}function rs(e,t,n,r){var o=Yi();Qi.effectTag|=e,o.memoizedState=ts(1|t,n,void 0,void 0===r?null:r)}function os(e,t,n,r){var o=Ji();r=void 0===r?null:r;var i=void 0;if(null!==Gi){var s=Gi.memoizedState;if(i=s.destroy,null!==r&&zi(r,s.deps))return void ts(t,n,i,r)}Qi.effectTag|=e,o.memoizedState=ts(1|t,n,i,r)}function is(e,t){return rs(516,4,e,t)}function ss(e,t){return os(516,4,e,t)}function as(e,t){return os(4,2,e,t)}function us(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function cs(e,t,n){return n=null!=n?n.concat([e]):null,os(4,2,us.bind(null,t,e),n)}function ls(){}function ds(e,t){return Yi().memoizedState=[e,void 0===t?null:t],e}function fs(e,t){var n=Ji();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&zi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ps(e,t){var n=Ji();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&zi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function As(e,t,n){var r=Ho();Go(98>r?98:r,(function(){e(!0)})),Go(97<r?97:r,(function(){var r=ki.suspense;ki.suspense=void 0===t?null:t;try{e(!1),n()}finally{ki.suspense=r}}))}function gs(e,t,n){var r=Wa(),o=pi.suspense;o={expirationTime:r=za(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===Qi||null!==i&&i===Qi)Ki=!0,o.expirationTime=Hi,Qi.expirationTime=Hi;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.eagerReducer=i,o.eagerState=a,Pr(a,s))return}catch(e){}Xa(e,r)}}var hs={readContext:oi,useCallback:Wi,useContext:Wi,useEffect:Wi,useImperativeHandle:Wi,useLayoutEffect:Wi,useMemo:Wi,useReducer:Wi,useRef:Wi,useState:Wi,useDebugValue:Wi,useResponder:Wi,useDeferredValue:Wi,useTransition:Wi},ms={readContext:oi,useCallback:ds,useContext:oi,useEffect:is,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,rs(4,2,us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rs(4,2,e,t)},useMemo:function(e,t){var n=Yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=gs.bind(null,Qi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Yi().memoizedState=e},useState:es,useDebugValue:ls,useResponder:ji,useDeferredValue:function(e,t){var n=es(e),r=n[0],o=n[1];return is((function(){var n=ki.suspense;ki.suspense=void 0===t?null:t;try{o(e)}finally{ki.suspense=n}}),[e,t]),r},useTransition:function(e){var t=es(!1),n=t[0];return t=t[1],[ds(As.bind(null,t,e),[t,e]),n]}},ys={readContext:oi,useCallback:fs,useContext:oi,useEffect:ss,useImperativeHandle:cs,useLayoutEffect:as,useMemo:ps,useReducer:$i,useRef:ns,useState:function(){return $i(qi)},useDebugValue:ls,useResponder:ji,useDeferredValue:function(e,t){var n=$i(qi),r=n[0],o=n[1];return ss((function(){var n=ki.suspense;ki.suspense=void 0===t?null:t;try{o(e)}finally{ki.suspense=n}}),[e,t]),r},useTransition:function(e){var t=$i(qi),n=t[0];return t=t[1],[fs(As.bind(null,t,e),[t,e]),n]}},vs={readContext:oi,useCallback:fs,useContext:oi,useEffect:ss,useImperativeHandle:cs,useLayoutEffect:as,useMemo:ps,useReducer:Zi,useRef:ns,useState:function(){return Zi(qi)},useDebugValue:ls,useResponder:ji,useDeferredValue:function(e,t){var n=Zi(qi),r=n[0],o=n[1];return ss((function(){var n=ki.suspense;ki.suspense=void 0===t?null:t;try{o(e)}finally{ki.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zi(qi),n=t[0];return t=t[1],[fs(As.bind(null,t,e),[t,e]),n]}},bs=null,Es=null,Cs=!1;function Ts(e,t){var n=Su(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ss(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function xs(e){if(Cs){var t=Es;if(t){var n=t;if(!Ss(e,t)){if(!(t=En(n.nextSibling))||!Ss(e,t))return e.effectTag=-1025&e.effectTag|2,Cs=!1,void(bs=e);Ts(bs,n)}bs=e,Es=En(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Cs=!1,bs=e}}function _s(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;bs=e}function ws(e){if(e!==bs)return!1;if(!Cs)return _s(e),Cs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=Es;t;)Ts(e,t),t=En(t.nextSibling);if(_s(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Es=En(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Es=null}}else Es=bs?En(e.stateNode.nextSibling):null;return!0}function Bs(){Es=bs=null,Cs=!1}var Is=J.ReactCurrentOwner,Rs=!1;function Os(e,t,n,r){t.child=null===e?_i(t,null,n,r):xi(t,e.child,n,r)}function Ns(e,t,n,r,o){n=n.render;var i=t.ref;return ri(t,o),r=Xi(e,t,n,r,i,o),null===e||Rs?(t.effectTag|=1,Os(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Xs(e,t,o))}function Ms(e,t,n,r,o,i){if(null===e){var s=n.type;return"function"!=typeof s||xu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=wu(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Us(e,t,s,r,o,i))}return s=e.child,o<i&&(o=s.memoizedProps,(n=null!==(n=n.compare)?n:Dr)(o,r)&&e.ref===t.ref)?Xs(e,t,i):(t.effectTag|=1,(e=_u(s,r)).ref=t.ref,e.return=t,t.child=e)}function Us(e,t,n,r,o,i){return null!==e&&Dr(e.memoizedProps,r)&&e.ref===t.ref&&(Rs=!1,o<i)?(t.expirationTime=e.expirationTime,Xs(e,t,i)):Fs(e,t,n,r,i)}function Ls(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Fs(e,t,n,r,o){var i=ho(n)?Ao:fo.current;return i=go(t,i),ri(t,o),n=Xi(e,t,n,r,i,o),null===e||Rs?(t.effectTag|=1,Os(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Xs(e,t,o))}function Ps(e,t,n,r,o){if(ho(n)){var i=!0;bo(t)}else i=!1;if(ri(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yi(t,n,r),bi(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=oi(c):c=go(t,c=ho(n)?Ao:fo.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||u!==c)&&vi(t,s,r,c),ii=!1;var f=t.memoizedState;s.state=f,di(t,r,s,o),u=t.memoizedState,a!==r||f!==u||po.current||ii?("function"==typeof l&&(gi(t,n,l,r),u=t.memoizedState),(a=ii||mi(t,n,a,r,f,u,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,ai(e,t),a=t.memoizedProps,s.props=t.type===t.elementType?a:Yo(t.type,a),u=s.context,"object"==typeof(c=n.contextType)&&null!==c?c=oi(c):c=go(t,c=ho(n)?Ao:fo.current),(d="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||u!==c)&&vi(t,s,r,c),ii=!1,u=t.memoizedState,s.state=u,di(t,r,s,o),f=t.memoizedState,a!==r||u!==f||po.current||ii?("function"==typeof l&&(gi(t,n,l,r),f=t.memoizedState),(l=ii||mi(t,n,a,r,u,f,c))?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=c,r=l):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return js(e,t,n,r,i,o)}function js(e,t,n,r,o,i){Ls(e,t);var s=0!=(64&t.effectTag);if(!r&&!s)return o&&Eo(t,n,!1),Xs(e,t,i);r=t.stateNode,Is.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,a,i)):Os(e,t,a,i),t.memoizedState=r.state,o&&Eo(t,n,!0),t.child}function Ds(e){var t=e.stateNode;t.pendingContext?yo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yo(0,t.context,!1),Ni(e,t.containerInfo)}var ks,Hs,Qs,Gs={dehydrated:null,retryTime:0};function Vs(e,t,n){var r,o=t.mode,i=t.pendingProps,s=Fi.current,a=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&s)&&(null===e||null!==e.memoizedState)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),co(Fi,1&s),null===e){if(void 0!==i.fallback&&xs(t),a){if(a=i.fallback,(i=Bu(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Bu(a,o,n,null)).return=t,i.sibling=n,t.memoizedState=Gs,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=_i(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,a){if(i=i.fallback,(n=_u(e,e.pendingProps)).return=t,0==(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(o=_u(o,i)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=Gs,t.child=n,o}return n=xi(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=i.fallback,(i=Bu(null,o,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Bu(a,o,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=Gs,t.child=i,n}return t.memoizedState=null,t.child=xi(t,e,i.children,n)}function Ks(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ni(e.return,t)}function Ws(e,t,n,r,o,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=o,s.lastEffect=i)}function zs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Os(e,t,r.children,n),0!=(2&(r=Fi.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,n);else if(19===e.tag)Ks(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(co(Fi,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Pi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ws(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Pi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ws(t,!0,n,null,i,t.lastEffect);break;case"together":Ws(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&su(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=_u(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_u(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Js(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ho(t.type)&&mo(),null;case 3:return Mi(),uo(po),uo(fo),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!ws(t)||(t.effectTag|=4),null;case 5:Li(t),n=Oi(Ri.current);var i=t.type;if(null!==e&&null!=t.stateNode)Hs(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Oi(Bi.current),ws(t)){r=t.stateNode,i=t.type;var a=t.memoizedProps;switch(r[Sn]=t,r[xn]=a,i){case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(e=0;e<Je.length;e++)zt(Je[e],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"form":zt("reset",r),zt("submit",r);break;case"details":zt("toggle",r);break;case"input":Te(r,a),zt("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zt("invalid",r),un(n,"onChange");break;case"textarea":Oe(r,a),zt("invalid",r),un(n,"onChange")}for(var u in on(i,a),e=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"==typeof c?r.textContent!==c&&(e=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(e=["children",""+c]):S.hasOwnProperty(u)&&null!=c&&un(n,u)}switch(i){case"input":be(r),_e(r,a,!0);break;case"textarea":be(r),Me(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===an&&(e=Fe(i)),e===an?"script"===i?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(i,{is:r.is}):(e=u.createElement(i),"select"===i&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,i),e[Sn]=t,e[xn]=r,ks(e,t),t.stateNode=e,u=sn(i,r),i){case"iframe":case"object":case"embed":zt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Je.length;c++)zt(Je[c],e);c=r;break;case"source":zt("error",e),c=r;break;case"img":case"image":case"link":zt("error",e),zt("load",e),c=r;break;case"form":zt("reset",e),zt("submit",e),c=r;break;case"details":zt("toggle",e),c=r;break;case"input":Te(e,r),c=Ce(e,r),zt("invalid",e),un(n,"onChange");break;case"option":c=Be(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=o({},r,{value:void 0}),zt("invalid",e),un(n,"onChange");break;case"textarea":Oe(e,r),c=Re(e,r),zt("invalid",e),un(n,"onChange");break;default:c=r}on(i,c);var l=c;for(a in l)if(l.hasOwnProperty(a)){var d=l[a];"style"===a?nn(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&De(e,d):"children"===a?"string"==typeof d?("textarea"!==i||""!==d)&&ke(e,d):"number"==typeof d&&ke(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(S.hasOwnProperty(a)?null!=d&&un(n,a):null!=d&&q(e,a,d,u))}switch(i){case"input":be(e),_e(e,r,!1);break;case"textarea":be(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ie(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=cn)}mn(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Qs(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));n=Oi(Ri.current),Oi(Bi.current),ws(t)?(n=t.stateNode,r=t.memoizedProps,n[Sn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Sn]=t,t.stateNode=n)}return null;case 13:return uo(Fi),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&ws(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=i,i.nextEffect=a):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Fi.current)?wa===ba&&(wa=Ea):(wa!==ba&&wa!==Ea||(wa=Ca),0!==Na&&null!==Sa&&(Mu(Sa,_a),Uu(Sa,Na)))),(n||r)&&(t.effectTag|=4),null);case 4:return Mi(),null;case 10:return ti(t),null;case 17:return ho(t.type)&&mo(),null;case 19:if(uo(Fi),null===(r=t.memoizedState))return null;if(i=0!=(64&t.effectTag),null===(a=r.rendering)){if(i)Ys(r,!1);else if(wa!==ba||null!==e&&0!=(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=Pi(a))){for(t.effectTag|=64,Ys(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=a,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,a=e.dependencies,i.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return co(Fi,1&Fi.current|2),t.child}a=a.sibling}}else{if(!i)if(null!==(e=Pi(a))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ys(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ko()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,Ys(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ko()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ko(),n.sibling=null,t=Fi.current,co(Fi,i?1&t|2:1&t),n):null}throw Error(s(156,t.tag))}function qs(e){switch(e.tag){case 1:ho(e.type)&&mo();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Mi(),uo(po),uo(fo),0!=(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return Li(e),null;case 13:return uo(Fi),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return uo(Fi),null;case 4:return Mi(),null;case 10:return ti(e),null;default:return null}}function $s(e,t){return{value:e,source:t,stack:me(t)}}ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Hs=function(e,t,n,r,i){var s=e.memoizedProps;if(s!==r){var a,u,c=t.stateNode;switch(Oi(Bi.current),e=null,n){case"input":s=Ce(c,s),r=Ce(c,r),e=[];break;case"option":s=Be(c,s),r=Be(c,r),e=[];break;case"select":s=o({},s,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":s=Re(c,s),r=Re(c,r),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(c.onclick=cn)}for(a in on(n,r),n=null,s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(u in c=s[a])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(S.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var l=r[a];if(c=null!=s?s[a]:void 0,r.hasOwnProperty(a)&&l!==c&&(null!=l||null!=c))if("style"===a)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(a,n)),n=l;else"dangerouslySetInnerHTML"===a?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(a,l)):"children"===a?c===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(a,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(S.hasOwnProperty(a)?(null!=l&&un(i,a),e||c===l||(e=[])):(e=e||[]).push(a,l))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Qs=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Zs="function"==typeof WeakSet?WeakSet:Set;function ea(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=me(n)),null!==n&&he(n.type),t=t.value,null!==e&&1===e.tag&&he(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ta(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){yu(e,t)}else t.current=null}function na(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function ra(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function oa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ia(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void oa(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Yo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&mn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function sa(e,t,n){switch("function"==typeof Cu&&Cu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Go(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(e){yu(o,e)}}e=e.next}while(e!==r)}))}break;case 1:ta(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){yu(e,t)}}(t,n);break;case 5:ta(t);break;case 4:la(e,t,n)}}function aa(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&aa(t)}function ua(e){return 5===e.tag||3===e.tag||4===e.tag}function ca(e){e:{for(var t=e.return;null!==t;){if(ua(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(ke(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ua(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function la(e,t,n){for(var r,o,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,c=i,l=n,d=c;;)if(sa(u,d,l),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(u=r,c=i.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(sa(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function da(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ra(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[xn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),sn(e,o),t=sn(e,r),o=0;o<i.length;o+=2){var a=i[o],u=i[o+1];"style"===a?nn(n,u):"dangerouslySetInnerHTML"===a?De(n,u):"children"===a?ke(n,u):q(n,a,u,t)}switch(e){case"input":xe(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ie(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ie(n,!!r.multiple,r.defaultValue,!0):Ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ua=ko()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,i.style.display=tn("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fa(t);case 19:return void fa(t);case 17:return}throw Error(s(163))}function fa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var pa="function"==typeof WeakMap?WeakMap:Map;function Aa(e,t,n){(n=ui(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fa||(Fa=!0,Pa=r),ea(e,t)},n}function ga(e,t,n){(n=ui(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return ea(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ja?ja=new Set([this]):ja.add(this),ea(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ha,ma=Math.ceil,ya=J.ReactCurrentDispatcher,va=J.ReactCurrentOwner,ba=0,Ea=3,Ca=4,Ta=0,Sa=null,xa=null,_a=0,wa=ba,Ba=null,Ia=1073741823,Ra=1073741823,Oa=null,Na=0,Ma=!1,Ua=0,La=null,Fa=!1,Pa=null,ja=null,Da=!1,ka=null,Ha=90,Qa=null,Ga=0,Va=null,Ka=0;function Wa(){return 0!=(48&Ta)?1073741821-(ko()/10|0):0!==Ka?Ka:Ka=1073741821-(ko()/10|0)}function za(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Ho();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Ta))return _a;if(null!==n)e=Xo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Xo(e,150,100);break;case 97:case 96:e=Xo(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==Sa&&e===_a&&--e,e}function Xa(e,t){if(50<Ga)throw Ga=0,Va=null,Error(s(185));if(null!==(e=Ya(e,t))){var n=Ho();1073741823===t?0!=(8&Ta)&&0==(48&Ta)?Za(e):(qa(e),0===Ta&&Wo()):qa(e),0==(4&Ta)||98!==n&&99!==n||(null===Qa?Qa=new Map([[e,t]]):(void 0===(n=Qa.get(e))||n>t)&&Qa.set(e,t))}}function Ya(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(Sa===o&&(su(t),wa===Ca&&Mu(o,_a)),Uu(o,t)),o}function Ja(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Nu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function qa(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ko(Za.bind(null,e));else{var t=Ja(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Wa();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==Mo&&So(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ko(Za.bind(null,e)):Vo(r,$a.bind(null,e),{timeout:10*(1073741821-t)-ko()}),e.callbackNode=t}}}function $a(e,t){if(Ka=0,t)return Lu(e,t=Wa()),qa(e),null;var n=Ja(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ta))throw Error(s(327));if(gu(),e===Sa&&n===_a||nu(e,n),null!==xa){var r=Ta;Ta|=16;for(var o=ou();;)try{uu();break}catch(t){ru(e,t)}if(ei(),Ta=r,ya.current=o,1===wa)throw t=Ba,nu(e,n),Mu(e,n),qa(e),t;if(null===xa)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=wa,Sa=null,r){case ba:case 1:throw Error(s(345));case 2:Lu(e,2<n?2:n);break;case Ea:if(Mu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=du(o)),1073741823===Ia&&10<(o=Ua+500-ko())){if(Ma){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,nu(e,n);break}}if(0!==(i=Ja(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=vn(fu.bind(null,e),o);break}fu(e);break;case Ca:if(Mu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=du(o)),Ma&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,nu(e,n);break}if(0!==(o=Ja(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ra?r=10*(1073741821-Ra)-ko():1073741823===Ia?r=0:(r=10*(1073741821-Ia)-5e3,0>(r=(o=ko())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ma(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=vn(fu.bind(null,e),r);break}fu(e);break;case 5:if(1073741823!==Ia&&null!==Oa){i=Ia;var a=Oa;if(0>=(r=0|a.busyMinDurationMs)?r=0:(o=0|a.busyDelayMs,r=(i=ko()-(10*(1073741821-i)-(0|a.timeoutMs||5e3)))<=o?0:o+r-i),10<r){Mu(e,n),e.timeoutHandle=vn(fu.bind(null,e),r);break}}fu(e);break;default:throw Error(s(329))}if(qa(e),e.callbackNode===t)return $a.bind(null,e)}}return null}function Za(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ta))throw Error(s(327));if(gu(),e===Sa&&t===_a||nu(e,t),null!==xa){var n=Ta;Ta|=16;for(var r=ou();;)try{au();break}catch(t){ru(e,t)}if(ei(),Ta=n,ya.current=r,1===wa)throw n=Ba,nu(e,t),Mu(e,t),qa(e),n;if(null!==xa)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Sa=null,fu(e),qa(e)}return null}function eu(e,t){var n=Ta;Ta|=1;try{return e(t)}finally{0===(Ta=n)&&Wo()}}function tu(e,t){var n=Ta;Ta&=-2,Ta|=8;try{return e(t)}finally{0===(Ta=n)&&Wo()}}function nu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,bn(n)),null!==xa)for(n=xa.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&mo();break;case 3:Mi(),uo(po),uo(fo);break;case 5:Li(r);break;case 4:Mi();break;case 13:case 19:uo(Fi);break;case 10:ti(r)}n=n.return}Sa=e,xa=_u(e.current,null),_a=t,wa=ba,Ba=null,Ra=Ia=1073741823,Oa=null,Na=0,Ma=!1}function ru(e,t){for(;;){try{if(ei(),Di.current=hs,Ki)for(var n=Qi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Hi=0,Vi=Gi=Qi=null,Ki=!1,null===xa||null===xa.return)return wa=1,Ba=t,xa=null;e:{var o=e,i=xa.return,s=xa,a=t;if(t=_a,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"==typeof a&&"function"==typeof a.then){var u=a;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.expirationTime=c.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var l=0!=(1&Fi.current),d=i;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var A=d.memoizedProps;f=void 0!==A.fallback&&(!0!==A.unstable_avoidThisFallback||!l)}}if(f){var g=d.updateQueue;if(null===g){var h=new Set;h.add(u),d.updateQueue=h}else g.add(u);if(0==(2&d.mode)){if(d.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=ui(1073741823,null);m.tag=2,ci(s,m)}s.expirationTime=1073741823;break e}a=void 0,s=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new pa,a=new Set,y.set(u,a)):void 0===(a=y.get(u))&&(a=new Set,y.set(u,a)),!a.has(s)){a.add(s);var v=vu.bind(null,o,u,s);u.then(v,v)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);a=Error((he(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+me(s))}5!==wa&&(wa=2),a=$s(a,s),d=i;do{switch(d.tag){case 3:u=a,d.effectTag|=4096,d.expirationTime=t,li(d,Aa(d,u,t));break e;case 1:u=a;var b=d.type,E=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===ja||!ja.has(E)))){d.effectTag|=4096,d.expirationTime=t,li(d,ga(d,u,t));break e}}d=d.return}while(null!==d)}xa=lu(xa)}catch(e){t=e;continue}break}}function ou(){var e=ya.current;return ya.current=hs,null===e?hs:e}function iu(e,t){e<Ia&&2<e&&(Ia=e),null!==t&&e<Ra&&2<e&&(Ra=e,Oa=t)}function su(e){e>Na&&(Na=e)}function au(){for(;null!==xa;)xa=cu(xa)}function uu(){for(;null!==xa&&!Uo();)xa=cu(xa)}function cu(e){var t=ha(e.alternate,e,_a);return e.memoizedProps=e.pendingProps,null===t&&(t=lu(e)),va.current=null,t}function lu(e){xa=e;do{var t=xa.alternate;if(e=xa.return,0==(2048&xa.effectTag)){if(t=Js(t,xa,_a),1===_a||1!==xa.childExpirationTime){for(var n=0,r=xa.child;null!==r;){var o=r.expirationTime,i=r.childExpirationTime;o>n&&(n=o),i>n&&(n=i),r=r.sibling}xa.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=xa.firstEffect),null!==xa.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=xa.firstEffect),e.lastEffect=xa.lastEffect),1<xa.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=xa:e.firstEffect=xa,e.lastEffect=xa))}else{if(null!==(t=qs(xa)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=xa.sibling))return t;xa=e}while(null!==xa);return wa===ba&&(wa=5),null}function du(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fu(e){var t=Ho();return Go(99,pu.bind(null,e,t)),null}function pu(e,t){do{gu()}while(null!==ka);if(0!=(48&Ta))throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=du(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Sa&&(xa=Sa=null,_a=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=Ta;Ta|=32,va.current=null,gn=Wt;var a=pn();if(An(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{var c=(u=(u=a.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{u.nodeType,d.nodeType}catch(e){u=null;break e}var f=0,p=-1,A=-1,g=0,h=0,m=a,y=null;t:for(;;){for(var v;m!==u||0!==l&&3!==m.nodeType||(p=f+l),m!==d||0!==c&&3!==m.nodeType||(A=f+c),3===m.nodeType&&(f+=m.nodeValue.length),null!==(v=m.firstChild);)y=m,m=v;for(;;){if(m===a)break t;if(y===u&&++g===l&&(p=f),y===d&&++h===c&&(A=f),null!==(v=m.nextSibling))break;y=(m=y).parentNode}m=v}u=-1===p||-1===A?null:{start:p,end:A}}else u=null}u=u||{start:0,end:0}}else u=null;hn={activeElementDetached:null,focusedElem:a,selectionRange:u},Wt=!1,La=o;do{try{Au()}catch(e){if(null===La)throw Error(s(330));yu(La,e),La=La.nextEffect}}while(null!==La);La=o;do{try{for(a=e,u=t;null!==La;){var b=La.effectTag;if(16&b&&ke(La.stateNode,""),128&b){var E=La.alternate;if(null!==E){var C=E.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(1038&b){case 2:ca(La),La.effectTag&=-3;break;case 6:ca(La),La.effectTag&=-3,da(La.alternate,La);break;case 1024:La.effectTag&=-1025;break;case 1028:La.effectTag&=-1025,da(La.alternate,La);break;case 4:da(La.alternate,La);break;case 8:la(a,l=La,u),aa(l)}La=La.nextEffect}}catch(e){if(null===La)throw Error(s(330));yu(La,e),La=La.nextEffect}}while(null!==La);if(C=hn,E=pn(),b=C.focusedElem,u=C.selectionRange,E!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==u&&An(b)&&(E=u.start,void 0===(C=u.end)&&(C=E),"selectionStart"in b?(b.selectionStart=E,b.selectionEnd=Math.min(C,b.value.length)):(C=(E=b.ownerDocument||document)&&E.defaultView||window).getSelection&&(C=C.getSelection(),l=b.textContent.length,a=Math.min(u.start,l),u=void 0===u.end?a:Math.min(u.end,l),!C.extend&&a>u&&(l=u,u=a,a=l),l=fn(b,a),d=fn(b,u),l&&d&&(1!==C.rangeCount||C.anchorNode!==l.node||C.anchorOffset!==l.offset||C.focusNode!==d.node||C.focusOffset!==d.offset)&&((E=E.createRange()).setStart(l.node,l.offset),C.removeAllRanges(),a>u?(C.addRange(E),C.extend(d.node,d.offset)):(E.setEnd(d.node,d.offset),C.addRange(E))))),E=[];for(C=b;C=C.parentNode;)1===C.nodeType&&E.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<E.length;b++)(C=E[b]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Wt=!!gn,hn=gn=null,e.current=n,La=o;do{try{for(b=e;null!==La;){var T=La.effectTag;if(36&T&&ia(b,La.alternate,La),128&T){E=void 0;var S=La.ref;if(null!==S){var x=La.stateNode;switch(La.tag){case 5:E=x;break;default:E=x}"function"==typeof S?S(E):S.current=E}}La=La.nextEffect}}catch(e){if(null===La)throw Error(s(330));yu(La,e),La=La.nextEffect}}while(null!==La);La=null,Lo(),Ta=i}else e.current=n;if(Da)Da=!1,ka=e,Ha=t;else for(La=o;null!==La;)t=La.nextEffect,La.nextEffect=null,La=t;if(0===(t=e.firstPendingTime)&&(ja=null),1073741823===t?e===Va?Ga++:(Ga=0,Va=e):Ga=0,"function"==typeof Eu&&Eu(n.stateNode,r),qa(e),Fa)throw Fa=!1,e=Pa,Pa=null,e;return 0!=(8&Ta)||Wo(),null}function Au(){for(;null!==La;){var e=La.effectTag;0!=(256&e)&&na(La.alternate,La),0==(512&e)||Da||(Da=!0,Vo(97,(function(){return gu(),null}))),La=La.nextEffect}}function gu(){if(90!==Ha){var e=97<Ha?97:Ha;return Ha=90,Go(e,hu)}}function hu(){if(null===ka)return!1;var e=ka;if(ka=null,0!=(48&Ta))throw Error(s(331));var t=Ta;for(Ta|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ra(5,n),oa(5,n)}}catch(t){if(null===e)throw Error(s(330));yu(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ta=t,Wo(),!0}function mu(e,t,n){ci(e,t=Aa(e,t=$s(n,t),1073741823)),null!==(e=Ya(e,1073741823))&&qa(e)}function yu(e,t){if(3===e.tag)mu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){mu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ja||!ja.has(r))){ci(n,e=ga(n,e=$s(t,e),1073741823)),null!==(n=Ya(n,1073741823))&&qa(n);break}}n=n.return}}function vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Sa===e&&_a===n?wa===Ca||wa===Ea&&1073741823===Ia&&ko()-Ua<500?nu(e,_a):Ma=!0:Nu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,qa(e)))}function bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=za(t=Wa(),e,null)),null!==(e=Ya(e,t))&&qa(e)}ha=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||po.current)Rs=!0;else{if(r<n){switch(Rs=!1,t.tag){case 3:Ds(t),Bs();break;case 5:if(Ui(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:ho(t.type)&&bo(t);break;case 4:Ni(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,o=t.type._context,co(Jo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Vs(e,t,n):(co(Fi,1&Fi.current),null!==(t=Xs(e,t,n))?t.sibling:null);co(Fi,1&Fi.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return zs(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),co(Fi,Fi.current),!r)return null}return Xs(e,t,n)}Rs=!1}}else Rs=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=go(t,fo.current),ri(t,n),o=Xi(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ho(r)){var i=!0;bo(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,si(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&gi(t,r,a,e),o.updater=hi,t.stateNode=o,o._reactInternalFiber=t,bi(t,r,e,n),t=js(null,t,r,!0,i,n)}else t.tag=0,Os(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,i=t.tag=function(e){if("function"==typeof e)return xu(e)?1:0;if(null!=e){if((e=e.$$typeof)===ue)return 11;if(e===de)return 14}return 2}(o),e=Yo(o,e),i){case 0:t=Fs(null,t,o,e,n);break e;case 1:t=Ps(null,t,o,e,n);break e;case 11:t=Ns(null,t,o,e,n);break e;case 14:t=Ms(null,t,o,Yo(o.type,e),r,n);break e}throw Error(s(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Fs(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ps(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 3:if(Ds(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ai(e,t),di(t,r,null,n),(r=t.memoizedState.element)===o)Bs(),t=Xs(e,t,n);else{if((o=t.stateNode.hydrate)&&(Es=En(t.stateNode.containerInfo.firstChild),bs=t,o=Cs=!0),o)for(n=_i(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Os(e,t,r,n),Bs();t=t.child}return t;case 5:return Ui(t),null===e&&xs(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,a=o.children,yn(r,o)?a=null:null!==i&&yn(r,i)&&(t.effectTag|=16),Ls(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Os(e,t,a,n),t=t.child),t;case 6:return null===e&&xs(t),null;case 13:return Vs(e,t,n);case 4:return Ni(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):Os(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ns(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 7:return Os(e,t,t.pendingProps,n),t.child;case 8:case 12:return Os(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value;var u=t.type._context;if(co(Jo,u._currentValue),u._currentValue=i,null!==a)if(u=a.value,0===(i=Pr(u,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(a.children===o.children&&!po.current){t=Xs(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){a=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&i)){1===u.tag&&((l=ui(n,null)).tag=2,ci(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),ni(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Os(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ri(t,n),r=r(o=oi(o,i.unstable_observedBits)),t.effectTag|=1,Os(e,t,r,n),t.child;case 14:return i=Yo(o=t.type,t.pendingProps),Ms(e,t,o,i=Yo(o.type,i),r,n);case 15:return Us(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Yo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,ho(r)?(e=!0,bo(t)):e=!1,ri(t,n),yi(t,r,o),bi(t,r,o,n),js(null,t,r,!0,e,n);case 19:return zs(e,t,n)}throw Error(s(156,t.tag))};var Eu=null,Cu=null;function Tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Su(e,t,n,r){return new Tu(e,t,n,r)}function xu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _u(e,t){var n=e.alternate;return null===n?((n=Su(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wu(e,t,n,r,o,i){var a=2;if(r=e,"function"==typeof e)xu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ne:return Bu(n.children,o,i,t);case ae:a=8,o|=7;break;case re:a=8,o|=1;break;case oe:return(e=Su(12,n,t,8|o)).elementType=oe,e.type=oe,e.expirationTime=i,e;case ce:return(e=Su(13,n,t,o)).type=ce,e.elementType=ce,e.expirationTime=i,e;case le:return(e=Su(19,n,t,o)).elementType=le,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ie:a=10;break e;case se:a=9;break e;case ue:a=11;break e;case de:a=14;break e;case fe:a=16,r=null;break e;case pe:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Su(a,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function Bu(e,t,n,r){return(e=Su(7,e,r,t)).expirationTime=n,e}function Iu(e,t,n){return(e=Su(6,e,null,t)).expirationTime=n,e}function Ru(e,t,n){return(t=Su(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ou(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Nu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Mu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Uu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Lu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Fu(e,t,n,r){var o=t.current,i=Wa(),a=pi.suspense;i=za(i,o,a);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ho(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var c=n.type;if(ho(c)){n=vo(n,c,u);break e}}n=u}else n=lo;return null===t.context?t.context=n:t.pendingContext=n,(t=ui(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ci(o,t),Xa(o,i),i}function Pu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function ju(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Du(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}function ku(e,t,n){var r=new Ou(e,t,n=null!=n&&!0===n.hydrate),o=Su(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,si(o),e[_n]=r.current,n&&0!==t&&function(e,t){var n=$e(t);_t.forEach((function(e){At(e,t,n)})),wt.forEach((function(e){At(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Hu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i._internalRoot;if("function"==typeof o){var a=o;o=function(){var e=Pu(s);a.call(e)}}Fu(t,s,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ku(e,0,t?{hydrate:!0}:void 0)}(n,r),s=i._internalRoot,"function"==typeof o){var u=o;o=function(){var e=Pu(s);u.call(e)}}tu((function(){Fu(t,s,e,o)}))}return Pu(s)}function Gu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Hu(t))throw Error(s(200));return Gu(e,t,null,n)}ku.prototype.render=function(e){Fu(e,this._internalRoot,null,null)},ku.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Fu(null,e,null,(function(){t[_n]=null}))},gt=function(e){if(13===e.tag){var t=Xo(Wa(),150,100);Xa(e,t),Du(e,t)}},ht=function(e){13===e.tag&&(Xa(e,3),Du(e,3))},mt=function(e){if(13===e.tag){var t=Wa();Xa(e,t=za(t,e,null)),Du(e,t)}},B=function(e,t,n){switch(t){case"input":if(xe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Rn(r);if(!o)throw Error(s(90));Ee(r),xe(r,o)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&Ie(e,!!n.multiple,t,!1)}},U=eu,L=function(e,t,n,r,o){var i=Ta;Ta|=4;try{return Go(98,e.bind(null,t,n,r,o))}finally{0===(Ta=i)&&Wo()}},F=function(){0==(49&Ta)&&(function(){if(null!==Qa){var e=Qa;Qa=null,e.forEach((function(e,t){Lu(t,e),qa(t)})),Wo()}}(),gu())},P=function(e,t){var n=Ta;Ta|=2;try{return e(t)}finally{0===(Ta=n)&&Wo()}};var Ku,Wu,zu={Events:[Bn,In,Rn,_,T,Pn,function(e){ot(e,Fn)},N,M,qt,at,gu,{current:!1}]};Wu=(Ku={findFiberByHostInstance:wn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Eu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Cu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(o({},Ku,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Wu?Wu(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zu,t.createPortal=Vu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ta))throw Error(s(187));var n=Ta;Ta|=1;try{return Go(99,e.bind(null,t))}finally{Ta=n,Wo()}},t.hydrate=function(e,t,n){if(!Hu(t))throw Error(s(200));return Qu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Hu(t))throw Error(s(200));return Qu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Hu(e))throw Error(s(40));return!!e._reactRootContainer&&(tu((function(){Qu(null,null,e,!1,(function(){e._reactRootContainer=null,e[_n]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return Vu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hu(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return Qu(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(336)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,o,i,s,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(l,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},o=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},s=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,A=window.setTimeout,g=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var m=p.now();t.unstable_now=function(){return p.now()-m}}var y=!1,v=null,b=-1,E=5,C=0;s=function(){return t.unstable_now()>=C},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):E=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,S=T.port2;T.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();C=e+E;try{v(!0,e)?S.postMessage(null):(y=!1,v=null)}catch(e){throw S.postMessage(null),e}}else y=!1},r=function(e){v=e,y||(y=!0,S.postMessage(null))},o=function(e,n){b=A((function(){e(t.unstable_now())}),n)},i=function(){g(b),b=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<B(o,t)))break e;e[r]=t,e[n]=o,n=r}}function _(e){return void 0===(e=e[0])?null:e}function w(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,s=e[i],a=i+1,u=e[a];if(void 0!==s&&0>B(s,n))void 0!==u&&0>B(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[i]=n,r=i);else{if(!(void 0!==u&&0>B(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function B(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],R=[],O=1,N=null,M=3,U=!1,L=!1,F=!1;function P(e){for(var t=_(R);null!==t;){if(null===t.callback)w(R);else{if(!(t.startTime<=e))break;w(R),t.sortIndex=t.expirationTime,x(I,t)}t=_(R)}}function j(e){if(F=!1,P(e),!L)if(null!==_(I))L=!0,r(D);else{var t=_(R);null!==t&&o(j,t.startTime-e)}}function D(e,n){L=!1,F&&(F=!1,i()),U=!0;var r=M;try{for(P(n),N=_(I);null!==N&&(!(N.expirationTime>n)||e&&!s());){var a=N.callback;if(null!==a){N.callback=null,M=N.priorityLevel;var u=a(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?N.callback=u:N===_(I)&&w(I),P(n)}else w(I);N=_(I)}if(null!==N)var c=!0;else{var l=_(R);null!==l&&o(j,l.startTime-n),c=!1}return c}finally{N=null,M=r,U=!1}}function k(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||U||(L=!0,r(D))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return _(I)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=H,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,s){var a=t.unstable_now();if("object"==typeof s&&null!==s){var u=s.delay;u="number"==typeof u&&0<u?a+u:a,s="number"==typeof s.timeout?s.timeout:k(e)}else s=k(e),u=a;return e={id:O++,callback:n,priorityLevel:e,startTime:u,expirationTime:s=u+s,sortIndex:-1},u>a?(e.sortIndex=u,x(R,e),null===_(I)&&e===_(R)&&(F?i():F=!0,o(j,u-a))):(e.sortIndex=s,x(I,e),L||U||(L=!0,r(D))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();P(e);var n=_(I);return n!==N&&null!==N&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<N.expirationTime||s()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(12),u=n(6),c=n(29),l=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=l(null),e.refs.smallestBox=l(null),e.refs.hideRightIconBox=l(null),e.refs.showRightIconBox=l(null),e.refs.loginBoxRef=l(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=e.store,i=e.refs,l=t.assets,d=l.images,f=l.fonts;return o.createElement("div",{ref:e.refs.container,"data-style-name":n.smallest?n.fixed?"smallestContainer&container":n.rightPartVisible?"smallestContainer&unFixedContainer&container":"smallestContainer&unFixedContainer&container&unFixedContainerRightPartInvisible":n.fixed?"container":n.rightPartVisible?"unFixedContainer&container":"unFixedContainer&container&unFixedContainerRightPartInvisible",style:r(r(r({},t.container),n.fixed?{}:r(r(r({},t.unFixedContainer),n.rightPartVisible?{}:t.unFixedContainerRightPartInvisible),{right:n.unFixedContainerPos.x+"px",bottom:n.unFixedContainerPos.y+"px"})),n.smallest?r(r({},t.smallestContainer),{right:n.pos.x+"px",bottom:n.pos.y+"px"}):{}),"data-tree":e.name,className:"kcmain "+a.default.getRootClass(e.rootName)},o.createElement("div",{style:u.toggleVisible(t.innerContainer,!n.smallest),"data-style-name":"innerContainer"},o.createElement("div",{className:"kc-login-box",ref:e.refs.loginBoxRef,"data-style-name":"loginBox",style:u.toggleVisible(t.loginBox,!n.loginSuccess)}),o.createElement("div",{className:"kc-panel-box","data-style-name":"panelBox",style:u.toggleVisible(t.panelBox,n.loginSuccess)}),o.createElement("div",{className:"kc-chat-box","data-style-name":"chatBox",style:u.toggleVisible(t.chatBox,n.loginSuccess&&(n.rightPartVisible||n.fixed))}),o.createElement("div",{"data-style-name":"hideRightIconBox",style:u.toggleVisible(t.hideRightIconBox,n.loginSuccess&&n.rightPartVisible&&!n.fixed),ref:i.hideRightIconBox},o.createElement(c.Pseudo,{className:f.hideRightIcon,style:t.hideRightIcon,tagName:"i","data-style-name":"hideRightIcon","data-style-hover-name":"hideRightIconHover",hoverStyle:t.hideRightIconHover})),o.createElement("div",{"data-style-name":"showRightIconBox",style:u.toggleVisible(t.showRightIconBox,n.loginSuccess&&!n.rightPartVisible&&!n.fixed),ref:i.showRightIconBox},o.createElement(c.Pseudo,{className:f.showRightIcon,style:t.showRightIcon,tagName:"i","data-style-name":"showRightIcon","data-style-hover-name":"showRightIconHover",hoverStyle:t.showRightIconHover})),o.createElement("div",{className:"kc-controller","data-style-name":"controllerBox",style:u.toggleVisible(t.controllerBox,!n.fixed&&(!n.loginSuccess||n.rightPartVisible))}),o.createElement("div",{className:"kc-popup-box","data-style-name":"popupBox",style:u.toggleVisible(t.popupBox,n.loginSuccess)},o.createElement("div",{className:"kc-history-page","data-style-name":"historyBox",style:t.historyBox}),o.createElement("div",{className:"kc-map-page","data-style-name":"mapBox",style:t.mapBox}),o.createElement("div",{className:"kc-select-map-page","data-style-name":"mapBox",style:t.mapBox}),o.createElement("div",{className:"kc-cut-img"}),o.createElement("div",{className:"kc-image-handle","data-style-name":"imageHandle",style:t.imageHandle}),o.createElement("div",{className:"kc-ptt-page","data-style-name":"pttBox",style:t.pttBox}),o.createElement("div",{className:"kc-live-page","data-style-name":"liveBox",style:t.liveBox}),o.createElement("div",{className:"kc-select-members"}),o.createElement("div",{className:"kc-copy-board","data-style-name":"copyBoardBox",style:t.copyBoardBox}),o.createElement("div",{className:"kc-setting","data-style-name":"settingBox",style:t.settingBox}),o.createElement("div",{className:"kc-live-invite","data-style-name":"liveInvite",style:t.liveInvite}),o.createElement("div",{className:"kc-right-mouse-menu","data-style-name":"rightMouseBox",style:t.rightMouseBox})),o.createElement("div",{className:"kc-inner-message"}),o.createElement("div",{className:"kc-combind-message"}),o.createElement("div",{className:"kc-confirm"})),o.createElement("div",{style:u.toggleVisible(t.innerContainer,n.smallest),"data-style-name":"innerContainer",ref:i.smallestBox},function(){if(n.unReadMsgTotalLen>0)return o.createElement("div",{style:t.unReadMsg,"data-style-name":"unReadMsg"},n.unReadMsgTotalLen>99?"99+":n.unReadMsgTotalLen)}(),o.createElement("img",{src:d.smallestImg,draggable:!1,"data-style-name":"smallestImg",style:t.smallestImg,alt:""})))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{smallestImg:n(339)},fonts:{showRightIcon:"icon iconfont icon-expansion-right",hideRightIcon:"icon iconfont icon-shrink-left"}},container:r({position:"relative",width:"100%",height:"100%",borderRadius:"6px",boxShadow:"0 20px 34px 0 rgba(0,0,0,0.15)",backgroundColor:"#fff",overflow:"hidden"},o.forbidSelect()),unFixedContainer:{position:"fixed",width:"780px",height:"540px"},unFixedContainerRightPartInvisible:{width:"340px"},smallestContainer:{width:"40px",height:"36px",position:"fixed",cursor:"pointer"},innerContainer:{width:"100%",height:"100%"},unReadMsg:{position:"absolute",top:0,right:0,maxWidth:"29px",padding:"0 5px",border:"1px solid #fff",textAlign:"center",color:"#fff",fontSize:"12px",lineHeight:"16px",borderRadius:"16px",backgroundColor:"#F36464"},smallestImg:{width:"100%",height:"100%"},loginBox:{paddingTop:"100px",height:"100%"},panelBox:{position:"absolute",width:"340px",height:"100%",backgroundColor:"#fff",zIndex:"3"},chatBox:{height:"100%",paddingLeft:"340px",backgroundColor:"#eee"},controllerBox:{position:"absolute",right:"5px",top:"10px",zIndex:2},showRightIconBox:r({left:"calc(340px - 14px)",height:"60px",lineHeight:"60px",zIndex:3,overflow:"hidden",width:"14px",cursor:"pointer"},o.vertical()),showRightIcon:{fontSize:"60px",color:o.$theme.$baseColor,position:"absolute",right:0,top:0},showRightIconHover:{opacity:"0.4"},hideRightIconBox:r({left:"340px",height:"60px",lineHeight:"60px",zIndex:3,overflow:"hidden",width:"14px",cursor:"pointer"},o.vertical()),hideRightIcon:{fontSize:"60px",color:o.$theme.$lightBgColor,position:"absolute",left:0,top:0},hideRightIconHover:{opacity:"0.4"},popupBox:{},historyBox:{},pttBox:{},liveBox:{},mapBox:{},rightMouseBox:{},copyBoardBox:{},settingBox:{},liveInvite:{},imageHandle:{}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/smallestStatus.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({loginSuccess:!1,curChatTarget:{},fixed:!0,smallest:!1,pos:{x:18,y:18},unReadMsgTotalLen:0,hasMoved:!1,rightPartVisible:!0,unFixedContainerPos:{x:18,y:18}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(342),i=n(343),s=n(345),a=n(346),u=n(351),c=n(352),l=n(359),d=n(136),f=n(137);t.default=function e(t,n,p){return r.default("LoginPage",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,hooks:p},[a.default(t,".kc-login-form",u.default()),c.default(t,".kc-login-confirm",l.default()),d.default(t,".kc-login-loading",f.default())])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=s(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets.images;return r.createElement("div",{ref:e.refs.container,"data-tree":e.name,"data-style-name":"loginContainer",style:t.loginContainer},r.createElement("div",{style:t.loginLogo,"data-style-name":"loginLogo"},r.createElement("img",{draggable:!1,style:t.loginPic,"data-style-name":"loginPic",src:n.loginLogo})),r.createElement("div",{className:"kc-login-form"}),r.createElement("div",{className:"kc-login-confirm"}),r.createElement("div",{className:"kc-login-loading",style:t.loginLoading,"data-style-name":"loginLoading"}))}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{default:{assets:{images:{loginLogo:n(344)}},loginContainer:{width:"670px",display:"flex",justifyContent:"space-between",margin:"0 auto"},loginLogo:{width:"350px",textAlign:"center"},loginPic:{width:"100%",height:"auto"},loginLoading:{display:"none",position:"absolute",width:"100%",height:"100%",left:0,top:0}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/loginLogo.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({loginSuccess:!1})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(347),i=n(348),s=n(350);t.default=function e(t,n,a){return r.default("LoginForm",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,hooks:a})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.buttonRef=s(null),e.refs.usernameInputRef=s(null),e.refs.passwordInputRef=s(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets,o=n.images,s=n.fonts,a=e.store,u=a.username,c=a.password,l=a.loginTip,d=a.isLogining;return r.createElement("div",{style:t.form,"data-tree":e.name,"data-style-name":"form"},r.createElement("img",{src:o.logoImg}),r.createElement("div",{style:t.usernameBox,"data-style-name":"usernameBox"},r.createElement("i",{className:s.username,style:t.usernameIcon,"data-style-name":"usernameIcon"}),r.createElement("input",{value:u.value,ref:e.refs.usernameInputRef,onChange:function(){},style:t.usernameInput,"data-style-name":"usernameInput",autoComplete:"new-password",placeholder:"请输入用户名"}),r.createElement("i",{className:s[u.state],style:t.usernameState,"data-style-name":"usernameState"})),r.createElement("div",{style:t.passwordBox,"data-style-name":"passwordBox"},r.createElement("i",{className:s.password,"data-style-name":"passwordIcon",style:t.passwordIcon}),r.createElement("input",{value:c.value,onChange:function(){},ref:e.refs.passwordInputRef,style:t.passwordInput,"data-style-name":"passwordInput",type:"password",autoComplete:"new-password",placeholder:"请输入密码"}),r.createElement("i",{className:s[c.state],style:t.passwordState,"data-style-name":"passwordState"})),r.createElement("div",{style:t.tip,"data-style-name":"tip"},l),r.createElement("button",{ref:e.refs.buttonRef,style:t.button,"data-style-name":"button"},d&&r.createElement("i",{className:s.loading,style:t.loading,"data-style-name":"loading"}),r.createElement("span",{style:t.buttonTitle,"data-style-name":"buttonTitle"},d?"正在登录":"登录")))}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);t.default=function(){return{default:{assets:{images:{logoImg:n(349)},fonts:{username:"icon iconfont icon-username-copy",password:"icon iconfont icon-password",inputSuccess:"icon iconfont icon-correct-copy",inputEmpty:"icon iconfont icon-question-copy",inputError:"icon iconfont icon-username-error-surface-copy",loading:"icon iconfont icon-icon-loading"}},form:{width:"270px",display:"flex",flexDirection:"column",alignItems:"center"},usernameBox:{position:"relative",width:"100%",marginTop:"45px"},usernameIcon:{position:"absolute",top:"50%",left:"8px",fontSize:"16px",color:"#BEC1C9",transform:"translateY(-50%)"},usernameInput:{width:"100%",height:"36px",paddingLeft:"30px",fontSize:"14px",lineHeight:"36px",border:"1px solid #DCDFE6",borderRadius:"2px"},usernameState:{position:"absolute",top:"50%",right:"8px",color:"#63C532",transform:"translateY(-50%)"},passwordBox:{position:"relative",width:"100%",marginTop:"30px"},passwordIcon:{position:"absolute",top:"50%",left:"8px",fontSize:"16px",color:"#BEC1C9",transform:"translateY(-50%)"},passwordInput:{width:"100%",height:"36px",paddingLeft:"30px",fontSize:"14px",lineHeight:"36px",border:"1px solid #DCDFE6",borderRadius:"2px"},passwordState:{position:"absolute",top:"50%",right:"8px",color:"#63C532",transform:"translateY(-50%)"},tip:{width:"100%",height:"30px",lineHeight:"30px",fontSize:"12px",color:"#f00"},button:{width:"100%",height:"36px",display:"flex",justifyContent:"center",borderRadius:"2px",lineHeight:"36px",textAlign:"center",letterSpacing:"5px",cursor:"pointer",color:"#FFFFFF",backgroundColor:r.$theme.$baseColor},loading:{display:"inline-block",width:"16px",animation:"kc-rotate 1s linear infinite",lineHeight:"35px"},buttonTitle:{margin:"0 6px"}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/logo.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({username:{value:"",state:""},password:{value:"",state:""},loginTip:"",isLogining:!1,loginData:null})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(13),i=n(5),s=n(12),a=n(1),u=n(6),c=n(52);function l(e,t){var n=this,r=this.store,i=o.fromEvent(t.current,"input"),s=o.fromEvent(t.current,"blur"),a=o.fromEvent(t.current,"keydown");i.subscribe((function(t){r[e].value=t.target.value||"",d.call(n,e)})),s.subscribe((function(){d.call(n,e)})),a.subscribe((function(e){13===e.keyCode&&p.call(n)}))}function d(e){""===this.store[e].value?g.call(this,e,"empty","用户名和密码不能为空"):g.call(this,e,"success"),"inputEmpty"!==this.store.username.state&&"inputEmpty"!==this.store.password.state&&f.call(this,"")}function f(e){this.store.loginTip=e}function p(){d.call(this,"username"),d.call(this,"password");var e=this.store,t=s.default.getKChat(this.rootName).rxjsEvent;""!==e.username.value&&""!==e.password.value&&t.subscribe(a.RxjsEventNames.LOGIN_START,o.of({username:e.username.value,password:e.password.value}))}t.default=function(){return[r.mounted("UsernameInputHandler",(function(){l.call(this,"username",this.refs.usernameInputRef)})),r.mounted("PasswordInputHandler",(function(){l.call(this,"password",this.refs.passwordInputRef)})),r.mounted("LoginButtonHandler",(function(){var e=this,t=this.refs,n=this.store;o.fromEvent(t.buttonRef.current,"click").subscribe((function(){n.isLogining||p.call(e)}))})),r.mounted("ForceLoginCheck",(function(){var e=this.store,t=s.default.getKChat(this.rootName).rxjsEvent,n=s.default.getKChat(this.rootName),r=i.map((function(r){var i=c.assign(e.loginData?e.loginData:{},{username:e.username.value,password:e.password.value},{forceLogin:r===a.LoginStatus.FORCE_LOGIN});return n.store.loginType===a.LoginType.NODSTSECURITY&&(i.username||(i=JSON.parse(localStorage.getItem("loginData"))),console.log("免密强制登录")),console.log("重新登录/强制登录得数据",i),t.subscribe(a.RxjsEventNames.LOGIN_START,o.of(i)),r}));return t.addPipe(a.RxjsEventNames.FORCE_LOGIN,r),function(){return t.removePipe(a.RxjsEventNames.FORCE_LOGIN,r)}})),r.mounted("LoseConnection",(function(){var e=s.default.getKChat(this.rootName),t=e.fetch,n=e.rxjsEvent,r=i.map((function(e){return o.fromEvent(t.login,"reConnected").subscribe((function(){n.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of({type:a.GlobalMessageTip.TIP,message:"重连成功"}))})),o.fromEvent(t.login,"reConnecting").subscribe((function(){n.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of("已断线,正在尝试重新连接"))})),e}));return n.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,r),function(){return n.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,r)}})),r.mounted("LoginIn",(function(){var e=this,t=this.store,n=s.default.getKChat(this.rootName),r=i.map((function(r){console.log("登录数据login_data",r),t.isLogining=!0;var i=null;switch(n.store.loginType){case a.LoginType.TOKEN:i=n.fetch.login.login({access_token:r.accessToken},r.forceLogin);break;case a.LoginType.NORMAL:i=n.fetch.login.login({username:r.username,password:r.password},r.forceLogin);break;case a.LoginType.SECURITY:i=n.fetch.login.login({username:r.username,security:!1,dst:r.dst},r.forceLogin);break;case a.LoginType.NODSTSECURITY:i=n.fetch.login.login({username:r.username,security:!1},r.forceLogin)}return n.rxjsEvent.subscribe(a.RxjsEventNames.LOGIN,i,{next:function(i){407===i.resultCode?(g.call(e,"username","error","用户名不存在"),g.call(e,"password","error"),u.animation(e.styles.usernameBox,a.AnimationType.SHAKE,{duration:1e3}).subscribe(),t.username.value=t.password.value=""):401===i.resultCode?(g.call(e,"username","success"),g.call(e,"password","error","密码不正确"),u.animation(e.styles.passwordBox,a.AnimationType.SHAKE,{duration:1e3}).subscribe(),t.password.value=""):200===i.resultCode?(t.loginData=r,n.store.loginType===a.LoginType.NODSTSECURITY&&localStorage.setItem("loginData",JSON.stringify(r)),n.store.loginUser=i.user,n.rxjsEvent.subscribe(a.RxjsEventNames.LOGIN_SUCCESS,o.of(n.store.loginUser))):/^4\d{2}$/.test(i.resultCode)&&n.rxjsEvent.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of("登陆失败（"+i.resultMsg+"）")),t.isLogining=!1},error:function(e){console.log(e),n.rxjsEvent.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of("登录接口出错")),n.rxjsEvent.subscribe(a.RxjsEventNames.LOGIN_SERVER_ERROR,o.of(e))}}),r}));return n.rxjsEvent.addPipe(a.RxjsEventNames.LOGIN_START,r),function(){return n.rxjsEvent.removePipe(a.RxjsEventNames.LOGIN_START,r)}}))]};var A={success:{state:"inputSuccess",color:"#63C532"},error:{state:"inputError",color:"#F36464"},empty:{state:"inputEmpty",color:"#F36464"}};function g(e,t,n){var r=this.store,o=this.styles;r[e].state=A[t].state,o[e+"State"].color=A[t].color,n&&f.call(this,n)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(353),i=n(354),s=n(358);t.default=function e(t,n,a){return r.default("LoginConfirm",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,hooks:a})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.forceButtonRef=s(null),e.refs.cancelButtonRef=s(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets.images,o=e.store.exceptionList[e.store.exceptionStatus],s=o[0],a=o[1],u=o[2],c=o[3];return r.createElement("div",{style:t.loginConfirmBox,"data-style-name":"loginConfirmBox","data-tree":e.name},r.createElement("div",null,r.createElement("img",{src:n[c],style:t.loginConfirmImg,"data-style-name":"loginConfirmImg",draggable:!1}),r.createElement("h4",{style:t.loginConfirmTitle,"data-style-name":"loginConfirmTitle"},u)),r.createElement("div",{style:t.loginConfirmFooter,"data-style-name":"loginConfirmFooter"},r.createElement("button",{ref:e.refs.forceButtonRef,style:t.loginConfirmForceBtn,"data-style-name":"loginConfirmForceBtn"},s),r.createElement("button",{ref:e.refs.cancelButtonRef,style:t.loginConfirmCancelBtn,"data-style-name":"loginConfirmCancelBtn"},a)))}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);t.default=function(){return{default:{assets:{images:{forceLoginImg:n(355),offlineImg:n(356),timeoutImg:n(357)}},loginConfirmBox:{display:"none",position:"absolute",top:"50%",left:"50%",width:"280px",textAlign:"center",backgroundColor:"#fff",borderRadius:"6px",boxShadow:"0 0 12px 0 rgba(0, 0, 0, 0.16)",transform:"translate(-50%, -50%)",zIndex:"1"},loginConfirmImg:{width:"120px",marginTop:"20px"},loginConfirmTitle:{fontSize:"18px",margin:"20px auto",fontWeigth:"700"},loginConfirmFooter:{display:"flex",justifyContent:"space-around",borderTop:"1px solid #DCDFE6",padding:"20px 0"},loginConfirmForceBtn:{width:"80px",lineHeight:"30px",borderRadius:"2px",fontSize:"14px",color:"#fff",backgroundColor:r.$theme.$baseColor,cursor:"pointer"},loginConfirmCancelBtn:{width:"80px",lineHeight:"30px",border:"1px solid #DCDFE6",borderRadius:"2px",fontSize:"14px",backgroundColor:"#fff",cursor:"pointer"}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/forceLogin.png"},function(e,t,n){e.exports=n.p+"./static/kchat203/images/offline.png"},function(e,t,n){e.exports=n.p+"./static/kchat203/images/timeout.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){var e;return r.observable({exceptionStatus:o.LoginStatus.FORCE_LOGIN,exceptionList:(e={},e[o.LoginStatus.OFF_LINE]=["刷新重试","退出登录","好像没有网络","offlineImg"],e[o.LoginStatus.TIME_OUT]=["重新登录","退出登录","会话已过期","timeoutImg"],e[o.LoginStatus.FORCE_LOGIN]=["强制登录","取消登录","已有用户登录","forceLoginImg"],e[o.LoginStatus.BE_FORCE_LOGIN]=["重新登录","退出登录","你的账号在异地登录","forceLoginImg"],e)})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(5),i=n(13),s=n(1),a=n(12);function u(e){this.styles.loginConfirmBox.display=e?"block":"none"}t.default=function(){return[r.mounted("ForceButtonClick",(function(){var e=this,t=this.refs.forceButtonRef,n=a.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(t.current,"click").subscribe({next:function(){n.subscribe(s.RxjsEventNames.FORCE_LOGIN,i.of(e.store.exceptionStatus))}}),u.call(this,!1)})),r.mounted("CancelButtonClick",(function(){var e=this,t=this.refs.cancelButtonRef;i.fromEvent(t.current,"click").subscribe((function(){u.call(e,!1)}))})),r.mounted("LoginCheck",(function(){var e=this,t=a.default.getKChat(this.rootName).rxjsEvent,n=o.map((function(t){return 406===t.resultCode&&(e.store.exceptionStatus=s.LoginStatus.FORCE_LOGIN,u.call(e,!0)),t}));return t.addPipe(s.RxjsEventNames.LOGIN,n),function(){return t.removePipe(s.RxjsEventNames.LOGIN,n)}})),r.mounted("LogoutCoercive",(function(){var e=this;a.default.getKChat(this.rootName).fetch.login.on("beCoercive",(function(){e.store.exceptionStatus=s.LoginStatus.BE_FORCE_LOGIN,u.call(e,!0)}))}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=s(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets.images;return r.createElement("div",{ref:e.refs.container,"data-tree":e.name,style:t.container,"data-style-name":"container"},r.createElement("img",{style:t.loading,src:n.loading,"data-style-name":"loading"}))}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{default:{assets:{images:{loading:n(362)}},container:{width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)",position:"relative"},loading:{position:"absolute",left:"calc(50% - 10px)",top:"calc(50% - 10px)",width:"20px",height:"20px",animation:"kc-rotate 1s linear infinite"}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/loading.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(13),i=n(5);t.default=function(){return[r.mounted("LoginBoxDrag",(function(){var e=this,t=this.refs.container,n=o.fromEvent(t.current,"mousedown"),r=o.fromEvent(window,"mousemove"),s=o.fromEvent(window,"mouseup");n.pipe(i.map((function(e){if(e.target!==t.current)return{};var n=e.target.getBoundingClientRect(),r=n.left,o=n.top;return{x:e.clientX-r,y:e.clientY-o}})),i.concatMap((function(e){if(e)return r.pipe(i.takeUntil(s),i.map((function(t){return{x:t.clientX-e.x,y:t.clientY-e.y}})))}))).subscribe((function(n){if(n){var r=window.innerWidth-t.current.offsetWidth-n.x,o=window.innerHeight-t.current.offsetHeight-n.y;e.styles.loginContainer.right=Math.min(window.innerWidth-t.current.offsetWidth,Math.max(r,0))+"px",e.styles.loginContainer.bottom=Math.min(window.innerHeight-t.current.offsetHeight,Math.max(o,0))+"px"}}))}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(366),i=n(367),s=n(368),a=n(369),u=n(370),c=n(384),l=n(385),d=n(389),f=n(390),p=n(395),A=n(396),g=n(406),h=n(407),m=n(181),y=n(182);t.default=function e(t,n,v){return r.default("PanelPage",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,hooks:v},[u.default(t,".kc-panel-tab",a.default()),l.default(t,".kc-panel-search",c.default()),f.default(t,".kc-panel-contacts",d.default()),A.default(t,".kc-panel-address-book",p.default()),h.default(t,".kc-panel-collection",g.default()),y.default(t,".kc-panel-search-result",m.default()).setName("PanelSearchResultPopup")])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(1),a=n(6),u=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.searchRef=u(null),e.refs.searchResultRef=u(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=e.store,o=n.isSearching,u=n.currentPage;return r.createElement("div",{style:t.container,"data-style-name":"container","data-tree":e.name},r.createElement("div",{className:"kc-panel-tab","data-style-name":"panelTab",style:t.panelTab}),r.createElement("div",{style:t.panelBox,"data-style-name":"panelBox"},r.createElement("div",{className:"kc-panel-search",ref:e.refs.searchRef,style:t.search,"data-style-name":"search"}),r.createElement("div",{className:"kc-panel-contacts","data-style-name":"swichContainer",style:a.toggleVisible(t.swichContainer,s.PanelTabType.CONTACTS===u)}),r.createElement("div",{className:"kc-panel-address-book","data-style-name":"swichContainer",style:a.toggleVisible(t.swichContainer,s.PanelTabType.ADDRESS_BOOK===u)}),r.createElement("div",{className:"kc-panel-collection","data-style-name":"swichContainer",style:a.toggleVisible(t.swichContainer,s.PanelTabType.COLLECTION===u)}),r.createElement("div",{className:"kc-panel-search-result",ref:e.refs.searchResultRef,style:a.toggleVisible(t.searchResult,o),"data-style-name":"searchResult"})))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{container:{position:"relative",width:"340px",height:"100%",display:"flex",backgroundColor:"#fff"},panelTab:{zIndex:"2"},panelBox:{position:"relative",width:"260px",height:"540px",display:"flex",flexDirection:"column"},search:{position:"relative",height:"70px"},swichContainer:r({height:"calc(100% - 70px)"},o.forbidSelect),searchResult:{position:"absolute",top:"70px",left:"0",width:"100%",height:"calc(100% - 70px)",zIndex:"1"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({currentPage:o.PanelTabType.CONTACTS,isSearching:!1})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(13),i=n(5),s=n(1),a=n(12),u=n(6);t.default=function(){return[r.mounted("OnLoginSuccess",(function(){var e=this.store,t=a.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,u=i.map((function(t){return e.isOnline=!0,e.userInfo=t,n.subscribe(s.RxjsEventNames.PANEL_TAB_CHANGE,o.of(s.PanelTabType.CONTACTS)),e.tempActiveTab=null,t}));return n.addPipe(s.RxjsEventNames.LOGIN_SUCCESS,u),r.login.on("reConnecting",(function(){e.isOnline=!1})),r.login.on("reConnected",(function(){e.isOnline=!0})),function(){return n.removePipe(s.RxjsEventNames.LOGIN_SUCCESS,u)}})),r.mounted("UserHeadClick",(function(){var e=this,t=this.refs,n=t.userHeadRef,r=t.userInfoRef,i=a.default.getKChat(this.rootName),c={name:"panelUserInfoPopup",show:function(){e.store.showUserInfo=!0,u.animation(e.styles.panelTabUserPopup,s.AnimationType.SLIDE_IN_RIGHT).subscribe()},hide:function(){u.animation(e.styles.panelTabUserPopup,s.AnimationType.SLIDE_OUT_LEFT).subscribe({next:function(){e.store.showUserInfo=!1}})},targets:[n,r]};o.fromEvent(n.current,"click").subscribe((function(){e.store.showUserInfo?i.store.popupManager.remove(c):i.store.popupManager.add(c)}))})),r.mounted("EquipmentClick",(function(){var e=this.refs,t=this.store,n=this.styles,r=e.equipmentIconRef,i=e.equipmemtInfoRef,c=a.default.getKChat(this.rootName),l={name:"panelEqiupmentInfoPopup",show:function(){t.showEquipment=!0,t.tempActiveTab=s.PanelTabType.EQUIPMENT,u.animation(n.panelTabEquipmemtPopup,s.AnimationType.SLIDE_IN_UP).subscribe()},hide:function(){t.tempActiveTab===s.PanelTabType.EQUIPMENT&&(t.tempActiveTab=null),u.animation(n.panelTabEquipmemtPopup,s.AnimationType.SLIDE_OUT_DOWN).subscribe({next:function(){t.showEquipment=!1}})},targets:[r,i]};o.fromEvent(r.current,"click").subscribe({next:function(){t.showEquipment?c.store.popupManager.remove(l):c.store.popupManager.add(l)}})})),r.mounted("SettingClick",(function(){var e=this.refs,t=this.store,n=e.settingIconRef,r=a.default.getKChat(this.rootName).rxjsEvent;o.fromEvent(n.current,"click").subscribe({next:function(){t.showSetting=!0,r.subscribe(s.RxjsEventNames.TOGGLE_SETTING_VIEW,o.of(!0))}});var u=i.map((function(e){return t.tempActiveTab=e?s.PanelTabType.SETTING:null,e}));return r.addPipe(s.RxjsEventNames.TOGGLE_SETTING_VIEW,u),function(){return r.removePipe(s.RxjsEventNames.TOGGLE_SETTING_VIEW,u)}})),r.mounted("PanelTabClick",(function(){var e=this.refs.panelTabRef,t=a.default.getKChat(this.rootName).rxjsEvent;o.fromEvent(e.current,"click").pipe(i.map((function(e){return e.target.getAttribute("data-type")})),i.filter((function(e){return!!e}))).subscribe({next:function(e){e!==s.PanelTabType.CONTACTS&&t.subscribe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,o.of({})),t.subscribe(s.RxjsEventNames.PANEL_TAB_CHANGE,o.of(e))}})})),r.mounted("ChangeActiveTab",(function(){var e=this.store,t=a.default.getKChat(this.rootName).rxjsEvent,n=i.map((function(n){if(n!==e.activeTab){var r=void 0;switch(n){case s.PanelTabType.ADDRESS_BOOK:case s.PanelTabType.CONTACTS:r=s.ChatContentType.DEFAULT;break;case s.PanelTabType.COLLECTION:r=s.ChatContentType.COLLECTION}r&&t.subscribe(s.RxjsEventNames.TOGGLE_CHAT_AREA_CONTENT,o.of(r)),e.activeTab=n}return n}));return t.addPipe(s.RxjsEventNames.PANEL_TAB_CHANGE,n),function(){return t.removePipe(s.RxjsEventNames.PANEL_TAB_CHANGE,n)}})),r.mounted("UpdateUnreadMsgLen",(function(){var e=this.store,t=a.default.getKChat(this.rootName).rxjsEvent,n=i.map((function(t){return e.unReadMsgTotalLen=t,t}));return t.addPipe(s.RxjsEventNames.UPDATE_TOTAL_MSG_LEN,n),function(){return t.removePipe(s.RxjsEventNames.UPDATE_TOTAL_MSG_LEN,n)}})),r.mounted("ExposeStarIconPos",(function(){var e=a.default.getKChat(this.rootName).rxjsEvent,t=this.refs,n=i.map((function(){return{x:u.getElementLeft(t.collection.current)-u.getElementLeft(t.container.current)+t.collection.current.offsetWidth/2,y:u.getElementTop(t.collection.current)-u.getElementTop(t.container.current)+t.collection.current.offsetHeight/2}}));return e.addPipe(s.RxjsEventNames.EXPOSE_STAR_ICON_POS,n),function(){return e.removePipe(s.RxjsEventNames.EXPOSE_STAR_ICON_POS,n)}})),r.mounted("ContainerDrag",(function(){var e=this.refs,t=a.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.store,u=o.fromEvent(e.container.current,"mousedown"),c=o.fromEvent(window,"mousemove"),l=o.fromEvent(window,"mouseup");n.subscribe(s.RxjsEventNames.DRAG_CONTAINER,u.pipe(i.filter((function(e){return Array.prototype.some.call(e.target.childNodes,(function(e){return 1===e.nodeType}))})),i.map((function(e){var t=r.rootDomRef.current.getBoundingClientRect(),n=t.left,o=t.top;return{x:e.x-n,y:e.y-o}})),i.concatMap((function(e){return c.pipe(i.takeUntil(l),i.map((function(t){return{x:t.x-e.x,y:t.y-e.y}})))}))))}))]}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(371),s=n(372),a=n(373),u=n(61),c=n(62),l=n(379),d=n(380),f=n(11),p=n(12),A=n(5),g=n(1);t.default=function e(t,n,h){return o.default("PanelTab",i.default,{rootName:t,_styles:s.default(),store:a.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:h},[c.default(t,".kc-panel-user-info",r([f.mounted("OnLoginSuccess",(function(){var e=this,t=p.default.getKChat(this.rootName).rxjsEvent,n=A.map((function(t){return e.store.userInfo=t,t}));return t.addPipe(g.RxjsEventNames.LOGIN_SUCCESS,n),function(){return t.removePipe(g.RxjsEventNames.LOGIN_SUCCESS,n)}}))],u.default())).setName("PanelUserInfoPopupTree"),d.default(t,".kc-panel-equipment-info",l.default())])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(1),u=n(6),c=n(8),l=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=l(null),e.refs.userHeadRef=l(null),e.refs.panelTabRef=l(null),e.refs.userInfoRef=l(null),e.refs.collection=l(null),e.refs.addressBook=l(null),e.refs.contacts=l(null),e.refs.equipmentIconRef=l(null),e.refs.settingIconRef=l(null),e.refs.equipmemtInfoRef=l(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=t.assets,i=n.images,l=n.fonts,d=e.refs,f=e.store,p=f.activeTab,A=f.tempActiveTab,g=f.showUserInfo,h=f.showEquipment,m=f.userInfo,y=f.unReadMsgTotalLen,v=f.isOnline,b=function(e){return(A||p)===e?r(r({},t.panelTab),t.panelTabActive):t.panelTab};return o.createElement("div",{style:t.container,ref:e.refs.container,"data-tree":e.name,"data-style-name":"container"},o.createElement("div",{style:t.userHeadBox,"data-style-name":"userHeadBox"},o.createElement("div",{style:t.userHeadImgContainer,"data-style-name":"userHeadImgContainer",ref:e.refs.userHeadRef},o.createElement("img",{draggable:!1,src:c.getUserHeader(m,i),style:t.userHeadImg,"data-style-name":"userHeadImg"}),o.createElement("div",{style:u.toggleVisible(t.userHeadImgCover,!v),"data-style-name":"userHeadImgCover"},"断线")),o.createElement("div",{style:u.toggleVisible(t.userInfoPopup,g),"data-style-name":"userInfoPopup"},o.createElement("div",{className:"kc-panel-user-info",ref:e.refs.userInfoRef,style:t.panelTabUserPopup,"data-style-name":"panelTabUserPopup"}))),o.createElement("div",{style:t.panelTabBox,"data-style-name":"panelTabBox"},o.createElement("div",{style:t.panelTabTop,"data-style-name":"panelTabTop",ref:e.refs.panelTabRef},function(){if(y>0)return o.createElement("div",{style:t.unReadMsg,"data-style-name":"unReadMsg"},y>99?"99+":y)}(),o.createElement("i",{style:b(a.PanelTabType.CONTACTS),"data-style-name":(A||p)===a.PanelTabType.CONTACTS?"panelTabActive":"panelTab","data-type":a.PanelTabType.CONTACTS,className:l.message}),o.createElement("i",{style:b(a.PanelTabType.ADDRESS_BOOK),"data-style-name":(A||p)===a.PanelTabType.ADDRESS_BOOK?"panelTabActive":"panelTab","data-type":a.PanelTabType.ADDRESS_BOOK,className:l.group}),o.createElement("i",{style:b(a.PanelTabType.COLLECTION),"data-style-name":(A||p)===a.PanelTabType.COLLECTION?"panelTabActive":"panelTab","data-type":a.PanelTabType.COLLECTION,ref:d.collection,className:l.collection})),o.createElement("div",{style:t.panelTabBottom,"data-style-name":"panelTabBottom"},o.createElement("i",{ref:e.refs.equipmentIconRef,style:b(a.PanelTabType.EQUIPMENT),className:l.equipment}),o.createElement("i",{ref:e.refs.settingIconRef,style:b(a.PanelTabType.SETTING),className:l.setting}),o.createElement("div",{style:u.toggleVisible(t.equipmentInfoPopup,h),"data-style-name":"equipmentInfoPopup"},o.createElement("div",{className:"kc-panel-equipment-info",ref:e.refs.equipmemtInfoRef,style:t.panelTabEquipmemtPopup,"data-style-name":"panelTabEquipmemtPopup"})))))}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);t.default=function(){return{default:{assets:{images:{$maleDefaultHeader:r.$theme.$maleDefaultHeader,$femaleDefaultHeader:r.$theme.$femaleDefaultHeader},fonts:{message:"icon iconfont icon-message",group:"icon iconfont icon-group-black-copy-copy",collection:"icon iconfont icon-collection",equipment:"icon iconfont icon-icon-online-equipment",setting:"icon iconfont icon-set"}},container:{width:"80px",height:"100%",padding:"32px 0 26px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",color:"#fff",backgroundColor:r.$theme.$baseColor},userHeadBox:{position:"relative",width:"100%",height:"46px",textAlign:"center"},userHeadImgContainer:{position:"relative",height:"100%"},userHeadImgCover:{position:"absolute",top:"50%",left:"50%",width:"46px",height:"46px",borderRadius:"50%",cursor:"pointer",lineHeight:"46px",overflow:"hidden",zIndex:"1",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0, 0, 0, .5)"},userHeadImg:{width:"46px",height:"46px",borderRadius:"50%",cursor:"pointer",overflow:"hidden"},panelTabBox:{width:"100%",height:"calc(100% - 96px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},panelTabTop:{position:"relative",width:"100%",height:"158px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},panelTabBottom:{position:"relative",width:"100%",height:"78px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},panelTab:{fontSize:"26px",color:"rgba(255, 255, 255, .4)",cursor:"pointer"},panelTabActive:{color:"#fff"},panelTabContainer:{position:"relative",cursor:"pointer"},unReadMsg:{position:"absolute",top:"-15px",left:"40px",maxWidth:"29px",padding:"0 5px",border:"1px solid #4999FF",textAlign:"center",color:"#fff",fontSize:"12px",lineHeight:"16px",borderRadius:"16px",backgroundColor:"#F36464"},userInfoPopup:{position:"absolute",left:"80px",top:"-10px",width:"300px",height:"332px",padding:"10px 10px 10px 0",overflow:"hidden",zIndex:"1"},panelTabUserPopup:{},equipmentInfoPopup:{position:"absolute",left:"100%",bottom:"-26px",width:"328px",height:"260px",padding:"10px",zIndex:"1"},panelTabEquipmemtPopup:{height:"100%"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({showUserInfo:!1,showEquipment:!1,showSetting:!1,activeTab:o.PanelTabType.CONTACTS,tempActiveTab:null,userInfo:{},unReadMsgTotalLen:0,isOnline:!0})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(68),a=n(8),u=n(6),c=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=c(null),e.refs.headerImgRef=c(null),e.refs.headerEditRef=c(null),e.refs.phoneInputRef=c(null),e.refs.phoneEditRef=c(null),e.refs.emailInputRef=c(null),e.refs.emailEditRef=c(null),e.refs.sendMessageRef=c(null),e.refs.showMoreRef=c(null),r.createElement(o.Observer,null,(function(){var t,n,o=i.toJS(e.styles),c=o.assets,l=c.images,d=c.fonts,f=e.store,p=f.userInfo,A=f.loginUser,g=f.isPopup,h=f.showHeaderEdit,m=f.isShowAll,y=f.isPhoneActive,v=f.isEmailActive,b=function(){return p.userCode===A.userCode};return r.createElement("div",{ref:e.refs.container,"data-tree":e.name,style:g?o.containerPopup:o.container,"data-style-name":g?"containerPopup":"container"},r.createElement("div",{style:g?o.titlePopup:o.title,"data-style-name":g?"titlePopup":"title"},r.createElement("div",{ref:e.refs.headerImgRef,style:g?o.headerBoxPopup:o.headerBox,"data-style-name":g?"headerBoxPopup":"headerBox"},r.createElement("div",{ref:e.refs.headerEditRef,style:u.toggleVisible(o.headerEdit,h&&!a.isGroup(p)),"data-style-name":"headerEdit"},"修改头像"),r.createElement("img",{draggable:!1,src:a.getUserHeader(p,l)})),r.createElement("div",{style:g?o.nameBoxPopup:o.nameBox,"data-style-name":g?"nameBoxPopup":"nameBox"},r.createElement("span",{style:o.nameText,title:p.groupName||p.userName},p.groupName||p.userName),r.createElement("img",{draggable:!1,src:l.maleIcon,style:o.sexIcon,"data-style-name":"sexIcon"}))),r.createElement("div",{style:u.toggleVisible(g?o.contentPopup:o.content,!a.isGroup(p)),"data-style-name":g?"contentPopup":"content"},r.createElement("div",{style:u.toggleVisible(o.divider,!g),"data-style-name":"divider"}),r.createElement("div",{style:o.infoItem,"data-style-name":"infoItem"},r.createElement("i",{className:d.account,style:o.infoItemIcon,"data-style-name":"infoItemIcon"}),r.createElement("span",{style:o.infoItemLable,"data-style-name":"infoItemLable"},"账户:"),r.createElement("span",{style:o.infoItemValue,"data-style-name":"infoItemValue"},p.userCode)),r.createElement("div",{style:o.infoItem,"data-style-name":"infoItem"},r.createElement("i",{className:d.department,style:o.infoItemIcon,"data-style-name":"infoItemIcon"}),r.createElement("span",{style:o.infoItemLable,"data-style-name":"infoItemLable"},"部门:"),r.createElement("span",{style:o.infoItemValue,title:p.orgName,"data-style-name":"infoItemValue"},p.orgName)),r.createElement("div",{style:o.infoItem,"data-style-name":"infoItem"},r.createElement("i",{className:d.telephone,style:o.infoItemIcon,"data-style-name":"infoItemIcon"}),r.createElement("span",{style:o.infoItemLable,"data-style-name":"infoItemLable"},"电话:"),r.createElement("span",{style:u.toggleVisible(p.userPhoneNumber?o.infoItemValue:o.infoPlaceHolder,!y),title:p.userPhoneNumber,"data-style-name":p.userPhoneNumber?"infoItemValue":"infoPlaceHolder"},b()?p.userPhoneNumber||"添加电话":p.userPhoneNumber),r.createElement("input",{style:u.toggleVisible(o.infoItemValueActive,y),ref:e.refs.phoneInputRef,"data-style-name":"infoItemValueActive"}),r.createElement(s.default,{style:u.toggleVisible(o.editContainer,b()),hoverStyle:o.editContainerHover,"data-style-name":"editContainer","data-style-hover-name":"editContainerHover"},r.createElement("i",{ref:e.refs.phoneEditRef,className:d.edit,style:o.editIcon,"data-style-name":"editIcon"}))),r.createElement("div",{style:o.infoItem,"data-style-name":"infoItem"},r.createElement("i",{className:d.email,style:o.infoItemIcon,"data-style-name":"infoItemIcon"}),r.createElement("span",{style:o.infoItemLable,"data-style-name":"infoItemLable"},"邮箱:"),r.createElement("span",{style:u.toggleVisible(p.userEmail?o.infoItemValue:o.infoPlaceHolder,!v),title:p.userEmail,"data-style-name":p.userEmail?"infoItemValue":"infoPlaceHolder"},b()?p.userEmail||"添加邮箱":p.userEmail),r.createElement("input",{style:u.toggleVisible(o.infoItemValueActive,v),ref:e.refs.emailInputRef,"data-style-name":"infoItemValueActive"}),r.createElement(s.default,{style:u.toggleVisible(o.editContainer,b()),hoverStyle:o.editContainerHover,"data-style-name":"editContainer","data-style-hover-name":"editContainerHover"},r.createElement("i",{ref:e.refs.emailEditRef,className:d.edit,style:o.editIcon,"data-style-name":"editIcon"})))),r.createElement("div",{style:u.toggleVisible(o.groupContent,a.isGroup(p)),"data-style-name":"groupContent"},r.createElement("div",{style:o.groupNameContainer,"data-style-name":"groupNameContainer"},r.createElement("span",{style:o.groupLabel,"data-style-name":"groupLabel"},"群名称"),r.createElement("span",{style:o.groupNameValue,title:p.groupName,"data-style-name":"groupNameValue"},p.groupName)),(t=p.groupMembers,n=p.userCode,r.createElement("div",{style:u.toggleVisible(o.groupMemberContainer,a.isGroup(p)),"data-style-name":"groupMemberContainer"},r.createElement("span",{style:o.groupLabel,"data-style-name":"groupLabel"},"群成员"),r.createElement("span",{style:o.groupMore,ref:e.refs.showMoreRef,"data-style-name":"groupMore"},t&&t.length>10&&(m?"收起":"查看全部（"+t.length+"）")),r.createElement("div",{style:o.memberBox,"data-style-name":"memberBox"},t&&t.map((function(e,t){if(m||!(t>=10))return r.createElement("div",{style:o.memberItem,title:e.userName,key:e.userCode,"data-style-name":"memberItem"},r.createElement("span",{style:o.memberItemCreater,"data-style-name":"memberItemCreater"},e.userCode===n?"群主":""),r.createElement("img",{style:o.memberItemImg,src:a.getUserHeader(e,l),"data-style-name":"memberItemImg"}),r.createElement("span",{style:o.memberItemName,"data-style-name":"memberItemName"},e.userName))})))))),r.createElement("div",{style:u.toggleVisible(o.footer,a.isGroup(p)||!b()),"data-style-name":"footer"},r.createElement("button",{ref:e.refs.sendMessageRef,style:o.sendBtn,"data-style-name":"sendBtn"},"发消息")))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{maleIcon:n(376),femaleIcon:n(377),$groupDefaultHeader:o.$theme.$groupDefaultHeader,$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader},fonts:{account:"icon iconfont icon-frequent-contact-sur",department:"icon iconfont icon-organization-framewo",telephone:"icon iconfont icon-phone",email:"icon iconfont icon-email",edit:"icon iconfont icon-edit"}},container:{position:"absolute",left:"50%",top:"60px",width:"270px",lineHeight:"18px",cursor:"default",backgroundColor:"#F6F6FC",transform:"translateX(-50%)"},containerPopup:r(r({borderRadius:"6px",boxShadow:"0 0 10px 0 rgba(0, 0, 0, 0.16)",cursor:"default",lineHeight:"18px"},o.forbidSelect()),{backgroundColor:"#fff",overflow:"hidden"}),title:{display:"flex",alignItems:"center",flexDirection:"column",paddingBottom:"20px"},titlePopup:{height:"120px",display:"flex",alignItems:"center",paddingLeft:"20px",backgroundColor:"#F6F6FC"},headerBox:{position:"relative",width:"80px",height:"80px",borderRadius:"50%",overflow:"hidden",cursor:"pointer"},headerBoxPopup:{position:"relative",width:"64px",height:"64px",borderRadius:"50%",overflow:"hidden",cursor:"pointer"},headerEdit:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",color:"#fff",lineHeight:"64px",fontSize:"12px",textAlign:"center",backgroundColor:"rgba(51, 51, 51, 0.6)"},nameBox:{position:"relative",marginTop:"10px",fontSize:"18px",color:"#333",paddingRight:"15px",lineHeight:"24px",fontWeight:"400"},nameBoxPopup:r({position:"relative",maxWidth:"120px",marginLeft:"15px",paddingRight:"15px",fontSize:"18px",color:"#333",lineHeight:"24px",fontWeight:"400"},o.ellipsis()),nameText:r({maxWidth:"180px",display:"inline-block"},o.ellipsis()),sexIcon:{position:"absolute",right:"0",top:"50%",transform:"translateY(-50%)",width:"10px"},divider:{width:"calc(100% - 40px)",margin:"0 20px 20px",borderBottom:"1px solid #DCDFE6"},content:{height:"192px",paddingBottom:"30px",display:"flex",flexDirection:"column",justifyContent:"space-between"},contentPopup:{height:"192px",padding:"20px 20px 30px 20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},infoItem:{position:"relative",height:"26px",display:"flex",paddingLeft:"32px",textAlign:"left"},infoItemIcon:{position:"absolute",left:"0",top:"0",fontSize:"12px",lineHeight:"26px",color:"#BEC1C9"},infoItemLable:{width:"35px",display:"inline-block",marginRight:"8px",fontSize:"14px",lineHeight:"26px",color:"#B6B6B6"},infoItemValue:r({minWidth:"56px",maxWidth:"120px",marginRight:"8px",lineHeight:"26px",fontSize:"14px",color:"#000"},o.ellipsis()),infoItemValueActive:{width:"100px",marginRight:"8px",lineHeight:"26px",fontSize:"14px",border:"1px solid #eee",padding:"7px 2px"},infoPlaceHolder:{marginRight:"8px",lineHeight:"26px",fontSize:"14px",color:"#BEC1C9"},editContainer:{color:"#BEC1C9"},editContainerHover:{color:o.$theme.$baseColor},editIcon:{fontSize:"12px",lineHeight:"26px",cursor:"pointer"},groupContent:{paddingBottom:"15px",marginBottom:"15px",borderTop:"1px solid #DCDFE6",borderBottom:"1px solid #DCDFE6"},groupNameContainer:{display:"flex",margin:"20px 0 6px",fontSize:"14px",lineHeight:"20px"},groupLabel:{marginRight:"10px",color:"#B6B6B6"},groupNameValue:r({maxWidth:"170px",color:"#333"},o.ellipsis()),groupMemberContainer:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},groupMore:{color:"#4999FF",fontSize:"12px",cursor:"pointer"},memberBox:{width:"100%",maxHeight:"140px",marginTop:"5px",fontSize:"12px",color:"#333",display:"flex",flexWrap:"wrap",overflow:"auto"},memberItem:{position:"relative",width:"20%",height:"70px",padding:"10px 0 25px",textAlign:"center"},memberItemCreater:{position:"absolute",right:"10px",top:"10px",borderRadius:"7px",fontSize:"12px",color:"#fff",padding:"0 8px",lineHeight:"20px",backgroundColor:"#4999FF",zIndex:"1",transform:"translate(50%, -50%)"},memberItemImg:r({width:"35px",borderRadius:"50%"},o.forbidSelect()),memberItemName:r({position:"absolute",left:"0",bottom:"0",width:"100%",lineHeight:"20px"},o.ellipsis()),footer:{textAlign:"center",paddingBottom:"20px"},sendBtn:{width:"100px",borderRadius:"2px",lineHeight:"30px",color:"#fff",fontSize:"14px",letterSpacing:"5px",backgroundColor:o.$theme.$baseColor,cursor:"pointer"}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/male.png"},function(e,t,n){e.exports=n.p+"./static/kchat203/images/female.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({userInfo:{},loginUser:{},showHeaderEdit:!1,isPhoneActive:!1,isEmailActive:!1,isPopup:!0,isShowAll:!1})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(1),s=n(5),a=n(13);function u(){var e=this,t=o.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent;n.service.getOnlineDevices().subscribe({next:function(t){t.some((function(e,n){if(4===e.code)return t.unshift(t.splice(n,1)[0]),!0})),e.store.deviceList=t},error:function(e){console.log(e),r.subscribe(i.RxjsEventNames.SHOW_MESSAGE,a.of("获取在线设备失败"))}})}t.default=function(){return[r.mounted("GetOnlineDevices",(function(){var e=this,t=o.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,c=s.map((function(t){return u.call(e),n.login.on("deviceLogin",(function(t){r.subscribe(i.RxjsEventNames.SHOW_MESSAGE,a.of({type:i.GlobalMessageTip.TIP,message:"上线通知："+(t.device.type?t.device.type:"未知设备")})),u.call(e)})),n.login.on("deviceLogout",(function(t){r.subscribe(i.RxjsEventNames.SHOW_MESSAGE,a.of({type:i.GlobalMessageTip.TIP,message:"下线通知："+(t.device.type?t.device.type:"未知设备")})),u.call(e)})),t}));return r.addPipe(i.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(i.RxjsEventNames.LOGIN_SUCCESS,c)}})),r.mounted("ClosePopup",(function(){var e=this.refs.closeIconRef,t=o.default.getKChat(this.rootName).store;a.fromEvent(e.current,"click").subscribe({next:function(){t.popupManager.persist([])}})}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(381),i=n(382),s=n(383);t.default=function e(t,n,a){return r.default("DevicePopup",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.closeIconRef=s(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets.fonts,o=e.store.deviceList,s=function(e){return n[e.code]};return r.createElement("div",{style:t.container,"data-style-name":"container","data-tree":e.name},r.createElement("div",{style:t.header,"data-style-name":"header"},r.createElement("span",{style:t.headerTitle,"data-style-name":"headerTitle"},"当前在线设备"),r.createElement("i",{style:t.headerIcon,"data-style-name":"headerIcon",ref:e.refs.closeIconRef,className:n.close})),r.createElement("div",{style:t.list,"data-style-name":"list"},o.map((function(e,n){return r.createElement("div",{style:t.deviceItem,"data-style-name":"deviceItem",key:e.code,title:e.type+(0===n?" | 本机":"")},r.createElement("i",{style:t.deviceIcon,className:s(e),"data-style-name":"deviceIcon"}),r.createElement("span",{style:t.deviceTitle,"data-style-name":"deviceTitle"},e.type),0===n&&r.createElement("span",{style:t.deviceTip,"data-style-name":"deviceTip"}," | 本机"))}))))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=n(1);t.default=function(){var e;return{default:{assets:{fonts:(e={close:"icon iconfont icon-close-copy"},e[i.DeviceType.OLD]="icon iconfont icon-icon-other",e[i.DeviceType.PHONE]="icon iconfont icon-phone1",e[i.DeviceType.BODY_WORN_CAMERA]="icon iconfont icon-site-enforcement-recorder",e[i.DeviceType.WINDOWS_PC]="icon iconfont icon-client",e[i.DeviceType.WEB_CHROME]="icon iconfont icon-chrome",e[i.DeviceType.WEB_MANAGEMENT]="icon iconfont icon-backstage",e[i.DeviceType.VEHICLE]="icon iconfont icon-vehicle",e[i.DeviceType.INDIVIDUAL]="icon iconfont icon-Individual-soldier",e[i.DeviceType.TACHOGRAPH]="icon iconfont icon-tachograph",e[i.DeviceType.TABLET_PC]="icon iconfont icon-flat",e[i.DeviceType.TWO_WAY_RADIO]="icon iconfont icon-walkie-talkie",e[i.DeviceType.PORTABLE]="icon iconfont icon-portable",e[i.DeviceType.UAV]="icon iconfont icon-UVA",e[i.DeviceType.CONTROL_BALL]="icon iconfont icon-control-ball",e)},container:{height:"100%",boxShadow:"0 0 10px 0 rgba(0, 0, 0, 0.16)",backgroundColor:"#fff",borderRadius:"6px"},header:{display:"flex",justifyContent:"space-between",padding:"0 20px",lineHeight:"38px",borderBottom:"1px solid #e9e9e9"},headerTitle:{fontSize:"16px",color:"#4999FF"},headerIcon:{fontSize:"12px",color:"#BEC1C9",cursor:"pointer"},list:{padding:"0 16px",height:"calc(100% - 40px)",overflowX:"hidden",overflowY:"auto"},deviceItem:r({position:"relative",width:"100%",lineHeight:"50px",display:"flex"},o.ellipsis()),deviceIcon:{color:"#4999FF",fontSize:"30px"},deviceTitle:{color:"#333",fontSize:"12px",margin:"0 5px 0 13px"},deviceTip:{color:"#bec1c9",fontSize:"12px"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({deviceList:[]})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(13),i=n(5),s=n(12),a=n(1);t.default=function(){return[r.mounted("SearchInputFocus",(function(){var e=this.store,t=this.refs,n=s.default.getKChat(this.rootName).rxjsEvent;o.fromEvent(t.searchInput.current,"focus").subscribe({next:function(){e.isSearching=!0,e.activeTab===a.PanelTabType.COLLECTION?n.subscribe(a.RxjsEventNames.COLLECTION_SEARCH,o.of(e.searchVal)):n.subscribe(a.RxjsEventNames.PANEL_SEARCHING,o.of({searching:!0,content:e.searchVal}))}})})),r.mounted("SearchInputBlur",(function(){var e=this.store,t=this.refs,n=s.default.getKChat(this.rootName).rxjsEvent;o.fromEvent(t.searchInput.current,"blur").subscribe({next:function(){e.isSearching=!1,e.activeTab===a.PanelTabType.COLLECTION?n.subscribe(a.RxjsEventNames.COLLECTION_SEARCH,o.of(e.searchVal)):n.subscribe(a.RxjsEventNames.PANEL_SEARCHING,o.of({searching:e.searchVal.length>0,content:e.searchVal}))}})})),r.mounted("SearchInputChange",(function(){var e=this.store,t=this.refs,n=s.default.getKChat(this.rootName).rxjsEvent;o.fromEvent(t.searchInput.current,"input").pipe(i.debounceTime(500)).subscribe({next:function(t){e.searchVal=t.target.value.trim(),e.activeTab===a.PanelTabType.COLLECTION?n.subscribe(a.RxjsEventNames.COLLECTION_SEARCH,o.of(e.searchVal)):n.subscribe(a.RxjsEventNames.PANEL_SEARCHING,o.of({searching:!0,content:e.searchVal}))}})})),r.mounted("CreateGroupClick",(function(){var e=this.refs.createIconRef,t=s.default.getKChat(this.rootName).rxjsEvent;o.fromEvent(e.current,"click").subscribe({next:function(){t.subscribe(a.RxjsEventNames.SHOW_SELECT_MEMBER,o.of({type:a.SelectMemberType.CREATE_GROUP}))}})})),r.mounted("ClearState",(function(){var e=this.store,t=this.refs,n=s.default.getKChat(this.rootName).rxjsEvent,r=i.map((function(){t.searchInput.current.value="",e.isSearching=!1,e.searchVal=""}));return n.addPipe(a.RxjsEventNames.PANEL_SEARCH_CLOSE,r),function(){return n.removePipe(a.RxjsEventNames.PANEL_SEARCH_CLOSE,r)}})),r.mounted("ClearIconClick",(function(){var e=this.store,t=this.refs,n=s.default.getKChat(this.rootName).rxjsEvent;o.fromEvent(t.clearIconRef.current,"click").subscribe({next:function(){t.searchInput.current.value="",e.searchVal="",e.activeTab===a.PanelTabType.COLLECTION?n.subscribe(a.RxjsEventNames.COLLECTION_SEARCH,o.of("")):n.subscribe(a.RxjsEventNames.PANEL_SEARCHING,o.of({searching:!0,content:""}))}})})),r.mounted("PanelChange",(function(){var e=this.store,t=this.refs,n=s.default.getKChat(this.rootName).rxjsEvent,r=i.map((function(n){return t.searchInput.current.value="",e.activeTab=n,n}));return n.addPipe(a.RxjsEventNames.PANEL_TAB_CHANGE,r),function(){return n.removePipe(a.RxjsEventNames.PANEL_TAB_CHANGE,r)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(386),i=n(387),s=n(388);t.default=function e(t,n,a){return r.default("PanelSearch",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(6),u=n(1),c=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.searchInput=c(null),e.refs.createIconRef=c(null),e.refs.clearIconRef=c(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=t.assets.fonts,i=e.store,c=i.isSearching,l=i.searchVal,d=i.activeTab,f=c?r(r({},t.searchInput),t.searchInputFocus):t.searchInput;return o.createElement("div",{style:t.container,"data-style-name":"container","data-tree":e.name},o.createElement("div",{style:t.searchBar,"data-style-name":"searchBar"},o.createElement("div",{style:t.inputContainer,"data-style-name":"inputContainer"},o.createElement("i",{className:n.search,"data-style-name":"searchIcon",style:t.searchIcon}),o.createElement("input",{ref:e.refs.searchInput,style:f,"data-style-name":c?"searchInputFocus":"searchInput",placeholder:"搜索"}),o.createElement("i",{className:n.clear,"data-style-name":"clearIcon",style:a.toggleVisible(t.clearIcon,l.length>0),ref:e.refs.clearIconRef})),o.createElement("i",{className:n.addGroup,ref:e.refs.createIconRef,"data-style-name":"addIcon",style:a.toggleVisible(t.addIcon,d===u.PanelTabType.CONTACTS||d===u.PanelTabType.ADDRESS_BOOK)})))}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);t.default=function(){return{default:{assets:{fonts:{search:"icon iconfont icon-icon-search",clear:"icon iconfont icon-username-error-surface-copy",addGroup:"icon iconfont icon-add-surface-copy"}},container:{height:"70px",padding:"31px 16px 13px",display:"flex",flexDirection:"column",overflow:"hidden"},searchBar:{position:"relative",height:"26px",display:"flex",alignItems:"center",justifyContent:"space-between"},inputContainer:{position:"relative",width:"100%"},searchIcon:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#ccc",fontSize:"12px"},searchInput:{width:"100%",paddingLeft:"25px",border:"1px solid #DCDFE6",borderRadius:"12px",fontSize:"12px",lineHeight:"24px",outline:"none",color:"#333"},searchInputFocus:{border:"1px solid #3B99FC",boxShadow:"0 0 0 2px rgba(73, 153, 255, 0.14)"},clearIcon:{position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",color:"#DCDFE6",cursor:"pointer"},addIcon:{width:"24px",marginLeft:"10px",fontSize:"24px",textAlign:"center",color:r.$theme.$baseColor,cursor:"pointer"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({isSearching:!1,searchVal:"",activeTab:o.PanelTabType.CONTACTS})}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(12),s=n(1),a=n(13),u=n(5),c=n(6),l=n(8),d=n(2),f=n(52);function p(e){var t=this.store,n=i.default.getKChat(this.rootName),r=n.fetch,o=n.rxjsEvent,u=e.target,c=l.getTargetCode(e),d=l.isGroup(e)?1:0,f=l.getTargetCode(t.curChatTarget);if(u!==s.MessageTarget.SELF){var p={chatCode:c,chatType:d,count:1};o.subscribe(s.RxjsEventNames.ADD_UNREAD_MSG,a.of(p)),f!==c&&r.history.addUnReadMsg(p).subscribe()}if(o.subscribe(s.RxjsEventNames.UPDATE_LATEST_MSG,a.of(e)),e.userCodes&&(e.userCodes.includes(t.loginUser.userCode)||"0"===e.userCodes[0])&&(!t.curChatTarget||f!==c)){if(e.signalType!==s.SignalType.TEXT)return!1;t.recentContactsLastMsg.forEach((function(n){n.targetCode===c&&(t.atStateSubject[c]={status:!0,srcCode:e.srcCode})}))}}function A(e,t){var n=i.default.getKChat(e.rootName),o=n.fetch,u=n.rxjsEvent;console.log("contacts",t);var c=t.filter((function(e){return 0===e.chatType})).map((function(e){return e.chatCode})),d=t.filter((function(e){return 1===e.chatType})).map((function(e){return e.chatCode}));return a.Observable.create((function(e){0===c.length&&0===d.length?e.next([]):0===c.length?o.group.getGroupListInfo({groupCodeStrs:d}).subscribe({next:function(t){return e.next(t)},error:function(t){console.log(t),e.error(t),u.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("群列表信息查询失败"))}}):0===d.length?o.user.getUserListInfo({userCodes:c}).subscribe({next:function(t){return e.next(t)},error:function(t){console.log(t),e.error(t),u.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("批量获取联系人信息失败"))}}):a.zip(o.user.getUserListInfo({userCodes:c}),o.group.getGroupListInfo({groupCodeStrs:d})).subscribe({next:function(n){var o=n[0],i=n[1],s=[],a=r(o,i);t.forEach((function(e){var t=a.findIndex((function(t){return l.getTargetCode(t)===e.chatCode}));t>-1&&s.push(a.splice(t,1)[0])})),e.next(s)},error:function(t){console.log(t),e.error(t),u.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("批量获取联系人信息失败"))}})}))}function g(e,t){var n=e.store,r=i.default.getKChat(e.rootName).fetch,o=[];n.recentContacts.forEach((function(e){l.getTargetCode(e)===t?(o.unshift(e),r.history.addContactList({chatCode:t,chatType:l.isGroup(e)?s.ChatType.GROUP:s.ChatType.USER}).subscribe()):o.push(e)})),n.recentContacts=m(o,n.isTopList)}function h(e,t){var n,r,o=e.store,u=i.default.getKChat(e.rootName).rxjsEvent;if(l.isNumeric(t)?(n=t,r=v(e)):(n=o.recentContacts.findIndex((function(e){return l.getTargetCode(e)===l.getTargetCode(t)})),r=t),l.isTarget(r,o.curChatTarget)&&u.subscribe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,a.of({})),n>-1){var c=i.default.getKChat(e.rootName).fetch;r&&(o.unReadMsgs=o.unReadMsgs.filter((function(e){return e.chatCode!==l.getTargetCode(r)})),c.history.removeContact(l.getTargetCode(r)).subscribe({next:function(){o.recentContacts.splice(n,1)}}),b(e))}}function m(e,t){if(t.length>0){var n=new Array(t.length),r=e.filter((function(e){return!t.some((function(t,r){if(l.getTargetCode(e)===t)return n[r]=e,!0}))}));e=n.filter((function(e){return e})).concat(r)}return e}function y(e,t,n){var r=i.default.getKChat(e.rootName),o=r.fetch,c=r.rxjsEvent,d=v(e);if(d){var f=l.getTargetCode(d),p=o.group.markTarget({markType:n,chatCode:f,chatType:l.isGroup(d)?1:0,modifyType:t}).pipe(u.map((function(){return{markType:n,modifyType:t,chatCode:f}})));c.subscribe(s.RxjsEventNames.MARK_TARGET,p,{next:function(){return b(e)},error:function(e){console.log(e),c.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("群组置顶/勿打扰信息拉取失败"))}})}}function v(e){var t=e.store;if(-1!==t.curMouseTargetIdx){var n=t.recentContacts[t.curMouseTargetIdx];if(n)if(l.getTargetCode(n))return n}}function b(e){e.store.curMouseTargetIdx=-1}function E(e){return e.map((function(e){return{chatType:l.isGroup(e)?1:0,chatCode:l.getTargetCode(e)}}))}function C(e,t){var n=e.store,r=e.refs;n.mutedList.some((function(e){return e===t}))||n.audioInfo.ready&&(n.audioInfo.playing?n.audioInfo.beforeReadyList.push(t):r.audioRef.current.play())}function T(e,t){return e.store.recentContacts.some((function(e){return l.getTargetCode(e)===t}))}t.default=function(){return[o.mounted("InintContacts",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=u.map((function(n){return t.loginUser=n,t.loadingVisible=!0,t.recentContactsLastMsg=[],t.unReadMsgs=[],r.subscribe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,a.of({})),o.history.getUnreadMsg().subscribe({next:function(n){if(console.log("contactList",n),0===n.length)return r.subscribe(s.RxjsEventNames.CONTACT_LOADED,a.of({})),void(t.loadingVisible=!1);n.forEach((function(e){e.count>0&&r.subscribe(s.RxjsEventNames.ADD_UNREAD_MSG,a.of(e))})),a.zip.apply(void 0,n.map((function(t){return function(e,t){var n=i.default.getKChat(e.rootName).fetch,r={limit:1};t.chatType===s.ChatType.USER?r.userCode=t.chatCode:t.chatType===s.ChatType.GROUP&&(r.groupCodeStr=t.chatCode);return n.history.getHistory(r)}(e,t)}))).subscribe({next:function(e){e.forEach((function(e){var n=e.list[0];n&&t.recentContactsLastMsg.push({targetCode:n.chatCode,lastMsg:l.formatLatestMsg(n),time:l.formatTime(n.time)})}))},error:function(e){console.log(e),r.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("联系人列表消息获取失败"))}}),A(e,n).subscribe({next:function(c){n.forEach((function(e){c.some((function(t){return l.getTargetCode(t)===e.chatCode}))||(t.unReadMsgs=t.unReadMsgs.filter((function(t){return t.chatCode!==e.chatCode})),o.history.removeContact(e.chatCode).subscribe())})),function(e,t){var n=i.default.getKChat(e.rootName).fetch,r=n.group.getMarkList({markType:s.MarkType.DISTURB,chatCodeList:E(t)}).pipe(u.map((function(e){return e.map((function(e){return e.chatCode}))}))),o=n.group.getMarkList({markType:s.MarkType.UP,chatCodeList:E(t)}).pipe(u.map((function(e){return e.map((function(e){return e.chatCode}))})));return a.zip(r,o)}(e,c).subscribe({next:function(e){var n=e[0],o=e[1];t.mutedList=n,t.isTopList=o,t.recentContacts=m(c,o),t.recentContacts=t.recentContacts.filter((function(e){if(l.isGroup(e)){if(e.groupMembers.length){var n=!0;return e.groupMembers.filter((function(e){1===e.state&&e.userCode===t.loginUser.userCode&&(n=!1,console.log("member.userCode",e.userCode))})),n}return 0===e.groupMembers}return e.userCode!==t.loginUser.userCode})),console.log("store.recentContacts",t.recentContacts),r.subscribe(s.RxjsEventNames.CONTACT_LOADED,a.of({})),t.loadingVisible=!1},error:function(e){r.subscribe(s.RxjsEventNames.CONTACT_LOADED,a.of({})),t.loadingVisible=!1,console.log(e),r.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("群组置顶/勿打扰信息拉取失败"))}})},error:function(){t.loadingVisible=!1,r.subscribe(s.RxjsEventNames.CONTACT_LOADED,a.of({}))}})},error:function(e){t.loadingVisible=!1,r.subscribe(s.RxjsEventNames.CONTACT_LOADED,a.of({})),console.log(e),r.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("获取未读消息数量失败"))}}),o.message.on("receiveMessage",p.bind(e)),o.map.on("receiveMessage",p.bind(e)),o.live.on("invite",p.bind(e)),o.ptt.on("startSpeak",p.bind(e)),o.user.on("updateUserListInfo",(function(e){t.recentContacts.forEach((function(t){l.isGroup(t)?l.updateUserListInfo(t.groupMembers,e):l.updateUserListInfo([t],e)}))})),n}));return r.addPipe(s.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(s.RxjsEventNames.LOGIN_SUCCESS,c)}})),o.mounted("InitAudio",(function(){var e=this,t=this.store,n=this.styles,r=this.refs.audioRef;a.fromEvent(r.current,"loadedmetadata").subscribe({next:function(){return t.audioInfo.ready=!0}}),a.fromEvent(r.current,"canplay").subscribe({next:function(){t.audioInfo.beforeReadyList.forEach((function(t){C(e,t)})),t.audioInfo.beforeReadyList=[]}}),a.fromEvent(r.current,"playing").subscribe({next:function(){return t.audioInfo.playing=!0}}),a.fromEvent(r.current,"ended").subscribe({next:function(){return t.audioInfo.playing=!1}}),a.fromEvent(r.current,"pause").subscribe({next:function(){return t.audioInfo.playing=!1}}),t.audioInfo.src=n.assets.audios.audioTip})),o.mounted("OnMessage",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent,r=u.map((function(n){var r=n.chatCode,o=n.count;if(r&&r!==l.getTargetCode(t.curChatTarget))return C(e,r),t.unReadMsgs.some((function(e){if(e.chatCode===r)return e.unReadMsgLength+=o||1,!0}))||t.unReadMsgs.push({chatCode:r,unReadMsgLength:o||0}),n}));return n.addPipe(s.RxjsEventNames.ADD_UNREAD_MSG,r),function(){return n.removePipe(s.RxjsEventNames.ADD_UNREAD_MSG,r)}})),o.mounted("UpdateLatestMsg",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=u.map((function(n){n.messageType===s.MessageType.RECALL&&(n.signalType=s.SignalType.TEXT,n.content=(n.type===s.ChatType.GROUP?n.userCode:"对方")+" 撤回了一条消息",n.status=s.MessageStatus.RECALL,t.atStateSubject[n.chatCode]=null);var i=l.formatLatestMsg(n),u=l.formatTime(n.time),c=l.isSelf(n)?n.chatCode:l.getTargetCode(n);return t.recentContactsLastMsg.some((function(e){if(e.targetCode===c)return e.lastMsg=i,e.time=u,!0}))||t.recentContactsLastMsg.push({targetCode:c,lastMsg:i,time:u}),T(e,c)?g(e,c):(n.type===s.ChatType.USER?o.user.getUserInfo({userCode:c}).subscribe({next:function(n){T(e,c)||t.recentContacts.push(n),g(e,n.userCode)},error:function(e){console.log(e),r.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("获取用户信息失败"))}}):n.type===s.ChatType.GROUP&&o.group.getGroupInfo({groupCodeStr:c}).subscribe({next:function(n){T(e,c)||t.recentContacts.push(n),g(e,n.groupCodeStr)},error:function(e){console.log(e),r.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("获取群组信息失败"))}}),o.history.addContactList({chatCode:c,chatType:n.type}).subscribe()),n}));return r.addPipe(s.RxjsEventNames.UPDATE_LATEST_MSG,c),function(){return r.removePipe(s.RxjsEventNames.UPDATE_LATEST_MSG,c)}})),o.mounted("UpdateCurChatTarget",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=u.map((function(n){var i=l.getTargetCode(n);return i&&(o.history.clearUnReadMsg(i).subscribe((function(){t.unReadMsgs=t.unReadMsgs.filter((function(e){return e.chatCode!==i}))})),t.targetChanging?t.targetChanging=!1:(h(e,n),o.history.addContactList({chatCode:i,chatType:l.isGroup(n)?1:0}).subscribe((function(){t.recentContacts.push(n),g(e,i)}))),r.subscribe(s.RxjsEventNames.PANEL_TAB_CHANGE,a.of(s.PanelTabType.CONTACTS)),t.atStateSubject[i]&&t.atStateSubject[i].status&&setTimeout((function(){r.subscribe(s.RxjsEventNames.UPDATE_AT_BAR_STATUS,a.of(t.atStateSubject[i])),t.atStateSubject[i]=null}),0)),t.curChatTarget=n,n}));return r.addPipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,c),function(){return r.removePipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,c)}})),o.mounted("ContactClick",(function(){var e=this.store,t=this.refs,n=i.default.getKChat(this.rootName).rxjsEvent;a.fromEvent(t.containerRef.current,"click").pipe(u.map((function(e){return t.contactsRef.findIndex((function(t){return c.isDescendant(e.target,t.current)}))})),u.filter((function(e){return e>-1})),u.map((function(t){return e.targetChanging=!0,e.recentContacts[t]})),u.filter((function(t){return l.getTargetCode(e.curChatTarget)!==l.getTargetCode(t)}))).subscribe({next:function(t){if((console.log("contact联系人点击",t),t.groupMembers)&&t.groupMembers.filter((function(t){return 1===t.state&&t.userCode===e.loginUser.userCode})).length>0)return void n.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("您已被踢出群聊！"));n.subscribe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,a.of(t))}})})),o.mounted("ShowRightMouse",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.store;a.fromEvent(this.refs.containerRef.current,"contextmenu").pipe(u.filter((function(t){var n=e.refs.contactsRef.findIndex((function(e){return c.isDescendant(t.target,e.current)}));return e.store.curMouseTargetIdx=n,n>-1})),u.map((function(t){return{event:t,rightMouseType:s.RightMouseType.MARK_CONTACT,menuPos:{x:t.x-c.getElementLeft(r.rootDomRef.current),y:t.y-c.getElementTop(r.rootDomRef.current)},menus:e.store.menu}}))).subscribe({next:function(e){n.subscribe(s.RxjsEventNames.SHOW_RIGHT_MOUSE,a.of(e))}})})),o.mounted("ClickRightMouse",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=u.map((function(t){if(t.rightMouseType===s.RightMouseType.MARK_CONTACT)switch(t.name){case s.RightMouseName.CONTACT_REMOVE:h(e,e.store.curMouseTargetIdx);break;case s.RightMouseName.CONTACT_ISTOP:y(e,s.MarkModifyType.ADD,0);break;case s.RightMouseName.CONTACT_ISTOP_CANCEL:y(e,s.MarkModifyType.DEL,0);break;case s.RightMouseName.CONTACT_MUTE:y(e,s.MarkModifyType.ADD,1);break;case s.RightMouseName.CONTACT_MUTE_CANCEL:y(e,s.MarkModifyType.DEL,1)}return t}));return t.addPipe(s.RxjsEventNames.CLICK_RIGHT_MOUSE,n),function(){return t.removePipe(s.RxjsEventNames.CLICK_RIGHT_MOUSE,n)}})),o.mounted("UnReadMsgChange",(function(){var e=this.store,t=i.default.getKChat(this.rootName).rxjsEvent,n=d.autorun((function(){var n=0;e.unReadMsgs.length&&e.unReadMsgs.forEach((function(e){n+=e.unReadMsgLength})),t.subscribe(s.RxjsEventNames.UPDATE_TOTAL_MSG_LEN,a.of(n))}));return function(){return n()}})),o.mounted("ActiveCall",(function(){var e=i.default.getKChat(this.rootName),t=e.rxjsEvent,n=e.fetch,r=u.map((function(e){var t=l.getTargetCode(e);return t&&n.live.activeCall({chatCode:t,type:l.isGroup(e)?1:0}).subscribe(),e}));return t.addPipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,r),function(){return t.removePipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,r)}})),o.mounted("EmitListChange",(function(){var e=this.store,t=i.default.getKChat(this.rootName).rxjsEvent,n=d.autorun((function(){t.subscribe(s.RxjsEventNames.TOP_CONTACTS_CHANGE,a.of(e.recentContacts))}));return function(){return n()}})),o.mounted("OnEnterGroup",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=this.store,c=u.map((function(t){var i=e.store.loginUser,u=t.group,c=t.data,d="";return r.user.getUserListInfo({userCodes:c.userCodes}).subscribe({next:function(t){var r=t.map((function(e){return e.userName})),p=-1!==f.inArray(i.userCode,c.userCodes),A=o.recentContacts.findIndex((function(e){return l.getTargetCode(e)===u.groupCodeStr}));c.target===s.MessageTarget.SELF?(l.getTargetCode(o.curChatTarget)!==u.groupCodeStr&&(o.tempInfo=u,n.subscribe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,a.of(o.tempInfo))),A>-1&&(o.recentContacts[A].groupMembers=u.groupMembers),d=p?c.srcCode+"发起了群聊":"你邀请了"+r.join("、")+"进入群聊"):(p||(d=c.srcCode+"邀请了"+r.join("、")+"进入群聊"),A>-1?(o.recentContacts[A].groupMembers=u.groupMembers,p&&(d=c.srcCode+"邀请你进入群聊")):-1===f.inArray(i.userCode,c.userCodes)&&(o.recentContacts.push(u),g(e,u.groupCodeStr))),d&&n.subscribe(s.RxjsEventNames.UPDATE_LATEST_MSG,a.of({signalType:s.SignalType.GROUP_JOIN,content:d,time:new Date,chatCode:u.groupCodeStr,groupCodeStr:u.groupCodeStr}))},error:function(e){console.log(e),n.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("用户信息获取失败"))}}),t}));return n.addPipe(s.RxjsEventNames.ENTER_GROUP,c),function(){return n.removePipe(s.RxjsEventNames.ENTER_GROUP,c)}})),o.mounted("OnQuitGroup",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=u.map((function(n){var i=n.group,u=n.data;return o.user.getUserListInfo({userCodes:u.userCodes}).subscribe({next:function(n){var o=n.map((function(e){return e.userName}));if(u.target===s.MessageTarget.SELF)h(e,i),r.subscribe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,a.of({}));else{var c=o.join("、")+"退出了群聊";r.subscribe(s.RxjsEventNames.UPDATE_LATEST_MSG,a.of({signalType:s.SignalType.GROUP_QUIT,content:c,time:new Date,chatCode:i.groupCodeStr,groupCodeStr:i.groupCodeStr})),t.recentContacts.some((function(e){if(l.getTargetCode(e)===i.groupCodeStr)return e.groupMembers=i.groupMembers,!0}))||(t.recentContacts.push(i),g(e,i.groupCodeStr))}},error:function(e){console.log(e),r.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("用户信息获取失败"))}}),n}));return r.addPipe(s.RxjsEventNames.QUIT_GROUP,c),function(){return r.removePipe(s.RxjsEventNames.QUIT_GROUP,c)}})),o.mounted("OnRemoveGroupMember",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=u.map((function(n){var i=n.group,u=n.data,c="";return o.user.getUserListInfo({userCodes:u.userCodes}).subscribe({next:function(n){var o=n.map((function(e){return e.userName}));u.target===s.MessageTarget.SELF?c="你将"+o.join("、")+"移出了群聊":u.userCodes.some((function(e){return e===t.loginUser.userCode}))&&(c="你被移出了群聊"),t.recentContacts.some((function(e){if(l.getTargetCode(e)===i.groupCodeStr)return e.groupMembers=i.groupMembers,!0}))||(t.recentContacts.push(i),g(e,i.groupCodeStr)),c&&r.subscribe(s.RxjsEventNames.UPDATE_LATEST_MSG,a.of({signalType:s.SignalType.GROUP_KICK,content:c,time:new Date,chatCode:i.groupCodeStr,groupCodeStr:i.groupCodeStr}))},error:function(e){console.log(e),r.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("用户信息获取失败"))}}),n}));return r.addPipe(s.RxjsEventNames.REMOVE_GROUP_MEMBER,c),function(){return r.removePipe(s.RxjsEventNames.REMOVE_GROUP_MEMBER,c)}})),o.mounted("OnDismissGroup",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent,r=u.map((function(r){var o=r.group;return r.data.target===s.MessageTarget.SELF?h(e,o):(T(e,o.groupCodeStr)||(t.recentContacts.push(o),g(e,o.groupCodeStr)),n.subscribe(s.RxjsEventNames.UPDATE_LATEST_MSG,a.of({signalType:s.SignalType.GROUP_DISMISS,content:"该群已解散",time:new Date,chatCode:o.groupCodeStr,groupCodeStr:o.groupCodeStr})),t.recentContacts.some((function(e){if(l.getTargetCode(e)===o.groupCodeStr)return e.groupMembers=o.groupMembers,!0}))||(t.recentContacts.push(o),g(e,o.groupCodeStr))),r}));return n.addPipe(s.RxjsEventNames.DISSMISS_GROUP,r),function(){return n.removePipe(s.RxjsEventNames.DISSMISS_GROUP,r)}})),o.mounted("GroupInfoModify",(function(){var e=this.store,t=i.default.getKChat(this.rootName).rxjsEvent,n=u.map((function(t){var n=t.group;return e.recentContacts.some((function(e){if(l.getTargetCode(e)===n.groupCodeStr)return e.groupName=n.groupName,!0})),t}));return t.addPipe(s.RxjsEventNames.MODIFY_GROUP_INFO,n),function(){return t.removePipe(s.RxjsEventNames.MODIFY_GROUP_INFO,n)}})),o.mounted("MarkTarget",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=u.map((function(t){!function(e,t){var n=t.chatCode,r=t.markType,o=t.modifyType,u=e.store;if(r===s.MarkType.DISTURB){-1!==(c=u.mutedList.findIndex((function(e){return e===n})))&&u.mutedList.splice(c,1),o===s.MarkModifyType.ADD&&u.mutedList.push(n)}else{var c;-1!==(c=u.isTopList.findIndex((function(e){return e===n})))&&u.isTopList.splice(c,1),o===s.MarkModifyType.ADD&&u.isTopList.unshift(n),u.recentContacts=m(u.recentContacts,u.isTopList)}var d=i.default.getKChat(e.rootName).rxjsEvent,f=v(e);if(f){var p=l.getTargetCode(f),A={isTop:u.isTopList.some((function(e){return e===p})),isMuted:u.mutedList.some((function(e){return e===p}))};console.log("isTopListdata",A),d.subscribe(s.RxjsEventNames.UPDATE_GROUP_MRAK,a.of(A),{next:function(e){console.log("test",e)},error:function(e){console.log("err",e)}})}}(e,t)}));return t.addPipe(s.RxjsEventNames.MARK_TARGET,n),function(){return t.removePipe(s.RxjsEventNames.MARK_TARGET,n)}})),o.mounted("CheckTargetMark",(function(){var e=this.store,t=i.default.getKChat(this.rootName).rxjsEvent,n=u.map((function(t){return{isTop:e.isTopList.some((function(e){return e===t})),isMuted:e.mutedList.some((function(e){return e===t}))}}));return t.addPipe(s.RxjsEventNames.CHECK_TARGET_MARK,n),function(){return t.removePipe(s.RxjsEventNames.CHECK_TARGET_MARK,n)}})),o.mounted("SearchContacts",(function(){var e=this.store,t=i.default.getKChat(this.rootName).rxjsEvent,n=u.map((function(t){return t.topContacts=e.recentContacts.filter((function(e){return l.isGroup(e)?e.groupName&&e.groupName.indexOf(t.key)>-1||e.groupSpel&&e.groupSpell.indexOf(t.key)>-1:e.userName&&e.userName.indexOf(t.key)>-1||e.userSpell&&e.userSpell.indexOf(t.key)>-1})),t}));return t.addPipe(s.RxjsEventNames.SEARCH_CONTACTS,n),function(){return t.removePipe(s.RxjsEventNames.SEARCH_CONTACTS,n)}})),o.mounted("RemoveSearchUser",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=u.map((function(t){h(e,t)}));return t.addPipe(s.RxjsEventNames.DELETE_CONTACT,n),function(){return t.removePipe(s.RxjsEventNames.DELETE_CONTACT,n)}})),o.mounted("ExposeTargetInfo",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=this.store,c=u.concatMap((function(t){return T(e,l.getTargetCode(t))?a.of(o.recentContacts.filter((function(e){return l.getTargetCode(e)===l.getTargetCode(t)}))[0]||{}):t.groupCodeStr?r.group.getGroupInfo({groupCodeStr:t.groupCodeStr}):r.user.getUserInfo({userCode:t.userCode})}));return n.addPipe(s.RxjsEventNames.GET_TARGET_INFO,c),function(){return n.removePipe(s.RxjsEventNames.GET_TARGET_INFO,c)}})),o.mounted("AddContact",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent,r=u.map((function(r){var o=Array.isArray(r)?r:[r],i=o.filter((function(r){if(r.chatType===s.ChatType.USER&&t.loginUser.userCode===r.chatCode)n.subscribe(s.RxjsEventNames.SHOW_MESSAGE,a.of("不能添加自己"));else if(!T(e,r.chatCode))return!0}));return A(e,i).pipe(u.map((function(n){return t.recentContacts=t.recentContacts.concat(n),o.reverse().forEach((function(t){g(e,t.chatCode)})),o.map((function(e){return t.recentContacts.filter((function(t){if(l.getTargetCode(t)===e.chatCode)return!0}))[0]}))})))}));return n.addPipe(s.RxjsEventNames.ADD_CONTACT,r),function(){return n.removePipe(s.RxjsEventNames.ADD_CONTACT,r)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(391),i=n(392),s=n(394),a=n(136),u=n(137);t.default=function e(t,n,c){return r.default("ContactBar",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:c},[a.default(t,".kc-loading-container",u.default())])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(8),u=n(68),c=n(6),l=n(52),d=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.containerRef=d(null),e.refs.audioRef=d(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=t.assets,i=n.images,d=n.fonts,f=e.store,p=f.recentContacts,A=f.recentContactsLastMsg,g=f.curChatTarget,h=f.isTopList,m=f.mutedList,y=f.audioInfo,v=f.unReadMsgs,b=f.loadingVisible,E=f.atStateSubject,C=p.map((function(){return{current:null}}));e.refs.contactsRef=C.map((function(e){return{get current(){return e.current.refs.current}}}));var T=function(e){return a.getTargetCode(e)===a.getTargetCode(g)?r(r({},t.contactItem),t.contactItemHover):t.contactItem},S=function(e){return A.filter((function(t){return t.targetCode===a.getTargetCode(e)}))[0]||{}},x=function(e){var t=a.getTargetCode(e),n=v.find((function(e){return e.chatCode===t}));return n?n.unReadMsgLength>99?"99+":n.unReadMsgLength:0};return o.createElement("div",{style:b?t.loadingStatusContainer:t.container,"data-tree":e.name,"data-style-name":b?"loadingStatusContainer":"container"},o.createElement("div",{ref:e.refs.containerRef,style:t.contactsList,"data-style-name":"contactsList"},p.map((function(e,n){return o.createElement(u.default,{style:T(e),hoverStyle:t.contactItemHover,"data-style-name":"contactItem","data-style-hover-name":"contactItemHover",key:a.getTargetCode(e),ref:C[n]},o.createElement("div",{style:t.headerContainer,"data-style-name":"headerContainer"},o.createElement("img",{style:t.headerImg,"data-style-name":"headerImg",src:a.getUserHeader(e,i),draggable:!1}),o.createElement("span",{style:c.toggleVisible(t.unReadMsg,x(e)>0||"99+"===x(e)),"data-style-name":"unReadMsg"},x(e)||"")),o.createElement("div",{style:t.infoContainer,"data-style-name":"infoContainer"},o.createElement("span",{style:t.contactName,"data-style-name":"contactName"},e.groupName||e.userName||""),o.createElement("span",{style:t.contactTime,"data-style-name":"contactTime"},S(e).time||""),o.createElement("span",{style:t.contactMsg,"data-style-name":"contactMsg"},o.createElement("b",{"data-style-name":"atStyle",style:c.toggleVisible(t.atStyle,E[S(e).targetCode]&&E[S(e).targetCode].status)},"[有人@我]"),S(e).lastMsg||""),o.createElement("div",{"data-style-name":"isTopIcon",style:c.toggleVisible(t.isTopIcon,l.inArray(a.getTargetCode(e),h)>-1)}),o.createElement("i",{className:d.noDisturb,"data-style-name":"noDisturbIcon",style:c.toggleVisible(t.noDisturbIcon,l.inArray(a.getTargetCode(e),m)>-1)})))}))),o.createElement("div",{className:"kc-loading-container",style:c.toggleVisible(t.loadingContainer,b),"data-style-name":"loadingContainer"}),o.createElement("audio",{src:y.src,style:t.audio,"data-style-name":"audio",ref:e.refs.audioRef}))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{$groupDefaultHeader:o.$theme.$groupDefaultHeader,$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader},fonts:{delete:"icon iconfont icon-fork normal-del",noDisturb:"icon iconfont icon-donotdisturb"},audios:{audioTip:n(393)}},container:{position:"relative",height:"100%",overflowX:"hidden",overflowY:"auto"},loadingStatusContainer:{position:"relative",height:"100%",overflow:"hidden"},contactsList:{display:"flex",flexDirection:"column"},contactItem:{position:"relative",height:"78px",cursor:"pointer"},contactItemHover:{backgroundColor:"#F6F6FC"},deleteContainer:{position:"absolute",left:"10px",top:"50%",width:"20px",fontSize:"20px",transform:"translate(-50%, -50%)"},headerContainer:{position:"absolute",left:"20px",top:"50%",width:"40px",height:"40px",transform:"translateY(-50%)"},headerImg:{width:"100%",borderRadius:"50%"},unReadMsg:{position:"absolute",top:"-5px",right:"-6px",maxWidth:"29px",padding:"0 5px",lineHeight:"16px",borderRadius:"9px",fontSize:"12px",color:"#fff",textAlign:"center",border:"1px solid #fff",backgroundColor:"#F36464",overflow:"hidden"},infoContainer:{height:"100%",padding:"20px 10px 15px 74px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},contactName:r({width:"100px",color:"#333"},o.ellipsis()),contactTime:{fontSize:"12px",color:"#b6b6b6"},contactMsg:r({width:"calc(100% - 20px)",fontSize:"0.7rem",color:"#b6b6b6"},o.ellipsis()),isTopIcon:{position:"absolute",left:"3px",top:"3px",border:"6px solid rgba(73, 153, 255, 0.3)",borderBottomColor:"transparent",borderRightColor:"transparent"},noDisturbIcon:{position:"absolute",right:"5px",bottom:"15px",color:"#BEC1C9",fontSize:"12px"},loadingContainer:{width:"100%",height:"100%",position:"absolute",left:"0",top:"0",zIndex:1},audio:{display:"none"},atStyle:{color:"rgb(243,100,100)",fontWeight:"normal"}}}}},function(e,t,n){e.exports=n.p+"static/kchat203/audio/tip.204e458.mp3"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1),i=n(8),s=n(52);function a(){var e=this.curMouseTargetIdx,t=this.recentContacts,n=this.isTopList;if(e>-1&&e<t.length){var r=t[e],o=i.getTargetCode(r);return s.inArray(o,n)>-1}return!1}function u(){var e=this.curMouseTargetIdx,t=this.recentContacts,n=this.mutedList;if(e>-1&&e<t.length){var r=t[e],o=i.getTargetCode(r);return s.inArray(o,n)>-1}return!1}t.default=function(){var e=r.observable({targetChanging:!1,loginUser:{},curChatTarget:{},isTopList:[],mutedList:[],recentContacts:[],recentContactsLastMsg:[],curMouseTargetIdx:-1,loadingVisible:!1,unReadMsgs:[],tempInfo:{},menu:[{label:"移除会话",name:o.RightMouseName.CONTACT_REMOVE},{label:"置顶会话",name:o.RightMouseName.CONTACT_ISTOP,get visible(){return!a.call(e)}},{label:"取消置顶",name:o.RightMouseName.CONTACT_ISTOP_CANCEL,get visible(){return a.call(e)}},{label:"消息免打扰",name:o.RightMouseName.CONTACT_MUTE,get visible(){return!u.call(e)}},{label:"开启新消息提示",name:o.RightMouseName.CONTACT_MUTE_CANCEL,get visible(){return u.call(e)}}],audioInfo:{src:"",ready:!1,playing:!1,beforeReadyList:[]},atStateSubject:{}});return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(13);t.default=function(){return[r.mounted("GroupLableClick",(function(){var e=this,t=this.refs.groupLableRef;o.fromEvent(t.current,"click").subscribe({next:function(){return e.store.groupVisible=!e.store.groupVisible}})})),r.mounted("FrameworkLableClick",(function(){var e=this,t=this.refs.frameworkLableRef;o.fromEvent(t.current,"click").subscribe({next:function(){return e.store.frameworkVisible=!e.store.frameworkVisible}})}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(397),i=n(398),s=n(399),a=n(177),u=n(178),c=n(179),l=n(180),d=n(1),f=n(12),p=n(13),A=n(5);t.default=function e(t,n,g){var h=c.default(t,".kc-group-container",l.default());return h.addHook({name:"ShowGroupInfo",hookType:d.HookType.MOUNTED,params:function(){var e=this,t=this.refs.containerRef,n=f.default.getKChat(this.rootName).rxjsEvent;p.fromEvent(t.current,"click").pipe(A.map((function(t){return e.refs.groupRefs.findIndex((function(e){return e.current===t.target||e.current===t.target.parentNode||e.current===t.target.parentNode.parentNode}))})),A.map((function(t){var n=e.store.groupList[t];return n.groupMembers=n.groupMembers.filter((function(e){return 0===e.state})),n}))).subscribe((function(e){n.subscribe(d.RxjsEventNames.CHAT_AREA_SHOW_GROUP,p.of(e)),n.subscribe(d.RxjsEventNames.TOGGLE_CHAT_AREA_CONTENT,p.of(d.ChatContentType.GROUP_INFO))}))}}),r.default("AddressBook",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:g},[h,a.default(t,".kc-framework-container",u.default())])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(6),a=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.groupLableRef=a(null),e.refs.frameworkLableRef=a(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets.fonts,o=e.store,a=o.groupVisible,u=o.frameworkVisible;return r.createElement("div",{style:t.container,"data-style-name":"container","data-tree":e.name},r.createElement("div",null,r.createElement("div",{ref:e.refs.groupLableRef,"data-style-name":"lable",style:t.lable},r.createElement("i",{className:n.group,"data-style-name":"lableIcon",style:t.lableIcon}),r.createElement("span",{style:t.lableTile,"data-style-name":"lableTile"},"我的群组"),r.createElement("i",{className:n.open,"data-style-name":"icon",style:s.toggleVisible(t.icon,!a)}),r.createElement("i",{className:n.close,"data-style-name":"icon",style:s.toggleVisible(t.icon,a)})),r.createElement("div",{className:"kc-group-container",style:s.toggleVisible({},a)})),r.createElement("div",null,r.createElement("div",{ref:e.refs.frameworkLableRef,style:t.lable,"data-style-name":"lable"},r.createElement("i",{className:n.framework,style:t.lableIcon,"data-style-name":"lableIcon"}),r.createElement("span",{style:t.lableTile,"data-style-name":"lableTile"},"组织架构"),r.createElement("i",{className:n.open,"data-style-name":"icon",style:s.toggleVisible(t.icon,!u)}),r.createElement("i",{className:n.close,"data-style-name":"icon",style:s.toggleVisible(t.icon,u)})),r.createElement("div",{className:"kc-framework-container","data-style-name":"frameworkBox",style:s.toggleVisible(t.frameworkBox,u)})))}))}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{default:{assets:{fonts:{group:"icon iconfont icon-group-line-copy",framework:"icon iconfont icon-organization-framework-line-copy",open:"icon iconfont icon-extend",close:"icon iconfont icon-narrow"}},container:{height:"100%",overflowX:"hidden",overflowY:"auto"},lable:{position:"relative",display:"flex",padding:"0 15px",alignItems:"center",lineHeight:"50px",cursor:"pointer"},lableIcon:{color:"#BEC1C9"},lableTile:{width:"100%",padding:"0 7px",fontSize:"14px",color:"#333"},icon:{position:"absolute",left:"230px",color:"#B6B6B6",fontSize:"14px"},frameworkBox:{position:"relative"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({groupVisible:!1,frameworkVisible:!1,treeData:[]})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(6),a=n(8),u=r.useState,c=r.useEffect,l=r.useRef;t.default=function(e){e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)}));var t=u(0),n=t[0],d=t[1];return e.refs.containerRef=l(null),c((function(){var t=i.autorun((function(){e.refs.frameworkRefs=function e(t){return t.map((function(t){return{ref:{current:null},children:t.children?e(t.children):[]}}))}(e.store.treeData),d(n++)}));return function(){t()}}),[]),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets,o=n.images,u=n.fonts,c=e.store,l=c.selectList,d=c.selectEnable,f=c.treeData,p=c.loginUser,A=c.forbidList,g=function(e){return l.some((function(t){return t.userCode===a.splitColon(e)}))},h=function(e){return A.some((function(t){return t.userCode===a.splitColon(e)}))},m=function(e,n){return e&&e.map((function(e,o){return r.createElement("div",{style:t.contactNode,"data-style-name":"contactNode",key:e.id},e.isParent?y(e,n[o]):v(e,n[o]))}))},y=function(e,n){var o=e.isOpen,i=e.name,a=e.onlines,c=e.total,l=e.children;return r.createElement("div",null,r.createElement("div",{ref:n.ref,"data-style-name":"unitLable",style:t.unitLable},r.createElement("i",{className:u.open,"data-style-name":"unitIcon",style:s.toggleVisible(t.unitIcon,!o)}),r.createElement("i",{className:u.close,"data-style-name":"unitIcon",style:s.toggleVisible(t.unitIcon,o)}),r.createElement("span",{"data-style-name":"overflowEllipsis",style:t.overflowEllipsis},i+" "+a+"/"+c)),r.createElement("div",{style:s.toggleVisible(t.unitChildren,o),"data-style-name":"unitChildren"},m(l,n.children)))},v=function(e,n){if(!d||a.splitColon(e.id)!==p.userCode)return r.createElement("div",{className:"contact-node",ref:n.ref,style:t.personNode},r.createElement("img",{draggable:!1,src:a.getUserHeader(e,o),style:t.personHeader}),r.createElement("span",{"data-style-name":"overflowEllipsis",style:t.overflowEllipsis},e.name+" "+(e.isOnline?"在线":"离线")),r.createElement("span",{style:s.toggleVisible(t.personCheckContainer,d)},r.createElement("i",{className:u.checked,style:s.toggleVisible(t.checkedIcon,!h(e.id)&&g(e.id))}),r.createElement("i",{className:u.unchecked,style:s.toggleVisible(t.uncheckedIcon,!h(e.id)&&!g(e.id))}),r.createElement("i",{className:u.checked,style:s.toggleVisible(t.forbidIcon,h(e.id))})))};return r.createElement("div",{ref:e.refs.containerRef,style:t.container,"data-tree":e.name},m(f,e.refs.frameworkRefs),r.createElement("div",{style:t.overlay}))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{$groupDefaultHeader:o.$theme.$groupDefaultHeader,$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader},fonts:{unchecked:"icon iconfont icon-editroundbox",checked:"icon iconfont icon-correct-copy",open:"icon iconfont icon-extend",close:"icon iconfont icon-narrow"}},container:r({padding:"0 20px 0 15px",fontSize:"14px",lineHeight:"25px",overflow:"hidden"},o.forbidSelect()),contactNode:{position:"relative",lineHeight:"40px",cursor:"pointer",zIndex:"1"},unitLable:{display:"flex"},unitIcon:{marginRight:"10px",color:"#BEC1C9",fontSize:"14px"},unitChildren:{marginLeft:"1rem"},personNode:{lineHeight:"50px",paddingLeft:"5px",zIndex:"1"},personHeader:{width:"30px",height:"30px",overflow:"hidden",marginRight:"15px",borderRadius:"50%"},personCheckContainer:{position:"absolute",top:"50%",right:"0",width:"20px",height:"20px",borderRadius:"50%",cursor:"pointer",transform:"translateY(-50%)"},overlay:{position:"absolute",left:"0",top:"0",width:"100%",height:"50px",display:"none",backgroundColor:"#F6F6FC"},checkedIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",lineHeight:"20px",color:o.$theme.$baseColor},forbidIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",lineHeight:"20px",color:"#BEC1C9"},uncheckedIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",lineHeight:"20px",color:"#BEC1C9"},overflowEllipsis:r({display:"inline-block",verticalAlign:"middle",maxWidth:"120px"},o.ellipsis())}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({loginUser:{},treeData:[],selectEnable:!1,selectList:[],forbidList:[],tempInfo:{},userInfo:{},contextmenuSource:{}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(68),a=n(6),u=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.containerRef=u(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets,o=n.images,u=n.fonts,c=e.store,l=c.groupList,d=c.selectEnable,f=c.selectList,p=l.map((function(){return{current:null}}));e.refs.groupRefs=p.map((function(e){return{get current(){return e.current.refs.current}}}));var A=function(e){return f.some((function(t){return t.groupCodeStr===e}))};return r.createElement("div",{ref:e.refs.containerRef,"data-tree":e.name},l.map((function(e,n){return r.createElement(s.default,{style:t.groupItem,hoverStyle:t.groupItemHover,"data-style-name":"groupItem","data-style-hover-name":"groupItemHover",ref:p[n],key:e.groupCodeStr},r.createElement("img",{style:t.groupHeaderImg,"data-style-name":"groupHeaderImg",src:o.$groupDefaultHeader}),r.createElement("span",null,e.groupName),r.createElement("span",{style:a.toggleVisible(t.groupCheckContainer,d),"data-style-name":"groupCheckContainer"},r.createElement("i",{className:u.checked,"data-style-name":"checkedIcon",style:a.toggleVisible(t.checkedIcon,A(e.groupCodeStr))}),r.createElement("i",{className:u.unchecked,"data-style-name":"uncheckedIcon",style:a.toggleVisible(t.uncheckedIcon,!A(e.groupCodeStr))})))})))}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);t.default=function(){return{default:{assets:{images:{$groupDefaultHeader:r.$theme.$groupDefaultHeader},fonts:{unchecked:"icon iconfont icon-editroundbox",checked:"icon iconfont icon-correct-copy"}},groupItem:{position:"relative",cursor:"pointer",display:"flex",padding:"15px",alignItems:"center"},groupItemHover:{backgroundColor:"#F6F6FC"},groupHeaderImg:{width:"30px",height:"30px",marginRight:"15px",borderRadius:"50%"},groupCheckContainer:{position:"absolute",top:"50%",right:"20px",width:"20px",height:"20px",borderRadius:"50%",cursor:"pointer",transform:"translateY(-50%)"},checkedIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",lineHeight:"20px",color:r.$theme.$baseColor},uncheckedIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",lineHeight:"20px",color:"#BEC1C9"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({groupList:[],selectEnable:!1,selectList:[],curChatTarget:{},loginUser:{},curGroup:null,contactsLoaded:!1})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(5),a=n(1);t.default=function(){return[r.mounted("PanelTabChanged",(function(){var e=this.store,t=o.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(n){return n===a.PanelTabType.COLLECTION&&(e.activeMenuItem=e.menu[0].type,t.subscribe(a.RxjsEventNames.SELECT_COLLECTION_TYPE,i.of(e.menu[0]))),n}));return t.addPipe(a.RxjsEventNames.PANEL_TAB_CHANGE,n),function(){return t.removePipe(a.RxjsEventNames.PANEL_TAB_CHANGE,n)}})),r.mounted("ChangeCollectionType",(function(){var e=this.store,t=this.refs,n=o.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(t.container.current,"click").pipe(s.map((function(e){return t.menuItems.findIndex((function(t){return t.current===e.target||t.current===e.target.parentNode}))})),s.filter((function(e){return e>-1})),s.map((function(t){return e.menu[t]}))).subscribe({next:function(t){e.activeMenuItem=t.type,n.subscribe(a.RxjsEventNames.SELECT_COLLECTION_TYPE,i.of(t))}})}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(408),i=n(409),s=n(410);t.default=function e(t,n,a){return r.default("CollectionMenu",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(29),u=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=u(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=t.assets.fonts,i=e.store,u=i.menu,c=i.activeMenuItem,l=u.map((function(){return{current:null}}));return e.refs.menuItems=l.map((function(e){return{get current(){return e.current.refs.current}}})),o.createElement("div",{style:t.container,"data-style-name":"container",ref:e.refs.container,"data-tree":e.name},u.map((function(e,i){return o.createElement(a.Pseudo,{style:(s=e,s.type===c?r(r({},t.menuItemHover),t.menuItem):t.menuItem),hoverStyle:t.menuItemHover,"data-style-name":"menuItem","data-style-hover-name":"menuItemHover",key:e.icon,ref:l[i]},o.createElement("i",{className:n[e.icon],style:t[e.icon+"Icon"]}),o.createElement("span",{style:t.title,"data-style-name":"title"},e.title));var s})))}))}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{default:{assets:{fonts:{all:"icon iconfont icon-allcollection",picture:"icon iconfont icon-picture",voice:"icon iconfont icon-voice-line",file:"icon iconfont icon-file-line",note:"icon iconfont icon-note"}},container:{},menuItem:{position:"relative",paddingLeft:"46px",lineHeight:"45px",cursor:"pointer"},menuItemHover:{backgroundColor:"#F6F6FC"},allIcon:{position:"absolute",top:"0",left:"24px",color:"#BEC1C9",fontSize:"14px",transform:"translateX(-50%)"},pictureIcon:{position:"absolute",top:"0",left:"24px",color:"#BEC1C9",fontSize:"14px",transform:"translateX(-50%)"},voiceIcon:{position:"absolute",top:"0",left:"24px",color:"#BEC1C9",fontSize:"19px",transform:"translateX(-50%)"},fileIcon:{position:"absolute",top:"0",left:"24px",color:"#BEC1C9",fontSize:"16px",transform:"translateX(-50%)"},noteIcon:{position:"absolute",top:"0",left:"24px",color:"#BEC1C9",fontSize:"16px",transform:"translateX(-50%)"},title:{fontSize:"14px",color:"#333"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({menu:[{type:"all",title:"全部收藏",icon:"all"},{type:o.SignalType.IMAGE,title:"相册",icon:"picture"},{type:o.SignalType.FILE,title:"文件",icon:"file"},{type:o.SignalType.TEXT,title:"笔记",icon:"note"}],activeMenuItem:"all"})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(68),a=n(8),u=n(6),c=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.containerRef=c(null),e.refs.topContactsShowAllRef=c(null),e.refs.frameworkShowAllRef=c(null),e.refs.groupsShowAllRef=c(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets,o=n.images,c=n.fonts,l=e.store,d=l.topContacts,f=l.framework,p=l.groups,A=l.searchResultSize,g=l.selectEnable,h=l.selectedMembersList,m=l.defaultList,y=d.list.map((function(){return{current:null}}));e.refs.topContactsRefs=y.map((function(e){return{get current(){return e.current.refs.current}}}));var v=f.list.map((function(){return{current:null}}));e.refs.frameworkRefs=v.map((function(e){return{get current(){return e.current.refs.current}}}));var b=p.list.map((function(){return{current:null}}));e.refs.groupsRefs=b.map((function(e){return{get current(){return e.current.refs.current}}}));var E=function(e){return h.some((function(t){return a.getTargetCode(t)===a.getTargetCode(e)}))},C=function(e){return m.some((function(t){return t.userCode===a.getTargetCode(e)}))},T=function(e,n,i,l){var d=n.showAll,f=n.list;return r.createElement("div",{style:t.resultType,"data-style-name":"resultType"},r.createElement("div",{style:t.resultLable,"data-style-name":"resultLable"},r.createElement("span",null,e),r.createElement("span",{style:t.resultShowAll,ref:i,"data-style-name":"resultShowAll"},f.length<=A?"":d?"收起":"查看全部（"+f.length+"）")),f.map((function(e,n){return r.createElement(s.default,{style:u.toggleVisible(t.resultItem,n<A||d),hoverStyle:t.resultItemHover,key:a.getTargetCode(e)||e.id,ref:l[n],"data-style-name":"resultItem","data-style-hover-name":"resultItemHover"},r.createElement("div",{style:t.resultItemContainer,"data-style-name":"resultItemContainer"},r.createElement("img",{draggable:!1,src:a.getUserHeader(e,o),style:t.resultItemImg,"data-style-name":"resultItemImg"}),r.createElement("span",{style:t.resultItemName,"data-style-name":"resultItemName"},e.groupName||e.userName||e.name),r.createElement("span",{style:u.toggleVisible(t.resultItemCheck,g),"data-style-name":"resultItemCheck"},r.createElement("i",{className:c.checked,style:u.toggleVisible(t.checkedIcon,!C(e)&&E(e)),"data-style-name":"checkedIcon"}),r.createElement("i",{className:c.unchecked,style:u.toggleVisible(t.uncheckedIcon,!C(e)&&!E(e)),"data-style-name":"uncheckedIcon"}),r.createElement("i",{className:c.checked,style:u.toggleVisible(t.forbidIcon,C(e)),"data-style-name":"forbidIcon"}))))})))};return r.createElement("div",{style:t.container,ref:e.refs.containerRef,"data-tree":e.name,"data-style-name":"container"},T("常用联系人",d,e.refs.topContactsShowAllRef,y),T("组织架构",f,e.refs.frameworkShowAllRef,v),!g&&T("我的群组",p,e.refs.groupsShowAllRef,b))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{$groupDefaultHeader:o.$theme.$groupDefaultHeader,$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader},fonts:{unchecked:"icon iconfont icon-editroundbox",checked:"icon iconfont icon-correct-copy"}},container:{height:"100%",backgroundColor:"#fff",overflow:"auto"},resultType:{marginTop:"10px"},resultLable:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"12px",color:"#ccc",paddingLeft:"10px"},resultShowAll:{paddingRight:"10px",color:o.$theme.$baseColor,cursor:"pointer"},resultItem:{position:"relative",cursor:"pointer"},resultItemHover:{backgroundColor:"#F6F6FC"},resultItemContainer:{display:"flex",alignItems:"center",padding:"10px 0 10px 10px"},resultItemImg:{width:"30px",height:"30px",borderRadius:"50%",overflow:"hidden"},resultItemName:r({width:"calc(100% - 35px)",paddingLeft:"5px",fontSize:"12px"},o.ellipsis()),resultItemCheck:{position:"absolute",top:"50%",right:"20px",width:"20px",height:"20px",borderRadius:"50%",cursor:"pointer",transform:"translateY(-50%)"},checkedIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",color:o.$theme.$baseColor},uncheckedIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",color:"#BEC1C9"},forbidIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",color:"#BEC1C9"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({topContacts:{showAll:!1,list:[],menus:[{label:"删除对话框",name:o.RightMouseName.CONTACT_REMOVE}]},framework:{showAll:!1,list:[],menus:[{label:"查看信息",name:o.RightMouseName.VIEW_USER_DETAILS}]},groups:{showAll:!1,list:[],menus:[{label:"查看信息",name:o.RightMouseName.VIEW_GROUP_DETAILS}]},searchResultSize:5,selectEnable:!1,selectedMembersList:[],defaultList:[],curInfo:{}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(5),a=n(1);t.default=function(){return[r.mounted("ToggleVisiblePage",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return t&&(e.store.currentPage=t),t}));return t.addPipe(a.RxjsEventNames.PANEL_TAB_CHANGE,n),function(){return t.removePipe(a.RxjsEventNames.PANEL_TAB_CHANGE,n)}})),r.mounted("OnPanelSearching",(function(){var e=this,t=this.refs,n=t.searchRef,r=t.searchResultRef,u=o.default.getKChat(this.rootName),c=u.rxjsEvent,l=u.store,d={name:"panelSearchPopup",show:function(){return e.store.isSearching=!0},hide:function(){e.store.isSearching=!1,c.subscribe(a.RxjsEventNames.PANEL_SEARCH_CLOSE,i.of({}))},targets:[n,r]},f=s.map((function(t){return t.searching!==e.store.isSearching&&(t.searching?l.popupManager.add(d):l.popupManager.remove(d)),c.subscribe(a.RxjsEventNames.SHOW_SEARCH_RESULT,i.of({content:t.content,selectEnable:!1})),t}));return c.addPipe(a.RxjsEventNames.PANEL_SEARCHING,f),function(){return c.removePipe(a.RxjsEventNames.PANEL_SEARCHING,f)}}))]}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(416),s=n(417),a=n(418),u=n(11),c=n(179),l=n(180),d=n(177),f=n(178),p=n(182),A=n(181),g=n(12),h=n(1),m=n(5),y=n(8);t.default=function e(t,n,v){return o.default("SelectMembers",i.default,{rootName:t,_styles:s.default(),store:a.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:v},[d.default(t,".kc-select-member-framework",r([u.mounted("FrameworkSelectEnable",(function(){this.store.selectEnable=!0})),u.mounted("FrameworkMemberForbid",(function(){var e=this,t=g.default.getKChat(this.rootName).rxjsEvent,n=m.map((function(t){return t.type===h.SelectMemberType.GROUP_ADD_MEMBER&&(e.store.forbidList=t.list||[]),t}));return t.addPipe(h.RxjsEventNames.SHOW_SELECT_MEMBER,n),function(){return t.removePipe(h.RxjsEventNames.SHOW_SELECT_MEMBER,n)}})),u.mounted("FrameworkMemberDeselect",(function(){var e=this,t=g.default.getKChat(this.rootName).rxjsEvent,n=m.map((function(t){return y.isGroup(t)||(e.store.selectList=e.store.selectList.filter((function(e){return e.userCode!==t.userCode}))),t}));return t.addPipe(h.RxjsEventNames.MEMBER_DESELECT,n),function(){return t.removePipe(h.RxjsEventNames.MEMBER_DESELECT,n)}})),u.mounted("SelectMemberClose",(function(){var e=this,t=g.default.getKChat(this.rootName).rxjsEvent,n=m.map((function(){e.store.selectList=[],e.store.forbidList=[]}));return t.addPipe(h.RxjsEventNames.SELECTED_MEMBER_CANCEL,n),function(){return t.removePipe(h.RxjsEventNames.SELECTED_MEMBER_CANCEL,n)}}))],f.default())).setName("SelectMemberFramework"),c.default(t,".kc-select-member-group",r([u.mounted("GroupSelectEnable",(function(){this.store.selectEnable=!0})),u.mounted("GroupMemberDeselect",(function(){var e=this,t=g.default.getKChat(this.rootName).rxjsEvent,n=m.map((function(t){return y.isGroup(t)&&(e.store.selectList=e.store.selectList.filter((function(e){return e.groupCodeStr!==t.groupCodeStr}))),t}));return t.addPipe(h.RxjsEventNames.MEMBER_DESELECT,n),function(){return t.removePipe(h.RxjsEventNames.MEMBER_DESELECT,n)}})),u.mounted("SelectMemberClose",(function(){var e=this,t=g.default.getKChat(this.rootName).rxjsEvent,n=m.map((function(){e.store.selectList=[]}));return t.addPipe(h.RxjsEventNames.SELECTED_MEMBER_CANCEL,n),function(){return t.removePipe(h.RxjsEventNames.SELECTED_MEMBER_CANCEL,n)}}))],l.default())).setName("SelectMemberGroup"),p.default(t,".kc-select-member-search",r([u.mounted("SelectEnable",(function(){this.store.selectEnable=!0}))],A.default()))])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(68),u=n(6),c=n(1),l=n(8),d=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.searchInputRef=d(null),e.refs.clearIconRef=d(null),e.refs.removeViewRef=d(null),e.refs.contactLabelRef=d(null),e.refs.groupLabelRef=d(null),e.refs.frameworkLabelRef=d(null),e.refs.confirmBtnRef=d(null),e.refs.cancelBtnRef=d(null),e.refs.selectedContainerRef=d(null),e.refs.groupNameInput=d(null),e.refs.contactContainerRef=d(null),e.refs.searchResultRef=d(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=t.assets,i=n.fonts,d=n.images,f=e.store,p=f.visible,A=f.type,g=f.searchVal,h=f.topContacts,m=f.myGroup,y=f.framework,v=f.defaultList,b=f.selectedMembersList,E=f.isSearching,C=h.list.map((function(){return{current:null}}));e.refs.topContactsRefs=C.map((function(e){return{get current(){return e.current.refs.current}}})),e.refs.removeListRefs=v.map((function(){return{current:null}})),e.refs.removeIconRefs=b.map((function(){return{current:null}}));var T=A===c.SelectMemberType.CREATE_GROUP,S=(c.SelectMemberType.GROUP_ADD_MEMBER,A===c.SelectMemberType.GROUP_DEL_MEMBER),x=A===c.SelectMemberType.FORWARD,_=A===c.SelectMemberType.LIVE_INVITE_MEMBER,w=E?r(r({},t.searchInput),t.searchisSearching):t.searchInput,B=function(e){return b.some((function(t){return l.getTargetCode(t)===l.getTargetCode(e)}))},I=function(e){return v.some((function(t){return t.userCode===l.getTargetCode(e)}))};return o.createElement("div",{style:u.toggleVisible(t.container,p),"data-tree":e.name,"data-style-name":"container"},o.createElement("div",{style:t.selectBox,"data-style-name":"selectBox"},o.createElement("div",{style:r(r({},t.selectArea),t.selectedArea),"data-style-name":"selectedArea"},o.createElement("div",{style:t.searchBar,"data-style-name":"searchBar"},o.createElement("i",{className:i.search,style:t.searchIcon,"data-style-name":"searchIcon"}),o.createElement("input",{style:w,ref:e.refs.searchInputRef,placeholder:"搜索","data-style-name":E?"searchisSearching":"searchInput"}),o.createElement("i",{className:i.clear,style:u.toggleVisible(t.clearIcon,""!==g),ref:e.refs.clearIconRef,"data-style-name":"clearIcon"})),o.createElement("div",{className:"kc-select-member-search",ref:e.refs.searchResultRef,style:u.toggleVisible(t.searchResultContainer,E),"data-style-name":"searchResultContainer"}),o.createElement("div",{style:u.toggleVisible(t.label,T||x),"data-style-name":"label"},T?"创建群组":"转发"),o.createElement("div",{style:t.list,"data-style-name":"list"},o.createElement("div",null,o.createElement("div",{style:u.toggleVisible(t.topContactList,!S&&!_),"data-style-name":"topContactList"},o.createElement("div",{style:t.listLabel,ref:e.refs.contactLabelRef,"data-style-name":"listLabel"},o.createElement("i",{className:i.contact,style:t.listLabelIcon,"data-style-name":"listLabelIcon"}),o.createElement("span",{style:t.listLabelTitle,"data-style-name":"listLabelTitle"},"常用联系人"),o.createElement("i",{style:u.toggleVisible(t.listIcon,!h.visible),className:i.open,"data-style-name":"listIcon"}),o.createElement("i",{style:u.toggleVisible(t.listIcon,h.visible),className:i.close,"data-style-name":"listIcon"})),o.createElement("div",{style:u.toggleVisible(t.contactsContainer,h.visible),ref:e.refs.contactContainerRef,"data-style-name":"contactsContainer"},h.list.map((function(e,n){return o.createElement(a.default,{style:u.toggleVisible(t.topContactItem,!l.isGroup(e)||x),hoverStyle:t.topContactItemHover,ref:C[n],key:l.getTargetCode(e),"data-style-name":"topContactItem","data-style-hover-name":"topContactItemHover"},o.createElement("img",{style:t.topContactImg,src:l.getUserHeader(e,d),"data-style-name":"topContactImg"}),o.createElement("span",{style:t.nameText,"data-style-name":"nameText"},e.groupName||e.userName),o.createElement("span",{style:t.topContactItemCheck,"data-style-name":"topContactItemCheck"},o.createElement("i",{className:i.checked,style:u.toggleVisible(t.checkedIcon,!I(e)&&B(e)),"data-style-name":"checkedIcon"}),o.createElement("i",{className:i.unchecked,style:u.toggleVisible(t.uncheckedIcon,!I(e)&&!B(e)),"data-style-name":"uncheckedIcon"}),o.createElement("i",{className:i.checked,style:u.toggleVisible(t.forbidIcon,I(e)),"data-style-name":"forbidIcon"})))})))),o.createElement("div",{style:u.toggleVisible(t.groupList,x),"data-style-name":"groupList"},o.createElement("div",{style:t.listLabel,ref:e.refs.groupLabelRef,"data-style-name":"listLabel"},o.createElement("i",{className:i.group,style:t.listLabelIcon,"data-style-name":"listLabelIcon"}),o.createElement("span",{style:t.listLabelTitle,"data-style-name":"listLabelTitle"},"我的群组"),o.createElement("i",{style:u.toggleVisible(t.listIcon,!m.visible),className:i.open,"data-style-name":"listIcon"}),o.createElement("i",{style:u.toggleVisible(t.listIcon,m.visible),className:i.close,"data-style-name":"listIcon"})),o.createElement("div",{className:"kc-select-member-group",style:u.toggleVisible(t.contactsContainer,m.visible),"data-style-name":"contactsContainer"})),o.createElement("div",{style:u.toggleVisible(t.frameworkList,!S&&!_),"data-style-name":"frameworkList"},o.createElement("div",{style:t.listLabel,ref:e.refs.frameworkLabelRef,"data-style-name":"listLabel"},o.createElement("i",{className:i.framework,style:t.listLabelIcon,"data-style-name":"listLabelIcon"}),o.createElement("span",{style:t.listLabelTitle,"data-style-name":"listLabelTitle"},"组织架构"),o.createElement("i",{style:u.toggleVisible(t.listIcon,!y.visible),className:i.open,"data-style-name":"listIcon"}),o.createElement("i",{style:u.toggleVisible(t.listIcon,y.visible),className:i.close,"data-style-name":"listIcon"})),o.createElement("div",{className:"kc-select-member-framework",style:u.toggleVisible(t.contactsContainer,y.visible),"data-style-name":"contactsContainer"}))),o.createElement("div",{style:u.toggleVisible(t.removeList,S||_),ref:e.refs.removeViewRef,"data-style-name":"removeList"},v.map((function(n,r){return o.createElement("div",{key:l.getTargetCode(n),ref:e.refs.removeListRefs[r]},o.createElement(a.default,{style:t.removeListItem,hoverStyle:t.removeListItemHover,"data-style-name":"removeListItem","data-style-hover-name":"removeListItemHover"},o.createElement("div",{style:t.removeItemInfo,"data-style-name":"removeItemInfo"},o.createElement("img",{style:t.removeItemImg,src:l.getUserHeader(n,d),"data-style-name":"removeItemImg"}),o.createElement("span",{style:t.ellipsis,"data-style-name":"ellipsis"},n.groupName||n.userName)),o.createElement("div",{style:t.removeItemCheck,"data-style-name":"removeItemCheck"},o.createElement("i",{className:i.checked,style:u.toggleVisible(t.checkedIcon,B(n)),"data-style-name":"checkedIcon"}),o.createElement("i",{className:i.unchecked,style:u.toggleVisible(t.uncheckedIcon,!B(n)),"data-style-name":"uncheckedIcon"}))))}))))),o.createElement("div",{style:t.selectedArea,"data-style-name":"selectedArea"},o.createElement("div",{style:u.toggleVisible(t.enterGroupName,T),"data-style-name":"enterGroupName"},o.createElement("div",{style:t.groupNameLabel,"data-style-name":"groupNameLabel"},o.createElement("span",null,"群名称"),o.createElement("span",{style:t.groupNameTip,"data-style-name":"groupNameTip"}," - 选填")),o.createElement("div",{style:t.groupNameValue,"data-style-name":"groupNameValue"},o.createElement("input",{style:t.groupNameInput,ref:e.refs.groupNameInput,placeholder:"取个群名称方便后续搜索","data-style-name":"groupNameInput"}))),o.createElement("div",{style:t.selectedMemberLabel,"data-style-name":"selectedMemberLabel"},"已选择联系人"),o.createElement("div",{style:t.selectedListContainer,ref:e.refs.selectedContainerRef,"data-style-name":"selectedListContainer"},b.map((function(n,r){return o.createElement("div",{key:l.getTargetCode(n),style:t.memberContainer,"data-style-name":"memberContainer"},o.createElement("img",{style:t.memberImage,src:l.getUserHeader(n,d),"data-style-name":"memberImage"}),o.createElement("span",{style:t.ellipsis,"data-style-name":"ellipsis"},n.groupName||n.userName),o.createElement("i",{ref:e.refs.removeIconRefs[r],style:t.memberIcon,className:i.cancel,"data-style-name":"memberIcon"}))})))),o.createElement("div",{style:t.action,"data-style-name":"action"},o.createElement("div",{ref:e.refs.confirmBtnRef,style:t.actionConfirm,"data-style-name":"actionConfirm"},"确认"),o.createElement("div",{ref:e.refs.cancelBtnRef,style:r(r({},t.actionConfirm),t.actionCancel),"data-style-name":"actionConfirm"},"取消"))))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{$groupDefaultHeader:o.$theme.$groupDefaultHeader,$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader},fonts:{search:"icon iconfont icon-icon-search",clear:"icon iconfont icon-username-error-surface-copy",unchecked:"icon iconfont icon-editroundbox",checked:"icon iconfont icon-correct-copy",cancel:"icon iconfont icon-cancel-line-copy",contact:"icon iconfont icon-frequent-contact-line-copy",group:"icon iconfont icon-group-line-copy",framework:"icon iconfont icon-organization-framework-line-copy",open:"icon iconfont icon-extend",close:"icon iconfont icon-narrow"}},container:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, .3)",zIndex:"1000"},selectBox:{position:"absolute",top:"50%",left:"50%",width:"640px",height:"80%",minHeight:"400px",display:"flex",flexWrap:"wrap",margin:"0 auto",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"0 0 12px 0 rgba(0, 0, 0, 0.16)",transform:"translate(-50%, -50%)"},selectArea:{position:"relative",borderRight:"1px solid #DCDFE6"},searchBar:{position:"relative",margin:"0 20px 10px 20px"},searchInput:{width:"100%",paddingLeft:"25px",border:"1px solid #DCDFE6",borderRadius:"100px",lineHeight:"24px",fontSize:"12px",color:"#333",outline:"none"},searchInputFocus:{border:"1px solid #3B99FC",boxShadow:"0 0 0 2px rgba(73, 153, 255, 0.14)"},searchIcon:{position:"absolute",left:"5px",top:"50%",color:"#ccc",fontSize:"14px",transform:"translateY(-50%)"},clearIcon:{position:"absolute",top:"50%",right:"5px",color:"#DCDFE6",cursor:"pointer",transform:"translateY(-50%)"},searchResultContainer:{position:"absolute",top:"63px",width:"100%",height:"calc(100% - 73px)",paddingLeft:"10px",backgroundColor:"#fff",zIndex:2},label:{marginLeft:"20px",color:"#b6b6b6"},list:{height:"100%",overflow:"auto"},topContactList:{},groupList:{},frameworkList:{},removeList:{},listLabel:{position:"relative",display:"flex",padding:"0 15px",alignItems:"center",lineHeight:"50px",cursor:"pointer"},listLabelIcon:{color:"#BEC1C9"},listLabelTitle:{width:"100%",padding:"0 12px",fontSize:"14px",color:"#333"},listIcon:{position:"absolute",left:"285px",color:"#B6B6B6",fontSize:"14px"},contactsContainer:{position:"relative"},topContactItem:{position:"relative",height:"50px",display:"flex",alignItems:"center",padding:"0 20px",fontSize:"14px"},topContactItemHover:{backgroundColor:"#F6F6FC"},topContactImg:{width:"30px",marginRight:"15px",borderRadius:"50%"},topContactItemCheck:{position:"absolute",top:"50%",right:"20px",width:"20px",height:"20px",borderRadius:"50%",cursor:"pointer",transform:"translateY(-50%)"},nameText:{maxWidth:"200px",wordBreak:"keep-all",textOverflow:"ellipsis",overflow:"hidden"},removeListItem:{display:"flex",justifyContent:"space-between",alignItems:"center",lineHeight:"50px",padding:"0 20px",cursor:"pointer"},removeListItemHover:{backgroundColor:"#F6F6FC"},removeItemInfo:{display:"flex",alignItems:"center"},removeItemImg:{height:"30px",width:"30px",borderRadius:"50%",marginRight:"10px"},removeItemCheck:{position:"relative",width:"20px",height:"20px",borderRadius:"50%",lineHeight:"20px",willChange:"opacity, transform, border-color, background-color, color"},selectedArea:{width:"50%",height:"calc(100% - 70px)",display:"flex",flexDirection:"column",paddingTop:"20px"},enterGroupName:{height:"50px",margin:"0 20px 10px"},groupNameLabel:{color:"#333",fontSize:"14px",fontWeight:"400"},groupNameTip:{color:"#B6B6B6"},groupNameValue:{marginTop:"10px"},groupNameInput:{width:"100%",border:"none",borderBottom:"1px solid #DCDFE6",outline:"none",paddingBottom:"3px"},selectedMemberLabel:{lineHeight:"30px",color:"#ccc",paddingLeft:"20px"},selectedListContainer:{overflow:"auto"},memberContainer:{position:"relative",display:"flex",alignItems:"center",padding:"0 60px 0 20px",fontSize:"14px",lineHeight:"50px"},memberImage:{width:"30px",marginRight:"15px",borderRadius:"50%"},memberIcon:{position:"absolute",top:"50%",right:"20px",fontSize:"20px",color:"#BEC1C9",cursor:"pointer",transform:"translateY(-50%)"},action:{width:"100%",height:"70px",display:"flex",justifyContent:"center",alignItems:"center",borderTop:"1px solid #DCDFE6"},actionConfirm:{width:"100px",margin:"0 40px",borderRadius:"2px",lineHeight:"28px",textAlign:"center",fontSize:"14px",letterSpacing:"4px",color:"#fff",backgroundColor:o.$theme.$baseColor,cursor:"pointer"},actionCancel:{border:"1px solid #DCDFE6",color:"#666",backgroundColor:"#fff"},checkedIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",color:o.$theme.$baseColor},uncheckedIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",color:"#BEC1C9"},forbidIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",color:"#BEC1C9"},hidden:{display:"none"},ellipsis:r(r({},o.ellipsis()),{display:"inline-block",maxWidth:"100px",verticalAlign:"middle"})}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({visible:!1,type:null,searchVal:"",isSearching:!1,topContacts:{visible:!1,list:[]},myGroup:{visible:!1,list:[]},framework:{visible:!1,list:[]},selectedMembersList:[],defaultList:[],curChatTarget:{}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(13),i=n(5),s=n(12),a=n(1),u=n(8);t.default=function(){return[r.mounted("ShowView",(function(){var e=this.store,t=s.default.getKChat(this.rootName).rxjsEvent,n=i.map((function(t){return e.type=t.type,e.defaultList=t.list||[],e.searchVal="",e.visible=!0,t}));return t.addPipe(a.RxjsEventNames.SHOW_SELECT_MEMBER,n),function(){return t.removePipe(a.RxjsEventNames.SHOW_SELECT_MEMBER,n)}})),r.mounted("SearchInputHandler",(function(){var e=this.store,t=this.refs,n=s.default.getKChat(this.rootName),r={name:"MemberSelectSearchPopup",show:function(){return e.isSearching=!0},hide:function(){e.isSearching=!1,n.rxjsEvent.subscribe(a.RxjsEventNames.SELECT_MEMBER_SEARCH_CLOSE,o.of({}))},targets:[t.searchInputRef,t.searchResultRef]};o.fromEvent(t.searchInputRef.current,"input").pipe(i.debounceTime(500)).subscribe((function(t){e.searchVal=t.target.value.trim(),n.rxjsEvent.subscribe(a.RxjsEventNames.SHOW_SEARCH_RESULT,o.of({selectEnable:!0,content:e.searchVal,selectedMembersList:e.selectedMembersList,defaultList:e.defaultList}))})),o.fromEvent(t.searchInputRef.current,"focus").subscribe((function(){n.store.popupManager.add(r),n.rxjsEvent.subscribe(a.RxjsEventNames.SHOW_SEARCH_RESULT,o.of({selectEnable:!0,content:e.searchVal,selectedMembersList:e.selectedMembersList,defaultList:e.defaultList}))})),o.fromEvent(t.searchInputRef.current,"blur").subscribe((function(){!e.searchVal&&n.store.popupManager.remove(r),n.rxjsEvent.subscribe(a.RxjsEventNames.SHOW_SEARCH_RESULT,o.of({selectEnable:!0,content:e.searchVal,selectedMembersList:e.selectedMembersList,defaultList:e.defaultList}))}))})),r.mounted("ClearIconClick",(function(){var e=this,t=this.refs,n=t.clearIconRef,r=t.searchInputRef;o.fromEvent(n.current,"click").subscribe((function(){e.store.searchVal=r.current.value="",r.current.focus()}))})),r.mounted("CloseSearchResult",(function(){var e=this.store,t=this.refs,n=s.default.getKChat(this.rootName).rxjsEvent,r=i.map((function(){t.searchInputRef.current.value="",e.searchVal="",e.isSearching=!1}));return n.addPipe(a.RxjsEventNames.SELECT_MEMBER_SEARCH_CLOSE,r),function(){return n.removePipe(a.RxjsEventNames.SELECT_MEMBER_SEARCH_CLOSE,r)}})),r.mounted("RemoveViewClick",(function(){var e=this,t=this.store,n=this.refs.removeViewRef;o.fromEvent(n.current,"click").subscribe((function(n){var r=e.refs.removeListRefs.findIndex((function(e){return e.current===n.target||e.current===n.target.parentNode||e.current===n.target.parentNode.parentNode||e.current===n.target.parentNode.parentNode.parentNode})),o=t.defaultList[r];o&&!t.selectedMembersList.some((function(e,n){if(u.getTargetCode(e)===u.getTargetCode(o))return t.selectedMembersList.splice(n,1),!0}))&&t.selectedMembersList.push(o)}))})),r.mounted("ContactLabelClick",(function(){var e=this.store,t=this.refs,n=s.default.getKChat(this.rootName).rxjsEvent;o.fromEvent(t.contactLabelRef.current,"click").subscribe((function(){e.topContacts.visible=!e.topContacts.visible}));var r=i.map((function(t){e.topContacts.list=t}));return n.addPipe(a.RxjsEventNames.TOP_CONTACTS_CHANGE,r),function(){return n.removePipe(a.RxjsEventNames.TOP_CONTACTS_CHANGE,r)}})),r.mounted("GroupLabelClick",(function(){var e=this;o.fromEvent(this.refs.groupLabelRef.current,"click").subscribe((function(){e.store.myGroup.visible=!e.store.myGroup.visible}))})),r.mounted("FrameworkLabelClick",(function(){var e=this;o.fromEvent(this.refs.frameworkLabelRef.current,"click").subscribe((function(){e.store.framework.visible=!e.store.framework.visible}))})),r.mounted("ConfirmBtnClick",(function(){var e=this,t=s.default.getKChat(this.rootName).rxjsEvent,n=this.refs.groupNameInput;o.fromEvent(this.refs.confirmBtnRef.current,"click").subscribe((function(){var r=e.store,i=r.type,s=r.selectedMembersList;if(0!==s.length){var u={type:i,list:s};i===a.SelectMemberType.CREATE_GROUP&&(u.groupName=n.current&&n.current.value,u.groupName&&u.groupName.length>20)?t.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of({type:a.GlobalMessageTip.TIP,message:"群名称不得超过20个字符"})):t.subscribe(a.RxjsEventNames.SELECTED_MEMBER_COMMIT,o.of(u),{next:function(){return t.subscribe(a.RxjsEventNames.SELECTED_MEMBER_CANCEL,o.of(e.store.type))}})}else t.subscribe(a.RxjsEventNames.SHOW_MESSAGE,o.of({type:a.GlobalMessageTip.TIP,message:"未选择人员"}))}))})),r.mounted("CancelBtnClick",(function(){var e=this,t=s.default.getKChat(this.rootName).rxjsEvent;o.fromEvent(this.refs.cancelBtnRef.current,"click").subscribe((function(){t.subscribe(a.RxjsEventNames.SELECTED_MEMBER_CANCEL,o.of(e.store.type))}))})),r.mounted("OnClose",(function(){var e=this,t=s.default.getKChat(this.rootName).rxjsEvent,n=i.map((function(t){var n,r,o,i,s;return r=(n=e).store,o=n.refs,i=o.searchInputRef,s=o.groupNameInput,r.visible=!1,i.current.value="",s.current.value="",r.isSearching=!1,r.topContacts={visible:!1,list:[]},r.myGroup={visible:!1,list:[]},r.framework={visible:!1,list:[]},r.removeViewVisible=!0,r.defaultList=[],r.selectedMembersList=[],t}));return t.addPipe(a.RxjsEventNames.SELECTED_MEMBER_CANCEL,n),function(){return t.removePipe(a.RxjsEventNames.SELECTED_MEMBER_CANCEL,n)}})),r.mounted("FrameworkSlectedWatch",(function(){var e=this,t=s.default.getKChat(this.rootName).rxjsEvent,n=i.map((function(t){return!e.store.selectedMembersList.some((function(n,r){if(u.getTargetCode(n)===u.getTargetCode(t))return e.store.selectedMembersList.splice(r,1),!0}))&&e.store.selectedMembersList.push(t),t}));return t.addPipe(a.RxjsEventNames.MEMBER_SELECT,n),function(){return t.removePipe(a.RxjsEventNames.MEMBER_SELECT,n)}})),r.mounted("TopContactsSelect",(function(){var e=this.store,t=this.refs,n=t.contactContainerRef,r=s.default.getKChat(this.rootName).rxjsEvent;o.fromEvent(n.current,"click").pipe(i.map((function(e){return t.topContactsRefs.findIndex((function(t){return t.current===e.target||t.current===e.target.parentNode||t.current===e.target.parentNode.parentNode}))})),i.map((function(e){return e})),i.filter((function(e){return e>-1})),i.map((function(t){return e.topContacts.list[t]})),i.filter((function(t){return!e.defaultList.some((function(e){return u.getTargetCode(t)===e.userCode}))}))).subscribe({next:function(e){r.subscribe(a.RxjsEventNames.MEMBER_SELECT,o.of(e))}})})),r.mounted("RemoveSelectMember",(function(){var e=this,t=s.default.getKChat(this.rootName).rxjsEvent,n=this.refs.selectedContainerRef;o.fromEvent(n.current,"click").pipe(i.map((function(t){return e.refs.removeIconRefs.findIndex((function(e){return e.current===t.target}))})),i.filter((function(e){return e>-1})),i.map((function(t){return e.store.selectedMembersList.splice(t,1)[0]}))).subscribe({next:function(e){t.subscribe(a.RxjsEventNames.MEMBER_DESELECT,o.of(e))}})})),r.mounted("OnLiveInvite",(function(){var e=this,t=s.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,u=i.map((function(t){return r.live.on("invite",(function(){n.subscribe(a.RxjsEventNames.SELECTED_MEMBER_CANCEL,o.of(e.store.type))})),t}));return n.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,u),function(){return n.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,u)}})),r.mounted("OnLiveInvite",(function(){var e=this.store,t=s.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,c=i.map((function(t){return n.subscribe(a.RxjsEventNames.SELECTED_MEMBER_CANCEL,o.of(e.type)),r.ptt.on("startSpeak",(function(t){var r=u.getTargetCode(t),i=u.getTargetCode(e.curChatTarget);i&&i!==r&&e.type===a.SelectMemberType.LIVE_INVITE_MEMBER||n.subscribe(a.RxjsEventNames.SELECTED_MEMBER_CANCEL,o.of(e.type))})),t}));return n.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){return n.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}})),r.mounted("UpdateCurChatTarget",(function(){var e=this.store,t=s.default.getKChat(this.rootName).rxjsEvent,n=i.map((function(t){return e.curChatTarget=t,t}));return t.addPipe(a.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n),function(){return t.removePipe(a.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(421),i=n(422),s=n(425);t.default=function e(t,n,a){return r.default("CutImgPopup",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(6),a=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=a(null),e.refs.uploadRef=a(null),e.refs.filmCanvasRef=a(null),e.refs.maskCanvasRef=a(null),e.refs.previewCanvasRef=a(null),e.refs.reuploadRef=a(null),e.refs.rotateRef=a(null),e.refs.confirmBtnRefs=a(null),e.refs.cancelBtnRefs=a(null),e.refs.closeIconRef=a(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets.fonts,o=e.store,a=o.visible,u=o.hasSelectedImg,c=o.canvasBox;return r.createElement("div",{style:s.toggleVisible(t.container,a),"data-tree":e.name,"data-style-name":"container"},r.createElement("div",{style:t.cutBox,ref:e.refs.container,"data-style-name":"cutBox"},r.createElement("div",{style:t.header,"data-style-name":"header"},r.createElement("span",{style:t.headerTitle,"data-style-name":"headerTitle"},"上传图片"),r.createElement("i",{className:n.close,style:t.headerIcon,ref:e.refs.closeIconRef,"data-style-name":"headerIcon"})),r.createElement("div",{style:t.content,"data-style-name":"content"},r.createElement("div",{style:s.toggleVisible(t.buttonContainer,!u),"data-style-name":"buttonContainer"},r.createElement("button",{style:t.uploadButton,"data-style-name":"uploadButton"},r.createElement("span",null,"本地上传"),r.createElement("input",{ref:e.refs.uploadRef,style:t.uploadInput,accept:"image/gif, image/png, image/jpg, image/jpeg",type:"file","data-style-name":"uploadInput"})),r.createElement("p",{style:t.uploadTip,"data-style-name":"uploadTip"},"支持JPG、PNG、jpeg、gif等格式的图片，大小不超过5M")),r.createElement("div",{style:s.toggleVisible(t.editContainer,u),"data-style-name":"editContainer"},r.createElement("div",{style:t.cutContainer,"data-style-name":"cutContainer"},r.createElement("div",{style:t.uploadTarget,"data-style-name":"uploadTarget"},r.createElement("canvas",{width:c.width,height:c.height,ref:e.refs.filmCanvasRef,style:t.imgCanvas,"data-style-name":"imgCanvas"}),r.createElement("canvas",{width:c.width,height:c.height,ref:e.refs.maskCanvasRef,style:t.imgCanvas,"data-style-name":"imgCanvas"})),r.createElement("div",{style:t.uploadHandler,"data-style-name":"uploadHandler"},r.createElement("span",{style:t.reupload,ref:e.refs.reuploadRef,"data-style-name":"reupload"},"重新上传"),r.createElement("i",{className:n.rotate,style:t.rotateIcon,ref:e.refs.rotateRef,"data-style-name":"rotateIcon"}))),r.createElement("div",{style:t.previewContainer,"data-style-name":"previewContainer"},r.createElement("canvas",{width:120,height:120,style:t.previewCanvas,ref:e.refs.previewCanvasRef,"data-style-name":"previewCanvas"}),r.createElement("p",{style:t.previewTip,"data-style-name":"previewTip"},"头像预览")))),r.createElement("div",{style:t.footer,"data-style-name":"footer"},r.createElement("button",{style:t.confirmButton,ref:e.refs.confirmBtnRefs,"data-style-name":"confirmButton"},"确认"),r.createElement("button",{style:t.cancelButton,ref:e.refs.cancelBtnRefs,"data-style-name":"cancelButton"},"取消"))))}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{default:{assets:{images:{dragImg:n(423),zoomImg:n(424)},fonts:{close:"icon iconfont icon-close-copy",rotate:"icon iconfont icon-rotation"}},container:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, .3)",zIndex:"9"},cutBox:{position:"absolute",left:"50%",top:"50%",width:"460px",height:"480px",backgroundColor:"#fff",transform:"translate(-50%, -50%)"},header:{height:"50px",display:"flex",justifyContent:"space-between",padding:"15px 20px",lineHeight:"20px",borderBottom:"1px solid #DCDFE6"},headerTitle:{color:"#333",fontSize:"14px"},headerIcon:{cursor:"pointer"},content:{height:"357px",display:"flex",justifyContent:"center",alignItems:"center",padding:"30px 20px",borderBottom:"1px solid #DCDFE6"},buttonContainer:{textAlign:"center"},uploadButton:{position:"relative",width:"106px",marginBottom:"20px",lineHeight:"30px",borderRadius:"2px",fontSize:"12px",color:"#fff",backgroundColor:"#4999FF"},uploadInput:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",fontSize:"0",opacity:"0",cursor:"pointer"},uploadTip:{fontSize:"12px",color:"#A7B2BD"},editContainer:{width:"100%",height:"100%",display:"flex",justifyContent:"space-between"},cutContainer:{width:"270px",height:"100%",display:"flex",flexWrap:"wrap"},uploadTarget:{position:"relative",width:"270px",height:"270px"},imgCanvas:{position:"absolute",top:"0",left:"0"},uploadHandler:{width:"100%",marginTop:"10px",display:"flex",justifyContent:"space-between"},reupload:{lineHeight:"20px",fontSize:"14px",color:"#4999FF",cursor:"pointer"},rotateIcon:{color:"#BEC1C9",cursor:"pointer"},previewContainer:{width:"120px",height:"100%"},previewCanvas:{width:"120px",height:"120px",borderRadius:"50%",overflow:"hidden"},previewTip:{marginTop:"10px",color:"#8C9097",fontSize:"14px",textAlign:"center"},footer:{height:"73px",display:"flex",alignItems:"center",justifyContent:"center"},confirmButton:{width:"100px",lineHeight:"28px",borderRadius:"3px",cursor:"pointer",color:"#fff",backgroundColor:"#4999FF"},cancelButton:{width:"100px",marginLeft:"40px",lineHeight:"28px",borderRadius:"3px",border:"1px solid #DCDFE6",cursor:"pointer",color:"#666",backgroundColor:"#fff"}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/cutPicDrag.png"},function(e,t,n){e.exports=n.p+"./static/kchat203/images/cutPicZoom.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({visible:!1,hasSelectedImg:!1,fileName:"",rotate:0,canvasBox:{width:270,height:270},cutCircle:{x:135,y:135,r:30},zoomPic:{x:0,y:0,r:10},headerImage:new Image,dragImage:new Image,zoomImage:new Image})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(13),i=n(5),s=n(12),a=n(89),u=n(1);function c(e){var t=e.store,n=e.refs,r=function(e,t,n){var r=n.width/n.height,o=null,i=null,s=0,a=0,u=0;e>t*r?(o=n.width,i=Math.floor(o*t/e),s=(n.height-i)/2,a=0,u=o/e):(i=n.height,o=Math.floor(e*i/t),s=0,a=(n.width-o)/2,u=i/t);return{width:o,height:i,top:s,left:a,radio:u}}(t.headerImage.width,t.headerImage.height,t.canvasBox),o=n.filmCanvasRef.current,i=o.getContext("2d");i.save(),i.clearRect(0,0,o.width,o.height),i.fillRect(0,0,o.width,o.height),i.translate(o.width/2,o.height/2),i.rotate(t.rotate*Math.PI/180),i.translate(-o.width/2,-o.height/2),i.drawImage(t.headerImage,r.left,r.top,r.width,r.height),i.restore()}function l(e){var t=e.store,n=e.refs,r=e.styles,o=t.cutCircle,i=r.assets.images,s=i.dragImg,a=i.zoomImg,u=n.maskCanvasRef.current,c=u.getContext("2d");o.r=Math.min(o.r,135),o.r=Math.max(o.r,30),o.x=Math.max(o.x,o.r),o.x=Math.min(o.x,u.width-o.r),o.y=Math.max(o.y,o.r),o.y=Math.min(o.y,u.height-o.r);var l=o.x,d=o.y,f=o.r;c.clearRect(0,0,u.width,u.height),c.beginPath(),c.rect(0,0,u.width,u.height),c.fillStyle="rgba(0, 0, 0, .6)",c.arc(l,d,f,0,2*Math.PI,!0),c.closePath(),c.fill(),c.beginPath(),c.lineWidth=1,c.setLineDash([2,3]),c.strokeStyle="#fff",c.arc(l,d,f,0,2*Math.PI,!0),c.closePath(),c.stroke(),t.dragImage.src?c.drawImage(t.dragImage,l-20,d-20,40,40):(t.dragImage.onload=function(){c.drawImage(t.dragImage,l-20,d-20,40,40)},t.dragImage.src=s);var p,A,g,h=(A=-45,(g={x:0,y:0}).x=(p=o).x+p.r*Math.cos(A*Math.PI/180),g.y=p.y+p.r*Math.sin(A*Math.PI/180),g);t.zoomPic.x=h.x,t.zoomPic.y=h.y,t.zoomImage.src?c.drawImage(t.zoomImage,h.x-t.zoomPic.r-3,h.y-t.zoomPic.r-3,26,26):(t.zoomImage.onload=function(){c.drawImage(t.zoomImage,h.x-t.zoomPic.r-3,h.y-t.zoomPic.r-3,26,26)},t.zoomImage.src=a),function(e){var t=e.store,n=e.refs,r=t.cutCircle,o=r.x,i=r.y,s=r.r,a=n.filmCanvasRef.current.getContext("2d"),u=n.previewCanvasRef.current,c=n.previewCanvasRef.current.getContext("2d"),l=a.getImageData(o-s,i-s,2*s,2*s);u.width=2*s,u.height=2*s,c.putImageData(l,0,0)}(e)}function d(e,t){var n=e.x*e.x-2*e.x*t.x+t.x*t.x+e.y*e.y-2*e.y*t.y+t.y*t.y,r=Math.sqrt(n);return e.r>r}function f(e){var t=e.store;e.refs.uploadRef.current.value="",t.visible=!1,t.hasSelectedImg=!1,t.fileName="",t.rotate=0,t.cutCircle={x:135,y:135,r:30},t.zoomPic={x:0,y:0,r:10}}t.default=function(){return[r.mounted("ShowCutImg",(function(){var e=this,t=s.default.getKChat(this.rootName).rxjsEvent,n=i.map((function(){e.store.visible=!0}));return t.addPipe(u.RxjsEventNames.SHOW_CUT_IMG,n),function(){return t.removePipe(u.RxjsEventNames.SHOW_CUT_IMG,n)}})),r.mounted("HideCutImg",(function(){var e=this,t=this.refs,n=t.closeIconRef,r=t.cancelBtnRefs;o.fromEvent(n.current,"click").subscribe((function(){f(e)})),o.fromEvent(r.current,"click").subscribe((function(){f(e)}))})),r.mounted("FileInputChange",(function(){var e=this,t=this.refs.uploadRef;o.fromEvent(t.current,"change").subscribe({next:function(t){!function(e,t){if(!t.target.files||!t.target.files[0])return;var n=e.store,r=e.rxjsEvent,i=t.target.files[0],s=window.URL.createObjectURL(i);n.hasSelectedImg=!0,n.fileName=a.date().getfileDateId()+i.name,i.name.indexOf(".jpg")>0||i.name.indexOf(".png")>0||i.name.indexOf(".jpeg")>0||i.name.indexOf(".gif")>0?(n.headerImage.onload=function(){n.rotate=0,c(e),l(e)},n.headerImage.src=s):r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,o.of({type:u.GlobalMessageTip.TIP,message:"上传得图片格式不正确！"}))}(e,t)}})})),r.mounted("CanvasHandler",(function(){var e=this,t=this.store,n=this.refs.maskCanvasRef,r=o.fromEvent(n.current,"mousedown"),s=o.fromEvent(window,"mousemove"),a=o.fromEvent(window,"mouseup"),u=o.fromEvent(n.current,"mouseleave"),c=t.cutCircle.x,f=t.cutCircle.y,p=t.cutCircle.r;r.pipe(i.filter((function(e){return d(t.zoomPic,{x:e.offsetX,y:e.offsetY})})),i.concatMap((function(){return s.pipe(i.takeUntil(o.merge(a,u)))})),i.withLatestFrom(r,(function(e,t){return{x:e.offsetX-t.offsetX,y:e.offsetY-t.offsetY}}))).subscribe((function(n){t.cutCircle.r=p+n.x,l(e)})),a.subscribe((function(){p=t.cutCircle.r})),r.pipe(i.filter((function(e){return!d(t.zoomPic,{x:e.offsetX,y:e.offsetY})&&d(t.cutCircle,{x:e.offsetX,y:e.offsetY})})),i.concatMap((function(){return s.pipe(i.takeUntil(o.merge(a,u)))})),i.withLatestFrom(r,(function(e,t){return{x:e.offsetX-t.offsetX,y:e.offsetY-t.offsetY}}))).subscribe((function(n){t.cutCircle.x=c+n.x,t.cutCircle.y=f+n.y,l(e)})),a.subscribe((function(){c=t.cutCircle.x,f=t.cutCircle.y}))})),r.mounted("ReUpload",(function(){var e=this.refs,t=e.reuploadRef,n=e.uploadRef;o.fromEvent(t.current,"click").subscribe((function(){n.current.click()}))})),r.mounted("Rotate",(function(){var e=this,t=this.refs.rotateRef;o.fromEvent(t.current,"click").subscribe((function(){e.store.rotate=(e.store.rotate+90)%360,c(e),l(e)}))})),r.mounted("ConfirmUpload",(function(){var e=this,t=this.refs,n=s.default.getKChat(this.rootName),r=n.rxjsEvent,i=n.fetch,a=n.store;o.fromEvent(t.confirmBtnRefs.current,"click").subscribe((function(){if(t.uploadRef.current.value){var n=function(e){for(var t=window.atob(e.split(",")[1]),n=new ArrayBuffer(t.length),r=new Uint8Array(n),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([n],{type:"image/png"})}(t.previewCanvasRef.current.toDataURL("image/png",1));n.name=e.store.fileName,console.log("file.name",n.name),n.name.indexOf(".jpg")>0||n.name.indexOf(".png")>0||n.name.indexOf(".jpeg")>0||n.name.indexOf(".gif")>0?i.message.singleFileUpload({file:n,fileType:u.SignalType.IMAGE}).upload.subscribe({next:function(t){i.user.modifyUserInfo({headImageUrl:t.url||""}).subscribe({next:function(){a.loginUser.headImageUrl=t.url,f(e),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,o.of({type:u.GlobalMessageTip.SUCCESS,message:"头像修改成功"}))},error:function(t){f(e),console.log(t),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,o.of("头像修改失败"))}})},error:function(t){f(e),console.log(t),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,o.of("头像修改失败"))}}):r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,o.of({type:u.GlobalMessageTip.TIP,message:"上传得图片格式不正确！"}))}else r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,o.of({type:u.GlobalMessageTip.TIP,message:"请选择图片"}))}))}))]}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(428),s=n(429),a=n(431),u=n(432),c=n(450),l=n(451),d=n(460),f=n(461),p=n(465),A=n(62),g=n(61),h=n(11),m=n(5),y=n(12),v=n(1),b=n(466),E=n(470),C=n(471),T=n(479);t.default=function e(t,n,S){return o.default("ChatPage",i.default,{rootName:t,_styles:s.default(),store:a.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:S},[u.default(t,".kc-chat-footer",c.default()),l.default(t,".kc-chat-header",d.default()),f.default(t,".kc-chat-content",p.default()),C.default(t,".kc-star-page",T.default()),A.default(t,".kc-user-info-page",r([h.mounted("SetUserInfo",(function(){var e=this,t=y.default.getKChat(this.rootName).rxjsEvent;this.store.isPopup=!1;var n=m.map((function(t){e.store.userInfo=t}));return t.addPipe(v.RxjsEventNames.CHAT_AREA_SHOW_USER,n),function(){return t.removePipe(v.RxjsEventNames.CHAT_AREA_SHOW_USER,n)}}))],g.default())),A.default(t,".kc-group-info-page",r([h.mounted("SetGroupInfo",(function(){var e=this,t=y.default.getKChat(this.rootName).rxjsEvent;this.store.isPopup=!1;var n=m.map((function(t){e.store.userInfo=t}));return t.addPipe(v.RxjsEventNames.CHAT_AREA_SHOW_GROUP,n),function(){return t.removePipe(v.RxjsEventNames.CHAT_AREA_SHOW_GROUP,n)}}))],g.default())),b.default(t,".kc-live-join",E.default())])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(6),a=n(1),u=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=u(null),e.refs.chatArea=u(null),e.refs.chatHeader=u(null),e.refs.chatContent=u(null),e.refs.chatFooter=u(null),e.refs.dragDisplay=u(null),e.refs.liveJoin=u(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets.images,o=e.refs,u=e.store;return r.createElement("div",{ref:o.container,style:t.container,"data-tree":e.name,"data-style-name":"container"},r.createElement("div",{className:"kc-chat-area",style:s.toggleVisible(t.chatArea,u.chatContentType===a.ChatContentType.CHAT_CONTENT),ref:o.chatArea,"data-style-name":"chatArea"},r.createElement("div",{className:"kc-live-join",ref:o.liveJoin,style:t.liveJoin,"data-style-name":"liveJoin"}),r.createElement("div",{className:"kc-chat-header",ref:o.chatHeader,style:t.chatHeader,"data-style-name":"chatHeader"}),r.createElement("div",{className:"kc-chat-content",ref:o.chatContent,style:t.chatContent,"data-style-name":"chatContent"}),r.createElement("div",{className:"kc-chat-footer",ref:o.chatFooter,style:t.chatFooter,"data-style-name":"chatFooter"}),r.createElement("div",{style:s.toggleVisible(t.dragDisplay,u.dragDisplay),ref:o.dragDisplay,"data-style-name":"dragDisplay"},r.createElement("div",{style:t.dragDisplayBorder,"data-style-name":"dragDisplayBorder"}),r.createElement("div",{style:t.dragDisplayContent,"data-style-name":"dragDisplayContent"},"移动到这里发送给 ",u.curChatTarget.groupName||u.curChatTarget.userName||""))),r.createElement("div",{className:"kc-chat-default",style:s.toggleVisible(t.chatDefault,u.chatContentType===a.ChatContentType.DEFAULT),"data-style-name":"chatDefault"},r.createElement("img",{src:n.chatDefault,style:t.chatDefaultImg,"data-style-name":"chatDefaultImg",alt:""})),r.createElement("div",{className:"kc-user-info-page",style:s.toggleVisible(t.userInfo,u.chatContentType===a.ChatContentType.USER_INFO),"data-style-name":"userInfo"}),r.createElement("div",{className:"kc-group-info-page",style:s.toggleVisible(t.groupInfo,u.chatContentType===a.ChatContentType.GROUP_INFO),"data-style-name":"groupInfo"}),r.createElement("div",{className:"kc-star-page",style:s.toggleVisible(t.starPage,u.chatContentType===a.ChatContentType.COLLECTION),"data-style-name":"starPage"}))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{chatDefault:n(430)}},container:{height:"100%",backgroundColor:o.$theme.$backgroundColor,overflow:"auto"},chatArea:{position:"relative",flex:1,height:"100%",boxSizing:"border-box",overflow:"hidden"},chatHeader:{height:"70px"},chatContent:{height:"calc(100% - 230px)"},chatFooter:{height:"160px"},liveJoin:{},dragDisplay:{height:"calc(100% - 70px)",width:"100%",background:"rgba(255,255,255,0.90)",position:"absolute",top:"70px",padding:"20px"},dragDisplayContent:r({textAlign:"center",fontSize:"16px",color:"#8C9097",lineHeight:"20px",height:"22px",zIndex:1,width:"calc(100% - 40px)"},o.vertical()),dragDisplayBorder:{width:"calc(100% - 40px)",height:"calc(100% - 40px)",border:"2px dashed #8C9097",borderRadius:"8px",position:"absolute"},chatDefault:{height:"100%",position:"relative"},chatDefaultImg:r(r({},o.middle()),{width:"200px"}),userInfo:{height:"100%",position:"relative"},groupInfo:{height:"100%",position:"relative"},starPage:{height:"100%",position:"relative"}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/default.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({dragDisplay:!1,curChatTarget:{},chatContentType:o.ChatContentType.DEFAULT})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(433),i=n(434),s=n(435),a=n(436),u=n(11),c=n(12),l=n(1),d=n(5),f=n(6),p=n(13),A=n(440),g=n(444),h=n(445),m=n(449);t.default=function e(t,n,y){return r.default("ChatFooter",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:y},[A.default(t,".kc-screenshot",g.default()),a.default(t,".kc-tool-tip",[u.mounted("ToolTipMessage",(function(){var e=this,n=c.default.getKChat(t).rxjsEvent,r=d.map((function(t){var n=e.styles.toolTip,r=e.refs.container;return"mouseleave"===t.event.type?(!t.event.toElement||!f.isDescendant(t.event.toElement,r.current))&&f.animation(n,l.AnimationType.ZOOM_OUT,{duration:200,origin:l.AnimationOrigin.BOTTOM_CENTER}).subscribe({next:function(){e.store.visible=!1}}):(e.store.message=t.toolTip,e.store.visible=!0,n.left=t.pos.left-r.current.offsetWidth/2+"px",n.top=t.pos.top-r.current.offsetHeight-6+"px",f.animation(n,l.AnimationType.ZOOM_IN,{duration:200,origin:l.AnimationOrigin.BOTTOM_CENTER}).subscribe()),t}));return n.addPipe(l.RxjsEventNames.CHAT_FOOTER_TOOL_TIP,r),function(){return n.removePipe(l.RxjsEventNames.CHAT_FOOTER_TOOL_TIP,r)}})),u.mounted("ToolTipMessageClick",(function(){var e=this,n=c.default.getKChat(t).rxjsEvent,r=this.refs.container;p.fromEvent(r.current,"click").pipe(d.filter((function(t){var n=e.refs.tipItems;return 1===n.length||n.length>1&&n.some((function(e){return e.current===t.target}))}))).pipe(d.map((function(t){var n=e.store.message,r=e.refs.tipItems;return 1===r.length?n.name:n[r.map((function(e){return e.current})).indexOf(t.target)].name}))).subscribe((function(e){console.log("footer-click-data",e),n.subscribe(l.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,p.of(e))}))}))]),h.default(t,".kc-send-tool-tip",m.default())])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(29),u=n(6),c=n(1),l=o.useRef;t.default=function(e){e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=l(null),e.refs.fileInput=l(null),e.refs.imageInput=l(null),e.refs.chatMenusContainer=l(null),e.refs.toolTipContainer=l(null),e.refs.contentEditBox=l(null);var t=l(null);return e.refs.sendButton={get current(){return t.current.refs.current}},e.refs.userListBox=l(null),o.createElement(i.Observer,null,(function(){var n=s.toJS(e.styles),i=n.assets.fonts,l=n.assets.images,d=e.store,f=e.refs,p=d.chatMenus.map((function(){return{current:null}}));f.chatMenus=p.map((function(e){return{get current(){return e.current.refs.current}}}));var A=d.atUsers.map((function(){return{current:null}}));return f.userItem=A.map((function(e){return{get current(){return e.current.refs.current}}})),o.createElement("div",{ref:f.container,style:n.container,"data-style-name":"container","data-tree":e.name},o.createElement("ul",{style:n.menuContainer,ref:f.chatMenusContainer,"data-style-name":"menuContainer"},d.chatMenus.map((function(e,t){return o.createElement(a.Pseudo,{style:u.toggleVisible(n.menu,!1!==e.visible),key:e.name,hoverStyle:n.menuHover,ref:p[t],tagName:"li"},o.createElement("i",{className:i[e.name],style:n.menuIcon,"data-style-name":"menuIcon"}),o.createElement("div",null,e.name===c.MenuType.FILE||e.name===c.MenuType.IMAGE?o.createElement("input",{type:"file",style:n.menuInput,"data-style-name":"menuInput",ref:e.name===c.MenuType.IMAGE?f.imageInput:f.fileInput,accept:e.name===c.MenuType.IMAGE?"image/*":""}):""))}))),o.createElement("div",{contentEditable:!0,className:"kc-chat-footer-edit-box",ref:f.contentEditBox,style:n.contentEditBox,"data-style-name":"contentEditBox"}),o.createElement("ul",{ref:f.userListBox,"data-style-name":"userListBox",style:u.toggleVisible(r(r({},n.userListBox),{left:d.userListBoxPos.left,top:d.userListBoxPos.top}),!1!==d.userListBoxVisible)},d.atUsers.map((function(e,t){return o.createElement(a.Pseudo,{key:t,hoverStyle:n.userListItemHover,tagName:"li",ref:A[t],style:n.userListBoxItem,"data-style-name":"userListBoxItem"},o.createElement("img",{key:t,src:e.userCode?e.headImageUrl?e.headImageUrl:l.$defaultDefaultHeader:l.$defaultGroupPicture,style:n.headIMage,"data-style-name":"headIMage"}),e.userCode?e.userName:"所有人")}))),o.createElement(a.Pseudo,{style:n.sendButton,"data-style-name":"sendButton",hoverStyle:n.sendButtonHover,ref:t},"发 送(S)"),o.createElement("div",{className:"kc-send-tool-tip",style:n.sendToolTip,"data-style-name":"sendToolTip"}),o.createElement("div",{className:"kc-tool-tip",ref:f.toolTipContainer,"data-style-name":"toolTipContainer"}),o.createElement("div",{className:"kc-screenshot"}))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=n(1);t.default=function(){var e;return{default:{assets:{images:{$defaultGroupPicture:o.$theme.$groupDefaultHeader,$defaultDefaultHeader:o.$theme.$maleDefaultHeader},fonts:(e={},e[i.MenuType.IMAGE]="icon iconfont icon-photo",e[i.MenuType.FILE]="icon iconfont icon-file-surface",e[i.MenuType.SCREENSHOT]="icon iconfont icon-screenshot",e[i.MenuType.MAP]="icon iconfont icon-location",e[i.MenuType.HISTORY]="icon iconfont icon-message-record",e[i.MenuType.AUDIO_CHAT]="icon iconfont icon-voice-chat",e[i.MenuType.VIDEO_CHAT]="icon iconfont icon-videotape",e)},container:r({height:"100%",borderTop:"1px solid "+o.$theme.$borderColor,position:"relative"},o.forbidSelect()),menuContainer:r(r({},o.flex({justifyContent:"left"})),{paddingLeft:"10px"}),menu:{float:"left",height:"35px",color:o.$theme.$lightBgColor,cursor:"pointer",textAlign:"center",position:"relative"},menuHover:{color:o.$theme.$baseColor},menuIcon:{display:"inline-block",lineHeight:"35px",padding:"0 10px",fontSize:"18px",verticalAlign:"middle"},menuInput:r({},o.hidden()),sendButton:{position:"absolute",right:"20px",bottom:"20px",width:"80px",height:"28px",cursor:"pointer",borderRadius:"2px",textAlign:"center",lineHeight:"28px",fontSize:"14px",color:"#fff",backgroundColor:o.$theme.$lightBgColor,zIndex:1},sendButtonHover:{backgroundColor:o.$theme.$baseColor},sendToolTip:{position:"absolute",right:"20px",bottom:"48px"},contentEditBox:{height:"calc(100% - 90px)",color:"#333",border:0,margin:0,padding:"5px 15px",outline:"0 none",overflowY:"auto",resize:"none",fontSize:"14px",lineHeight:"20px"},userListBox:{position:"fixed",width:"150px",maxHeight:"160px",overflowY:"auto",backgroundColor:"#ffffff",border:"1px solid #f3eded",zIndex:1e3},userListBoxItem:r({lineHeight:"30px",fontSize:"12px"},o.ellipsis()),userListItemHover:{backgroundColor:"#4999ff",color:"#ffffff",cursor:"pointer"},headIMage:{width:"25px",height:"25px",borderRadius:"100%",display:"inline-block",verticalAlign:"middle",margin:"3px 10px"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1),i=n(8);t.default=function(){var e=r.observable({curChatTarget:{},loginUser:{},chatMenus:[{name:o.MenuType.IMAGE,toolTip:"发送图片"},{name:o.MenuType.FILE,toolTip:"发送文件"},{name:o.MenuType.SCREENSHOT,toolTip:"截图"},{name:o.MenuType.MAP,toolTip:"发送位置",get visible(){return!!(window.KChatConfig.kmap&&window.KChatConfig.kmap.configUrl&&window.KMap)}},{name:o.MenuType.HISTORY,toolTip:"历史记录"},{name:o.MenuType.AUDIO_CHAT,children:[{name:o.MenuType.PTT,toolTip:"PTT对讲"},{name:o.MenuType.AUDIO,toolTip:"语音通话",get visible(){return!i.isGroup(e.curChatTarget)}}]},{name:o.MenuType.VIDEO_CHAT,children:[{name:o.MenuType.LIVE,toolTip:"视频直播",get visible(){return i.isGroup(e.curChatTarget)}},{name:o.MenuType.VIDEO,toolTip:"视频通话",get visible(){return!i.isGroup(e.curChatTarget)}}]}],lastEditRange:null,groupUserList:[],atUsers:[],userListBoxPos:{left:0,top:0},userListBoxVisible:!1});return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(437),i=n(438),s=n(439);t.default=function e(t,n,a){return r.default("ToolTip",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(29),a=n(6),u=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=u(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=e.store,o=n.message,u=n.visible,c=(Array.isArray(o)?o:[o]).map((function(){return{current:null}}));return e.refs.tipItems=c.map((function(e){return{get current(){return e.current.refs?e.current.refs.current:e.current}}})),r.createElement("div",{ref:e.refs.container,style:a.toggleVisible(t.toolTip,u),"data-tree":e.name,"data-style-name":"toolTip"},Array.isArray(o)?r.createElement("ul",null,o.map((function(e,n){return r.createElement(s.Pseudo,{key:e.name,style:a.toggleVisible(t.childTipItem,void 0===e.visible||e.visible),ref:c[n],hoverStyle:t.childTipItemHover,tagName:"li","data-style-name":"childTipItem"},e.toolTip)}))):r.createElement("div",{style:a.toggleVisible(t.tipItem,void 0===o.visible||o.visible),ref:c[0],"data-style-name":"tipItem"},o.toolTip),r.createElement("div",{style:t.before,"data-style-name":"before"}),r.createElement("div",{style:t.after,"data-style-name":"after"}))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){var e={display:"block",content:"",position:"absolute",bottom:0,backgroundColor:"#fff"};return{default:{toolTip:{position:"absolute",left:0,zIndex:1,top:0,fontSize:"12px",color:"#1B2126",letterSpacing:0,lineHeight:"14px",whiteSpace:"nowrap",background:"#FFFFFF",boxShadow:"0 0 4px 0 rgba(0,0,0,0.15)",borderRadius:"3px",padding:"6px 0",textAlign:"center",cursor:"pointer"},before:r(r(r({},o.horizon()),{width:"8px",height:"8px",transformOrigin:"right bottom",transform:"rotate(-45deg)",boxShadow:"0 0 4px 0 rgba(0, 0, 0, 0.15)"}),e),after:r({height:"6px",left:"5px",width:"calc(100% - 10px)",bottom:0},e),tipItem:{height:"18px",lineHeight:"18px",padding:"0 5px"},childTipItem:{padding:"0 10px",height:"22px",lineHeight:"22px"},childTipItemHover:{backgroundColor:o.$theme.$baseColor,color:"#fff"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({message:{name:"",toolTip:""},visible:!1})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(441),i=n(442),s=n(443);t.default=function e(t,n,a){return r.default("Screenshot",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(6),u=n(29),c=n(1),l=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=l(null),e.refs.text=l(null),e.refs.canvas=l(null),e.refs.menuContainer=l(null),e.refs.subMenuContainer=l(null),e.refs.textSizeSelect=l(null),e.refs.textSizeDropListBox=l(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=e.refs,i=e.store,l=i.visible,d=i.menuVisible,f=i.menus,p=i.menuPos,A=t.assets.fonts,g=t.settings,h=g.sizeList,m=g.colorList,y=g.textSizeList,v=f.map((function(){return{current:null}}));n.functionMenus=v.map((function(e){return{get current(){return e.current.refs.current}}})),n.geometricSizeMenus=h.map((function(){return{current:null}})),n.colorSubMenus=m.map((function(){return{current:null}}));var b=y.map((function(){return{current:null}}));return n.textSizeMenus=b.map((function(e){return{get current(){return e.current.refs.current}}})),o.createElement("div",{ref:n.container,style:a.toggleVisible(t.container,l),"data-tree":e.name,"data-style-name":"container"},o.createElement("canvas",{ref:n.canvas,style:t.canvas,"data-style-name":"canvas"}),o.createElement("div",{contentEditable:!0,ref:n.text,style:a.toggleVisible(t.textInput,i.textInputVisible),"data-style-name":"textInput"}),o.createElement("div",{ref:n.menuContainer,style:a.toggleVisible(r(r({},t.menuContainer),{left:p.x+"px",top:p.y+"px"}),d),"data-style-name":"menuContainer"},o.createElement("ul",{style:t.functionMenus,"data-style-name":"functionMenus"},f.map((function(e,n){var s=(e===c.ScreenshotFunctionMenuType.CANCEL?"cancelFunc":e===c.ScreenshotFunctionMenuType.SUBMIT?"submitFunc":"munuFunc")+(i.curFunc<3&&i.curFunc===n?"&selectedFunc":"");return o.createElement(u.Pseudo,{key:e,style:r(r(r({},t.munuFunc),e===c.ScreenshotFunctionMenuType.CANCEL?t.cancelFunc:e===c.ScreenshotFunctionMenuType.SUBMIT?t.submitFunc:{}),i.curFunc<3&&i.curFunc===n?t.selectedFunc:{}),hoverStyle:n<f.length-2?t.hoverFunc:{},tagName:"li","data-style-name":s,"data-style-hover-name":n<f.length-2?"hoverFunc":"",ref:v[n]},o.createElement("i",{className:A[e]}))}))),o.createElement("ul",{style:a.toggleVisible(t.functionSubMenus,i.subMenuVisible),ref:n.subMenuContainer,"data-style-name":"functionSubMenus"},h.map((function(e,s){var u=(i.selectedSize===e?"selectedGeometric":"geometricSubMenuItem")+(0===s?"&smallGeometric":1===s?"&mediumGeometric":"&largeGeometric");return o.createElement("li",{style:a.toggleVisible(r(r(r({},t.geometricSubMenuItem),i.selectedSize===e?t.selectedGeometric:{}),0===s?t.smallGeometric:1===s?t.mediumGeometric:t.largeGeometric),2!==i.curFunc),ref:n.geometricSizeMenus[s],"data-style-name":u,key:"sizeList"+s})})),o.createElement("li",{style:a.toggleVisible(t.textSizeSelect,2===i.curFunc),ref:n.textSizeSelect,"data-style-name":"textSizeSelect"},i.textStyle.size,o.createElement("div",{style:t.dropList,"data-style-name":"dropList"},o.createElement("i",{className:A.dropListIcon,style:t.dropListIcon,"data-style-name":"dropListIcon"})),o.createElement("ul",{style:a.toggleVisible(r(r({},t.textSizeSelectList),i.placeTop?t.textSizeSelectListPlcaceTop:{}),i.selectVisible),ref:n.textSizeDropListBox,"data-style-name":i.placeTop?"textSizeSelectListPlcaceTop":"textSizeSelectList"},y.map((function(e,n){return o.createElement(u.Pseudo,{style:t.textSizeSelectItem,hoverStyle:t.textSizeSelectItemHover,ref:b[n],"data-style-name":"textSizeSelectItem","data-style-hover-name":"textSizeSelectItemHover",key:e,tagName:"li"},e,o.createElement("i",{className:A.selectedSizeIcon,style:a.toggleVisible(t.textSizeSelectIcon,i.textStyle.size===e),"data-style-name":"textSizeSelectIcon"}))})))),o.createElement("li",{style:t.line,"data-style-name":"line"}),m.map((function(e,s){return o.createElement("li",{style:r(r(r({},t.drawColor),i.selectedColor===e?t.selectedDrawColor:{}),{backgroundColor:e}),ref:n.colorSubMenus[s],key:"colorList"+s,"data-style-name":i.selectedColor===e?"selectedDrawColor":"drawColor"})})))))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=n(1);t.default=function(){var e;return{default:{assets:{fonts:(e={},e[i.ScreenshotFunctionMenuType.RECT]="icon iconfont icon-editbox",e[i.ScreenshotFunctionMenuType.ELLIPSIS]="icon iconfont icon-editroundbox",e[i.ScreenshotFunctionMenuType.TEXT]="icon iconfont icon-character",e[i.ScreenshotFunctionMenuType.BACK]="icon iconfont icon-revoke",e[i.ScreenshotFunctionMenuType.FORWARD]="icon iconfont icon-transmit",e[i.ScreenshotFunctionMenuType.CANCEL]="icon iconfont icon-close-cancel-copy",e[i.ScreenshotFunctionMenuType.SUBMIT]="icon iconfont icon-determine",e.selectedSizeIcon="icon iconfont icon-determine-small",e.dropListIcon="icon iconfont icon-thumbnail",e)},settings:{color:o.$theme.$baseColor,colorList:["#FF3F00","#509DFE","#6EEB00","#FFED00","#7A7A7A","#fff"],sizeList:[4,8,12],textSizeList:[16,24,36]},container:{position:"fixed",left:0,top:0,width:"100%",height:"100%",zIndex:9999},canvas:{},menuContainer:{width:"298px",position:"absolute",height:"40px",lineHeight:"40px",left:0,top:0},functionMenus:r(r({height:"100%"},o.flex({alignItems:"center"})),{backgroundColor:"#212C33",boxShadow:"0 0 6px 0 rgba(0,0,0,0.50)",borderRadius:"2px",padding:"0 20px",color:"#fff"}),functionSubMenus:r(r({position:"absolute",left:0,top:"40px",width:"100%",height:"38px"},o.flex()),{backgroundColor:"#191D20",boxShadow:"0 0 6px 0 rgba(0,0,0,0.50), inset 0 0 3px 0 rgba(0,0,0,0.50)",borderRadius:"2px",padding:"0 20px",color:"#fff",fontSize:"16px"}),hoverFunc:{color:o.$theme.$baseColor},selectedFunc:{color:o.$theme.$baseColor},cancelFunc:{color:"#EC3732"},submitFunc:{color:"#1DA31E"},munuFunc:{cursor:"pointer"},selectedGeometric:{backgroundColor:o.$theme.$baseColor},smallGeometric:{width:"5px",height:"5px"},mediumGeometric:{width:"8px",height:"8px"},largeGeometric:{width:"12px",height:"12px"},geometricSubMenuItem:{borderRadius:"50%",backgroundColor:"#333F4C",cursor:"pointer"},line:{width:"1px",height:"16px",backgroundColor:"#34414D"},drawColor:{width:"16px",height:"16px",cursor:"pointer"},selectedDrawColor:{border:"1px solid #fff"},textSizeSelect:r({width:"70px",position:"relative",borderRadius:"2px",height:"16px",fontSize:"10px",lineHeight:"16px",paddingLeft:"15px",color:"#262626",backgroundColor:"#fff"},o.forbidSelect()),textSizeSelectList:{position:"absolute",width:"100%",left:0,top:"16px",borderRadius:"2px",lineHeight:"16px",backgroundColor:"#fff"},textSizeSelectListPlcaceTop:{top:"-48px"},textSizeSelectItem:{paddingLeft:"15px",position:"relative",fontSize:"10px",color:"#000"},textSizeSelectItemHover:{backgroundColor:o.$theme.$baseColor,color:"#fff"},textSizeSelectIcon:r({fontSize:"18px",transform:"translateX(50%)",right:"10px"},o.vertical()),dropList:{position:"absolute",right:0,top:0,borderLeft:"1px solid #E9EBF0",width:"20px",height:"100%",textAlign:"center"},dropListIcon:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},textInput:{}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({menus:[o.ScreenshotFunctionMenuType.RECT,o.ScreenshotFunctionMenuType.ELLIPSIS,o.ScreenshotFunctionMenuType.TEXT,o.ScreenshotFunctionMenuType.BACK,o.ScreenshotFunctionMenuType.FORWARD,o.ScreenshotFunctionMenuType.CANCEL,o.ScreenshotFunctionMenuType.SUBMIT],visible:!1,cutImgSrc:"",stepHistory:[],steps:[],selecting:!1,selected:!1,editText:!1,curFunc:-1,curActiveStep:-1,rectStyle:{size:4,color:"#FF3F00"},ellipsisStyle:{size:4,color:"#FF3F00"},textStyle:{size:16,color:"#FF3F00"},placeTop:!1,textInputContent:"",startPos:{x:0,y:0},endPos:{x:0,y:0},showMoveCursor:!1,showResizeCursor:!1,moveTarget:null,resizeTarget:null,textInputPos:{x:0,y:0},menuPos:{x:0,y:0},get menuVisible(){return this.selected?1===this.steps.length?!this.selecting:!(this.selecting&&this.showResizeCursor&&this.resizeTarget.target===this.steps[0]):this.selected},get subMenuVisible(){return-1!==[0,1,2].indexOf(this.curFunc)},get selectedSize(){switch(this.curFunc){case 0:return this.rectStyle.size;case 1:return this.ellipsisStyle.size;default:return this.textStyle.size}},get selectedColor(){switch(this.curFunc){case 0:return this.rectStyle.color;case 1:return this.ellipsisStyle.color;default:return this.textStyle.color}},selectVisible:!1,get textInputVisible(){return 2===this.curFunc&&this.editText},get textInputStyle(){var e=this.textInputPos,t=this.textStyle,n=this.steps[0].stepInfo,r=t.size+12,o=t.size+2,i=n[2]-(e.x-n[0]),s=n[3]-(e.y-n[1]);return{left:e.x+"px",top:e.y+"px",color:""+t.color,fontSize:t.size+"px",lineHeight:1.5*t.size+"px",minWidth:r+"px",maxWidth:i+"px",minHeight:o+"px",maxHeight:s+"px",padding:"0 5px",verticalAlign:"top",position:"absolute"}}})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),s=n(12),a=n(1),u=n(5),c=n(13),l=n(28),d=n(2),f=n(6),p=n(183);function A(e){var t=g(e);t.width=window.innerWidth,t.height=window.innerHeight,function(e){var t=e.store;t.cutImgSrc="",t.stepHistory=[],t.steps=[],t.selecting=!1,t.selected=!1,t.editText=!1,t.curFunc=-1,t.curActiveStep=-1,t.rectStyle.size=4,t.rectStyle.color="#FF3F00",t.ellipsisStyle.size=4,t.ellipsisStyle.color="#FF3F00",t.textStyle.size=16,t.textStyle.color="#FF3F00",t.textInputContent=""}(e),m(e),y(e)}function g(e){return e.refs.canvas.current}function h(e){return g(e).getContext("2d")}function m(e){var t=g(e);t.width=t.width}function y(e,t,n,r,o){var i=g(e),s=h(e);s.save(),s.globalAlpha=.3,s.fillStyle="#000",s.beginPath(),s.rect(0,0,i.width,i.height),r&&function(e,t,n,r,o){var i=h(e);[[t,n],[t,n+o],[t+r,n+o],[t+r,n],[t,n]].forEach((function(e,t){i[0===t?"moveTo":"lineTo"](e[0],e[1])}))}(e,t,n,r,o),s.closePath(),s.fill(),s.restore()}function v(e,t){var n=e.store,r=n.startPos;r.x=t.x,r.y=t.y,n.selecting=!0}function b(e,t,n,r){e.store.steps.push({callback:t,stepInfo:n,type:r}),t.apply(null,n)}function E(e,t,n,r,o){y(e,t,n,r,o),C(e,t,n,r,o),T(e,t,n,r,o)}function C(e,t,n,r,o,i,s,a){void 0===i&&(i=e.styles.settings.color),void 0===s&&(s=2),void 0===a&&(a=!1);var u=h(e);a?u.fillStyle=i:(u.strokeStyle=i,u.lineWidth=s),u[a?"fillRect":"strokeRect"](t,n,r,o),u.restore()}function T(e,t,n,r,o,i,s){void 0===i&&(i=4),void 0===s&&(s=e.styles.settings.color),S(t,n,r,o).forEach((function(t){return function(e,t,n,r,o){void 0===r&&(r=4);void 0===o&&(o=e.styles.settings.color);var i=h(e);i.save(),i.beginPath(),i.strokeStyle=o,i.fillStyle="#fff",i.arc(t,n,r,0,2*Math.PI),i.stroke(),i.fill(),i.closePath(),i.restore()}(e,t[0],t[1],i,s)}))}function S(e,t,n,r){return[[e,t],[e,t+r/2],[e,t+r],[e+n/2,t],[e+n/2,t+r],[e+n,t],[e+n,t+r/2],[e+n,t+r]]}function x(e,t,n,r,o,i,s,a,u){void 0===u&&(u=!1);var c=h(e);c.save(),c.font=s+"px arial",c.textBaseline="middle",c.fillStyle=i;var l=n-1.5*s/2+3;Array.isArray(a)?a.forEach((function(n,o){w(e,r,n).forEach((function(e){l+=1.5*s,!u&&c.fillText(e,t+5,l)}))})):w(e,r,a).forEach((function(e){l+=1.5*s,!u&&c.fillText(e,t+5,l)}));c.restore();var d=L(e);return Math.min(l+1.5*s/2,d[1]+d[3])-n}function _(e,t,n,r,o,i,s){void 0===i&&(i=e.styles.settings.color),void 0===s&&(s=2);var a=h(e);a.save(),a.beginPath(),a.strokeStyle=i,a.lineWidth=s,a.ellipse(t+r/2,n+o/2,r/2,o/2,0,0,2*Math.PI),a.stroke(),a.closePath(),a.restore()}function w(e,t,n){var r="",o=[],i=0;if(0===n.length)return[""];for(;i<n.length;){for(;B(e,r)<t&&i<n.length;)r+=n.slice(i,i+1),i++;i<n.length?(o.push(r.slice(0,r.length-1)),r=r.slice(r.length-1)):r.length>0&&(B(e,r)<=t?o.push(r):(o.push(r.slice(0,r.length-1)),o.push(r.slice(r.length-1))))}return o}function B(e,t){return h(e).measureText(t).width}function I(e){var t=e.store,n=t.endPos,r=t.startPos;return[Math.min(n.x,r.x),Math.min(n.y,r.y),Math.abs(n.x-r.x),Math.abs(n.y-r.y)]}function R(e,t,n,r){void 0===r&&(r=!1);var o=e.store,i=n.stepInfo,s=1===n.type?N:O;if(r&&2!==n.type){var a=i[0],u=i[1],c=i[2],l=i[3],d=[a+5,u+5,c-10,l-10],f=U(a-5,u-5,c+10,l+10,o.steps[0].stepInfo,!1);return s(t,f[0],f[1],f[2],f[3])&&(c-10<0||l-10<0||!s(t,d[0],d[1],d[2],d[3]))}return s(t,i[0],i[1],i[2],i[3])}function O(e,t,n,r,o){return e.x>=t&&e.x<=t+r&&e.y>=n&&e.y<=n+o}function N(e,t,n,r,o){var i=r/2,s=o/2,a=Math.abs(e.x-(t+i)),u=Math.abs(e.y-(n+s));return Math.pow(a,2)/Math.pow(i,2)+Math.pow(u,2)/Math.pow(s,2)<=1}function M(e,t){var n=t.stepInfo,r=S(n[0],n[1],n[2],n[3]),o=-1;return r.some((function(t,n){if(O(e,t[0]-5,t[1]-5,10,10))return o=n+1,!0})),o}function U(e,t,n,r,o,i){void 0===i&&(i=!0);var s=o[0],a=o[1],u=o[2],c=o[3];if(i)return[Math.min(Math.max(s,e),s+u-n),Math.min(Math.max(a,t),a+c-r),n,r];var l=[e,t,n,r],d=l[0],f=l[1],p=l[2],A=l[3];return e<s&&(d=s,p=n-(s-e)),e+n>s+u&&(p=s+u-e),t<a&&(f=a,A=r-(a-t)),t+r>a+c&&(A=a+c-t),[d,f,p,A]}function L(e){var t=e.store,n=g(e);return 0===t.curActiveStep?[0,0,n.width,n.height]:t.steps[0].stepInfo}function F(e,t){var n=e.store,r=e.refs.text,o=n.textInputPos;if(n.editText&&r.current.innerHTML.length>0){var i=[];P(r.current,i),function(e,t){var n=e.store;n.editText=!1,K(e,{callback:function(){b(e,(function(t,n,r,o,i,s,a){return x(e,t,n,r,0,i,s,a)}),t,n.curFunc)}}),Q(e)}(e,[o.x,o.y,r.current.offsetWidth,r.current.offsetHeight,n.textStyle.color,n.textStyle.size,i])}else n.curActiveStep>0?H(e):(n.editText=!0,n.textInputContent="",r.current.innerHTML="",o.x=t.x,o.y=t.y,setTimeout((function(){return r.current.focus()}),0))}function P(e,t){Array.prototype.forEach.call(e.childNodes,(function(e){if("DIV"===e.tagName&&P(e,t),3===e.nodeType&&e.nodeValue.length>0&&t.push(e.nodeValue.replace(/&nbsp;/g," ")),"BR"===e.tagName)if(e.previousSibling&&3===e.previousSibling.nodeType){if(0===e.previousSibling.nodeValue.length){for(var n=e.previousSibling;n&&3===n.nodeType&&0===n.nodeValue.length;)n=e.previousSibling;n&&3===n.nodeType||t.push("")}}else t.push("")}))}function j(e,t){for(var n=!1,r=0;r<4;r++)e[r]!==t[r]&&(n=!0);return n}function D(e,t,n){var r=e.store,o=r.endPos,i=r.startPos;o.x=t.x,o.y=t.y;var s=L(e),a=s[0],u=s[1],c=s[2],l=s[3],d=r.steps[r.curActiveStep].stepInfo,f=d[0],p=d[1],A=d[2],g=d[3],h=d[0],m=d[1],y=d[2],v=d[3];if(r.steps.length>1&&0===r.curActiveStep){var b=r.steps.slice(1).map((function(e){return e.stepInfo.slice(0,4)})),E=Math.min.apply(Math,b.map((function(e){return e[0]}))),C=Math.min.apply(Math,b.map((function(e){return e[1]}))),T=Math.max.apply(Math,b.map((function(e){return e[0]+e[2]}))),S=Math.max.apply(Math,b.map((function(e){return e[1]+e[3]}))),x=f+A,_=p+g;-1!==[1,2,3].indexOf(n)&&(h=o.x-i.x+f),-1!==[1,4,6].indexOf(n)&&(m=o.y-i.y+p),-1!==[6,7,8].indexOf(n)&&(x=o.x-i.x+x),-1!==[3,5,8].indexOf(n)&&(_=o.y-i.y+_),h=Math.max(Math.min(E,h),a),m=Math.max(Math.min(C,m),u),y=(x=Math.max(Math.min(a+c,x),T))-h,v=(_=Math.max(Math.min(u+l,_),S))-m}else-1!==[1,2,3].indexOf(n)&&(h=o.x-i.x+f,y=A-(o.x-i.x),h<a&&(h=a,y=f+A-a),f+A<h&&(y=Math.min(h-f-A,a+c-f-A),h=f+A)),-1!==[6,7,8].indexOf(n)&&(y=Math.abs(o.x-i.x+A),o.x>i.x&&(y=Math.min(y,a+c-f)),o.x-i.x+A<0&&(h=f-(y=Math.min(f-a,y)))),-1!==[1,4,6].indexOf(n)&&(m=o.y-i.y+p,v=g-(o.y-i.y),m<u&&(m=u,v=p+g-u),p+g<m&&(v=Math.min(m-p-g,u+l-p-g),m=p+g)),-1!==[3,5,8].indexOf(n)&&(v=Math.abs(o.y-i.y+g),o.y>i.y&&(v=Math.min(v,u+l-p)),o.y-i.y+g<0&&(m=p-(v=Math.min(p-u,v))));var w=[h,m,y,v];return d.map((function(e,t){return t<4?w[t]:e}))}function k(e,t){var n=e.store,r=n.endPos,o=n.startPos;r.x=t.x,r.y=t.y;var i=n.steps[n.curActiveStep].stepInfo,s=i[0],a=i[1],u=i[2],c=i[3],l=U(r.x-o.x+s,r.y-o.y+a,u,c,L(e));return i.map((function(e,t){return t<l.length?l[t]:e}))}function H(e){var t=e.store;t.curActiveStep>0&&(t.curActiveStep=-1,K(e))}function Q(e){var t=e.store;t.stepHistory.push(t.steps.map((function(e){return{callback:e.callback,stepInfo:e.stepInfo,type:e.type}})))}function G(e,t){e.store.stepHistory.forEach((function(e){e[0].stepInfo=t}))}function V(e,t){var n=e.store;n.steps[n.curActiveStep].stepInfo=t}function K(e,t){void 0===t&&(t={}),m(e);var n=e.store,r=h(e);if(n.steps.length>0){r.save();var o=t.stepInfo&&0===t.stepIdx?t.stepInfo:n.steps[0].stepInfo;r.rect.apply(r,o.slice(0,4)),r.clip(),n.steps.forEach((function(n,r){r>0&&W(e,r,void 0!==t.stepIdx&&t.stepIdx===r?t.stepInfo:null)})),t.callback&&t.callback(),r.restore(),!t.noContainer&&W(e,0,0===t.stepIdx?t.stepInfo:null)}}function W(e,t,n){var r=e.store,o=r.steps[t];o&&o.callback.apply(null,n||r.steps[t].stepInfo),r.curActiveStep===t&&z(e,n)}function z(e,t){var n=e.store,r=e.styles;if(n.curActiveStep>0){var o=n.steps[n.curActiveStep],i=t||o.stepInfo,s=i[0],a=i[1],u=i[2],c=i[3];if(0===o.type)T(e,s,a,u,c,4,r.settings.colorList[0]);else if(1===o.type)C(e,s,a,u,c,r.settings.colorList[0],1),T(e,s,a,u,c,4,r.settings.colorList[0]);else if(2===o.type){var l=x(e,i[0],i[1],i[2],i[3],i[4],i[5],i[6],!0);i[3]=l,C(e,s,a,u,l,r.settings.colorList[0],1)}}}function X(e){switch(e.store.curFunc){case 0:return"rectStyle";case 1:return"ellipsisStyle";default:return"textStyle"}}function Y(e){e.store.visible=!1}function J(e,t,n,r,o){return l.createObserver((function(i){var s=g(e);p(document.body,{x:t+document.documentElement.scrollLeft,y:n+document.documentElement.scrollTop,width:r,height:o,useCORS:!0}).then((function(a){K(e,{noContainer:!0}),a.getContext("2d").drawImage(s,t,n,r,o,0,0,r,o),i.next(a)})).catch((function(e){return i.error(e)}))})).pipe(u.concatMap((function(e){return function(e){return l.createObserver((function(t){var n=new Image;n.crossOrigin="";try{n.src=e.toDataURL("image/jpg")}catch(e){t.error(e)}n.onload=function(){return t.next(n)},n.onerror=function(e){return t.error(e)}}))}(e)})))}function q(e){var t=e.store,n=e.refs,r=t.textInputPos,o=t.steps[0].stepInfo,i=t.textStyle.size+12;if(r.x+i>o[0]+o[2]&&(r.x=o[0]+o[2]-i),r.y+n.text.current.scrollHeight>o[1]+o[3]){var s=o[1]+o[3]-n.text.current.scrollHeight;s<o[1]?r.y=o[1]:r.y=s}}t.default=function(){return[i.mounted("OpenScreenshot",(function(){var e=this,t=s.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=u.map((function(t){if(t===a.MenuType.SCREENSHOT){if(n.visible)return;n.visible=!0,A(e)}return t}));return t.addPipe(a.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,r),function(){return t.removePipe(a.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,r)}})),i.mounted("WindowResize",(function(){var e=this;c.fromEvent(window,"resize").subscribe((function(){return A(e)}))})),i.mounted("CanvasEvents",(function(){var e=this,t=g(this),n=this.store,r=this.refs.text,i=c.fromEvent(t,"mousedown"),s=c.fromEvent(t,"mousemove"),a=c.fromEvent(t,"mouseup"),l=c.fromEvent(t,"mouseleave"),d=c.merge(a,l).pipe(u.map((function(t){n.selecting&&(n.selected?n.showResizeCursor?function(e,t){var n=e.store,r=n.steps[n.curActiveStep].stepInfo,o=D(e,t,n.resizeTarget.type);V(e,o),K(e),n.steps.indexOf(n.resizeTarget.target)>0?j(r,o)&&Q(e):G(e,n.steps[0].stepInfo)}(e,t):n.showMoveCursor?function(e,t){var n=e.store,r=n.steps[n.curActiveStep].stepInfo,o=k(e,t);V(e,o),K(e),n.steps.indexOf(n.moveTarget)>0?j(r,o)&&Q(e):G(e,n.steps[0].stepInfo)}(e,t):(0===n.curFunc?function(e,t){var n=e.store,r=n.endPos,i=n.startPos;if(r.x=t.x,r.y=t.y,r.x!==i.x&&r.y!==i.y){var s=I(e),a=U(s[0],s[1],s[2],s[3],n.steps[0].stepInfo,!1),u=o(a,[n.rectStyle.color,n.rectStyle.size]);K(e,{callback:function(){b(e,(function(t,n,r,o,i,s){return C(e,t,n,r,o,i,s)}),u,n.curFunc)}}),Q(e)}}(e,t):1===n.curFunc?function(e,t){var n=e.store,r=n.endPos,i=n.startPos;if(r.x=t.x,r.y=t.y,r.x!==i.x&&r.y!==i.y){var s=I(e),a=U(s[0],s[1],s[2],s[3],n.steps[0].stepInfo,!1),u=o(a,[n.ellipsisStyle.color,n.ellipsisStyle.size]);K(e,{callback:function(){b(e,(function(t,n,r,o,i,s){return _(e,t,n,r,o,i,s)}),u,n.curFunc)}}),Q(e)}}(e,t):n.curFunc,H(e)):function(e,t){var n=e.store,r=n.startPos,o=n.endPos,i=g(e);o.x=t.x,o.y=t.y,m(e),o.x!==r.x&&o.y!==r.y?b(e,(function(t,n,r,o){return E(e,t,n,r,o)}),I(e),n.curFunc):b(e,(function(t,n,r,o){return E(e,t,n,r,o)}),[0,0,i.width,i.height],n.curFunc);n.selected=!0}(e,t),n.selecting=!1)})));i.pipe(u.map((function(t){n.selected?n.showResizeCursor?(n.curActiveStep=n.steps.indexOf(n.resizeTarget.target),z(e),v(e,t)):n.showMoveCursor?(n.curActiveStep=n.steps.indexOf(n.moveTarget),2===n.curFunc&&n.curActiveStep>0&&n.editText&&(r.current.innerHTML.length>0?F(e,t):n.editText=!1),z(e),function(e){var t=e.store;if(t.curActiveStep>0){t.curFunc=t.steps[t.curActiveStep].type;var n=t.steps[t.curActiveStep].stepInfo;t[X(e)].color=n[4],t[X(e)].size=n[5]}}(e),v(e,t)):R(e,t,n.steps[0])&&(0===n.curFunc||1===n.curFunc?v(e,t):2===n.curFunc?F(e,t):H(e)):v(e,t)})),u.concatMap((function(){return s.pipe(u.filter((function(){return n.selecting}))).pipe(u.map((function(t){n.selected?n.showResizeCursor?function(e,t){var n=e.store;K(e,{stepIdx:n.curActiveStep,stepInfo:D(e,t,n.resizeTarget.type)})}(e,t):n.showMoveCursor?function(e,t){var n=e.store;K(e,{stepIdx:n.curActiveStep,stepInfo:k(e,t)})}(e,t):0===n.curFunc?function(e,t){var n=e.store,r=n.endPos;r.x=t.x,r.y=t.y;var o=I(e),i=U(o[0],o[1],o[2],o[3],n.steps[0].stepInfo,!1);K(e,{callback:function(){C(e,i[0],i[1],i[2],i[3],n.rectStyle.color,n.rectStyle.size)}})}(e,t):1===n.curFunc?function(e,t){var n=e.store,r=n.endPos;r.x=t.x,r.y=t.y;var o=I(e),i=U(o[0],o[1],o[2],o[3],n.steps[0].stepInfo,!1);K(e,{callback:function(){_(e,i[0],i[1],i[2],i[3],n.ellipsisStyle.color,n.ellipsisStyle.size)}})}(e,t):n.curFunc:function(e,t){var n=e.store.endPos;n.x=t.x,n.y=t.y,m(e);var r=I(e);E(e,r[0],r[1],r[2],r[3])}(e,t)}))).pipe(u.takeUntil(d))}))).subscribe()})),i.mounted("ClickFunctionMenus",(function(){var e=this,t=s.default.getKChat(this.rootName).rxjsEvent,n=this.refs,r=this.store.menus;c.merge.apply(void 0,n.functionMenus.map((function(e,t){return c.fromEvent(e.current,"click").pipe(u.map((function(){return r[t]})))}))).subscribe({next:function(n){switch(n){case a.ScreenshotFunctionMenuType.RECT:!function(e){H(e);var t=e.store;0===t.curFunc?t.curFunc=100:t.curFunc=0}(e);break;case a.ScreenshotFunctionMenuType.ELLIPSIS:!function(e){H(e);var t=e.store;1===t.curFunc?t.curFunc=100:t.curFunc=1}(e);break;case a.ScreenshotFunctionMenuType.TEXT:!function(e){H(e);var t=e.store;2===t.curFunc?t.curFunc=100:(t.curFunc=2,t.editText=!1)}(e);break;case a.ScreenshotFunctionMenuType.BACK:!function(e){H(e);var t=e.store;if(t.curFunc=100,t.stepHistory.length>0){var n=t.stepHistory.pop();t.steps=t.stepHistory[t.stepHistory.length-1]||[n[0]],K(e)}}(e);break;case a.ScreenshotFunctionMenuType.FORWARD:!function(e,t){var n=e.store;n.visible=!1;var r=n.steps[0].stepInfo;J(e,r[0],r[1],r[2],r[3]).subscribe({next:function(e){t.subscribe(a.RxjsEventNames.SCREEN_FORWARD,c.of(e))}})}(e,t);break;case a.ScreenshotFunctionMenuType.CANCEL:Y(e);break;case a.ScreenshotFunctionMenuType.SUBMIT:!function(e,t){var n=e.store;n.visible=!1;var r=n.steps[0].stepInfo;J(e,r[0],r[1],r[2],r[3]).subscribe({next:function(e){t.subscribe(a.RxjsEventNames.SCREENSHOT_SUBMIT,c.of(e))}})}(e,t)}}})})),i.mounted("HandleCursorStyle",(function(){var e=this,t=g(this),n=this.store,r=this.styles;c.fromEvent(t,"mousemove").pipe(u.filter((function(){return!n.selecting}))).subscribe({next:function(t){n.showResizeCursor=function(e,t){var n=e.store;if(n.resizeTarget=null,n.steps.length>0){var r=M(t,n.steps[0]),o=-1!==n.curActiveStep?M(t,n.steps[n.curActiveStep]):-1;return-1!==r?(n.resizeTarget={target:n.steps[0],type:r},!0):0!==n.curActiveStep&&-1!==o&&2!==n.steps[n.curActiveStep].type&&(n.resizeTarget={target:n.steps[n.curActiveStep],type:o},!0)}return!1}(e,t),n.showMoveCursor=function(e,t){var n=e.store;if(n.moveTarget=null,0===n.steps.length||n.showResizeCursor||-1!==[0,1,2].indexOf(n.curFunc)&&1===n.steps.length)return!1;if(1===n.steps.length){var r=R(e,t,n.steps[0]);return r&&(n.moveTarget=n.steps[0]),r}return n.steps.some((function(r){if(-1!==r.type&&R(e,t,r,!0))return n.moveTarget=r,!0}))}(e,t),r.canvas.cursor=n.showResizeCursor?function(e){switch(e){case 1:case 8:return"se-resize";case 3:case 6:return"ne-resize";case 2:case 7:return"w-resize";case 4:case 5:return"n-resize";default:return"default"}}(n.resizeTarget.type):n.showMoveCursor?"move":""}})})),i.mounted("SelectGeometricSize",(function(){var e=this,t=this.refs,n=this.styles.settings.sizeList;c.merge.apply(void 0,t.geometricSizeMenus.map((function(e,t){return c.fromEvent(e.current,"click").pipe(u.map((function(){return n[t]})))}))).subscribe({next:function(t){return function(e,t){var n=e.store;if(n[X(e)].size=t,n.curActiveStep>0){var r=JSON.parse(JSON.stringify(n.steps[n.curActiveStep].stepInfo));r[5]=t,V(e,r),K(e),Q(e)}}(e,t)}})})),i.mounted("SelectTextSize",(function(){var e=this,t=this.refs,n=this.styles.settings.textSizeList;c.merge.apply(void 0,t.textSizeMenus.map((function(e,t){return c.fromEvent(e.current,"click").pipe(u.map((function(){return n[t]})))}))).subscribe({next:function(t){return function(e,t){var n=e.store;if(n[X(e)].size=t,n.curActiveStep>0){var r=JSON.parse(JSON.stringify(n.steps[n.curActiveStep].stepInfo));r[5]=t;var o=function(e,t,n){var r=h(e),o={width:0,height:0};r.save(),r.font=n+"px arial",Array.isArray(t)?(t.forEach((function(e){var t=r.measureText(e).width+10;o.width=Math.max(o.width,t)})),o.height=1.5*n*t.length):(o.width=Math.max(o.width,r.measureText(t).width+10),o.height=1.5*n);return r.restore(),o}(e,r[r.length-1],r[r.length-2]);r[2]=o.width,r[3]=o.height;var i=L(e);if(r[0]+r[2]>i[0]+i[2]||r[1]+r[3]>i[1]+i[3])(function(e,t,n,r){var o=e.store,i=e.refs,s=o.textInputPos;s.x=t,s.y=n;var a="";Array.isArray(r)?r.forEach((function(e,t){t>0&&""!==r[t-1]&&""!==e&&(a+="<br>"),a+=""!==e?e:"<br>",t>0&&""!==r[t-1]&&""===e&&(a+="<br>")})):a+=r;i.text.current.innerHTML=a,o.editText=!0,q(e);var u=[];P(i.text.current,u);var c=[s.x,s.y,i.text.current.offsetWidth,i.text.current.offsetHeight,u];return o.editText=!1,c})(e,r[0],r[1],r[r.length-1]).forEach((function(e,t){r[t<4?t:r.length-1]=e}));V(e,r),K(e),Q(e)}}(e,t)}})})),i.mounted("ToggleTextSelect",(function(){var e=this.refs,t=this.store;c.fromEvent(e.textSizeSelect.current,"click").subscribe({next:function(n){n.stopPropagation(),t.selectVisible=!t.selectVisible,t.placeTop=e.textSizeDropListBox.current.offsetHeight+e.textSizeSelect.current.offsetHeight+f.getElementTop(e.textSizeSelect.current)>window.innerHeight}}),c.fromEvent(window,"click").subscribe({next:function(){t.selectVisible=!1}})})),i.mounted("SelectColor",(function(){var e=this,t=this.refs,n=this.styles.settings.colorList;c.merge.apply(void 0,t.colorSubMenus.map((function(e,t){return c.fromEvent(e.current,"click").pipe(u.map((function(){return n[t]})))}))).subscribe({next:function(t){return function(e,t){var n=e.store;if(n[X(e)].color=t,n.curActiveStep>0){var r=JSON.parse(JSON.stringify(n.steps[n.curActiveStep].stepInfo));r[4]=t,V(e,r),K(e),Q(e)}}(e,t)}})})),i.mounted("SetTextInputStyle",(function(){var e=this,t=this.store,n=this.styles,o=d.autorun((function(){t.textInputVisible&&(void 0!==t.textInputContent&&q(e),n.textInput=r({},t.textInputStyle))}));return function(){return o()}})),i.mounted("EditText",(function(){var e=this,t=this.refs;c.fromEvent(t.text.current,"input").subscribe({next:function(){return function(e){var t=e.store,n=e.refs,r=t.textInputPos,o=t.steps[0].stepInfo,i=t.textStyle.size+2;for(;r.y<o[1]+i&&r.y+n.text.current.scrollHeight>o[1]+o[3];){for(var s=n.text.current.childNodes[n.text.current.childNodes.length-1];3===s.nodeType&&0===s.length;)s=s.previousSibling;3===s.nodeType?s.textContent=s.textContent.slice(0,s.textContent.length-1):n.text.current.removeChild(s)}t.textInputContent=n.text.current.innerHTML}(e)}})})),i.mounted("SetMenuPos",(function(){var e=this,t=this.store,n=d.autorun((function(){t.menuVisible&&(t.subMenuVisible,setTimeout((function(){return function(e){var t=e.store,n=e.refs,r=t.menuPos,o=n.menuContainer,i=n.subMenuContainer,s=g(e);if(0===t.steps.length)return;var a=t.steps[0].stepInfo,u=a[0],c=a[1],l=a[2],d=a[3];r.x=u+l-o.current.offsetWidth>0?u+l-o.current.offsetWidth:u;var f=o.current.offsetHeight+(t.subMenuVisible?i.current.offsetHeight:0);c+d+f<s.height?r.y=c+d:r.y=c>f?c-f:c+d-f}(e)}),0))}));return function(){return n()}})),i.mounted("EscQuit",(function(){var e=this,t=this.store;c.fromEvent(window,"keydown").subscribe({next:function(n){t.visible&&27===n.which&&Y(e)}})}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(446),i=n(447),s=n(448);t.default=function e(t,n,a){return r.default("SendToolTip",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(6),a=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=a(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=e.store,o=t.assets.fonts;return r.createElement("div",{ref:e.refs.container,style:s.toggleVisible(t.container,n.visible),"data-tree":e.name,"data-style-name":"container"},r.createElement("i",{className:o.emptyWarning,style:t.emptyWarningIcon,"data-style-name":"emptyWarningIcon"}),r.createElement("span",{style:t.message,"data-style-name":"message"},n.message),r.createElement("div",{style:t.arrow,"data-style-name":"arrow"}))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{fonts:{emptyWarning:"con iconfont icon-question-copy"}},container:r({top:"-32px",right:0,position:"absolute",paddingBottom:"5px",backgroundColor:"#fff",fontSize:"12px",color:"#1B2126",letterSpacing:0,height:"27px",boxShadow:"0 0 4px 0 rgba(0,0,0,0.15)",padding:"0 5px 0 28px",borderRadius:"3px"},o.forbidSelect()),emptyWarningIcon:r({lineHeight:1,zIndex:1,left:"5px",height:"14px",color:"#F36464",fontSize:"14px"},o.vertical()),message:{whiteSpace:"nowrap",lineHeight:"27px",height:"27px",display:"inline-block",background:"#fff",position:"relative",top:"0",zIndex:1},arrow:{display:"block",content:"",width:"8px",height:"8px",position:"absolute",bottom:"0",backgroundColor:"#fff",boxShadow:"0 0 4px 0 rgba(0,0,0,0.15)",right:"20px",transformOrigin:"right bottom",transform:"rotate(-45deg)"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({message:"",visible:!1})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(1),s=n(5),a=n(6);t.default=function(){return[r.mounted("ShowSendToolTip",(function(){var e=o.default.getKChat(this.rootName),t=this.store,n=this.refs,r=this.styles,u=s.map((function(o){var s={name:"SendToolTip",targets:[n.container,o],show:function(){!t.visible&&a.animation(r.container,i.AnimationType.SLIDE_IN_UP).subscribe(),t.visible=!0,clearTimeout(t.timer),t.timer=setTimeout((function(){return s.hide()}),3e3)},hide:function(){clearTimeout(t.timer),t.timer=null,t.visible&&a.animation(r.container,i.AnimationType.SLIDE_OUT_DOWN).subscribe((function(){!t.timer&&(t.visible=!1)}))}};t.message="发送内容不能为空，请重新输入！",e.store.popupManager.add(s)}));e.rxjsEvent.addPipe(i.RxjsEventNames.SEND_EMPTY_MESSAGE,u);var c=s.map((function(t){e.store.popupManager.persist([])}));return e.rxjsEvent.addPipe(i.RxjsEventNames.SEND_NOT_EMPTY_MESSAGE,c),function(){e.rxjsEvent.removePipe(i.RxjsEventNames.SEND_EMPTY_MESSAGE,u),e.rxjsEvent.removePipe(i.RxjsEventNames.SEND_NOT_EMPTY_MESSAGE,c)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(5),a=n(1),u=n(6),c=n(120),l=n(8),d=n(2);function f(){var e=this,t=this.refs,n=this.store,r=o.default.getKChat(this.rootName).rxjsEvent;p.bind(this)();var s=t.contentEditBox.current;console.log("editBox",s.innerHTML);var u=h.bind(this)();0===u.length||1===u.length&&"<br>"===u[0]?r.subscribe(a.RxjsEventNames.SEND_EMPTY_MESSAGE,i.of(t.sendButton)):(r.subscribe(a.RxjsEventNames.SEND_NOT_EMPTY_MESSAGE,i.of(t.sendButton)),u.forEach((function(t){if("string"==typeof t){var o={chatCode:l.getTargetCode(n.curChatTarget),type:l.isGroup(n.curChatTarget)?a.ChatType.GROUP:a.ChatType.USER,content:t.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/(&nbsp;|<br>)/g,"")},s=l.isGroup(n.curChatTarget)?b.bind(e)(t):[];if(s&&s.length&&(o.userCodes=s),console.log("发送消息",o),""===o.content.trim())return void r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,i.of({type:a.GlobalMessageTip.TIP,message:"发送得消息内容为空！"}));r.subscribe(a.RxjsEventNames.SEND_TEXT_START,i.of(o))}else"IMG"===t.tagName&&l.imageToBase64(t).subscribe((function(e){var t="cutImage"+n.loginUser.userCode+(new Date).getTime()+".png",o=l.getTargetCode(n.curChatTarget),s=c.genQueueId(o),u={fileType:a.SignalType.IMAGE,chatCode:o,type:l.isGroup(n.curChatTarget)?a.ChatType.GROUP:a.ChatType.USER,file:l.base64ToFile(e,t),queueId:s,uploadProgress:function(e){return r.subscribe(a.RxjsEventNames.UPDATE_PROGRESS,i.of({queueId:s,progress:e}))}};r.subscribe(a.RxjsEventNames.SEND_FILE_START,i.of(u))}))}))),s.innerHTML=""}function p(){var e,t=this.refs,n=t.contentEditBox.current;if(0!==t.contentEditBox.current.childNodes.length&&(e=n,Array.prototype.some.call(e.childNodes,(function(e){return 1===e.nodeType&&"BR"!==e.tagName&&"IMG"!==e.tagName})))){var r=n.innerHTML,o=l.getPlainText(r),i=l.getTopParentOffset(n);if(n.innerHTML=o,function e(t,n){if(Array.prototype.map.call(n.childNodes,(function(e){return e})).forEach((function(r){if(r.childNodes&&Array.prototype.some.call(r.childNodes,(function(e){return 1===e.nodeType})))e(t,r);else{var o=r.nextSibling,i=null;if(1===r.nodeType&&"BR"!==r.tagName&&"IMG"!==r.tagName){var s=document.createElement("div");s.appendChild(r),i=document.createTextNode(s.innerHTML)}i&&(o?n.insertBefore(i,o):n.appendChild(i))}})),t!==n){var r=document.createTextNode("prev"),o=document.createTextNode("next"),i=n.parentNode;i.insertBefore(r,n),n.nextSibling?i.insertBefore(o,n.nextSibling):i.appendChild(o);for(var s=n.childNodes.length-1,a=n,u=s;u>=0;u--)i.insertBefore(n.childNodes[u],a),a=n.childNodes[u];var c=document.createElement("div");c.appendChild(n),r.textContent=c.innerHTML.split("><")[0]+">",o.textContent="<"+c.innerHTML.split("><")[1]}}(n,n),i>0){var s=0,a=null;if(Array.prototype.some.call(n.childNodes,(function(e){if("BR"===e.tagName)s+=4;else if("IMG"===e.tagName){var t=document.createElement("div");t.appendChild(e.cloneNode()),s+=t.innerHTML.length}else s+=e.length;if(s>=i)return a=e,!0})),a&&"BR"===a.tagName&&(a=a.nextSibling),a)g.bind(this)(a,a.length-(s-i));else{var u=Array.prototype.filter.call(n.childNodes,(function(e){return 3===e.nodeType})),c=u[u.length-1];g.bind(this)(c,c.length)}}}}function A(){var e=this.refs,t=this.store,n=window.getSelection().getRangeAt(0),r=n.cloneRange();r.selectNodeContents(e.contentEditBox.current),r.setEnd(n.endContainer,n.endOffset),t.lastEditRange=r}function g(e,t){var n=window.getSelection();n.removeAllRanges();var r=document.createRange();r.selectNodeContents(e),r.setStart(e,t),r.collapse(!0),n.addRange(r),A.bind(this)()}function h(){var e=this.refs.contentEditBox.current,t=[],n=[];return Array.prototype.forEach.call(e.querySelectorAll("img"),(function(e){var t=document.createTextNode("Symbol(img123456789)");e.parentNode.insertBefore(t,e),n.push(e.parentNode.removeChild(e))})),e.innerHTML=e.innerHTML.replace(/&lt;/,"<").replace(/&gt;/,">"),e.innerHTML.split("Symbol(img123456789)").forEach((function(e,r){r>0&&t.push(n[r-1]),""!==e&&t.push(e)})),t}function m(){o.default.getKChat(this.rootName).rxjsEvent.subscribe(a.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,i.of(a.MenuType.SCREENSHOT))}function y(){var e=this.store,t=(this.refs,d.toJS(e.curChatTarget).groupMembers),n=t.filter((function(t,n){return t.userCode!==e.loginUser.userCode&&0===t.state&&{userCode:t.userCode,userName:t.userName,headImageUrl:t.headImageUrl}}));return e.loginUser.userCode===t[0].userCode&&n.unshift({userCode:null,userName:"所有人",headImageUrl:null}),console.log(n),n}function v(e){e.preventDefault();var t=this.store,n=this.refs,r=window.getSelection().getRangeAt(0).getBoundingClientRect()||{},o=n.contentEditBox.current.getBoundingClientRect().left+n.contentEditBox.current.offsetWidth,i=n.userListBox.current.offsetWidth,s=n.userListBox.current.offsetHeight;r.left+i<o?t.userListBoxPos.left=r.left:t.userListBoxPos.left=r.left-i,t.userListBoxPos.top=r.top-s}function b(e){var t=[],n={},r=y.bind(this)().map((function(e){return n[e.userName]=e.userCode,e.userName}));r&&"所有人"===r[0]&&e.includes("@所有人：")?t=["0"]:e.split("：").forEach((function(e){!function e(o){var i=o.indexOf("@");if(i>-1){var s=o.substring(i+1,o.length);r.includes(s)?t.push(n[s]):s.indexOf("@")>-1&&e(s)}}(e)}));return Array.from(new Set(t))}t.default=function(){return[r.mounted("OnLoginSuccess",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return e.store.loginUser=t,t}));return t.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,n),function(){return t.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,n)}})),r.mounted("UpdateCurChatTarget",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=s.map((function(e){return t.curChatTarget=e,e}));return e.addPipe(a.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n),function(){return e.removePipe(a.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n)}})),r.mounted("ChatFooterMenuMouseEvent",(function(){var e=this,t=this.store.chatMenus,n=this.refs,r=n.chatMenusContainer,s=n.toolTipContainer,c=o.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(r.current,"mouseover").subscribe((function(n){e.refs.chatMenus.some((function(e,o){u.isDescendant(n.target,e.current,r.current)&&c.subscribe(a.RxjsEventNames.CHAT_FOOTER_TOOL_TIP,i.of({toolTip:t[o].children||t[o],pos:{left:u.getElementLeft(e.current)-u.getElementLeft(r.current)+e.current.offsetWidth/2,top:u.getElementTop(e.current)-u.getElementTop(r.current)+8},event:event}))}))})),i.fromEvent(r.current,"mouseleave").subscribe((function(e){c.subscribe(a.RxjsEventNames.CHAT_FOOTER_TOOL_TIP,i.of({event:e}))})),i.fromEvent(s.current,"mouseleave").subscribe((function(e){c.subscribe(a.RxjsEventNames.CHAT_FOOTER_TOOL_TIP,i.of({event:e}))}))})),r.mounted("ChatFooterMenuClick",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=this.refs,r=n.fileInput,c=n.imageInput,l=n.chatMenusContainer;i.merge(i.fromEvent(r.current,"click"),i.fromEvent(c.current,"click")).pipe(s.map((function(e){e.stopPropagation()}))).subscribe(),i.fromEvent(l.current,"click").subscribe((function(n){e.refs.chatMenus.some((function(r,o){if(u.isDescendant(n.target,r.current,l.current)){if(!e.store.chatMenus[o].children||1===e.store.chatMenus[o].children.filter((function(e){return void 0===e.visible||e.visible})).length){var s=e.store.chatMenus[o].children?e.store.chatMenus[o].children.filter((function(e){return void 0===e.visible||e.visible}))[0].name:e.store.chatMenus[o].name;t.subscribe(a.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,i.of(s))}return!0}}))}));var d=s.map((function(e){switch(e){case a.MenuType.IMAGE:c.current.click();break;case a.MenuType.FILE:r.current.click()}return e}));return t.addPipe(a.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,d),function(){return t.removePipe(a.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,d)}})),r.mounted("SelectFileOrImage",(function(){var e=this.refs,t=e.imageInput,n=e.fileInput,r=o.default.getKChat(this.rootName),u=r.rxjsEvent,d=this.store;i.merge(i.fromEvent(t.current,"change"),i.fromEvent(n.current,"change")).pipe(s.map((function(e){var r=e.target.files[0];t.current.value="",n.current.value="";var o=l.getTargetCode(d.curChatTarget),s=c.genQueueId(o);return{fileType:e.target===t.current?a.SignalType.IMAGE:l.isVideoFile(r.name)?a.SignalType.VIDEO_FILE:a.SignalType.FILE,chatCode:o,type:l.isGroup(d.curChatTarget)?a.ChatType.GROUP:a.ChatType.USER,file:r,queueId:s,uploadProgress:function(e){return u.subscribe(a.RxjsEventNames.UPDATE_PROGRESS,i.of({queueId:s,progress:e}))}}}))).subscribe((function(e){e.file&&(0!==e.file.size?u.subscribe(a.RxjsEventNames.SEND_FILE_START,i.of(e)):r.rxjsEvent.subscribe(a.RxjsEventNames.SHOW_MESSAGE,i.of("不能上传空文件")))}))})),r.mounted("PreventEditBoxDrag",(function(){var e=this.refs;i.fromEvent(e.contentEditBox.current,"dragstart").subscribe((function(e){e.preventDefault(),e.stopPropagation()}))})),r.mounted("PreventBodyDrop",(function(){i.merge(i.fromEvent(document.body,"drop"),i.fromEvent(document.body,"dragover")).subscribe((function(e){e.preventDefault(),e.stopPropagation()}))})),r.mounted("RememberCursorPos",(function(){var e=this,t=this.refs;i.merge(i.fromEvent(t.contentEditBox.current,"click"),i.fromEvent(t.contentEditBox.current,"keyup")).subscribe((function(t){A.bind(e)()}))})),r.mounted("HandleEditKeyUp",(function(){var e=this,t=this.refs,n=this.store;i.fromEvent(t.contentEditBox.current,"keyup").subscribe((function(t){if(l.isGroup(n.curChatTarget)){t.preventDefault();var r=n.lastEditRange;if("@"===r.startContainer.innerText[r.endOffset-1]){if("Shift"===t.key)return;n.atUsers=y.bind(e)(),v.bind(e)(t),n.userListBoxVisible=!0,A.bind(e)()}else n.userListBoxVisible=!1}}))})),r.mounted("HandleEditKeyDown",(function(){var e=this,t=this.refs,n=this.store,r=o.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(t.contentEditBox.current,"keydown").subscribe((function(t){var o=l.getEventKey(t);r.subscribe(a.RxjsEventNames.GET_SHORTCUT_KEY_TYPE,i.of(o),(function(r){r===a.ShortcutKeyType.SEND_MESSAGE?!n.userListBoxVisible&&f.bind(e)():1===o.length&&13===o[0]&&t.preventDefault()}))})),i.fromEvent(window,"click").subscribe((function(t){var n=e,r=n.refs,o=n.store;u.isDescendant(t.target,r.userListBox.current)||(o.userListBoxVisible=!1)})),i.fromEvent(window,"keydown").subscribe((function(t){var o=l.getEventKey(t);r.subscribe(a.RxjsEventNames.GET_SHORTCUT_KEY_TYPE,i.of(o),(function(r){l.getTargetCode(n.curChatTarget)&&(r===a.ShortcutKeyType.SCREENSHOT?m.bind(e)():1===o.length&&13===o[0]&&t.preventDefault())}))}))})),r.mounted("PickUser",(function(){var e=this,t=this.refs,n=this.store;i.fromEvent(t.userListBox.current,"click").subscribe((function(r){l.isGroup(n.curChatTarget)&&t.userItem.some((function(o,i){if(o.current&&u.isDescendant(r.target,o.current,t.userListBox.current)){console.log("event.target",r);var s=void 0;s="IMG"===r.target.tagName?r.target.parentElement.innerText:r.target.innerText,n.userListBoxVisible=!1;var a=window.getSelection().getRangeAt(0),c=a.startContainer;a.setStart(c,a.endOffset-1),a.setEnd(c,a.endOffset),a.deleteContents();var l=document.createElement("span");l.style.display="inline-block",l.style.lineHeight="16px",l.contentEditable=!0,l.innerHTML="@"+s+"：",l.className="at-text";var d=t.contentEditBox.current,f=0;if(n.lastEditRange){var p=n.lastEditRange.endContainer,A=n.lastEditRange.endOffset;if(3===p.nodeType){if(A===p.length)p.nextSibling?d.insertBefore(l,p.nextSibling):d.appendChild(l);else if(0===A)d.insertBefore(l,p);else{var h=document.createTextNode(p.nodeValue.slice(0,A)),m=document.createTextNode(p.nodeValue.slice(A));d.insertBefore(h,p),d.insertBefore(m,p),d.removeChild(p),d.insertBefore(l,m)}f=Array.prototype.indexOf.call(d.childNodes,l)+1}else{var y=d.childNodes[A-1];y&&y.nextSibling?d.insertBefore(l,y.nextSibling):d.appendChild(l),f=A+1}}else d.appendChild(l),f=d.childNodes.length;return g.bind(e)(d,f),!0}}))}))})),r.mounted("HandleEmptyMsg",(function(){var e=this,t=this.refs;i.fromEvent(t.contentEditBox.current,"input").subscribe((function(){p.bind(e)()}))})),r.mounted("ClickSendButton",(function(){var e=this,t=this.refs;i.fromEvent(t.sendButton.current,"click").subscribe((function(){f.bind(e)()}))})),r.mounted("ScreenshotSubmit",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=this.refs,i=s.map((function(t){var o=r.contentEditBox.current,i=0;if(n.lastEditRange){var s=n.lastEditRange.endContainer,a=n.lastEditRange.endOffset;if(3===s.nodeType){if(a===s.length)s.nextSibling?o.insertBefore(t,s.nextSibling):o.appendChild(t);else if(0===a)o.insertBefore(t,s);else{var u=document.createTextNode(s.nodeValue.slice(0,a)),c=document.createTextNode(s.nodeValue.slice(a));o.insertBefore(u,s),o.insertBefore(c,s),o.removeChild(s),o.insertBefore(t,c)}i=Array.prototype.indexOf.call(o.childNodes,t)+1}else{var l=o.childNodes[a-1];l&&l.nextSibling?o.insertBefore(t,l.nextSibling):o.appendChild(t),i=a+1}}else o.appendChild(t),i=o.childNodes.length;g.bind(e)(o,i)}));return t.addPipe(a.RxjsEventNames.SCREENSHOT_SUBMIT,i),function(){return t.removePipe(a.RxjsEventNames.SCREENSHOT_SUBMIT,i)}})),r.mounted("RecallEdit",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.refs,n=s.map((function(e){var n=t.contentEditBox.current;return e=e.replace(/&nbsp;/g," "),n.innerText=e,e}));return e.addPipe(a.RxjsEventNames.RECALL_EDIT,n),function(){return e.removePipe(a.RxjsEventNames.RECALL_EDIT,n)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(452),i=n(453),s=n(454),a=n(62),u=n(61),c=n(455),l=n(459),d=n(1),f=n(12),p=n(5),A=n(8);t.default=function e(t,n,g){var h=a.default(t,".kc-user-info",u.default()).setName("ChatHeaderUserInfoPopup");return h.addHook({name:"UpdateCurChatTarget",hookType:d.HookType.MOUNTED,params:function(){var e=f.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=p.map((function(e){return A.isGroup(e)||(t.userInfo=e),e}));return e.addPipe(d.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n),function(){return e.removePipe(d.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n)}}}),r.default("ChatHeader",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:g},[h,c.default(t,".kc-group-info",l.default())])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(8),u=n(29),c=n(6),l=o.useRef;t.default=function(e){e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=l(null),e.refs.userInfoContainer=l(null),e.refs.groupInfoContainer=l(null),e.refs.headerDrag=l(null);var t=l(null);return e.refs.backContainer=l(null),o.createElement(i.Observer,null,(function(){var n=s.toJS(e.styles),i=e.store,l=e.refs,d=i.curChatTarget,f=n.assets.fonts,p=a.isGroup(d)?d.groupName+"("+d.groupMembers.filter((function(e){return 0===e.state})).length+")":d.userName;return e.refs.targetIcon={get current(){return t.current.refs.current}},o.createElement("div",{ref:e.refs.container,style:r(r({},n.container),i.fixed?{}:n.containerNotFixed),"data-tree":e.name,"data-style-name":i.fixed?"container":"containerNotFixed"},o.createElement("div",{className:"kc-user-info",ref:l.userInfoContainer,style:c.toggleVisible(n.userInfoContainer,i.targetInfoVisible&&!a.isGroup(d)),"data-style-name":"userInfoContainer"}),o.createElement("div",{className:"kc-group-info",ref:l.groupInfoContainer,style:c.toggleVisible(n.groupInfoContainer,i.targetInfoVisible&&a.isGroup(d)),"data-style-name":"groupInfoContainer"}),o.createElement("div",{style:n.animtionCover,"data-style-name":"animtionCover",ref:e.refs.headerDrag}),o.createElement("div",{style:n.targetContent,"data-style-name":"targetContent"},o.createElement("div",{ref:l.backContainer,style:c.toggleVisible(n.backContainer,i.backContainerVisible),"data-style-name":"backContainer"},o.createElement("i",{className:f.backIcon,style:n.backIcon,"data-style-name":"backIcon"}),o.createElement("span",null," 消息 (",i.unReadMsgTotalLen,")")),o.createElement("div",{style:n.targetName,title:p,"data-style-name":"targetName"},p),o.createElement(u.Pseudo,{ref:t,style:n.targetIconBox,hoverStyle:n.targetIconBoxHover,"data-style-name":"targetIconBox","data-style-hover-name":"targetIconBoxHover"},o.createElement("i",{className:a.isGroup(d)?f.groupIcon:f.userIcon,style:n.targetIcon,"data-style-name":"targetIcon"}))))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{fonts:{groupIcon:"icon iconfont icon-group-black-copy-copy",userIcon:"icon iconfont icon-frequent-contact-sur",backIcon:"icon iconfont icon-to-the-left"}},container:{height:"100%",lineHeight:"70px",position:"relative",zIndex:2,borderBottom:"1px solid "+o.$theme.$borderColor},containerNotFixed:{paddingTop:"38px",lineHeight:"22px"},animtionCover:{width:"100%",height:"100%",zIndex:1,backgroundColor:o.$theme.$backgroundColor,position:"absolute",top:0,left:0},targetContent:{height:"100%",zIndex:1,position:"relative"},targetName:r(r({paddingLeft:"20px",fontWeight:"400",maxWidth:"220px"},o.ellipsis()),{fontSize:"16px",color:"#333",display:"inline-block"}),backContainer:{paddingLeft:"20px",fontWeight:"400",fontSize:"16px",overflow:"hidden",color:"#333",display:"inline-block",cursor:"pointer"},backIcon:{color:"#999"},targetIconBox:{position:"absolute",right:0,top:0,height:"100%",width:"50px",color:o.$theme.$lightBgColor},targetIconBoxHover:{color:o.$theme.$baseColor},targetIcon:{cursor:"pointer",position:"absolute",right:"20px",top:"50%",transform:"translateY(-50%)",lineHeight:1,fontSize:"16px"},userInfoContainer:{width:"290px",position:"absolute",right:0,top:"70px",backgroundColor:"#fff"},groupInfoContainer:{width:"200px",position:"absolute",right:0,top:"70px",backgroundColor:"#fff"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({curChatTarget:{},targetInfoVisible:!1,fixed:!0,backContainerVisible:!1,unReadMsgTotalLen:0})}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(456),s=n(457),a=n(458),u=n(62),c=n(61),l=n(12),d=n(5),f=n(11),p=n(1);t.default=function e(t,n,A){return o.default("GroupInfoPopup",i.default,{rootName:t,_styles:s.default(),store:a.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:A},[u.default(t,".kc-group-user-info",r([f.mounted("ChangeUserInfo",(function(){var e=this,t=l.default.getKChat(this.rootName).rxjsEvent,n=d.map((function(t){e.store.userInfo=t}));return t.addPipe(p.RxjsEventNames.CHANGE_GROUP_USER_INFO,n),function(){return t.removePipe(p.RxjsEventNames.CHANGE_GROUP_USER_INFO,n)}}))],c.default())).setName("GroupUserInfoPopup")])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(8),u=n(29),c=n(6),l=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.containerRef=l(null),e.refs.searchInputRef=l(null),e.refs.clearIconRef=l(null),e.refs.upSwitchRef=l(null),e.refs.disturbSwitchRef=l(null),e.refs.groupNameInputRef=l(null),e.refs.memberContainerRef=l(null),e.refs.userInfoRef=l(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=t.assets,i=n.images,l=n.fonts,d=e.store,f=d.groupInfo,p=d.loginUser,A=d.isShowAll,g=d.searchVal,h=d.isTop,m=d.isMuted,y=d.isEditing,v=d.showUserInfoPopup,b={current:null},E={current:null},C={current:null},T={current:null},S={current:null},x={current:null},_={current:null};e.refs.showMoreRef={get current(){return b.current.refs.current}},e.refs.showLessRef={get current(){return E.current.refs.current}},e.refs.dismissRef={get current(){return C.current.refs.current}},e.refs.quitRef={get current(){return T.current.refs.current}},e.refs.editGroupNameRef={get current(){return _.current.refs.current}},e.refs.addMemberRef={get current(){return S.current.refs.current}},e.refs.removeMemberRef={get current(){return x.current.refs.current}};var w=function(e){return e.userCode===f.userCode},B=f.groupMembers?f.groupMembers.filter((function(e){return e.userName&&-1!==e.userName.indexOf(g)&&0===e.state})):[],I=w(p)?7:9,R=function(){return B.length>I},O=B.map((function(){return{current:null}}));e.refs.groupMemberRefs=O.map((function(e){return{get current(){return e.current.refs.current}}}));var N=function(e,n){var i=e?r(r({},t.switchButton),t.switchButtonActive):t.switchButton,s=e?r(r({},t.circleButton),t.circleButtonActive):t.circleButton;return o.createElement("div",{style:i,ref:n,"data-style-name":e?"switchButtonActive":"switchButton"},o.createElement("span",{style:s,"data-style-name":e?"circleButtonActive":"circleButton"}))};return o.createElement("div",{style:t.container,ref:e.refs.containerRef,"data-tree":e.name,"data-style-name":"container"},o.createElement("div",{style:t.groupManagement,"data-style-name":"groupManagement"},o.createElement("div",{style:t.searchContainer,"data-style-name":"searchContainer"},o.createElement("i",{className:l.search,style:t.searchIcon,"data-style-name":"searchIcon"}),o.createElement("input",{type:"text",style:t.searchInput,"data-style-name":"searchInput",placeholder:"搜索群成员",ref:e.refs.searchInputRef}),o.createElement("i",{className:l.clear,ref:e.refs.clearIconRef,style:c.toggleVisible(t.clearIcon,g.length>0),"data-style-name":"clearIcon"})),o.createElement("div",{style:t.groupNameContainer,"data-style-name":"groupNameContainer"},o.createElement("img",{src:a.getUserHeader(f,i),style:t.groupHeadImg,"data-style-name":"groupHeadImg"}),o.createElement("span",{style:c.toggleVisible(t.groupNameEdit,!y),title:f.groupName,"data-style-name":"groupNameEdit"},f.groupName),o.createElement("input",{style:c.toggleVisible(t.groupNameInput,y),ref:e.refs.groupNameInputRef,"data-style-name":"groupNameInput"}),o.createElement(u.Pseudo,{tagName:"i",style:c.toggleVisible(t.editIcon,w(p)),hoverStyle:t.editIconHover,className:l.edit,ref:_,"data-style-name":"editIcon","data-style-hover-name":"editIconHover"})),o.createElement("div",{style:t.findMoreOrLessContainer,"data-style-name":"findMoreOrLessContainer"},o.createElement(u.Pseudo,{style:c.toggleVisible(t.findMoreOrLess,R()&&A),hoverStyle:t.findMoreOrLessHover,ref:E,"data-style-name":"findMoreOrLess","data-style-hover-name":"findMoreOrLessHover"},o.createElement("span",null,"收起"),o.createElement("i",{className:l.arrow,style:t.showLessIcon,"data-style-name":"showLessIcon"}))),o.createElement("div",{style:t.divider,"data-style-name":"divider"}),o.createElement("div",{style:t.groupMember,ref:e.refs.memberContainerRef,"data-style-name":"groupMember"},o.createElement(u.Pseudo,{style:c.toggleVisible(t.addOrDel,w(p)),hoverStyle:t.groupMemberItemHover,ref:S,"data-style-name":"addOrDel","data-style-hover-name":"groupMemberItemHover"},o.createElement("i",{className:l.add,style:t.addOrDelIcon,"data-style-name":"addOrDelIcon"}),o.createElement("span",{style:t.groupMemberItemName,"data-style-name":"groupMemberItemName"},"添加")),o.createElement(u.Pseudo,{style:c.toggleVisible(t.addOrDel,w(p)),hoverStyle:t.groupMemberItemHover,ref:x,"data-style-name":"addOrDel","data-style-hover-name":"groupMemberItemHover"},o.createElement("i",{className:l.remove,style:t.addOrDelIcon,"data-style-name":"addOrDelIcon"}),o.createElement("span",{style:t.groupMemberItemName,"data-style-name":"groupMemberItemName"},"删除")),B.map((function(e,n){var r=a.isTarget(e,p)?p:e;if(A||!(n>=I))return o.createElement(u.Pseudo,{style:t.groupMemberItem,hoverStyle:t.groupMemberItemHover,ref:O[n],key:r.userCode,"data-style-name":"groupMemberItem","data-style-hover-name":"groupMemberItemHover"},o.createElement("img",{src:a.getUserHeader(r,i),style:t.groupMemberItemImg,"data-style-name":"groupMemberItemImg"}),o.createElement("span",{style:t.groupMemberItemName,"data-style-name":"groupMemberItemName"},r.userName),w(r)&&o.createElement("span",{style:t.groupMaster,"data-style-name":"groupMaster"},"群主"))}))),o.createElement("div",{style:t.findMoreOrLessContainer,"data-style-name":"findMoreOrLessContainer"},o.createElement(u.Pseudo,{style:c.toggleVisible(t.findMoreOrLess,R()&&!A),hoverStyle:t.findMoreOrLessHover,ref:b,"data-style-name":"findMoreOrLess","data-style-hover-name":"findMoreOrLessHover"},o.createElement("span",null,"查看更多群成员"),o.createElement("i",{className:l.arrow,style:t.showMoreIcon,"data-style-name":"showMoreIcon"}))),o.createElement("div",{style:t.divider,"data-style-name":"divider"})),o.createElement("div",{style:t.groupHandler,"data-style-name":"groupHandler"},o.createElement("div",{style:t.groupHandlerItem,"data-style-name":"groupHandlerItem"},o.createElement("span",null,"聊天置顶"),N(h,e.refs.upSwitchRef)),o.createElement("div",{style:t.groupHandlerItem,"data-style-name":"groupHandlerItem"},o.createElement("span",null,"消息免打扰"),N(m,e.refs.disturbSwitchRef))),o.createElement("div",{style:t.divider,"data-style-name":"divider"}),o.createElement(u.Pseudo,{ref:C,hoverStyle:t.groupActionHover,style:c.toggleVisible(t.groupAction,w(p)),"data-style-name":"groupAction","data-style-hover-name":"groupActionHover"},"解散该群"),o.createElement(u.Pseudo,{ref:T,hoverStyle:t.groupActionHover,style:c.toggleVisible(t.groupAction,!w(p)),"data-style-name":"groupAction","data-style-hover-name":"groupActionHover"},"退出该群"),o.createElement("div",{style:c.toggleVisible(t.userInfoContainer,v),"data-style-name":"userInfoContainer"},o.createElement("div",{className:"kc-group-user-info",ref:e.refs.userInfoRef,style:t.userInfoBox,"data-style-name":"userInfoBox"})))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{$groupDefaultHeader:o.$theme.$groupDefaultHeader,$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader},fonts:{search:"icon iconfont icon-icon-search",clear:"icon iconfont icon-username-error-surface-copy",edit:"icon iconfont icon-edit",arrow:"icon iconfont icon-thumbnail",add:"icon iconfont icon-add-line-copy",remove:"icon iconfont icon-delete-copy"}},container:{position:"absolute",right:"0",top:"0",width:"100%",height:"100%",zIndex:"1",lineHeight:"18px",backgroundColor:"#fff"},groupManagement:{height:"calc(100% - 120px)",display:"flex",flexDirection:"column"},searchContainer:{position:"relative",padding:"15px 20px 15px"},searchIcon:{position:"absolute",left:"30px",top:"50%",fontSize:"12px",color:"#ccc",transform:"translateY(-50%)"},searchInput:{width:"100%",lineHeight:"24px",border:"1px solid #DCDFE6",borderRadius:"100px",fontSize:"12px",paddingLeft:"25px",outline:"none",color:"#333"},clearIcon:{position:"absolute",top:"50%",right:"25px",color:"#DCDFE6",fontSize:"16px",transform:"translateY(-50%)"},groupNameContainer:{display:"flex",alignItems:"center",padding:"0 20px",height:"40px",lineHeight:"40px"},groupHeadImg:{width:"30px",height:"30px",borderRadius:"50%"},groupNameEdit:r({maxWidth:"100px",minWidth:"80px",display:"inline-block",margin:"0 10px",fontSize:"14px",color:"#333",outlineColor:"#ccc"},o.ellipsis()),groupNameInput:{margin:"0 10px",width:"100px",border:"1px solid #eee",padding:"7px 2px"},editIcon:{fontSize:"12px",color:"#BEC1C9",cursor:"pointer"},editIconHover:{color:"#4999FF"},findMoreOrLessContainer:{height:"21px"},findMoreOrLess:{position:"relative",fontSize:"12px",color:"#BEC1C9",lineHeight:"21px",textAlign:"center",cursor:"pointer"},findMoreOrLessHover:{color:o.$theme.$baseColor},showLessIcon:{position:"absolute",top:"-1px",right:"65px",transform:"rotate(180deg)"},showMoreIcon:{position:"absolute",top:"2px",right:"35px"},divider:{borderTop:"1px solid #DCDFE6"},groupMember:{overflowX:"hidden",overflowY:"auto",flex:"1",display:"flex",flexWrap:"wrap",alignContent:"flex-start",lineHeight:"20px"},groupMemberItem:{position:"relative",width:"33.33%",textAlign:"center",fontSize:"12px",color:"#eee",paddingTop:"15px",cursor:"pointer"},groupMemberItemImg:{width:"30px",height:"30px",borderRadius:"50%"},groupMemberItemHover:{backgroundColor:"#F6F6FC"},groupMemberItemName:r({width:"100%",padding:"0 4px",color:"#333",display:"inline-block"},o.ellipsis()),addOrDel:{position:"relative",width:"33.33%",textAlign:"center",fontSize:"12px",color:"#eee",paddingTop:"45px",cursor:"pointer"},addOrDelIcon:{position:"absolute",top:"15px",left:"50%",fontSize:"30px",color:"#BEC1C9",transform:"translateX(-50%)"},groupMaster:{position:"absolute",right:"5px",top:"5px",borderRadius:"16px",backgroundColor:"#4999FF",width:"28px",fontSize:"12px",color:"#fff",lineHeight:"20px",whiteSpace:"nowrap"},groupHandler:{height:"70px",lineHeight:"35px",fontSize:"14px",color:"#333",cursor:"pointer"},groupHandlerItem:{position:"relative",padding:"0 20px"},switchButton:{position:"absolute",top:"50%",right:"20px",width:"28px",height:"16px",borderRadius:"8px",transform:"translateY(-50%)",backgroundColor:"#BEC1C9"},switchButtonActive:{backgroundColor:"#4999FF"},circleButton:{position:"absolute",top:"50%",left:"2px",width:"12px",height:"12px",borderRadius:"50%",transform:"translateY(-50%)",backgroundColor:"#fff",transition:"all .5s"},circleButtonActive:{left:"auto",right:"2px"},groupAction:{position:"absolute",left:"0",bottom:"0",width:"100%",height:"50px",lineHeight:"50px",textAlign:"center",color:"red",cursor:"pointer"},groupActionHover:{backgroundColor:"#f8f7f7"},userInfoContainer:{position:"absolute",right:"0",top:"0",width:"270px",zIndex:"2"},userInfoBox:{}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({groupInfo:{},loginUser:{},isShowAll:!1,searchVal:"",isTop:!1,isMuted:!1,isEditing:!1,showUserInfoPopup:!1})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(1),a=n(5),u=n(8),c=n(6);t.default=function(){return[r.mounted("UpdateLoginUser",(function(){var e=this.store,t=o.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return e.loginUser=t,e.groupInfo={},e.isShowAll=!1,e.searchVal="",e.isEditing=!1,t}));return t.addPipe(s.RxjsEventNames.LOGIN_SUCCESS,n),function(){return t.removePipe(s.RxjsEventNames.LOGIN_SUCCESS,n)}})),r.mounted("UpdateGrouInfo",(function(){var e=this.store,t=o.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(n){return u.isGroup(n)&&(e.groupInfo=n,e.isShowAll=!1,t.subscribe(s.RxjsEventNames.CHECK_TARGET_MARK,i.of(n.groupCodeStr),{next:function(t){e.isTop=t.isTop,e.isMuted=t.isMuted}})),n}));return t.addPipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n),function(){return t.removePipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n)}})),r.mounted("UpdateGroupMark",(function(){this.refs;var e=this.store,t=o.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return console.log("收到更新群组标记的流",t),e.isTop=t.isTop,e.isMuted=t.isMuted,"123"}));return t.addPipe(s.RxjsEventNames.UPDATE_GROUP_MRAK,n),function(){return t.removePipe(s.RxjsEventNames.UPDATE_GROUP_MRAK,n)}})),r.mounted("RemoveGroupMember",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(e.removeMemberRef.current,"click").subscribe({next:function(){n.subscribe(s.RxjsEventNames.SHOW_SELECT_MEMBER,i.of({type:s.SelectMemberType.GROUP_DEL_MEMBER,list:t.groupInfo.groupMembers.slice(1).filter((function(e){return 0===e.state}))}))}})})),r.mounted("AddGroupMember",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(e.addMemberRef.current,"click").subscribe({next:function(){n.subscribe(s.RxjsEventNames.SHOW_SELECT_MEMBER,i.of({type:s.SelectMemberType.GROUP_ADD_MEMBER,list:t.groupInfo.groupMembers.filter((function(e){return 0===e.state}))}))}})})),r.mounted("ShowMoreMembers",(function(){var e=this.refs,t=this.store;i.fromEvent(e.showMoreRef.current,"click").subscribe({next:function(){t.isShowAll=!0}})})),r.mounted("ShowLessMembers",(function(){var e=this.refs,t=this.store;i.fromEvent(e.showLessRef.current,"click").subscribe({next:function(){t.isShowAll=!1}})})),r.mounted("GroupMemberSearch",(function(){var e=this.store,t=this.refs;i.fromEvent(t.searchInputRef.current,"input").subscribe({next:function(t){e.searchVal=t.target.value}})})),r.mounted("ClearSearchInput",(function(){var e=this.refs,t=this.store;i.fromEvent(e.clearIconRef.current,"click").subscribe({next:function(){t.searchVal="",e.searchInputRef.current.value=""}})})),r.mounted("QuitGroup",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName),r=n.fetch,a=n.rxjsEvent;i.fromEvent(e.quitRef.current,"click").subscribe({next:function(){var e=t.groupInfo.groupCodeStr;a.subscribe(s.RxjsEventNames.SHOW_CONFIRM,i.of({title:"退出群聊？",content:"退出群聊将不再接受该群消息",onOk:function(){r.group.quitGroup({groupCodeStr:e}).subscribe({next:function(){a.subscribe(s.RxjsEventNames.QUIT_GROUP,i.of({data:{type:s.ChatType.GROUP,signalType:s.SignalType.GROUP_QUIT,time:(new Date).getTime(),chatCode:e,srcCode:t.loginUser.userCode,userCodes:[t.loginUser.userCode],target:s.MessageTarget.SELF},group:t.groupInfo}))},error:function(e){console.log(e),a.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("退群失败"))}})}}))}})})),r.mounted("DissmissGroup",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName),r=n.fetch,a=n.rxjsEvent;i.fromEvent(e.dismissRef.current,"click").subscribe({next:function(){var e=t.groupInfo.groupCodeStr;a.subscribe(s.RxjsEventNames.SHOW_CONFIRM,i.of({title:"解散群组？",content:"解散群组将不可恢复",onOk:function(){r.group.deleteGroup(e).subscribe({next:function(){a.subscribe(s.RxjsEventNames.DISSMISS_GROUP,i.of({data:{type:s.ChatType.GROUP,signalType:s.SignalType,time:(new Date).getTime(),chatCode:e,srcCode:t.loginUser.userCode,userCodes:[t.loginUser.userCode],target:s.MessageTarget.SELF},group:t.groupInfo}))},error:function(e){console.log(e),a.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("解散群失败"))}})}}))}})})),r.mounted("UpGroup",(function(){var e=this.store,t=this.refs,n=o.default.getKChat(this.rootName),r=n.fetch,u=n.rxjsEvent;i.fromEvent(t.upSwitchRef.current,"click").subscribe({next:function(){var t=s.MarkType.UP,n=e.isTop?s.MarkModifyType.DEL:s.MarkModifyType.ADD,o=e.groupInfo.groupCodeStr,c=r.group.markTarget({markType:t,chatCode:o,chatType:s.ChatType.GROUP,modifyType:n}).pipe(a.map((function(){return{markType:t,modifyType:n,chatCode:o}})));u.subscribe(s.RxjsEventNames.MARK_TARGET,c,{next:function(){return e.isTop=!e.isTop},error:function(e){console.log(e),u.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("设置失败"))}})}})})),r.mounted("disturbGroup",(function(){var e=this.store,t=this.refs,n=o.default.getKChat(this.rootName),r=n.fetch,u=n.rxjsEvent;i.fromEvent(t.disturbSwitchRef.current,"click").subscribe({next:function(){var t=s.MarkType.DISTURB,n=e.isMuted?s.MarkModifyType.DEL:s.MarkModifyType.ADD,o=e.groupInfo.groupCodeStr,c=r.group.markTarget({markType:t,chatCode:o,chatType:s.ChatType.GROUP,modifyType:n}).pipe(a.map((function(){return{markType:t,modifyType:n,chatCode:o}})));u.subscribe(s.RxjsEventNames.MARK_TARGET,c,{next:function(){return e.isMuted=!e.isMuted},error:function(e){console.log(e),u.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("设置失败"))}})}})})),r.mounted("EditGroupName",(function(){var e=this.store,t=this.refs;i.fromEvent(t.editGroupNameRef.current,"click").subscribe({next:function(){t.groupNameInputRef.current.value=e.groupInfo.groupName,e.isEditing=!0,t.groupNameInputRef.current.focus()}})})),r.mounted("GroupNameCommit",(function(){var e=this.store,t=this.refs,n=o.default.getKChat(this.rootName),r=n.fetch,a=n.rxjsEvent;i.fromEvent(t.groupNameInputRef.current,"blur").subscribe({next:function(t){e.isEditing=!1;var n=t.target.value.trim();""!==n?n.length>20?a.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("群名称不得超过20个字符")):r.group.modifyGroupInfo({groupCodeStr:e.groupInfo.groupCodeStr,groupName:n}).subscribe({next:function(){e.groupInfo.groupName=n,a.subscribe(s.RxjsEventNames.MODIFY_GROUP_INFO,i.of({data:{type:s.ChatType.GROUP,messageType:s.MessageType.TRANSPARENT,time:(new Date).getTime(),signalType:s.SignalType.GROUP_RENAME,chatCode:e.groupInfo.groupCodeStr,srcCode:e.loginUser.userCode,target:s.MessageTarget.SELF,modifyGroupInfo:{groupName:n}},group:e.groupInfo}))},error:function(e){console.log(e),a.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("群名称修改失败"))}}):a.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("群名称不能为空"))}}),i.fromEvent(t.groupNameInputRef.current,"keydown").subscribe({next:function(e){e&&13===e.keyCode&&t.groupNameInputRef.current.blur()}})})),r.mounted("ShowMemberInfo",(function(){var e=this.refs,t=this.styles,n=this.store,r=o.default.getKChat(this.rootName),a={name:"groupUserInfoPopup",show:function(){return n.showUserInfoPopup=!0},hide:function(){n.showUserInfoPopup=!1,r.rxjsEvent.subscribe(s.RxjsEventNames.CHANGE_GROUP_USER_INFO,i.of({}))},targets:[e.userInfoRef],compat:["chatHeaderUserInfoPopup"]};i.fromEvent(e.memberContainerRef.current,"click").subscribe((function(o){c.isDescendant(o.target,e.addMemberRef.current,e.memberContainerRef.current)||c.isDescendant(o.target,e.removeMemberRef.current,e.memberContainerRef.current)||e.groupMemberRefs.some((function(u,l){if(c.isDescendant(o.target,u.current,e.memberContainerRef.current)){var d=n.groupInfo.groupMembers?n.groupInfo.groupMembers.filter((function(e){return e.userName&&-1!==e.userName.indexOf(n.searchVal)&&0===e.state})):[];return r.fetch.user.getUserInfo(d[l]).subscribe({next:function(n){r.rxjsEvent.subscribe(s.RxjsEventNames.CHANGE_GROUP_USER_INFO,i.of(n),{next:function(){r.store.popupManager.add(a);var n=e.containerRef.current,i=o.y-c.getElementTop(n),s=n.offsetHeight-e.userInfoRef.current.offsetHeight;t.userInfoContainer.top=Math.min(i,s)+"px",t.userInfoContainer.right=n.offsetWidth+c.getElementLeft(n)-o.x+"px"}})},error:function(e){console.log(e),r.rxjsEvent.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("获取用户信息失败"))}}),!0}}))}))}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(1),s=n(5),a=n(13),u=n(6),c=n(8),l=n(2);t.default=function(){return[r.mounted("UpdateCurChatTarget",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=s.map((function(e){return t.curChatTarget=e,e}));return e.addPipe(i.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n),function(){return e.removePipe(i.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n)}})),r.mounted("UpdateFixedStatus",(function(){var e=o.default.getKChat(this.rootName),t=this.store,n=l.autorun((function(){t.fixed=e.store.fixed}));return function(){return n()}})),r.mounted("ClickTargetIcon",(function(){var e=this,t=o.default.getKChat(this.rootName),n=this.refs,r=this.store,s=this.styles,l={name:"chatHeaderUserInfoPopup",show:function(){r.targetInfoVisible=!0,u.animation(c.isGroup(r.curChatTarget)?s.groupInfoContainer:s.userInfoContainer,c.isGroup(r.curChatTarget)?i.AnimationType.SLIDE_IN_LEFT:i.AnimationType.SLIDE_IN_DOWN).subscribe()},hide:function(){u.animation(c.isGroup(r.curChatTarget)?s.groupInfoContainer:s.userInfoContainer,c.isGroup(r.curChatTarget)?i.AnimationType.SLIDE_OUT_RIGHT:i.AnimationType.SLIDE_OUT_UP).subscribe({next:function(){r.targetInfoVisible=!1}})},targets:[n.targetIcon,n.groupInfoContainer]};a.fromEvent(n.targetIcon.current,"click").subscribe((function(n){r.targetInfoVisible?t.store.popupManager.remove(l):(!function(e){var t=e.refs.container,n=o.default.getKChat(e.rootName).store;e.styles.groupInfoContainer.height=n.rootDomRef.current.offsetHeight-(t.current.offsetHeight||70)+"px"}(e),t.store.popupManager.add(l))}))})),r.mounted("ContainerDrag",(function(){var e=this.refs,t=o.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.store,u=a.fromEvent(e.headerDrag.current,"mousedown"),c=a.fromEvent(window,"mousemove"),l=a.fromEvent(window,"mouseup");n.subscribe(i.RxjsEventNames.DRAG_CONTAINER,u.pipe(s.map((function(e){var t=r.rootDomRef.current.getBoundingClientRect(),n=t.left,o=t.top;return{x:e.x-n,y:e.y-o}})),s.concatMap((function(e){return c.pipe(s.takeUntil(l),s.map((function(t){return{x:t.x-e.x,y:t.y-e.y}})))}))))})),r.mounted("UpdateUnreadMsgLen",(function(){var e=this.store,t=o.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return e.unReadMsgTotalLen=t,t}));return t.addPipe(i.RxjsEventNames.UPDATE_TOTAL_MSG_LEN,n),function(){return t.removePipe(i.RxjsEventNames.UPDATE_TOTAL_MSG_LEN,n)}})),r.mounted("UpdateBackContainerVisible",(function(){var e=this.store,t=o.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return e.backContainerVisible=t,t}));return t.addPipe(i.RxjsEventNames.UPDATE_HEADER_BACK_STATUS,n),function(){return t.removePipe(i.RxjsEventNames.UPDATE_HEADER_BACK_STATUS,n)}})),r.mounted("ClickBackContainer",(function(){var e=this.store,t=this.refs,n=o.default.getKChat(this.rootName).rxjsEvent;a.fromEvent(t.backContainer.current,"click").subscribe((function(){e.curChatTarget={},n.subscribe(i.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,a.of(e.curChatTarget))}))}))]}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(462),s=n(463),a=n(464),u=n(136),c=n(137),l=n(62),d=n(61),f=n(12),p=n(5),A=n(11),g=n(1);t.default=function e(t,n,h){return o.default("ChatContent",i.default,{rootName:t,_styles:s.default(),store:a.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:h},[u.default(t,".kc-loading-container",c.default()),l.default(t,".kc-chat-area-user-info",r([A.mounted("ChangeUserInfo",(function(){var e=this,t=f.default.getKChat(this.rootName).rxjsEvent,n=p.map((function(t){e.store.userInfo=t}));return t.addPipe(g.RxjsEventNames.CHANGE_CHAT_AREA_USER_INFO,n),function(){return t.removePipe(g.RxjsEventNames.CHANGE_CHAT_AREA_USER_INFO,n)}}))],d.default())).setName("ChatAreaUserInfoPopup")])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(6),u=n(1),c=n(8),l=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=l(null),e.refs.forwardBox=l(null),e.refs.forwardBtn=l(null),e.refs.combindForwardBtn=l(null),e.refs.cancelForwardBtn=l(null),e.refs.audio=l(null),e.refs.userInfoRef=l(null),e.refs.closeAtText=l(null),e.refs.closeReplyRef=l(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=e.store,i=e.refs,l=t.assets,d=l.fonts,f=l.images,p=n.uploadProgress,A=n.unableSend,g=n.cancelFiles,h=n.showUserInfoPopup;i.messageContainer=n.chatLog.map((function(){return{current:null}})),i.userHeadImgs=n.chatLog.map((function(){return{current:null}})),i.imageMessages=n.chatLog.map((function(){return{current:null}})),i.locationImages=n.chatLog.map((function(){return{current:null}})),i.forwardCheckBoxs=n.chatLog.map((function(){return{current:null}})),i.fileStatusBox=n.chatLog.map((function(){return{current:null}})),i.fileDownloadLink=n.chatLog.map((function(){return{current:null}})),i.locationContainer=n.chatLog.map((function(){return{current:null}})),i.audioContainer=n.chatLog.map((function(){return{current:null}})),i.videoPlays=n.chatLog.map((function(){return{current:null}})),i.videoFiles=n.chatLog.map((function(){return{current:null}})),i.recallEdits=n.chatLog.map((function(){return{current:null}})),i.combindContainer=n.chatLog.map((function(){return{current:null}}));var m,y=function(e,t){var r=p[c.getTargetCode(n.curChatTarget)];return c.isSelf(e)&&r&&r.some((function(t){return t.data===e}))},v=function(e,t){var r=p[c.getTargetCode(n.curChatTarget)],o=r?r.filter((function(t){return t.data===e}))[0]:null;return C(e,t)?0:y(e)&&o?o.progress:100},b=function(e,t){var r=c.getTargetCode(n.curChatTarget);return c.isSelf(e)&&g[r]&&g[r].some((function(t){return t===e}))},E=function(e,n){return o.createElement("div",{style:e.signalType===u.SignalType.IMAGE?a.toggleVisible(t.progressImageContainer,y(e)||C(e,n)):e.signalType===u.SignalType.VIDEO_FILE?a.toggleVisible(t.progressVideoFileContainer,y(e)||C(e,n)):t.progressFileContainer,"data-style-name":e.signalType===u.SignalType.IMAGE?"progressImageContainer":e.signalType===u.SignalType.VIDEO_FILE?"progressVideoFileContainer":"progressFileContainer"},o.createElement("div",{style:r(r({},e.signalType===u.SignalType.IMAGE?t.progressImage:e.signalType===u.SignalType.VIDEO_FILE?t.progressVideoFile:t.progressFile),{width:v(e,n)+"%"}),"data-style-name":e.signalType===u.SignalType.IMAGE?"progressImage":e.signalType===u.SignalType.VIDEO_FILE?"progressVideoFile":"progressFile"}))},C=function(e,t){var r=A[c.getTargetCode(n.curChatTarget)];return c.isSelf(e)&&r&&-1!==r.findIndex((function(t){return e===t}))},T=function(e){return n.forwardVisible&&n.forwardList.some((function(t){return t===e}))},S=function(e,n){var r=e.bodyMessage,i=r.refItem,s=r.text;return o.createElement("div",{style:t.replyLogContainer,"data-style-name":"replyLogContainer"},o.createElement("div",{"data-style-name":"replyContent",style:t.replyContent},o.createElement("p",{"data-style-name":"replyee",style:t.replyee},i.sender.senderName),o.createElement("p",{"data-style-name":"replyDetailBox",style:t.replyDetailBox},function(e){var t=e.attachment.msgType,n=o.createElement("div",null,"unknow");switch(t){case u.SignalType.TEXT:case u.SignalType.GROUP_ANNOUNCEMENT:case u.SignalType.IM_REPLY:n=e.attachment.text;break;case u.SignalType.IMAGE:n=_(e.attachment.url);break;case u.SignalType.LOCATION:n=_(e.attachment.snapshotUrl);break;case u.SignalType.FILE:case u.SignalType.VIDEO_FILE:case u.SignalType.VOICE_FILE:n=e.attachment.fileName}return n}(i))),o.createElement("p",{style:t.replyText,"data-style-name":"replyText"},s))},x=function(e,s){var l=o.createElement("div",null,"unknow");switch(e.signalType){case u.SignalType.TEXT:l=function(e,n){return o.createElement("div",{style:t.text,dangerouslySetInnerHTML:{__html:e.content},"data-style-name":"text"})}(e);break;case u.SignalType.PTT:case u.SignalType.VOICE_FILE:l=function(e,s){return o.createElement("div",{style:r(r(r({},t.audioContainer),c.isSelf(e)?t.selfAudioContainer:t.otherAudioContainer),{width:c.getPttWidth(e.remark.duration)+"px"}),ref:i.audioContainer[s],"data-messagetype":e.signalType,"data-style-name":c.isSelf(e)?"selfAudioContainer&audioContainer":"otherAudioContainer&audioContainer"},o.createElement("i",{style:a.toggleVisible(t.pttMark,e.signalType===u.SignalType.PTT),className:d.ptt}),o.createElement("i",{className:d.playAudioStart,style:a.toggleVisible(r(r({},t.pttIcon),c.isSelf(e)?t.selfPttIcon:t.otherPttIcon),n.isPlayingIdx===s&&1===n.playingStep),"data-style-name":c.isSelf(e)?"selfPttIcon&pttIcon":"otherPttIcon&pttIcon"}),o.createElement("i",{className:d.playAudioIng,style:a.toggleVisible(r(r({},t.pttIcon),c.isSelf(e)?t.selfPttIcon:t.otherPttIcon),n.isPlayingIdx===s&&2===n.playingStep),"data-style-name":c.isSelf(e)?"selfPttIcon&pttIcon":"otherPttIcon&pttIcon"}),o.createElement("i",{className:d.playAudioEnd,style:a.toggleVisible(r(r({},t.pttIcon),c.isSelf(e)?t.selfPttIcon:t.otherPttIcon),n.isPlayingIdx!==s||3===n.playingStep),"data-style-name":c.isSelf(e)?"selfPttIcon&pttIcon":"otherPttIcon&pttIcon"}),o.createElement("span",{style:t.audioDuration,"data-style-name":"audioDuration"},Math.ceil(e.remark.duration/1e3),'"'))}(e,s);break;case u.SignalType.LOCATION:l=function(e,n){var r=e.location.name||e.location.address||"",s=e.location.name&&e.location.address||"";return o.createElement("div",{ref:i.locationContainer[n],style:t.locationContainer,"data-style-name":"locationContainer"},o.createElement("div",{style:t.locationTitle,"data-style-name":"locationTitle"},o.createElement("div",{style:t.locationName,"data-style-name":"locationName",title:r},r),o.createElement("div",{style:a.toggleVisible(t.locationSubName,!!s),"data-style-name":"locationSubName",title:s},s)),o.createElement("div",{style:t.locationImageContainer,"data-style-name":"locationImageContainer"},o.createElement("img",{src:e.location.snapshotUrl,onError:c.loadImgError,style:t.locationImage,"data-style-name":"locationImage",ref:i.locationImages[n],alt:""})))}(e,s);break;case u.SignalType.IMAGE:l=function(e,n){return o.createElement("div",{style:t.imageContainer,"data-style-name":"imageContainer"},o.createElement("img",{src:e.url,style:t.imageContent,"data-style-name":"imageContent",draggable:!1,onError:c.loadImgError,ref:i.imageMessages[n],alt:""}),E(e,n))}(e,s);break;case u.SignalType.FILE:l=function(e,n){var s=c.getFileName(e.remark.fileName),u=c.formatFileSize(e.remark.fileSize);return o.createElement("div",{style:t.fileContainer,"data-style-name":"fileContainer"},o.createElement("div",{style:t.fileInfoBox,"data-style-name":"fileInfoBox"},o.createElement("div",{style:t.fileInfo,"data-style-name":"fileInfo"},o.createElement("i",{className:d.fileIcon,style:t.fileIcon,"data-style-name":"fileIcon"}),o.createElement("span",{style:t.fileName,title:s,"data-style-name":"fileName"},s),o.createElement("span",{style:a.toggleVisible(t.fileSize,!y(e)),"data-style-name":"fileSize"},u)),E(e,n)),o.createElement("div",{style:r(r(r({},t.fileStatusBox),y(e)?t.uploadingStatusBox:{}),c.isSelf(e)?{}:t.downloadStatusBox),ref:i.fileStatusBox[n],"data-style-name":y(e)?c.isSelf(e)?"uploadingStatusBox":"uploadingStatusBox&downloadStatusBox":c.isSelf(e)?"fileStatusBox":"downloadStatusBox"},o.createElement("i",{className:c.isSelf(e)?b(e)?d.uploadCancel:y(e)||C(e,n)?d.uploading:d.uploadComplete:d.download,style:c.isSelf(e)?b(e)?t.uploadCancelIcon:y(e)||C(e,n)?t.uploadingIcon:t.uploadCompleteIcon:t.downloadIcon,"data-style-name":c.isSelf(e)?b(e)?"uploadCancelIcon":y(e)||C(e,n)?"uploadingIcon":"uploadCompleteIcon":"downloadIcon"}),o.createElement("a",{href:c.isSelf(e)?"":e.url,target:"_blank",style:a.toggleVisible({},!1),download:s,ref:i.fileDownloadLink[n]}),o.createElement("div",{style:t.fileStatusDesc,"data-style-name":"fileStatusDesc"},c.isSelf(e)?b(e)?"已取消":y(e)||C(e,n)?"上传中":"已完成":"下载")))}(e,s);break;case u.SignalType.IM_REPLY:l=S(e);break;case u.SignalType.IM_COMBIND:l=function(e,n){return o.createElement("div",{ref:i.combindContainer[n],style:t.combindLogContainer,"data-style-name":"combindLogContainer"},o.createElement("h3",{style:t.combindTitle,"data-style-name":"combindTitle"},e.combindBody.title),o.createElement("textarea",{style:t.combindDescription,readOnly:!0,"data-style-name":"combindDescription",value:e.combindBody.description}))}(e,s);break;case u.SignalType.VIDEO_FILE:l=function(e,n){return o.createElement("div",{style:r(r({},t.videoContainer),y(e)?t.videoContainerInProgress:{}),"data-style-name":y(e)?"videoContainerInProgress":"videoContainer"},o.createElement("video",{src:e.url,style:a.toggleVisible(t.videoEle,!!e.url),ref:i.videoFiles[n],"data-style-name":"videoEle"}),o.createElement("div",{style:a.toggleVisible(t.videoMask,!!e.url),ref:i.videoPlays[n],"data-style-name":"videoMask"},o.createElement("i",{className:d.videoPlay,style:t.videoPlayIcon,"data-style-name":"videoPlayIcon"})),E(e,n))}(e,s)}var p=(c.isGroup(n.curChatTarget)?"groupMessageContainer":"messageContainer")+(c.isSelf(e)?"&selfMessageContainer":"&otherMessageContainer")+(e.signalType===u.SignalType.IMAGE?"&imageMessageContainer":e.signalType===u.SignalType.VIDEO_FILE?"&videoFileMessageContainer":e.signalType===u.SignalType.TEXT||e.signalType===u.SignalType.PTT?"":"&notNormalMessageContainer"),A="messageArrow"+(c.isSelf(e)?e.signalType===u.SignalType.TEXT?"&selfMessageArrow":"&selfNotTextMessageArrow":e.signalType===u.SignalType.TEXT?"&otherMessageArrow":"&otherNotTextMessageArrow");return o.createElement("div",{style:r(r({},t.normalSignalContainer),T(e)?t.signalContainerSelected:{}),"data-style-name":T(e)?"signalContainerSelected":"normalSignalContainer"},o.createElement("span",{ref:i.forwardCheckBoxs[s],style:a.toggleVisible(t.forwardCheckBoxs,n.forwardVisible),"data-style-name":"forwardCheckBoxs"},o.createElement("i",{className:d.checked,style:a.toggleVisible(t.checkedIcon,T(e)&&!b(e)&&!y(e)),"data-style-name":"checkedIcon"}),o.createElement("i",{className:d.unchecked,style:a.toggleVisible(t.uncheckedIcon,!T(e)&&!b(e)&&!y(e)),"data-style-name":"uncheckedIcon"})),o.createElement("img",{src:c.getUserHeader(c.isSelf(e)?n.loginUser:c.isGroup(n.curChatTarget)?c.getTargetMember(n.curChatTarget,e):n.curChatTarget,f),style:r(r({},t.userHeader),c.isSelf(e)?t.selfUserHeader:t.otherUserHeader),"data-style-name":c.isSelf(e)?"selfUserHeader&userHeader":"otherUserHeader&userHeader",draggable:!1,ref:i.userHeadImgs[s],alt:""}),o.createElement("div",{style:r(r(r(r({},t.messageContainer),c.isGroup(n.curChatTarget)?t.groupMessageContainer:{}),c.isSelf(e)?t.selfMessageContainer:t.otherMessageContainer),e.signalType===u.SignalType.IMAGE?t.imageMessageContainer:e.signalType===u.SignalType.VIDEO_FILE?t.videoFileMessageContainer:e.signalType===u.SignalType.TEXT||e.signalType===u.SignalType.PTT?{}:t.notNormalMessageContainer),ref:i.messageContainer[s],"data-style-name":p},o.createElement("div",{style:a.toggleVisible(r(r({},t.messageArrow),c.isSelf(e)?r(r({},t.selfMessageArrow),e.signalType===u.SignalType.TEXT?{}:t.selfNotTextMessageArrow):r(r({},t.otherMessageArrow),e.signalType===u.SignalType.TEXT?{}:t.otherNotTextMessageArrow)),e.signalType!==u.SignalType.IMAGE&&e.signalType!==u.SignalType.VIDEO_FILE),"data-style-name":A}),o.createElement("i",{className:d.unableSend,style:a.toggleVisible(t.unableSend,C(e,s)),"data-style-name":"unableSend"}),o.createElement("span",{style:a.toggleVisible(r(r({},t.userName),c.isSelf(e)?t.selfUserName:t.otherUserName),c.isGroup(n.curChatTarget)),"data-style-name":c.isSelf(e)?"selfUserName&userName":"otherUserName&userName"},c.isSelf(e)?n.loginUser.userName:c.isGroup(n.curChatTarget)?c.getTargetMember(n.curChatTarget,e).userName:n.curChatTarget.userName),l),o.createElement("div",{style:t.clearfix,"data-style-name":"clearfix"}))},_=function(e){return o.createElement("img",{src:e,"data-style-name":"replyImage",style:t.replyImage,alt:""})};return o.createElement("div",{ref:e.refs.container,style:t.container,"data-style-name":"container","data-tree":e.name},o.createElement("div",{ref:i.forwardBox,style:a.toggleVisible(t.forwardConfirm,n.forwardVisible),"data-style-name":"forwardConfirm"},o.createElement("div",{style:t.forwardMenu,ref:i.forwardBtn,"data-style-name":"forwardMenu"},o.createElement("div",{style:t.forwardIconBox,"data-style-name":"forwardIconBox"},o.createElement("i",{className:d.forward})),o.createElement("span",null,"转发")),o.createElement("div",{style:t.forwardMenu,ref:i.combindForwardBtn,"data-style-name":"forwardMenu"},o.createElement("div",{style:t.forwardIconBox,"data-style-name":"forwardIconBox"},o.createElement("i",{className:d.forward})),o.createElement("span",null,"合并转发")),o.createElement("div",{style:t.forwardMenu,"data-style-name":"forwardMenu",ref:i.cancelForwardBtn},o.createElement("div",{style:t.forwardIconBox,"data-style-name":"forwardIconBox"},o.createElement("i",{className:d.cancelForward})),o.createElement("span",null,"取消"))),o.createElement("ul",null,n.chatLog.map((function(e,r){return o.createElement("li",{key:r},function(e,r){return o.createElement("div",{style:t.logTime,"data-style-name":"logTime"},r>0&&n.chatLog[r]&&n.chatLog[r].time<n.chatLog[r-1].time+3e5?"":c.formatTime(e.time))}(e,r),function(e){switch(e.signalType){case u.SignalType.GROUP_JOIN:case u.SignalType.GROUP_KICK:case u.SignalType.GROUP_QUIT:case u.SignalType.GROUP_DISMISS:return!0;default:return!1}}(e)||e.status===u.MessageStatus.RECALL?function(e,r){return o.createElement("div",{style:t.groupSignalContainer,"data-style-name":"groupSignalContainer"},o.createElement("div",{style:t.groupSignalContent,"data-style-name":"groupSignalContent"},e.content,n.showEditTimers[e.messageId]&&o.createElement("span",{ref:i.recallEdits[r],style:t.editContent,"data-style-name":"editContent"}," 再次编辑")))}(e,r):x(e,r))}))),o.createElement("div",{className:"kc-loading-container",style:a.toggleVisible(t.loadingContainer,n.loadingVisible),"data-style-name":"loadingContainer"}),o.createElement("video",{controls:!0,ref:i.audio,style:a.toggleVisible(t.pttAudioBox,!1),"data-style-name":"pttAudioBox"}),o.createElement("div",{style:a.toggleVisible(t.userInfoContainer,h),"data-style-name":"userInfoContainer"},o.createElement("div",{className:"kc-chat-area-user-info",ref:e.refs.userInfoRef,style:t.userInfoBox,"data-style-name":"userInfoBox"})),o.createElement("div",{"data-style-name":"atBar",style:a.toggleVisible(t.atBar,n.atBarVisible)},o.createElement("span",null,n.atSrc," 提到了你  "),o.createElement("span",{"data-style-name":"closeAtText",ref:e.refs.closeAtText,style:t.closeAtText},"Χ")),o.createElement("div",{"data-style-name":"replyMessageBox",style:a.toggleVisible(t.replyMessageBox,n.replyVisible)},o.createElement("div",{"data-style-name":"replyContent",style:t.replyContent},o.createElement("p",{"data-style-name":"replyee",style:t.replyee},n.replySourceLog.userCode),o.createElement("div",{"data-style-name":"replyDetailBox",style:t.replyDetailBox},(n.replySourceLog.signalType===u.SignalType.TEXT||n.replySourceLog.signalType===u.SignalType.IM_REPLY)&&n.replySourceLog.content,n.replySourceLog.signalType===u.SignalType.IMAGE&&_(n.replySourceLog.url),n.replySourceLog.signalType===u.SignalType.LOCATION&&(m=n.replySourceLog.location.snapshotUrl,o.createElement("img",{src:m,"data-style-name":"replyImage",style:t.replyImage,alt:""})),(n.replySourceLog.signalType===u.SignalType.OTHER||n.replySourceLog.signalType===u.SignalType.FILE||n.replySourceLog.signalType===u.SignalType.VIDEO_FILE||n.replySourceLog.signalType===u.SignalType.VOICE_FILE||n.replySourceLog.signalType===u.SignalType.PTT)&&n.replySourceLog.remark.fileName),o.createElement("span",{"data-style-name":"closeReply",ref:e.refs.closeReplyRef,style:t.closeReply},"Χ"))))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{fonts:{forward:"icon iconfont icon-transmit",cancelForward:"icon iconfont icon-cancel-copy",checked:"icon iconfont icon iconfont icon-correct-copy",unchecked:"icon iconfont icon-editroundbox",unableSend:"icon iconfont icon-question-copy",playAudioStart:"icon iconfont icon-broadcast-one",playAudioIng:"icon iconfont icon-broadcast-two",playAudioEnd:"icon iconfont icon-broadcast-three",fileIcon:"icon iconfont icon-file-surface",uploadComplete:"icon iconfont icon-correct-copy",uploading:"icon iconfont icon-username-error-surface-copy",uploadCancel:"icon iconfont icon-question-copy",download:"icon iconfont icon-download",videoPlay:"icon iconfont icon-icon-broadcast",ptt:"icon iconfont icon-vi-voice"},images:{$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader}},container:r({height:"100%",padding:"10px 0",overflowY:"auto",overflowX:"hidden",fontSize:"14px"},o.forbidSelect()),forwardConfirm:r(r({borderTop:"1px solid #DCDFE6",zIndex:2,width:"100%",height:"160px",bottom:0,backgroundColor:"#F6F6FC",textAlign:"center"},o.horizon()),o.flex({justifyContent:"space-around"})),forwardMenu:{width:"56px",heigth:"56px",cursor:"pointer"},forwardIconBox:{borderRadius:"50%",backgroundColor:"#fff",lineHeight:"50px",marginBottom:"6px",fontSize:"18px",color:"#333"},forwardCheckBoxs:{float:"left",marginRight:"20px",marginTop:"6px",position:"relative",width:"20px",height:"20px",borderRadius:"50%",cursor:"pointer"},checkedIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",lineHeight:"20px",color:o.$theme.$baseColor},uncheckedIcon:{position:"absolute",left:"0",top:"0",fontSize:"20px",lineHeight:"20px",color:"#BEC1C9"},groupSignalContainer:{textAlign:"center"},groupSignalContent:{display:"inline-block",maxWidth:"300px",margin:"10px auto",backgroundColor:"#DCDFE6",borderRadius:"4px",color:"#333",fontSize:"12px",textAlign:"center",padding:"5px"},logTime:{width:"100%",textAlign:"center",fontSize:"12px",color:o.$theme.$lightFontColor},normalSignalContainer:{width:"100%",padding:"8px 20px 0"},signalContainerSelected:{backgroundColor:"#EAEAEF"},userName:{whiteSpace:"nowrap",position:"absolute",top:"-20px",fontSize:"12px",color:o.$theme.$lightFontColor},selfUserName:{right:0},otherUserName:{left:0},messageContainer:{maxWidth:"300px",padding:"8px 10px",display:"inline-block",wordWrap:"break-word",borderRadius:"5px",position:"relative",marginBottom:o.$theme.$messageSpace},groupMessageContainer:{marginTop:"20px"},selfMessageContainer:{float:"right",marginRight:"20px",color:"#fff",backgroundColor:o.$theme.$baseColor},otherMessageContainer:{float:"left",marginLeft:"20px",color:"#000",backgroundColor:"#fff"},imageMessageContainer:{backgroundColor:"transparent",padding:0},videoFileMessageContainer:{backgroundColor:"transparent",padding:0},notNormalMessageContainer:{backgroundColor:"#fff"},messageArrow:{display:"block",width:0,height:0,borderTop:"4px solid transparent",borderBottom:"4px solid transparent",position:"absolute",top:"10px"},selfMessageArrow:{borderLeft:"5px solid "+o.$theme.$baseColor,borderRight:"5px solid transparent",right:"-10px"},otherMessageArrow:{borderRight:"5px solid #fff",borderLeft:"5px solid transparent",left:"-10px"},selfNotTextMessageArrow:{borderLeft:"5px solid #fff"},otherNotTextMessageArrow:{borderRight:"5px solid #fff"},userHeader:{width:"30px",height:"30px",borderRadius:"50%",cursor:"pointer"},selfUserHeader:{float:"right"},otherUserHeader:{float:"left"},unableSend:{position:"absolute",left:"-25px",fontSize:"16px",color:"#F36464",top:"50%",transform:"translateY(-50%)"},text:{whiteSpace:"pre-wrap",maxWidth:o.$theme.$messageMaxWidth},fileContainer:r({},o.flex()),fileInfoBox:{width:"75%"},fileInfo:r({},o.flex()),fileIcon:{color:o.$theme.$baseColor,verticalAlign:"middle"},fileStatusBox:{width:"15%",marginLeft:"10%",textAlign:"center",fontSize:"20px"},uploadingStatusBox:{cursor:"pointer"},downloadStatusBox:{cursor:"pointer"},uploadCancelIcon:{color:"#F36464"},uploadingIcon:{color:o.$theme.$lightBgColor},uploadCompleteIcon:{color:"#63C532"},downloadIcon:{color:o.$theme.$baseColor},fileStatusDesc:{fontSize:"10px",color:o.$theme.$lightFontColor,whiteSpace:"nowrap"},fileName:r({margin:"0 20px 0 10px",width:"140px",verticalAlign:"middle",fontSize:"14px",color:"#333"},o.ellipsis()),fileSize:{color:"#333",fontSize:"12px",verticalAlign:"middle"},progressFileContainer:{height:"4px",backgroundColor:o.$theme.$lightBgColor,position:"relative",marginTop:"15px"},progressFile:{width:0,backgroundColor:o.$theme.$baseColor,height:"100%"},progressImageContainer:{height:"4px",width:"calc(100% - 40px)",border:"1px solid #fff",position:"absolute",left:"50%",bottom:"10px",transform:"translateX(-50%)"},progressImage:{width:0,backgroundColor:"#fff",height:"100%"},progressVideoFileContainer:{height:"4px",width:"calc(100% - 40px)",border:"1px solid #fff",position:"absolute",left:"50%",bottom:"10px",transform:"translateX(-50%)"},progressVideoFile:{width:0,backgroundColor:"#fff",height:"100%"},imageContainer:{borderRadius:0,position:"relative"},imageContent:{maxWidth:"200px",minWidth:"50px",height:"auto",width:"auto",borderRadius:"4px",cursor:"pointer"},locationContainer:{width:"190px"},locationTitle:{marginBottom:"8px"},locationName:r({fontSize:"14px",color:"#1B2126",lineHeight:"20px"},o.ellipsis()),locationSubName:r({fontSize:"10px",color:"#8C9097",lineHeight:"14px"},o.ellipsis()),locationImage:{width:"100%",height:"auto",cursor:"pointer"},audioContainer:{position:"relative",cursor:"pointer"},selfAudioContainer:{textAlign:"left"},otherAudioContainer:{textAlign:"right"},pttMark:{fontSize:"12px"},pttIcon:r(r({},o.vertical()),{height:"20px",lineHeight:"20px",transformOrigin:"center"}),selfPttIcon:{right:0,transform:"rotate(180deg)"},otherPttIcon:{left:0,transform:"none"},audioDuration:{},pttAudioBox:{},starAnimationContainer:{position:"absolute",zIndex:99,transition:"all 1s",transformOrigin:"center"},loadingContainer:{width:"100%",height:"100%",position:"absolute",left:"0",top:"0",zIndex:1},videoContainer:{borderRadius:0,position:"relative",width:"200px",height:"100px",overflow:"hidden"},videoContainerInProgress:{backgroundColor:"#fff"},videoEle:{width:"100%",height:"100%",objectFit:"cover"},videoMask:r(r({},o.middle()),{cursor:"pointer",width:"30px",height:"30px",lineHeight:"30px",textAlign:"center"}),videoPlayIcon:{fontSize:"30px",color:"#fff"},clearfix:{clear:"both"},userInfoContainer:{position:"absolute",left:"0",top:"0",width:"270px",zIndex:"2"},userInfoBox:{},atBar:{position:"absolute",bottom:"165px",right:"5px",padding:"3px 10px",color:"rgb(3, 153, 255)",backgroundColor:"#ffffff",transition:"all 0.3s"},closeAtText:{display:"inline-block",padding:"0 0 0 5px",borderLeft:"1px solid rgb(219,224,220)",cursor:"pointer",color:"#afa7a7"},editContent:{color:"rgb(3, 153, 255)",cursor:"pointer"},replyMessageBox:{width:"100%",position:"absolute",bottom:"160px",left:0,minHeight:"60px",backgroundColor:"#fff",padding:"10px 14px"},replyContent:{width:"100%",height:"100%",borderLeft:"2px solid #DCDFE6",color:o.$theme.$lightFontColor,position:"relative",paddingLeft:"5px"},replyee:{fontSize:"12px"},replyDetailBox:{fontSize:"14px",lineHeight:"20px",wordBreak:"break-all",padding:"5px"},replyImage:{display:"block",maxHeight:"150px",maxWidth:"150px"},closeReply:{width:"16px",height:"16px",fontSize:"14px",textAlign:"center",display:"block",cursor:"pointer",position:"absolute",right:0,top:0},replyText:{paddingTop:"5px",marginTop:"5px",borderTop:"1px solid "+o.$theme.$borderColor,color:"#333"},combindLogContainer:{maxWidth:"250px",color:"#333"},combindTitle:r(r({fontSize:"14px",lineHeight:"25px"},o.ellipsis()),{cursor:"pointer",borderBottom:"1px solid"+o.$theme.$borderColor}),combindDescription:{border:"none",display:"block",width:"100%",overflow:"hidden",height:"45px",color:o.$theme.$lightFontColor,outline:"none",cursor:"pointer"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1),i=n(8);function s(){var e=this.chatLog[this.curLogIdx],t=i.getTargetCode(this.curChatTarget);return i.isSelf(e)&&this.uploadProgress[t]&&this.uploadProgress[t].some((function(t){return t.data===e}))}function a(){var e=this.chatLog[this.curLogIdx],t=i.getTargetCode(this.curChatTarget);return i.isSelf(e)&&this.cancelFiles[t]&&this.cancelFiles[t].some((function(t){return t===e}))}function u(){return-1!==this.curLogIdx&&this.chatLog[this.curLogIdx]}function c(){var e=this.chatLog[this.curLogIdx];return i.isSelf(e)&&Date.now()-e.time-this.serverClientTimeDiff<12e4}t.default=function(){var e,t,n,l,d,f,p,A,g,h=r.observable({forwardVisible:!1,forwardList:[],curPlayVideoRef:{},chatLog:[],curChatTarget:{},loginUser:{},uploadProgress:{},unableSend:{},cancelFiles:{},isPlayingIdx:-1,curLogIdx:-1,playingStep:1,groupSignal:{},fowardType:o.ForwardTypes.SINGLEFORWARD,menuOptions:(e={},e[o.SignalType.TEXT]=(t={},t[o.RightMouseName.COPY]=!0,t[o.RightMouseName.FORWARD]=!0,t[o.RightMouseName.FORWARD_MORE]=!0,t[o.RightMouseName.STAR]=!0,t[o.RightMouseName.RECALL]=!0,t[o.RightMouseName.IM_REPLY]=!0,t),e[o.SignalType.FILE]=(n={},n[o.RightMouseName.COPY]=!0,n[o.RightMouseName.CANCEL]=!0,n[o.RightMouseName.SAVE]=!0,n[o.RightMouseName.FORWARD]=!0,n[o.RightMouseName.FORWARD_MORE]=!0,n[o.RightMouseName.STAR]=!0,n[o.RightMouseName.RECALL]=!0,n[o.RightMouseName.IM_REPLY]=!0,n),e[o.SignalType.VIDEO_FILE]=(l={},l[o.RightMouseName.COPY]=!0,l[o.RightMouseName.CANCEL]=!0,l[o.RightMouseName.SAVE]=!0,l[o.RightMouseName.FORWARD]=!0,l[o.RightMouseName.FORWARD_MORE]=!0,l[o.RightMouseName.STAR]=!0,l[o.RightMouseName.RECALL]=!0,l[o.RightMouseName.IM_REPLY]=!0,l),e[o.SignalType.IMAGE]=(d={},d[o.RightMouseName.COPY]=!0,d[o.RightMouseName.CANCEL]=!0,d[o.RightMouseName.SAVE]=!0,d[o.RightMouseName.FORWARD]=!0,d[o.RightMouseName.FORWARD_MORE]=!0,d[o.RightMouseName.STAR]=!0,d[o.RightMouseName.RECALL]=!0,d[o.RightMouseName.IM_REPLY]=!0,d),e[o.SignalType.LOCATION]=(f={},f[o.RightMouseName.FORWARD]=!0,f[o.RightMouseName.FORWARD_MORE]=!0,f[o.RightMouseName.STAR]=!0,f[o.RightMouseName.RECALL]=!0,f[o.RightMouseName.IM_REPLY]=!0,f),e[o.SignalType.IM_REPLY]=(p={},p[o.RightMouseName.FORWARD]=!0,p[o.RightMouseName.FORWARD_MORE]=!0,p[o.RightMouseName.STAR]=!0,p[o.RightMouseName.RECALL]=!0,p[o.RightMouseName.IM_REPLY]=!0,p),e[o.SignalType.IM_COMBIND]=(A={},A[o.RightMouseName.FORWARD]=!0,A[o.RightMouseName.FORWARD_MORE]=!0,A[o.RightMouseName.STAR]=!0,A[o.RightMouseName.RECALL]=!0,A[o.RightMouseName.IM_REPLY]=!0,A),e),menus:(g={},g[o.SignalType.TEXT]=[{label:"复制",name:o.RightMouseName.COPY,get visible(){return h.menuOptions[o.SignalType.TEXT][o.RightMouseName.COPY]}},{label:"转发",name:o.RightMouseName.FORWARD,get visible(){return h.menuOptions[o.SignalType.TEXT][o.RightMouseName.FORWARD]}},{label:"回复",name:o.RightMouseName.IM_REPLY,get visible(){return h.menuOptions[o.SignalType.TEXT][o.RightMouseName.IM_REPLY]}},{label:"多选",name:o.RightMouseName.FORWARD_MORE,get visible(){return h.menuOptions[o.SignalType.TEXT][o.RightMouseName.FORWARD_MORE]}},{label:"收藏",name:o.RightMouseName.STAR,get visible(){return h.menuOptions[o.SignalType.TEXT][o.RightMouseName.STAR]}},{label:"撤回",name:o.RightMouseName.RECALL,get visible(){return u.bind(h)()&&c.bind(h)()&&h.menuOptions[o.SignalType.TEXT][o.RightMouseName.RECALL]}}],g[o.SignalType.FILE]=[{label:"复制",name:o.RightMouseName.COPY,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.FILE][o.RightMouseName.COPY]}},{label:"取消",name:o.RightMouseName.CANCEL,get visible(){return u.bind(h)()&&s.bind(h)()&&h.menuOptions[o.SignalType.FILE][o.RightMouseName.CANCEL]}},{label:"保存",name:o.RightMouseName.SAVE,get visible(){return u.bind(h)()&&!i.isSelf(h.chatLog[h.curLogIdx])&&h.menuOptions[o.SignalType.FILE][o.RightMouseName.SAVE]}},{label:"转发",name:o.RightMouseName.FORWARD,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.FILE][o.RightMouseName.FORWARD]}},{label:"多选",name:o.RightMouseName.FORWARD_MORE,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.FILE][o.RightMouseName.FORWARD_MORE]}},{label:"回复",name:o.RightMouseName.IM_REPLY,get visible(){return h.menuOptions[o.SignalType.FILE][o.RightMouseName.IM_REPLY]}},{label:"收藏",name:o.RightMouseName.STAR,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.FILE][o.RightMouseName.STAR]}},{label:"撤回",name:o.RightMouseName.RECALL,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&c.bind(h)()&&h.menuOptions[o.SignalType.FILE][o.RightMouseName.RECALL]}}],g[o.SignalType.VIDEO_FILE]=[{label:"复制",name:o.RightMouseName.COPY,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.VIDEO_FILE][o.RightMouseName.COPY]}},{label:"取消",name:o.RightMouseName.CANCEL,get visible(){return u.bind(h)()&&s.bind(h)()&&h.menuOptions[o.SignalType.VIDEO_FILE][o.RightMouseName.CANCEL]}},{label:"保存",name:o.RightMouseName.SAVE,get visible(){return u.bind(h)()&&!i.isSelf(h.chatLog[h.curLogIdx])&&h.menuOptions[o.SignalType.VIDEO_FILE][o.RightMouseName.SAVE]}},{label:"转发",name:o.RightMouseName.FORWARD,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.VIDEO_FILE][o.RightMouseName.FORWARD]}},{label:"回复",name:o.RightMouseName.IM_REPLY,get visible(){return h.menuOptions[o.SignalType.VIDEO_FILE][o.RightMouseName.IM_REPLY]}},{label:"多选",name:o.RightMouseName.FORWARD_MORE,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.VIDEO_FILE][o.RightMouseName.FORWARD_MORE]}},{label:"收藏",name:o.RightMouseName.STAR,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.VIDEO_FILE][o.RightMouseName.STAR]}},{label:"撤回",name:o.RightMouseName.RECALL,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&c.bind(h)()&&h.menuOptions[o.SignalType.VIDEO_FILE][o.RightMouseName.RECALL]}}],g[o.SignalType.IMAGE]=[{label:"复制",name:o.RightMouseName.COPY,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.IMAGE][o.RightMouseName.COPY]}},{label:"取消",name:o.RightMouseName.CANCEL,get visible(){return u.bind(h)()&&s.bind(h)()&&h.menuOptions[o.SignalType.IMAGE][o.RightMouseName.CANCEL]}},{label:"保存",name:o.RightMouseName.SAVE,get visible(){return u.bind(h)()&&!i.isSelf(h.chatLog[h.curLogIdx])&&h.menuOptions[o.SignalType.IMAGE][o.RightMouseName.SAVE]}},{label:"转发",name:o.RightMouseName.FORWARD,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.IMAGE][o.RightMouseName.FORWARD]}},{label:"回复",name:o.RightMouseName.IM_REPLY,get visible(){return h.menuOptions[o.SignalType.IMAGE][o.RightMouseName.IM_REPLY]}},{label:"多选",name:o.RightMouseName.FORWARD_MORE,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.IMAGE][o.RightMouseName.FORWARD_MORE]}},{label:"收藏",name:o.RightMouseName.STAR,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&h.menuOptions[o.SignalType.IMAGE][o.RightMouseName.STAR]}},{label:"撤回",name:o.RightMouseName.RECALL,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&c.bind(h)()&&h.menuOptions[o.SignalType.IMAGE][o.RightMouseName.RECALL]}}],g[o.SignalType.LOCATION]=[{label:"转发",name:o.RightMouseName.FORWARD,get visible(){return h.menuOptions[o.SignalType.LOCATION][o.RightMouseName.FORWARD]}},{label:"回复",name:o.RightMouseName.IM_REPLY,get visible(){return h.menuOptions[o.SignalType.LOCATION][o.RightMouseName.IM_REPLY]}},{label:"多选",name:o.RightMouseName.FORWARD_MORE,get visible(){return h.menuOptions[o.SignalType.LOCATION][o.RightMouseName.FORWARD_MORE]}},{label:"收藏",name:o.RightMouseName.STAR,get visible(){return h.menuOptions[o.SignalType.LOCATION][o.RightMouseName.STAR]}},{label:"撤回",name:o.RightMouseName.RECALL,get visible(){return u.bind(h)()&&!s.bind(h)()&&!a.bind(h)()&&c.bind(h)()&&h.menuOptions[o.SignalType.LOCATION][o.RightMouseName.RECALL]}}],g[o.SignalType.IM_REPLY]=[{label:"转发",name:o.RightMouseName.FORWARD,get visible(){return h.menuOptions[o.SignalType.IM_REPLY][o.RightMouseName.FORWARD]}},{label:"回复",name:o.RightMouseName.IM_REPLY,get visible(){return h.menuOptions[o.SignalType.IM_REPLY][o.RightMouseName.IM_REPLY]}},{label:"多选",name:o.RightMouseName.FORWARD_MORE,get visible(){return h.menuOptions[o.SignalType.IM_REPLY][o.RightMouseName.FORWARD_MORE]}},{label:"收藏",name:o.RightMouseName.STAR,get visible(){return h.menuOptions[o.SignalType.IM_REPLY][o.RightMouseName.STAR]}},{label:"撤回",name:o.RightMouseName.RECALL,get visible(){return u.bind(h)()&&c.bind(h)()&&h.menuOptions[o.SignalType.IM_REPLY][o.RightMouseName.RECALL]}}],g[o.SignalType.IM_COMBIND]=[{label:"转发",name:o.RightMouseName.FORWARD,get visible(){return h.menuOptions[o.SignalType.IM_COMBIND][o.RightMouseName.FORWARD]}},{label:"多选",name:o.RightMouseName.FORWARD_MORE,get visible(){return h.menuOptions[o.SignalType.IM_COMBIND][o.RightMouseName.FORWARD_MORE]}},{label:"收藏",name:o.RightMouseName.STAR,get visible(){return h.menuOptions[o.SignalType.IM_COMBIND][o.RightMouseName.STAR]}},{label:"撤回",name:o.RightMouseName.RECALL,get visible(){return u.bind(h)()&&c.bind(h)()&&h.menuOptions[o.SignalType.IM_COMBIND][o.RightMouseName.RECALL]}}],g),histoyFetchTimes:0,loadingVisible:!1,showUserInfoPopup:!1,atBarVisible:!1,atSrc:"",isSendOrForwardFile:!1,fowardTarget:null,showEditTimers:{},serverClientTimeDiff:0,replyVisible:!0,replySourceLog:{}});return h}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(12),s=n(13),a=n(5),u=n(1),c=n(2),l=n(25),d=n(8),f=n(6),p=n(28),A=n(101),g=n(52),h=n(183);function m(e){var t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent;(d.isTarget(e,t.curChatTarget)||e.target===u.MessageTarget.SELF&&e.chatCode===d.getTargetCode(t.curChatTarget))&&(e.messageType===u.MessageType.RECALL?(console.log("寻找要撤回得消息"),console.log(e),console.log(t.chatLog),t.chatLog.some((function(r,o){if(console.log(r.uid),r.uid===e.refId)return r.content&&(r.content.indexOf("@"+t.loginUser.userName+"：")>-1||d.isGroup(t.curChatTarget)&&r.messageType===u.MessageType.BILLBOARD)&&n.subscribe(u.RxjsEventNames.UPDATE_AT_BAR_STATUS,s.of({status:!1,srcCode:""})),t.chatLog[o].content=(d.isGroup(t.curChatTarget)?e.userCode:"对方")+" 撤回了一条消息",t.chatLog[o].status=u.MessageStatus.RECALL,!0}))):x.bind(this)(e),d.isGroup(t.curChatTarget)&&y.bind(this)(e))}function y(e){var t=i.default.getKChat(this.rootName).rxjsEvent,n=this.store;this.refs;if(!e)return!1;var r=e.userCodes,o=e.srcCode,a=e.signalType;if(!r||!r.length)return!1;n.atSrc=o,(r.includes(n.loginUser.userCode)&&a===u.SignalType.TEXT||"0"===r[0])&&t.subscribe(u.RxjsEventNames.UPDATE_AT_BAR_STATUS,s.of({status:!0,srcCode:o}))}function v(e){var t=this.store;return!d.isGroup(e)||!!Array.isArray(e.groupMembers)&&e.groupMembers.some((function(e){return e.userCode===t.loginUser.userCode&&0===e.state}))}function b(e){var t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent,r=e.data;if(x.bind(this)(r),v.bind(this)(t.curChatTarget)){switch(r.signalType){case u.SignalType.FILE:case u.SignalType.IMAGE:case u.SignalType.VIDEO_FILE:ee.bind(this)(e);break;case u.SignalType.TEXT:ne.bind(this)(e);break;case u.SignalType.IM_REPLY:oe.bind(this)(e);break;case u.SignalType.LOCATION:ie.bind(this)(e)}S.bind(this)(r)}else L.bind(this)(t.chatLog[t.chatLog.length-1],d.getTargetCode(t.curChatTarget)),n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("你已不在该群组"))}function E(e,t){console.log("转发消息",e);var n=this.store;console.log("target",t),console.log("转发类型",n.fowardType),n.fowardType===u.ForwardTypes.SINGLEFORWARD&&C.bind(this)(e,t),n.fowardType===u.ForwardTypes.COMBINDFORWARD&&T.bind(this)(e,t)}function C(e,t){var n=this,o=this.store;console.log("逐条转发",e);var i=e.map((function(e){return r(r(r(r({},e),{time:Date.now(),target:u.MessageTarget.SELF,srcCode:o.loginUser.userCode,userCode:o.loginUser.userCode,chatCode:d.getTargetCode(t)}),d.isGroup(t)?{groupCodeStr:t.groupCodeStr}:{}),{type:d.isGroup(t)?u.ChatType.GROUP:u.ChatType.USER})}));console.log("messageList",i),o.fowardTarget=t,d.getTargetCode(t)===d.getTargetCode(o.curChatTarget)&&x.bind(this)(i),v.bind(this)(t)?(i.forEach((function(e){if(e.combindBody)T.bind(n)(e,t);else switch(e.signalType){case u.SignalType.FILE:case u.SignalType.IMAGE:case u.SignalType.VIDEO_FILE:te.bind(n)(e,t);break;case u.SignalType.TEXT:re.bind(n)(e,t);break;case u.SignalType.LOCATION:se.bind(n)(e,t)}})),S.bind(this)(i[i.length-1])):d.getTargetCode(t)===d.getTargetCode(o.curChatTarget)?i.forEach((function(e,r){L.bind(n)(o.chatLog[o.chatLog.length-r-1],d.getTargetCode(t))})):i.forEach((function(e,r){L.bind(n)(e,d.getTargetCode(t))}))}function T(e,t){var n,o,a,c,f=this,p=this.store,A=i.default.getKChat(this.rootName),g=A.rxjsEvent,h=A.fetch,m="";console.log("data[0]",e[0]),e.combindBody?n=(a=e.combindBody).tile:(n=e[0].groupCodeStr?"群聊的聊天记录":e[0].userCode+"和"+e[0].chatCode+"的聊天记录",o=e.map((function(e,t){return t<=3&&(m+=e.userCode+"："+d.formatLatestMsg(e)+"\n"),{time:e.time,sender:{senderCodeForDomain:d.setDomain([e.userCode],l.domain.domainCode)[0],senderType:l.domain.domainCode?u.SenderType.USER:u.SenderType.LINE,senderName:e.userCode},attachment:d.getAttachment(e)}})),a={title:n,description:m=m.substring(m.length-1,0),items:o}),c=r(r({time:Date.now(),target:u.MessageTarget.SELF,srcCode:p.loginUser.userCode,userCode:p.loginUser.userCode,chatCode:d.getTargetCode(t)},d.isGroup(t)?{groupCodeStr:t.groupCodeStr}:{}),{type:d.isGroup(t)?u.ChatType.GROUP:u.ChatType.USER,signalType:u.SignalType.IM_COMBIND,combindBody:a}),p.fowardTarget=t,console.log("combindLogMessage------",c),d.getTargetCode(t)===d.getTargetCode(p.curChatTarget)&&x.bind(this)(c),v.bind(this)(t)?(g.subscribe(u.RxjsEventNames.SEND_IM_COMBIND,h.message.combindMessage(c),{next:function(e){d.getTargetCode(t)===d.getTargetCode(p.curChatTarget)&&_.bind(f)(e)},error:function(e){console.log(e),g.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("消息转发失败"))}}),S.bind(this)(c)):L.bind(this)(c,d.getTargetCode(t))}function S(e){i.default.getKChat(this.rootName).rxjsEvent.subscribe(u.RxjsEventNames.UPDATE_LATEST_MSG,s.of(e))}function x(e,t){var n=this,r=this.store,o=this.refs,a=i.default.getKChat(this.rootName).rxjsEvent;if(0!==Object.keys(r.curChatTarget).length){e=Array.isArray(e)?e:[e],r.chatLog=r.chatLog.concat(e),s.zip.apply(void 0,e.map((function(t,n){return r.chatLog[r.chatLog.length-e.length+n]})).map((function(e){return e.signalType!==u.SignalType.LOCATION||e.location.name&&e.location.address||a.subscribe(u.RxjsEventNames.UPDATE_LOCATION_ADDRESS,s.of(e)),s.of(e)}))).subscribe(),w.bind(this)();var c=e.reduce((function(e,t,n){return t.signalType===u.SignalType.IMAGE?n:e}),-1);if(-1!==c){var l=o.imageMessages[r.chatLog.length-e.length+c].current;l&&setTimeout((function(){w.bind(n)(),l.addEventListener("load",(function e(){w.bind(n)(),l.removeEventListener("load",e)}))}),0)}var d=e.reduce((function(e,t,n){return t.signalType===u.SignalType.LOCATION?n:e}),-1);if(-1!==d){var f=o.locationImages[r.chatLog.length-e.length+d].current;f&&setTimeout((function(){w.bind(n)(),f.addEventListener("load",(function e(){w.bind(n)(),f.removeEventListener("load",e)}))}),0)}}}function _(e){var t=this.store,n=t.chatLog.length-1;e&&e.id&&(t.chatLog[n].messageId=e.id,e.uid&&(t.chatLog[n].uid=e.uid),t.chatLog[n].time=e.time)}function w(){var e=this.refs;e.container.current.scrollTop=e.container.current.scrollHeight}function B(e){return this.store.forwardList.some((function(t){return t===e}))}function I(e){var t=this.store;t.forwardList.push(e),t.forwardList=t.forwardList.sort((function(e,t){return e.time-t.time}))}function R(e){this.store.forwardList.remove(e)}function O(){var e=this.store;e.forwardVisible=!1,e.forwardList.clear(),e.fowardType=u.ForwardTypes.SINGLEFORWARD}function N(){var e=i.default.getKChat(this.rootName).rxjsEvent;this.store.forwardList.length>0?e.subscribe(u.RxjsEventNames.SHOW_SELECT_MEMBER,s.of({type:u.SelectMemberType.FORWARD})):e.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("请选择转发内容"))}function M(){this.store.forwardVisible=!0}function U(){var e=this.store,t=d.getTargetCode(e.curChatTarget);e.unableSend[t]||(e.unableSend[t]=[])}function L(e,t){var n=this.store;n.unableSend[t]||(n.unableSend[t]=[]),n.unableSend[t].push(e),n.unableSend[t]=n.unableSend[t].sort((function(e,t){return e.time-t.time})),P.bind(this)(t)}function F(){this.store.unableSend={}}function P(e){var t=this.store;e===d.getTargetCode(t.curChatTarget)&&t.unableSend[e].forEach((function(e){-1===t.chatLog.findIndex((function(t){return t===e}))&&!t.chatLog.some((function(t,n,r){if(e.time<t.time)return r.splice(n,0,e),!0}))&&t.chatLog.push(e)}))}function j(){var e=this.store;for(var t in e.chatLog=[],e.fowardTarget=null,e.showEditTimers)e.showEditTimers.hasOwnProperty(t)&&clearInterval(e.showEditTimers[t]);e.showEditTimers={}}function D(){var e=this,t=i.default.getKChat(this.rootName),n=t.fetch,o=t.rxjsEvent,a=this.store;a.loadingVisible=!0;var c=++a.histoyFetchTimes,l=d.getTargetCode(a.curChatTarget);n.history.getHistory(r(r({},d.isGroup(a.curChatTarget)?{groupCodeStr:a.curChatTarget.groupCodeStr}:{userCode:a.curChatTarget.userCode}),{limit:100})).subscribe({next:function(t){c===a.histoyFetchTimes&&(a.loadingVisible=!1,d.getTargetCode(a.curChatTarget)===l&&(x.bind(e)(t.list.sort((function(e,t){return e.time-t.time}))),k.bind(e)(),ge.bind(e)()))},error:function(t){console.log(t),o.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("历史记录接口异常")),c===a.histoyFetchTimes&&(a.loadingVisible=!1,d.getTargetCode(a.curChatTarget)===l&&k.bind(e)())}})}function k(){var e=this.store;P.bind(this)(d.getTargetCode(e.curChatTarget)),X.bind(this)(),Ae.bind(this)(d.getTargetCode(e.curChatTarget)),w.bind(this)()}function H(){var e=this.store,t=d.getTargetCode(e.curChatTarget);e.uploadProgress[t]||(e.uploadProgress[t]=[])}function Q(e,t){var n=this.store,r=d.getTargetCode(n.curChatTarget);return d.isSelf(e)&&n.uploadProgress[r].some((function(t){return t.data===e}))}function G(e){var t=this.store,n=d.getTargetCode(t.curChatTarget);t.chatLog.some((function(r){if(r.queueId===e.data.queueId)return t.uploadProgress[n].push({data:r,send:e.send,progress:e.progress}),!0}))}function V(e){var t=this.store,n=function(n){if(t.uploadProgress[n].some((function(r){if(r.data.queueId===e)return t.uploadProgress[n].remove(r),!0})))return"break"};for(var r in t.uploadProgress){if("break"===n(r))break}}function K(e){W.bind(this)(e.queueId).progress=e.progress}function W(e){var t,n=this.store;for(var r in n.uploadProgress)if(n.uploadProgress[r].some((function(n){if(n.data.queueId===e)return t=n,!0})))break;return t}function z(){this.store.uploadProgress={}}function X(){var e=this.store,t=d.getTargetCode(e.curChatTarget);e.uploadProgress[t].forEach((function(t){-1===e.chatLog.findIndex((function(e){return e===t.data}))&&!e.chatLog.some((function(e,n,r){if(t.data.time<e.time)return r.splice(n,0,t.data),!0}))&&e.chatLog.push(t.data)}))}function Y(){var e=this.store,t=d.getTargetCode(e.curChatTarget);e.cancelFiles[t]||(e.cancelFiles[t]=[])}function J(e,t){if(Q.bind(this)(e,t)){var n=W.bind(this)(e.queueId);n&&(n.send.cancel(),V.bind(this)(n.data.queueId),q.bind(this)(e))}}function q(e){var t=this.store,n=d.getTargetCode(t.curChatTarget);t.cancelFiles[n].push(e),t.cancelFiles[n]=t.cancelFiles[n].sort((function(e,t){return e.time-t.time}))}function $(){this.store.cancelFiles={}}function Z(){var e=this.store,t=this.refs;e.isPlayingIdx=-1,clearInterval(t.audio.current.timer),t.audio.current.timer=null,t.audio.current.pause(),t.audio.current.src=""}function ee(e){var t=this,n=i.default.getKChat(this.rootName).rxjsEvent,r=this.store;G.bind(this)(e),r.isSendOrForwardFile=!1,n.subscribe(u.RxjsEventNames.SEND_FILE_END,e.send.upload.pipe(a.map((function(n){return W.bind(t)(e.data.queueId).data.url=n.url,n}))),{error:function(e){console.log(e),n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("上传文件接口异常"))}})}function te(e,t){var n=this.store,r={url:e.url,fileName:e.remark.fileName,fileSize:e.remark.fileSize,fileType:e.signalType,chatCode:e.chatCode,type:e.type},o=i.default.getKChat(this.rootName),a=o.rxjsEvent,c=o.fetch;n.isSendOrForwardFile=!0,a.subscribe(u.RxjsEventNames.SEND_FILE_END,c.message.sendFile(r),{error:function(e){console.log(e),a.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("转发文件失败"))}})}function ne(e){var t=this,n=i.default.getKChat(this.rootName).rxjsEvent;n.subscribe(u.RxjsEventNames.SEND_TEXT_END,e.send,{next:function(e){console.log("发送文本的反馈",e),_.bind(t)(e)},error:function(e){console.log(e),n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("消息发送失败"))}})}function re(e,t){var n=this;console.log("转发文本",e);var r=this.store,o={chatCode:e.chatCode,type:e.type,content:e.content},a=i.default.getKChat(this.rootName),c=a.rxjsEvent,l=a.fetch;c.subscribe(u.RxjsEventNames.SEND_TEXT_END,l.message.sendText(o),{next:function(e){d.getTargetCode(t)===d.getTargetCode(r.curChatTarget)&&_.bind(n)(e)},error:function(e){console.log(e),c.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("消息转发失败"))}})}function oe(e){var t=this,n=i.default.getKChat(this.rootName).rxjsEvent;n.subscribe(u.RxjsEventNames.SEND_IM_REPLY,e.send,{next:function(e){_.bind(t)(e),ve.bind(t)()},error:function(e){console.log(e),n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("消息回复失败"))}})}function ie(e){var t=this,n=i.default.getKChat(this.rootName).rxjsEvent;n.subscribe(u.RxjsEventNames.SEND_LOCATION_END,e.send,{next:function(e){_.bind(t)(e)},error:function(e){console.log(e),n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("位置信息发送失败"))}})}function se(e,t){var n=this,r=this.store,o={chatCode:e.chatCode,type:e.type,location:e.location},a=i.default.getKChat(this.rootName),c=a.rxjsEvent,l=a.fetch;c.subscribe(u.RxjsEventNames.SEND_LOCATION_END,l.map.sendLocation(o),{next:function(e){d.getTargetCode(t)===d.getTargetCode(r.curChatTarget)&&_.bind(n)(e)},error:function(e){console.log(e),c.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("位置信息转发失败"))}})}function ae(e){i.default.getKChat(this.rootName).rxjsEvent.subscribe(u.RxjsEventNames.COPY_MESSAGE,s.of(e))}function ue(e){d.saveFile(e.url)}function ce(e){var t=i.default.getKChat(this.rootName),n=this.store,o=this.styles,a=this.refs.messageContainer[n.curLogIdx].current,c=e.target===u.MessageTarget.SELF?n.loginUser:d.isGroup(n.curChatTarget)?d.getTargetMember(n.curChatTarget,e):n.curChatTarget,l=p.createObserver((function(e){return e.next()}));t.rxjsEvent.subscribe(u.RxjsEventNames.EXPOSE_STAR_ICON_POS,l,(function(i){t.fetch.star.addStar(r({author:{userCode:c.userCode,userName:c.userName},type:u.SignalType[u.SignalType[e.signalType]],content:e},d.isGroup(n.curChatTarget)?{groupCodeStr:n.curChatTarget.groupCodeStr,groupName:n.curChatTarget.groupName}:{})).subscribe({next:function(){t.rxjsEvent.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of({type:u.GlobalMessageTip.SUCCESS,message:"收藏成功"}));var e=f.getElementLeft(a)-f.getElementLeft(t.store.rootDomRef.current),n=f.getElementTop(a)-f.getElementTop(t.store.rootDomRef.current),c=i.x-e-a.offsetWidth/2,l=i.y-n-a.offsetHeight/2;h(a,{useCORS:!0}).then((function(i){t.store.rootDomRef.current.appendChild(i),d.setElementStyle(i.style,r(r({},o.starAnimationContainer),{left:e+"px",top:n+"px"})),i.addEventListener("transitionend",(function(){t.store.rootDomRef.current.removeChild(i),i=null})),setTimeout((function(){i&&(t.store.rootDomRef.current.removeChild(i),i=null)}),1e3),setTimeout((function(){i.style.transform="translate("+c+"px, "+l+"px) scale(0.1)"}),0)}))},error:function(e){console.log(e),t.rxjsEvent.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("收藏失败"))}})})),l.subscribe()}function le(e){if(!e||!e.messageId)return!1;var t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=this.store;r.message.recallMessage({id:e.uid?e.uid:e.messageId,chatCode:e.chatCode,type:d.isGroup(o.curChatTarget)?u.ChatType.GROUP:u.ChatType.USER}).subscribe({next:function(t){console.log("撤回消息中返回的内容",t),t.refId=e.uid?e.uid:e.messageId,n.subscribe(u.RxjsEventNames.RECALL_MESSAGE,s.of(t))},error:function(e){console.log(e),n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("消息撤回失败"))}})}function de(){var e=this.store,t=d.getTargetCode(e.curChatTarget);e.groupSignal[t]||(e.groupSignal[t]=[])}function fe(e,t){var n=this.store;n.groupSignal[t]||(n.groupSignal[t]=[]),n.groupSignal[t].push(e),n.groupSignal[t]=n.groupSignal[t].sort((function(e,t){return e.time-t.time})),Ae.bind(this)(t)}function pe(){this.store.groupSignal={}}function Ae(e){var t=this,n=this.store;e===d.getTargetCode(n.curChatTarget)&&n.groupSignal[e].forEach((function(e){-1===n.chatLog.findIndex((function(t){return t===e}))&&(!n.chatLog.some((function(t,n,r){if(e.time<t.time)return r.splice(n,0,e),!0}))&&n.chatLog.push(e),w.bind(t)())}))}function ge(){var e=this,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent,r=!1;t.chatLog=t.chatLog.map((function(n){if(n.status===u.MessageStatus.RECALL){var o="";d.isSelf(n)?(o="你撤回了一条消息",n.signalType===u.SignalType.TEXT&&(n.editContent=n.content),he.bind(e)(n)):o=(d.isGroup(t.curChatTarget)?n.userCode:"对方")+" 撤回了一条消息",n.content=o,r=!1}else!d.isSelf(n)&&n.content&&(n.content.indexOf("@"+t.loginUser.userName+"：")>-1||d.isGroup(t.curChatTarget)&&n.content.indexOf("@所有人：")>-1)&&(r=!0);return n})),!r&&n.subscribe(u.RxjsEventNames.UPDATE_AT_BAR_STATUS,s.of({status:!1,srcCode:""}))}function he(e){var t=this.store;!t.showEditTimers[e.messageId]&&e.signalType===u.SignalType.TEXT&&Date.now()-e.time-t.serverClientTimeDiff<12e4&&(t.showEditTimers[e.messageId]=setInterval((function(){Date.now()-e.time-t.serverClientTimeDiff>12e4&&(clearInterval(t.showEditTimers[e.messageId]),delete t.showEditTimers[e.messageId])}),3e3))}function me(e){var t=i.default.getKChat(this.rootName).fetch,n=this.store,r=n.replySourceLog,o={target:u.MessageTarget.SELF,time:(new Date).getTime(),signalType:u.SignalType.IM_REPLY,userCode:n.loginUser.userCode,content:e.content,chatCode:e.chatCode,bodyMessage:{text:e.content,refItem:{time:e.time,sender:{senderCodeForDomain:d.setDomain([r.userCode],l.domain.domainCode)[0],senderType:u.SenderType.USER,senderName:r.userCode},attachment:d.getAttachment(r)}}};n.curChatTarget.groupCodeStr&&(o.groupCodeStr=n.curChatTarget.groupCodeStr);var s=o.chatCode,a=o.bodyMessage;b.bind(this)({data:o,send:t.message.replyMessage({chatCode:s,bodyMessage:a,type:e.type})})}function ye(e){var t=this.store;t.replyVisible=!0,t.replySourceLog=e}function ve(){var e=this.store;e.replyVisible=!1,e.replySourceLog={}}t.default=function(){return[o.mounted("UpdateLoginUser",(function(){var e=i.default.getKChat(this.rootName),t=this.store,n=c.autorun((function(){t.loginUser=e.store.loginUser}));return function(){return n()}})),o.mounted("UpdateCurChatTarget",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=a.map((function(r){return n.curChatTarget=r,t.subscribe(u.RxjsEventNames.UPDATE_AT_BAR_STATUS,s.of({status:!1,srcCode:""})),ve.bind(e)(),d.getTargetCode(r)&&(j.bind(e)(),H.bind(e)(),Y.bind(e)(),U.bind(e)(),O.bind(e)(),de.bind(e)(),D.bind(e)()),Z.bind(e)(),r}));return t.addPipe(u.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,r),function(){return t.removePipe(u.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,r)}})),o.mounted("LoginSuccess",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return z.bind(e)(),$.bind(e)(),F.bind(e)(),O.bind(e)(),pe.bind(e)(),t}));return t.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,n),function(){return t.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,n)}})),o.mounted("ClickUserHead",(function(){var e=this.refs,t=this.styles,n=this.store,r=i.default.getKChat(this.rootName),o={name:"chatAreaUserInfoPopup",show:function(){return n.showUserInfoPopup=!0},hide:function(){n.showUserInfoPopup=!1,r.rxjsEvent.subscribe(u.RxjsEventNames.CHANGE_CHAT_AREA_USER_INFO,s.of({}))},targets:[e.userInfoRef]};s.fromEvent(e.container.current,"click").subscribe((function(i){e.userHeadImgs.some((function(a,c){if(f.isDescendant(i.target,a.current,e.container.current))return d.isGroup(n.curChatTarget)&&r.fetch.user.getUserInfo(n.chatLog[c]).subscribe({next:function(a){r.rxjsEvent.subscribe(u.RxjsEventNames.CHANGE_CHAT_AREA_USER_INFO,s.of(a),{next:function(){r.store.popupManager.add(o);var s=i.y-f.getElementTop(r.store.rootDomRef.current),u=r.store.rootDomRef.current.offsetHeight-e.userInfoRef.current.offsetHeight;t.userInfoContainer.top=Math.min(s,u)+"px",t.userInfoContainer.left=d.isTarget(n.loginUser,a)?i.x-f.getElementLeft(e.container.current)-e.userInfoRef.current.offsetWidth+"px":i.x-f.getElementLeft(e.container.current)+"px"}})},error:function(e){console.log(e),r.rxjsEvent.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("获取用户信息失败"))}}),!0}))}))})),o.mounted("ClickImageMessage",(function(){var e=this.refs,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent;s.fromEvent(e.container.current,"click").subscribe((function(r){e.imageMessages.some((function(o,i){if(o.current&&f.isDescendant(r.target,o.current,e.container.current))return t.curLogIdx=i,n.subscribe(u.RxjsEventNames.SHOW_IMAGE,s.of({imageInfo:t.chatLog[i],rightMouseType:u.RightMouseType.CHAT_CONTENT,menus:t.menus[u.SignalType.IMAGE]})),!0}))}))})),o.mounted("ClickUploadStatus",(function(){var e=this,t=this.refs,n=this.store;s.fromEvent(t.container.current,"click").subscribe((function(r){t.fileStatusBox.some((function(o,i){if(o.current&&f.isDescendant(r.target,o.current,t.container.current))return d.isSelf(n.chatLog[i])?Q.bind(e)(n.chatLog[i],i)&&J.bind(e)(n.chatLog[i],i):t.fileDownloadLink[i].current.click(),!0}))}))})),o.mounted("ReceiveMessage",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,o=a.map((function(t){return n.message.on("receiveMessage",(function(t){return m.bind(e)(t)})),n.map.on("receiveMessage",(function(t){return m.bind(e)(t)})),n.ptt.on("endSpeak",(function(t){return m.bind(e)(t)})),t}));return r.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,o),function(){return r.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,o)}})),o.mounted("SendfileLocationSuccess",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,o=this.store,s=a.map((function(t){return n.message.on("sendfileSuccess",(function(t){!o.isSendOrForwardFile&&_.bind(e)(t),o.isSendOrForwardFile&&d.getTargetCode(o.fowardTarget)===d.getTargetCode(o.curChatTarget)&&_.bind(e)(t)})),t}));return r.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,s),function(){return r.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,s)}})),o.mounted("UpdateServerClientTime",(function(){var e=this.store;i.default.getKChat(this.rootName).fetch.login.on("updateServerClientTime",(function(t){e.serverClientTimeDiff=Date.now()-t.time,console.log("serverClientTimeDiff ------ "+e.serverClientTimeDiff+"  ms")}))})),o.mounted("EndPtt",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return x.bind(e)(t),S.bind(e)(t),t}));return t.addPipe(u.RxjsEventNames.SEND_AUDIO_END,n),function(){return t.removePipe(u.RxjsEventNames.SEND_AUDIO_END,n)}})),o.mounted("UpdateForwardList",(function(){var e=this,t=this.refs,n=this.store;s.fromEvent(t.container.current,"click").subscribe((function(r){t.forwardCheckBoxs.some((function(o,i){if(o.current&&f.isDescendant(r.target,o.current,t.container.current))return B.bind(e)(n.chatLog[i])?R.bind(e)(n.chatLog[i]):I.bind(e)(n.chatLog[i]),!0}))}))})),o.mounted("ShowForwardPopup",(function(){var e=this,t=this.refs,n=this.store;s.fromEvent(t.forwardBtn.current,"click").subscribe((function(){n.fowardType=u.ForwardTypes.SINGLEFORWARD,N.bind(e)()})),s.fromEvent(t.combindForwardBtn.current,"click").subscribe((function(){n.fowardType=u.ForwardTypes.COMBINDFORWARD,N.bind(e)()})),s.fromEvent(t.cancelForwardBtn.current,"click").subscribe((function(){O.bind(e)()}))})),o.mounted("SubmitForward",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=a.map((function(t){return t.type===u.SelectMemberType.FORWARD&&(t.list.forEach((function(t){E.bind(e)(n.forwardList,t)})),O.bind(e)()),t}));return t.addPipe(u.RxjsEventNames.SELECTED_MEMBER_COMMIT,r),function(){return t.removePipe(u.RxjsEventNames.SELECTED_MEMBER_COMMIT,r)}})),o.mounted("StartForwardInOtherComponent",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return O.bind(e)(),I.bind(e)(t),t}));return t.addPipe(u.RxjsEventNames.BROADCAST_FORWARD_MESSAGE,n),function(){return t.removePipe(u.RxjsEventNames.BROADCAST_FORWARD_MESSAGE,n)}})),o.mounted("CancelForward",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return t===u.SelectMemberType.FORWARD&&O.bind(e)(),t}));return t.addPipe(u.RxjsEventNames.SELECTED_MEMBER_CANCEL,n),function(){return t.removePipe(u.RxjsEventNames.SELECTED_MEMBER_CANCEL,n)}})),o.mounted("SendFileStart",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,o=this.store,c=a.map((function(t){var r={target:u.MessageTarget.SELF,time:(new Date).getTime(),signalType:t.fileType,userCode:o.loginUser.userCode,url:"",remark:{fileName:t.file.name,fileSize:t.file.size},queueId:t.queueId,chatCode:t.chatCode};return o.curChatTarget.groupCodeStr&&(r.groupCodeStr=o.curChatTarget.groupCodeStr),(r.signalType===u.SignalType.IMAGE?d.fileToBase64(t.file).pipe(a.map((function(e){return r.url=e,{data:r,send:n.message.sendFile(t),progress:0}}))):s.of({data:r,send:n.message.sendFile(t),progress:0})).subscribe((function(t){b.bind(e)(t)})),t}));return r.addPipe(u.RxjsEventNames.SEND_FILE_START,c),function(){return r.removePipe(u.RxjsEventNames.SEND_FILE_START,c)}})),o.mounted("SendTextStart",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=this.store,s=a.map((function(t){if(o.replyVisible)me.bind(e)(t);else{var n={target:u.MessageTarget.SELF,time:(new Date).getTime(),signalType:u.SignalType.TEXT,userCode:o.loginUser.userCode,content:t.content,chatCode:t.chatCode};o.curChatTarget.groupCodeStr&&(n.groupCodeStr=o.curChatTarget.groupCodeStr),b.bind(e)({data:n,send:r.message.sendText(t)})}return t}));return n.addPipe(u.RxjsEventNames.SEND_TEXT_START,s),function(){return n.removePipe(u.RxjsEventNames.SEND_TEXT_START,s)}})),o.mounted("UpdateFileProgress",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return K.bind(e)(t),t}));return t.addPipe(u.RxjsEventNames.UPDATE_PROGRESS,n),function(){return t.removePipe(u.RxjsEventNames.UPDATE_PROGRESS,n)}})),o.mounted("SendFileEnd",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return V.bind(e)(t.queueId),t}));return t.addPipe(u.RxjsEventNames.SEND_FILE_END,n),function(){return t.removePipe(u.RxjsEventNames.SEND_FILE_END,n)}})),o.mounted("PlayAudio",(function(){var e=this,t=this.refs,n=this.store;s.fromEvent(t.audio.current,"canplay").subscribe((function(){t.audio.current.play(),t.audio.current.timer=setInterval((function(){t.audio.current.paused?Z.bind(e)():n.playingStep<3?n.playingStep++:n.playingStep=1}),200)})),s.fromEvent(t.audio.current,"error").subscribe((function(){n.playingStep=3})),s.fromEvent(t.container.current,"click").subscribe((function(r){t.audioContainer.some((function(o,i){if(o.current&&f.isDescendant(r.target,o.current,t.container.current))return t.audio.current.paused?(Z.bind(e)(),n.isPlayingIdx=i,t.audio.current.src=n.chatLog[i].url):Z.bind(e)(),!0}))}))})),o.mounted("ShowRightMouse",(function(){var e=i.default.getKChat(this.rootName),t=this.refs,n=this.store;s.fromEvent(t.container.current,"contextmenu").subscribe((function(r){n.forwardVisible||t.messageContainer.some((function(o,i){if(o.current&&f.isDescendant(r.target,o.current,t.container.current))return n.curLogIdx=i,e.rxjsEvent.subscribe(u.RxjsEventNames.SHOW_RIGHT_MOUSE,s.of({event:r,rightMouseType:u.RightMouseType.CHAT_CONTENT,menuPos:{x:r.x-f.getElementLeft(e.store.rootDomRef.current),y:r.y-f.getElementTop(e.store.rootDomRef.current)},menus:n.menus[n.chatLog[i].signalType]})),!0}))}))})),o.mounted("ClickRightMouse",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=a.map((function(t){if(t.rightMouseType===u.RightMouseType.CHAT_CONTENT){var r=n.chatLog[n.curLogIdx],o=n.curLogIdx;switch(t.name){case u.RightMouseName.CANCEL:J.bind(e)(r,o);break;case u.RightMouseName.COPY:ae.bind(e)(r);break;case u.RightMouseName.FORWARD:I.bind(e)(r),N.bind(e)();break;case u.RightMouseName.FORWARD_MORE:M.bind(e)(r,o);break;case u.RightMouseName.SAVE:ue.bind(e)(r);break;case u.RightMouseName.STAR:ce.bind(e)(r);break;case u.RightMouseName.RECALL:le.bind(e)(r);break;case u.RightMouseName.IM_REPLY:ye.bind(e)(r)}n.curLogIdx=-1}return t}));return t.addPipe(u.RxjsEventNames.CLICK_RIGHT_MOUSE,r),function(){return t.removePipe(u.RxjsEventNames.CLICK_RIGHT_MOUSE,r)}})),o.mounted("ScreenshotForward",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=this.store,c=a.map((function(t){d.imageToBase64(t).subscribe((function(t){var i="cutImage"+o.loginUser.userCode+(new Date).getTime()+".png",a=d.base64ToFile(t,i);r.message.singleFileUpload({file:a,fileType:u.SignalType.IMAGE,loginUserCode:o.loginUser.userCode}).upload.subscribe({next:function(t){var n={target:u.MessageTarget.SELF,time:(new Date).getTime(),signalType:u.SignalType.IMAGE,userCode:o.loginUser.userCode,url:t.url,remark:{fileName:a.name,fileSize:a.size}};o.curChatTarget.groupCodeStr&&(n.groupCodeStr=o.curChatTarget.groupCodeStr),I.bind(e)(n),N.bind(e)()},error:function(e){console.log(e),n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("截图上传服务器失败"))}})}))}));return n.addPipe(u.RxjsEventNames.SCREEN_FORWARD,c),function(){return n.removePipe(u.RxjsEventNames.SCREEN_FORWARD,c)}})),o.mounted("PlayVideoFile",(function(){var e=this.refs,t=this.store;s.fromEvent(document,d.fullscreenchange()).subscribe((function(e){var n=t.curPlayVideoRef.current;e.target===n&&n&&(document[A.default.fullscreenElement]!==n?(n.currentTime=0,n.pause(),n.style.objectFit="cover"):n.style.objectFit="contain")})),s.fromEvent(e.container.current,"click").subscribe((function(n){e.videoPlays.some((function(r,o){if(f.isDescendant(n.target,r.current,e.container.current))return t.curPlayVideoRef=e.videoFiles[o],d.openFullscreen(e.videoFiles[o].current),e.videoFiles[o].current.play(),!0}))}))})),o.mounted("OpenMap",(function(){var e=this.refs,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent;s.fromEvent(e.container.current,"click").subscribe((function(r){e.locationContainer.some((function(o,i){if(f.isDescendant(r.target,o.current,e.container.current))return window.KChatConfig.kmap&&window.KChatConfig.kmap.configUrl?(n.subscribe(u.RxjsEventNames.SHOW_LOCATION,s.of(t.chatLog[i])),!0):(n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,s.of("未引入地图服务")),!0)}))}))})),o.mounted("RecvGroupSignal",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=a.map((function(t){return-1!==g.inArray(t.signalType,[u.SignalType.GROUP_JOIN,u.SignalType.GROUP_KICK,u.SignalType.GROUP_QUIT,u.SignalType.GROUP_DISMISS])&&t.groupCodeStr===d.getTargetCode(n.curChatTarget)&&fe.bind(e)(t,t.groupCodeStr),t}));return t.addPipe(u.RxjsEventNames.UPDATE_LATEST_MSG,r),function(){return t.removePipe(u.RxjsEventNames.UPDATE_LATEST_MSG,r)}})),o.mounted("SendLocationStart",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=this.store,s=a.map((function(t){var n={target:u.MessageTarget.SELF,time:(new Date).getTime(),signalType:u.SignalType.LOCATION,userCode:o.loginUser.userCode,location:t.location,chatCode:t.chatCode};return o.curChatTarget.groupCodeStr&&(n.groupCodeStr=o.curChatTarget.groupCodeStr),b.bind(e)({data:n,send:r.map.sendLocation(t)}),t}));return n.addPipe(u.RxjsEventNames.SEND_LOCATION_START,s),function(){return n.removePipe(u.RxjsEventNames.SEND_LOCATION_START,s)}})),o.mounted("SetMenuOptions",(function(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=a.map((function(e){return Array.isArray(e)?e.forEach((function(e){e.rightMouseOptions.forEach((function(n){t.menuOptions[e.type][n.rightMouse]=n.isValid}))})):e.rightMouseOptions.forEach((function(n){t.menuOptions[e.type][n.rightMouse]=n.isValid})),e}));return e.addPipe(u.RxjsEventNames.SET_RIGHT_MOUSE,n),function(){return e.removePipe(u.RxjsEventNames.SET_RIGHT_MOUSE,n)}})),o.mounted("ListenClearAtBar",(function(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=a.map((function(e){return t.atSrc=e.srcCode,t.atBarVisible=e.status||!1,e}));return e.addPipe(u.RxjsEventNames.UPDATE_AT_BAR_STATUS,n),function(){return e.removePipe(u.RxjsEventNames.UPDATE_AT_BAR_STATUS,n)}})),o.mounted("ClearAtBar",(function(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.refs;s.fromEvent(t.closeAtText.current,"click").subscribe({next:function(){e.subscribe(u.RxjsEventNames.UPDATE_AT_BAR_STATUS,s.of({status:!1,srcCode:""}))}})})),o.mounted("RecallMessageSuccess",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=(this.refs,this.store),r=a.map((function(t){return n.chatLog.some((function(r,o){if(r.uid===t.refId){r.status=u.MessageStatus.RECALL,r.signalType===u.SignalType.TEXT&&(r.editContent=r.content);return r.content="你撤回了一条消息",n.chatLog[o]=r,d.isSelf(r)&&he.bind(e)(r),!0}})),t}));return t.addPipe(u.RxjsEventNames.RECALL_MESSAGE,r),function(){return t.removePipe(u.RxjsEventNames.RECALL_MESSAGE,r)}})),o.mounted("RecallMessageEidt",(function(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.refs,n=this.store;s.fromEvent(t.container.current,"click").subscribe((function(r){console.log("重新编辑"),t.recallEdits.some((function(o,i){if(f.isDescendant(r.target,o.current,t.container.current))return e.subscribe(u.RxjsEventNames.RECALL_EDIT,s.of(n.chatLog[i].editContent)),!0}))}))})),o.mounted("HideReply",(function(){var e=this,t=this.refs;s.fromEvent(t.closeReplyRef.current,"click").subscribe({next:function(){ve.bind(e)()}})})),o.mounted("ClickCombindMessage",(function(){var e=this.refs,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent;s.fromEvent(e.container.current,"click").subscribe((function(r){e.combindContainer.some((function(o,i){if(o.current&&f.isDescendant(r.target,o.current,e.container.current))return t.curLogIdx=i,n.subscribe(u.RxjsEventNames.SHOW_COMBIND_POPUP,s.of(t.chatLog[i])),!0}))}))}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(467),i=n(468),s=n(469);t.default=function e(t,n,a){return r.default("LiveJoin",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(6),u=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=u(null),e.refs.reloadBtn=u(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=t.assets.fonts,i=e.store,u=e.refs;return o.createElement("div",{ref:e.refs.container,"data-tree":e.name,style:a.toggleVisible(r(r({},t.container),i.errorStatus?t.errorContainer:{}),i.visible),"data-style-name":i.errorStatus?"errorContainer":"container"},o.createElement("i",{className:n.liveIcon,style:t.liveIcon,"data-style-name":"liveIcon"}),o.createElement("span",{style:a.toggleVisible(t.liveTip,!i.errorStatus),"data-style-name":"liveTip"},i.tip),o.createElement("div",{style:a.toggleVisible(t.reloadBox,i.errorStatus),"data-style-name":"reloadBox"},"获取失败  ",o.createElement("span",{ref:u.reloadBtn,style:t.reloadBtn,"data-style-name":"reloadBtn"},"重新加载")),o.createElement("div",{style:a.toggleVisible(t.joinBtn,!i.errorStatus&&i.unJoin),"data-style-name":"joinBtn"},"加入"))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{fonts:{liveIcon:"icon iconfont icon-video-intercom"}},container:{width:"100%",height:"28px",position:"absolute",zIndex:1,backgroundColor:"rgba(190, 193, 201, 0.16)",paddingLeft:"50px",lineHeight:"28px",top:"70px",cursor:"pointer",fontSize:"12px",color:o.$theme.$baseColor},errorContainer:{cursor:"default"},liveIcon:r(r({},o.vertical()),{left:"16px",lineHeight:"28px",fontSize:"18px",color:o.$theme.$baseColor}),liveTip:{},reloadBox:{color:"#B6B6B6",fontSize:"12px"},reloadBtn:{color:o.$theme.$baseColor,textDecoration:"underline",cursor:"pointer"},joinBtn:r({width:"36px",height:"18px",right:"20px",lineHeight:"16px",textAlign:"center",fontSize:"10px",borderRadius:"4px",border:"1px solid "+o.$theme.$baseColor},o.vertical())}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({visible:!1,unJoin:!1,curChatTarget:{},tip:"",liveType:o.LiveType.VIDEO,videoType:o.VideoType.VIDEO,loginUser:{},errorStatus:!1})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(5),s=n(1),a=n(8),u=n(2),c=n(13);function l(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store;e.subscribe(s.RxjsEventNames.UPDATE_LIVING_INFO_START,c.of(t.curChatTarget))}t.default=function(){return[r.mounted("UpdateLoginUser",(function(){var e=o.default.getKChat(this.rootName),t=this.store,n=u.autorun((function(){t.loginUser=e.store.loginUser}));return function(){return n()}})),r.mounted("UpdateCurChatTarget",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=i.map((function(e){return t.curChatTarget=e,e}));return e.addPipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n),function(){return e.removePipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n)}})),r.mounted("HideJoinBar",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=i.map((function(e){return t.visible=!1,e}));return e.addPipe(s.RxjsEventNames.HIDE_JOIN_BAR,n),function(){return e.removePipe(s.RxjsEventNames.HIDE_JOIN_BAR,n)}})),r.mounted("JoinLive",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName).rxjsEvent;c.fromEvent(e.container.current,"click").pipe(i.filter((function(){return!t.errorStatus}))).subscribe((function(){n.subscribe(s.RxjsEventNames.APPLY_JOIN,c.of(t.curChatTarget))}))})),r.mounted("ReloadInfo",(function(){var e=this,t=this.refs;c.fromEvent(t.reloadBtn.current,"click").subscribe((function(){l.bind(e)()}))})),r.mounted("UpdateLivingInfoEnd",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=o.default.getKChat(this.rootName),n=this.store,r=i.map((function(e){if(console.log("群信息",e),a.getTargetCode(e)!==a.getTargetCode(n.curChatTarget))return e;if(e.info){if(n.errorStatus=!1,!e.info.activemembersList)return n.visible=!1,e;var r=e.info,o=r.activemembersList,i=r.liveType,u=r.videoType;if(o.length>0){n.liveType=i,n.videoType=u;for(var l=!0,d=0;d<o.length;d++)o[d]===n.loginUser.userCode&&(l=!1,console.log("您已在当前语音或视频中"));if(n.unJoin=l,i===s.LiveType.LIVE?n.tip=a.isGroup(n.curChatTarget)?o.length+"人正在直播房间":"正在直播":(s.VideoType.VIDEO,n.tip=a.isGroup(n.curChatTarget)?o.length+"人正在双向音视频":"正在双向音视频"),e.groupCodeStr)t.fetch.group.getGroupInfo({groupCodeStr:e.groupCodeStr}).subscribe({next:function(e){if(console.log("获取到得群成员信息",e),e.groupMembers){var t=!1;e.groupMembers.filter((function(e){return 0===e.state})).filter((function(e){e.userCode===n.loginUser.userCode&&(console.log("您在当前群组中"),t=!0)})),n.visible=t}},error:function(e){console.log(e),t.rxjsEvent.subscribe(s.RxjsEventNames.SHOW_MESSAGE,c.of("对象信息获取失败"))}});else n.visible=!0}else n.visible=!1;return e}return n.errorStatus=!0,e}));return e.addPipe(s.RxjsEventNames.UPDATE_LIVING_INFO_END,r),function(){return e.removePipe(s.RxjsEventNames.UPDATE_LIVING_INFO_END,r)}}))]}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(472),s=n(473),a=n(475),u=n(138),c=n(139),l=n(62),d=n(61),f=n(11),p=n(12),A=n(5),g=n(1);t.default=function e(t,n,h){return o.default("Collection",i.default,{rootName:t,_styles:s.default(),store:a.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:h},[u.default(t,".kc-star-page-list",r([f.mounted("SetType",(function(){this.store.type=g.PageType.STAR}))],c.default())).setName("StarPageList"),l.default(t,".kc-star-user-info",r([f.mounted("ChangeUserInfo",(function(){var e=this,t=p.default.getKChat(this.rootName).rxjsEvent,n=A.map((function(t){e.store.userInfo=t}));return t.addPipe(g.RxjsEventNames.CHANGE_STAR_USER_INFO,n),function(){return t.removePipe(g.RxjsEventNames.CHANGE_STAR_USER_INFO,n)}}))],d.default())).setName("StarUserInfoPopup")])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(29),a=n(8),u=n(6),c=n(1),l=r.useRef;function d(e){var t=e.favoritedUserName||"";return e.favoritedChatName&&"single"!==e.favoritedChatName&&(t+="("+(e.favoritedChatName||"")+")"),t}function f(e,t){if(!e)return"";var n=e.lastIndexOf("."),r="";return-1!==n&&(r=e.slice(n)),-1!==[".doc",".docx"].indexOf(r)?t.doc:-1!==[".xls",".xlsx"].indexOf(r)?t.excel:-1!==[".ppt",".pptx"].indexOf(r)?t.ppt:-1!==[".txt"].indexOf(r)?t.txt:-1!==[".rar",".zip"].indexOf(r)?t.rar:-1!==[".pdf"].indexOf(r)?t.pdf:-1!==[".mp4",".mpg",".mpeg",".avi",".rm",".rmvb",".mov",".wmv"].indexOf(r)?t.video:-1!==[".mp3",".wav",".ogg"].indexOf(r)?t.music:t.unknow}t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=l(null),e.refs.resultRef=l(null),e.refs.userInfoRef=l(null),e.refs.imageBoxRef=l(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets,o=n.images,l=n.fonts,p=e.store,A=p.title,g=p.type,h=p.starList,m=p.showUserInfoPopup,y=p.pictureList;e.refs.starRefs=h.map((function(){return{current:null}})),e.refs.starSrcRef=h.map((function(){return{current:null}}));var v=h.map((function(){return{current:null}}));e.refs.starItemRefs=v.map((function(e){return{get current(){return e.current.refs.current}}}));var b=function(e){return r.createElement("div",{style:t.starContent,"data-style-name":"starContent"},r.createElement("i",{style:t.fileIcon,"data-style-name":"fileIcon",className:f(e.remark.fileName||"",l)}),r.createElement("div",{style:t.fileInfoBox,"data-style-name":"fileInfoBox"},r.createElement("span",{style:t.fileName,"data-style-name":"fileName",title:e.remark.fileName},e.remark.fileName||""),r.createElement("span",{style:t.fileSize,"data-style-name":"fileSize"},a.formatFileSize(e.remark.fileSize))))},E=function(n,o){return r.createElement("div",{style:t.starContent,"data-style-name":"starContent"},r.createElement("div",{style:t.videoContainer,"data-style-name":"videoContainer",ref:e.refs.starRefs[o]},r.createElement("video",{style:t.video,"data-style-name":"video",src:n.url}),r.createElement("div",{style:t.videoMask,"data-style-name":"videoMask"},r.createElement("i",{style:t.videoPlayIcon,"data-style-name":"videoPlayIcon",className:l.play}))))},C=function(n,o){return r.createElement("div",{style:t.starContent,"data-style-name":"starContent"},r.createElement("div",{style:t.imageContainer,"data-style-name":"imageContainer",ref:e.refs.starRefs[o]},r.createElement("img",{src:n.url,style:t.image,"data-style-name":"image"})))},T=function(n,o){return r.createElement("div",{style:t.starContent,"data-style-name":"starContent"},r.createElement("div",{style:t.imageContainer,"data-style-name":"imageContainer",ref:e.refs.starRefs[o]},r.createElement("img",{src:n.location&&n.location.snapshotUrl,style:t.image,"data-style-name":"image"})))},S=function(e){return r.createElement("div",{style:t.starContent,"data-style-name":"starContent"},r.createElement("span",{style:t.textContainer,"data-style-name":"textContainer",title:e.content},e.content))},x=function(e,n){return r.createElement("div",{style:t.starContent,"data-style-name":"starContent"},r.createElement("span",{style:t.textContainer,"data-style-name":"textContainer"},"[回复消息]：",e.bodyMessage.text))},_=function(n,o){return r.createElement("div",{style:t.starContent,ref:e.refs.starRefs[o],"data-style-name":"starContent"},r.createElement("div",{style:t.combindLogContainer,"data-style-name":"combindLogContainer"},r.createElement("h3",{style:t.combindTitle,"data-style-name":"combindTitle"},n.combindBody.title),r.createElement("textarea",{style:t.combindDescription,readOnly:!0,"data-style-name":"combindDescription",value:n.combindBody.description})))};return e.refs.imagesRefs=y.map((function(e){return e.data.map((function(){return{current:null}}))})),r.createElement("div",{style:t.container,"data-style-name":"container","data-tree":e.name},r.createElement("div",{style:t.header,"data-style-name":"header"},r.createElement("span",null,A)),r.createElement("div",{style:t.content,"data-style-name":"content"},r.createElement("img",{style:u.toggleVisible(t.emptyImage,0===h.length),src:o.emptyImage,"data-style-name":"emptyImage"}),r.createElement("div",{style:u.toggleVisible(t.queryStarResult,g!==c.SignalType.IMAGE),ref:e.refs.resultRef,"data-style-name":"queryStarResult"},h.map((function(n,o){var i=n.favoriteContent;return r.createElement(s.Pseudo,{key:n.favoriteId,style:t.queryStarItem,hoverStyle:t.queryStarItemHover,ref:v[o],"data-style-name":"queryStarItem"},r.createElement("div",{style:t.starItemBox,"data-style-name":"starItemBox"},i.signalType===c.SignalType.FILE&&b(i),i.signalType===c.SignalType.VIDEO_FILE&&E(i,o),i.signalType===c.SignalType.IMAGE&&C(i,o),i.signalType===c.SignalType.LOCATION&&T(i,o),i.signalType===c.SignalType.TEXT&&S(i),i.signalType===c.SignalType.IM_REPLY&&x(i,o),i.signalType===c.SignalType.IM_COMBIND&&_(i,o),r.createElement("div",{style:t.starInfo,"data-style-name":"starInfo"},r.createElement("span",null,a.formatTime(n.createTime)),r.createElement("span",{style:t.starInfoSrc,"data-style-name":"starInfoSrc",ref:e.refs.starSrcRef[o],title:d(n)},"来自：",d(n)))))}))),r.createElement("div",{style:u.toggleVisible(t.queryStarPicList,g===c.SignalType.IMAGE),"data-style-name":"queryStarPicList"},r.createElement("div",{style:t.picMonthBox,"data-style-name":"picMonthBox",ref:e.refs.imageBoxRef},y.map((function(n,o){return r.createElement("div",{style:t.picMonthItem,"data-style-name":"picMonthItem",key:o},r.createElement("div",{style:t.monthItemTitle,"data-style-name":"monthItemTitle"},["一","二","三","四","五","六","七","八","九","十","十一","十二"][(i=n).month]+"月 "+i.year),r.createElement("ul",{style:t.monthItemPicContainer,"data-style-name":"monthItemPicContainer"},n.data.map((function(n,i){return r.createElement("li",{ref:e.refs.imagesRefs[o][i],style:t.monthItemPicItem,"data-style-name":"monthItemPicItem",key:i},r.createElement("img",{style:t.monthItemPic,"data-style-name":"monthItemPic",src:n.favoriteContent.url}))}))));var i}))))),r.createElement("div",{style:t.footer,className:"kc-star-page-list","data-style-name":"footer"}),r.createElement("div",{style:u.toggleVisible(t.userInfoContainer,m),"data-style-name":"userInfoContainer"},r.createElement("div",{className:"kc-star-user-info",ref:e.refs.userInfoRef,style:t.userInfoBox,"data-style-name":"userInfoBox"})))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{emptyImage:n(474)},fonts:{doc:"icon iconfont icon-word doc",excel:"icon iconfont icon-excel excel",ppt:"icon iconfont icon-ppt ppt",txt:"icon iconfont icon-txt txt",rar:"icon iconfont icon-rar rar",pdf:"icon iconfont icon-pdf pdf",video:"icon iconfont icon-video video",music:"icon iconfont icon-music music",unknow:"icon iconfont icon-unknowfile unknow",play:"icon iconfont icon-icon-broadcast"}},container:{position:"relative",height:"100%",backgroundColor:"#F6F6FC"},header:{height:"70px",borderBottom:"1px solid #DCDFE6",padding:"38px 0 0 20px",lineHeight:"22px",fontSize:"16px",color:"#333"},content:{height:"calc(100% - 110px)"},emptyImage:{position:"absolute",left:"50%",top:"50%",width:"200px",transform:"translate(-50%, -50%)"},queryStarResult:{height:"100%",overflow:"auto"},queryStarItem:{position:"relative",padding:"20px 40px 0"},starItemBox:{minHeight:"70px",display:"flex",justifyContent:"space-between",paddingBottom:"20px",borderBottom:"1px solid #DCDFE6"},starContent:{width:"65%",display:"flex"},fileIcon:{fontSize:"45px",lineHeight:"45px"},fileInfoBox:{width:"calc(100% - 60px)",display:"flex",flexDirection:"column",justifyContent:"space-between",marginLeft:"15px"},fileName:r({width:"150px",fontSize:"12px",lineHeight:"17px",color:"#373C3D"},o.ellipsis()),fileSize:{fontSize:"12px",color:"#B7B7B7",lineHeight:"17px"},videoContainer:{position:"relative",width:"90px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#000",cursor:"pointer"},video:{maxWidth:"90px",maxHeight:"50px"},videoMask:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},videoPlayIcon:{fontSize:"25px",color:"#fff"},imageContainer:{position:"relative",width:"90px",height:"50px",cursor:"pointer"},image:{width:"90px",height:"50px",objectFit:"cover"},textContainer:{width:"100%",height:"50px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"pre-wrap",wordBreak:"break-all",lineHeight:"16px",display:"-webkit-box",WebkitLineClamp:"3",WebkitBoxOrient:"vertical",fontSize:"12px",color:"#333",userSelect:"text"},combindLogContainer:{maxWidth:"200px",color:"#333",backgroundColor:"#fff",borderRadius:"4px",padding:"10px"},combindTitle:r(r({fontSize:"14px",lineHeight:"25px"},o.ellipsis()),{borderBottom:"1px solid"+o.$theme.$borderColor,cursor:"pointer"}),combindDescription:{border:"none",display:"block",width:"100%",overflow:"hidden",height:"43px",color:o.$theme.$lightFontColor,outline:"none",cursor:"pointer"},starInfo:{width:"30%",display:"flex",flexDirection:"column",justifyContent:"space-between",textAlign:"right",color:"#B6B6B6",fontSize:"12px"},starInfoSrc:r({cursor:"pointer"},o.ellipsis()),queryStarItemHover:{backgroundColor:"#EAEAEF"},queryStarPicList:{height:"calc(100% - 110px)",overflow:"auto"},picMonthBox:{padding:"25px 40px"},picMonthItem:{marginBottom:"25px"},monthItemTitle:{marginBottom:"6px"},monthItemPicContainer:{width:"370px",display:"flex",flexWrap:"wrap"},monthItemPicItem:{width:"66px",height:"66px",overflow:"hidden",margin:"4px 8px 0 0",cursor:"pointer"},monthItemPic:{width:"66px",height:"66px",objectFit:"cover"},footer:r({position:"relative",height:"40px",borderTop:"1px solid #DCDFE6",paddingRight:"20px"},o.flex({justifyContent:"flex-end",alignItems:"center"})),userInfoContainer:{position:"absolute",right:"0",top:"0",width:"270px",zIndex:"1"},userInfoBox:{}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/empty-star.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){var e,t=r.observable({title:"",type:-1,starList:[],pageCount:5,total:-1,searchWord:"",curStar:null,forwardLog:{},showUserInfoPopup:!1,menus:(e={},e[o.SignalType.TEXT]=[{label:"复制",name:o.RightMouseName.COPY},{label:"转发",name:o.RightMouseName.FORWARD},{label:"删除",name:o.RightMouseName.START_REMOVE}],e[o.SignalType.FILE]=[{label:"复制",name:o.RightMouseName.COPY},{label:"保存",name:o.RightMouseName.SAVE},{label:"转发",name:o.RightMouseName.FORWARD},{label:"删除",name:o.RightMouseName.START_REMOVE}],e[o.SignalType.VIDEO_FILE]=[{label:"复制",name:o.RightMouseName.COPY},{label:"保存",name:o.RightMouseName.SAVE},{label:"转发",name:o.RightMouseName.FORWARD},{label:"删除",name:o.RightMouseName.START_REMOVE}],e[o.SignalType.IMAGE]=[{label:"复制",name:o.RightMouseName.COPY},{label:"保存",name:o.RightMouseName.SAVE},{label:"转发",name:o.RightMouseName.FORWARD},{label:"删除",name:o.RightMouseName.START_REMOVE}],e[o.SignalType.LOCATION]=[{label:"转发",name:o.RightMouseName.FORWARD},{label:"删除",name:o.RightMouseName.START_REMOVE}],e[o.SignalType.IM_COMBIND]=[{label:"转发",name:o.RightMouseName.FORWARD},{label:"删除",name:o.RightMouseName.START_REMOVE}],e),get pictureList(){var e=[];return t.type===o.SignalType.IMAGE&&t.starList.forEach((function(t){var n=new Date(t.createTime),r=n.getFullYear(),o=n.getMonth();e.some((function(e){if(e.month===o&&e.year===r)return e.data.push(t),!0}))||e.push({month:o,year:r,data:[t]})})),e}});return t}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(6),u=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=u(null),e.refs.pageListBox=u(null),e.refs.prevIcon=u(null),e.refs.nextIcon=u(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=t.assets.fonts,i=e.store,u=e.refs;return u.curPageList=i.curPageList.map((function(){return{current:null}})),o.createElement("div",{ref:e.refs.container,"data-tree":e.name,style:a.toggleVisible(t.container,i.total>1),"data-style-name":"container"},o.createElement("div",null,o.createElement("i",{className:n.prevPage,style:r(r({},t.prevIcon),1===i.curPageIdx?t.prevIconDisabled:{}),ref:u.prevIcon,"data-style-name":1===i.curPageIdx?"prevIconDisabled":"prevIcon"})),o.createElement("ul",{ref:u.pageListBox,style:t.pageListBox,"data-style-name":"pageListBox"},i.curPageList.map((function(e,n){return o.createElement("li",{style:r(r({},t.pageItem),i.curPageIdx===e?t.selectedPageItem:{}),ref:u.curPageList[n],key:n,"data-style-name":i.curPageIdx===e?"selectedPageItem":"pageItem"},e)}))),o.createElement("div",null,o.createElement("i",{className:n.nextPage,style:r(r({},t.nextIcon),i.curPageIdx===i.total?t.nextIconDisabled:{}),ref:u.nextIcon,"data-style-name":1===i.curPageIdx?"nextIconDisabled":"nextIcon"})),o.createElement("div",{style:t.total,"data-style-name":"total"},"共",i.total,"页"))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{fonts:{prevPage:"icon iconfont icon-to-the-left",nextPage:"icon iconfont icon-to-the-right"}},container:r(r({display:"flex",justifyContent:"flex-start"},o.forbidSelect()),{height:"16px"}),prevPage:{width:"16px",height:"16px",textAlign:"center",position:"relative",lineHeight:"16px"},nextPage:{width:"16px",height:"16px",textAlign:"center",position:"relative",lineHeight:"16px"},prevIcon:{verticalAlign:"top",fontSize:"12px",cursor:"pointer",color:"#575A5F"},prevIconDisabled:{color:o.$theme.$lightBgColor,cursor:"default"},nextIcon:{verticalAlign:"top",fontSize:"12px",cursor:"pointer",color:"#575A5F"},nextIconDisabled:{color:o.$theme.$lightBgColor,cursor:"default"},pageListBox:{margin:"0 5px",display:"flex",justifyContent:"flex-start"},pageItem:{width:"16px",height:"16px",lineHeight:"16px",borderRadius:"50%",margin:"0 2px",cursor:"pointer",textAlign:"center",fontSize:"12px",color:"#333"},selectedPageItem:{backgroundColor:o.$theme.$baseColor,color:"#fff"},total:{marginLeft:"10px",height:"16px",lineHeight:"16px",fontSize:"10px",color:"#333"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({curPageIdx:1,total:1,curPageList:[],config:{total:1,pageCount:3},direction:0,type:o.PageType.NONE})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(5),a=n(1),u=n(6),c=n(8),l=n(101);function d(e){o.default.getKChat(this.rootName).rxjsEvent.subscribe(a.RxjsEventNames.COPY_MESSAGE,i.of(e))}function f(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store;e.subscribe(a.RxjsEventNames.SHOW_SELECT_MEMBER,i.of({type:a.SelectMemberType.FORWARD})),e.subscribe(a.RxjsEventNames.BROADCAST_FORWARD_MESSAGE,i.of(t.forwardLog))}function p(e){c.saveFile(e.url)}function A(e){var t=this,n=o.default.getKChat(this.rootName),r=n.fetch,s=n.rxjsEvent;r.star.removeStar({starId:e}).subscribe({next:function(){t.store.starList.some((function(n,r){if(n.favoriteId===e)return t.store.starList.splice(r,1),!0})),s.subscribe(a.RxjsEventNames.SHOW_MESSAGE,i.of({type:a.GlobalMessageTip.SUCCESS,message:"删除收藏成功"}))},error:function(e){console.log(e),s.subscribe(a.RxjsEventNames.SHOW_MESSAGE,i.of("删除收藏失败"))}})}t.default=function(){return[r.mounted("SelectCollectionType",(function(){var e=this.store,t=o.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,u=s.map((function(t){var o=t.type,s=t.title;return e.type!==o&&(e.title=s,e.type="all"===o?null:o,r.star.queryStar({type:e.type,pageCount:e.pageCount,pageNo:1}).subscribe({next:function(t){e.starList=t.data,e.total=Math.ceil(t.total/e.pageCount),n.subscribe(a.RxjsEventNames.INIT_PAGE,i.of({total:e.total,pageCount:e.pageCount,type:a.PageType.STAR}))},error:function(e){console.log(e),n.subscribe(a.RxjsEventNames.SHOW_MESSAGE,i.of("获取收藏信息失败"))}})),t}));return n.addPipe(a.RxjsEventNames.SELECT_COLLECTION_TYPE,u),function(){return n.removePipe(a.RxjsEventNames.SELECT_COLLECTION_TYPE,u)}})),r.mounted("SelectPage",(function(){var e=this.store,t=o.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,u=s.map((function(t){return t.type===a.PageType.STAR&&r.star.queryStar({type:e.type,pageCount:e.pageCount,pageNo:t.page}).subscribe({next:function(t){e.starList=t.data},error:function(e){console.log(e),n.subscribe(a.RxjsEventNames.SHOW_MESSAGE,i.of("获取收藏信息失败"))}}),t}));return n.addPipe(a.RxjsEventNames.SELECT_PAGE,u),function(){return n.removePipe(a.RxjsEventNames.SELECT_PAGE,u)}})),r.mounted("CollectionSearch",(function(){var e=this.store,t=o.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,u=s.map((function(t){t!==e.searchWord&&(e.searchWord=t,r.star.queryStar({type:e.type,pageCount:e.pageCount,pageNo:1,searchWord:t}).subscribe({next:function(t){e.starList=t.data,e.total=Math.ceil(t.total/e.pageCount),n.subscribe(a.RxjsEventNames.INIT_PAGE,i.of({total:e.total,pageCount:e.pageCount,type:a.PageType.STAR}))},error:function(e){console.log(e),n.subscribe(a.RxjsEventNames.SHOW_MESSAGE,i.of("获取收藏信息失败"))}}))}));return n.addPipe(a.RxjsEventNames.COLLECTION_SEARCH,u),function(){return n.removePipe(a.RxjsEventNames.COLLECTION_SEARCH,u)}})),r.mounted("CollectionItemClick",(function(){var e=this.store,t=this.refs,n=o.default.getKChat(this.rootName).rxjsEvent,r=null;i.fromEvent(t.resultRef.current,"click").pipe(s.map((function(e){return t.starRefs.findIndex((function(n){return u.isDescendant(e.target,n.current,t.resultRef.current)}))})),s.filter((function(e){return e>-1})),s.map((function(n){return{info:e.starList[n],ref:t.starRefs[n]}}))).subscribe({next:function(t){var o=t.info,s=t.ref;switch(o.favoriteContent.signalType){case a.SignalType.IMAGE:e.curStar=o,n.subscribe(a.RxjsEventNames.SHOW_IMAGE,i.of({imageInfo:o.favoriteContent,rightMouseType:a.RightMouseType.STAR_LIST,menus:e.menus[a.SignalType.IMAGE]}));break;case a.SignalType.VIDEO_FILE:r=s.current.querySelector("video"),c.openFullscreen(r),r.play();break;case a.SignalType.IM_COMBIND:n.subscribe(a.RxjsEventNames.SHOW_COMBIND_POPUP,i.of(o.favoriteContent));break;case a.SignalType.LOCATION:if(e.curStar=o,!window.KChatConfig.kmap||!window.KChatConfig.kmap.configUrl)return n.subscribe(a.RxjsEventNames.SHOW_MESSAGE,i.of("未引入地图服务")),!0;n.subscribe(a.RxjsEventNames.SHOW_LOCATION,i.of(o.favoriteContent))}},error:function(e){console.log(e),n.subscribe(a.RxjsEventNames.SHOW_MESSAGE,i.of("获取收藏信息失败"))}}),i.fromEvent(document,c.fullscreenchange()).subscribe((function(e){e.target===r&&r&&(document[l.default.fullscreenElement]!==r?(r.currentTime=0,r.pause(),r.style.objectFit="cover"):r.style.objectFit="contain")}))})),r.mounted("ShowRightMouse",(function(){var e=o.default.getKChat(this.rootName),t=this.refs,n=this.store;i.fromEvent(t.resultRef.current,"contextmenu").subscribe((function(r){console.log("右击收藏"),t.starItemRefs.some((function(o,s){if(console.log("ref.current",o.current),console.log("event.target",r.target),console.log("refs.container.current",t.container.current),console.log("isDescendant",u.isDescendant(r.target,o.current,t.container.current)),console.log("menus",n.menus[n.starList[s].favoriteContent.signalType]),o.current&&u.isDescendant(r.target,o.current,t.container.current))return console.log("signalType",n.starList[s].favoriteContent.signalType),n.curStar=n.starList[s],e.rxjsEvent.subscribe(a.RxjsEventNames.SHOW_RIGHT_MOUSE,i.of({event:r,rightMouseType:a.RightMouseType.STAR_LIST,menuPos:{x:r.x-u.getElementLeft(e.store.rootDomRef.current),y:r.y-u.getElementTop(e.store.rootDomRef.current)},menus:n.menus[n.starList[s].favoriteContent.signalType]})),!0}))}))})),r.mounted("ClickRightMouse",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=s.map((function(t){if(t.rightMouseType===a.RightMouseType.STAR_LIST){switch(t.name){case a.RightMouseName.COPY:d.call(e,n.curStar.favoriteContent);break;case a.RightMouseName.FORWARD:n.forwardLog=n.curStar.favoriteContent,f.call(e);break;case a.RightMouseName.SAVE:p.call(e,n.curStar.favoriteContent);break;case a.RightMouseName.START_REMOVE:A.call(e,n.curStar.favoriteId)}n.curStar=null}return t}));return t.addPipe(a.RxjsEventNames.CLICK_RIGHT_MOUSE,r),function(){return t.removePipe(a.RxjsEventNames.CLICK_RIGHT_MOUSE,r)}})),r.mounted("CancelForward",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=s.map((function(e){return e===a.SelectMemberType.FORWARD&&(t.forwardLog={}),e}));return e.addPipe(a.RxjsEventNames.SELECTED_MEMBER_CANCEL,n),function(){return e.removePipe(a.RxjsEventNames.SELECTED_MEMBER_CANCEL,n)}})),r.mounted("ShowMemberInfo",(function(){var e=this.refs,t=this.styles,n=this.store,r=o.default.getKChat(this.rootName),s={name:"starUserInfoPopup",show:function(){return n.showUserInfoPopup=!0},hide:function(){n.showUserInfoPopup=!1,r.rxjsEvent.subscribe(a.RxjsEventNames.CHANGE_STAR_USER_INFO,i.of({}))},targets:[e.userInfoRef]};i.fromEvent(e.resultRef.current,"click").subscribe((function(o){e.starSrcRef.some((function(c,l){if(c.current&&u.isDescendant(o.target,c.current,e.container.current)){var d=n.starList[l].favoritedUserCode;r.fetch.user.getUserInfo({userCode:d}).subscribe({next:function(n){r.rxjsEvent.subscribe(a.RxjsEventNames.CHANGE_STAR_USER_INFO,i.of(n),{next:function(){r.store.popupManager.add(s);var n=o.y-u.getElementTop(r.store.rootDomRef.current),i=r.store.rootDomRef.current.offsetHeight-e.userInfoRef.current.offsetHeight;t.userInfoContainer.top=Math.min(n,i)+"px"}})},error:function(e){console.log(e),r.rxjsEvent.subscribe(a.RxjsEventNames.SHOW_MESSAGE,i.of("获取用户信息失败"))}})}}))}))})),r.mounted("ImageListClick",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(e.imageBoxRef.current,"click").subscribe((function(r){e.imagesRefs.some((function(e,o){return e.some((function(e,s){e.current===r.target.parentNode&&(t.curStar=t.pictureList[o].data[s],n.subscribe(a.RxjsEventNames.SHOW_IMAGE,i.of({imageInfo:t.pictureList[o].data[s].favoriteContent,rightMouseType:a.RightMouseType.STAR_LIST,menus:t.menus[a.SignalType.IMAGE]})))}))}))}))})),r.mounted("ImageListRightMouse",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName);i.fromEvent(e.imageBoxRef.current,"contextmenu").subscribe((function(r){e.imagesRefs.some((function(e,o){e.some((function(e,s){e.current===r.target.parentNode&&(t.curStar=t.pictureList[o].data[s],n.rxjsEvent.subscribe(a.RxjsEventNames.SHOW_RIGHT_MOUSE,i.of({event:event,rightMouseType:a.RightMouseType.STAR_LIST,menuPos:{x:r.x-u.getElementLeft(n.store.rootDomRef.current),y:r.y-u.getElementTop(n.store.rootDomRef.current)},menus:t.menus[t.starList[o].favoriteContent.signalType]})))}))}))}))}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(1),s=n(5),a=n(13),u=n(6),c=n(120),l=n(8);function d(){var e=this.store,t=this.styles;u.animation(t.dragDisplay,i.AnimationType.ZOOM_OUT).subscribe((function(){e.dragDisplay=!1}))}t.default=function(){return[r.mounted("UpdateCurChatTarget",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=s.map((function(n){return t.curChatTarget=n,n.groupCodeStr||n.userCode?e.subscribe(i.RxjsEventNames.TOGGLE_CHAT_AREA_CONTENT,a.of(i.ChatContentType.CHAT_CONTENT)):t.chatContentType===i.ChatContentType.CHAT_CONTENT&&e.subscribe(i.RxjsEventNames.TOGGLE_CHAT_AREA_CONTENT,a.of(i.ChatContentType.DEFAULT)),n}));return e.addPipe(i.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n),function(){return e.removePipe(i.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n)}})),r.mounted("MultiForward",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=s.map((function(e){return t.forwardList=e,e}));return e.addPipe(i.RxjsEventNames.MULTI_FORWARD_MENU_SHOW,n),function(){return e.removePipe(i.RxjsEventNames.MULTI_FORWARD_MENU_SHOW,n)}})),r.mounted("DragFile",(function(){var e=this,t=this.refs,n=this.store,r=this.styles,f=o.default.getKChat(this.rootName).rxjsEvent;a.merge(a.fromEvent(t.chatContent.current,"dragover"),a.fromEvent(t.chatFooter.current,"dragover"),a.fromEvent(t.dragDisplay.current,"dragover")).pipe(s.map((function(e){e.stopPropagation(),e.preventDefault()}))).subscribe(),a.merge(a.fromEvent(t.chatContent.current,"dragenter"),a.fromEvent(t.chatFooter.current,"dragenter")).pipe(s.map((function(e){n.dragDisplay||(n.dragDisplay=!0,u.animation(r.dragDisplay,i.AnimationType.ZOOM_IN).subscribe())}))).subscribe(),a.merge(a.fromEvent(t.chatContent.current,"dragleave"),a.fromEvent(t.chatFooter.current,"dragleave"),a.fromEvent(t.dragDisplay.current,"dragleave")).pipe(s.map((function(r){r.stopPropagation(),r.preventDefault(),!n.dragDisplay||r.relatedTarget&&(u.isDescendant(r.relatedTarget,t.dragDisplay.current)||u.isDescendant(r.relatedTarget,t.chatFooter.current)||u.isDescendant(r.relatedTarget,t.chatContent.current))||d.bind(e)()}))).subscribe(),a.fromEvent(t.dragDisplay.current,"drop").pipe(s.map((function(t){return t.stopPropagation(),t.preventDefault(),d.bind(e)(),t.dataTransfer.files[0]}))).subscribe((function(e){if(e)if(0!==e.size){var t=l.getTargetCode(n.curChatTarget),r=c.genQueueId(t),o={fileType:-1!==e.type.indexOf("image/")?i.SignalType.IMAGE:l.isVideoFile(e.name)?i.SignalType.VIDEO_FILE:i.SignalType.FILE,chatCode:t,type:l.isGroup(n.curChatTarget)?i.ChatType.GROUP:i.ChatType.USER,file:e,queueId:r,uploadProgress:function(e){return f.subscribe(i.RxjsEventNames.UPDATE_PROGRESS,a.of({queueId:r,progress:e}))}};f.subscribe(i.RxjsEventNames.SEND_FILE_START,a.of(o))}else f.subscribe(i.RxjsEventNames.SHOW_MESSAGE,a.of("不能上传空文件"))}))})),r.mounted("ToggleChatAreaContent",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=s.map((function(e){return t.chatContentType=e,e}));return e.addPipe(i.RxjsEventNames.TOGGLE_CHAT_AREA_CONTENT,n),function(){return e.removePipe(i.RxjsEventNames.TOGGLE_CHAT_AREA_CONTENT,n)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(482),i=n(483),s=n(484);t.default=function e(t,n,a){return r.default("RightMouseMenu",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(6),u=n(29),c=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=c(null),o.createElement(i.Observer,null,(function(){var t=e.store,n=e.refs,i=s.toJS(e.styles);return n.menuItems=t.menus.map((function(){return{current:null}})),o.createElement("ul",{ref:e.refs.container,style:a.toggleVisible(r(r(r({},i.container),t.isBig?i.fullScreenContainer:{}),{left:t.menuPos.x+"px",top:t.menuPos.y+"px"}),t.visible),"data-tree":e.name,"data-style-name":t.isBig?"fullScreenContainer":"container"},t.menus.map((function(e,t){return o.createElement("li",{key:e.name,ref:n.menuItems[t],style:a.toggleVisible(i.menuItem,void 0===e.visible||e.visible),"data-style-name":"menuItem"},o.createElement(u.Pseudo,{style:i.menuText,hoverStyle:i.menuTextHover,"data-style-name":"menuText","data-style-hover-name":"menuTextHover"},e.label))})))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{container:r({position:"absolute",zIndex:999,boxShadow:"0 1px 4px 0 rgba(0,0,0,0.18)",borderRadius:"4px",background:"#fff",overflow:"hidden"},o.forbidSelect()),fullScreenContainer:{position:"fixed"},menuItem:{lineHeight:"30px",textAlign:"center"},menuText:r(r({padding:"0 15px",fontSize:"14px",color:"#333",backgroundColor:"#fff"},o.ellipsis()),{cursor:"pointer"}),menuTextHover:{color:"#fff",backgroundColor:o.$theme.$baseColor}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({visible:!0,menus:[],rightMouseType:null,menuPos:{x:0,y:0},isBig:!1})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(12),s=n(1),a=n(5),u=n(13),c=n(6);t.default=function(){return[o.mounted("ShowRigthMouse",(function(){var e=i.default.getKChat(this.rootName),t=this.store,n=this.refs,o=a.map((function(o){if(o.event.preventDefault(),t.rightMouseType=o.rightMouseType,e.store.popupManager.add(r({name:"rightMouseMenuPopup",show:function(){t.visible=!0},hide:function(){t.visible=!1},targets:o.targets||[]},o.compat?{compat:o.compat}:{})),t.menus=o.menus||[],o.event.path&&o.event.path.some((function(e){if(e.classList&&e.classList.contains("kc-resize-biggest"))return!0}))){t.isBig=!0;var i=window.innerWidth-n.container.current.offsetWidth,s=window.innerHeight-n.container.current.offsetHeight;t.menuPos.x=Math.min(o.menuPos.x+c.getElementLeft(e.store.rootDomRef.current),i),t.menuPos.y=Math.min(o.menuPos.y+c.getElementTop(e.store.rootDomRef.current),s)}else{t.isBig=!1;i=e.store.rootDomRef.current.offsetWidth-n.container.current.offsetWidth,s=e.store.rootDomRef.current.offsetHeight-n.container.current.offsetHeight;t.menuPos.x=Math.min(o.menuPos.x,i),t.menuPos.y=Math.min(o.menuPos.y,s)}return o}));return e.rxjsEvent.addPipe(s.RxjsEventNames.SHOW_RIGHT_MOUSE,o),function(){return e.rxjsEvent.removePipe(s.RxjsEventNames.SHOW_RIGHT_MOUSE,o)}})),o.mounted("ClickRightMouse",(function(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=this.refs;u.fromEvent(n.container.current,"click").subscribe((function(r){n.menuItems.some((function(o,i){if(o.current&&c.isDescendant(r.target,o.current,n.container.current))return e.subscribe(s.RxjsEventNames.CLICK_RIGHT_MOUSE,u.of({rightMouseType:t.rightMouseType,name:t.menus[i].name})),!0}))}))})),o.mounted("MouseWheel",(function(){var e=this.store;u.fromEvent(window,"mousewheel").subscribe((function(){e.visible=!1}))}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(487),i=n(488),s=n(489);t.default=function e(t,n,a){return r.default("CopyBoard",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=s(null),e.refs.copyBoard=s(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=e.refs,o=e.store;return r.createElement("div",{ref:n.container,style:t.container,"data-style-name":"container","data-tree":e.name},r.createElement("div",{ref:n.copyBoard,style:t.copyBoard,dangerouslySetInnerHTML:{__html:o.copyData},contentEditable:!0,"data-style-name":"copyBoard"}))}))}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{default:{container:{opacity:"0",position:"absolute",left:0,top:0,width:0},copyBoard:{width:"180px",backgroundColor:"transparent"},copyBoardImage:{width:"auto",height:"auto",maxWidth:"180px",maxHeight:"200px"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({copyData:""})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(1),s=n(5),a=n(13),u=n(8);function c(){var e=this.refs.copyBoard,t=window.getSelection(),n=document.createRange();n.selectNodeContents(e.current),t.removeAllRanges(),t.addRange(n),document.execCommand("copy")}t.default=function(){return[r.mounted("UpdateCopyBoard",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=this.refs,r=this.styles,l=this.store,d=n.copyBoard,f=s.map((function(t){switch(l.copyData="",d.current.innerHTML="",t.signalType){case i.SignalType.TEXT:l.copyData=t.content,c.bind(e)();break;case i.SignalType.IMAGE:var n=new Image;d.current.appendChild(n),u.setElementStyle(n.style,r.copyBoardImage),a.fromEvent(n,"load").subscribe((function(){document.body.addEventListener("mousedown",(function t(){c.bind(e)(),document.body.removeEventListener("mousedown",t,!1)}),!1)})),n.src=t.url;break;case i.SignalType.FILE:case i.SignalType.VIDEO_FILE:case i.SignalType.PTT:l.copyData=t.url,c.bind(e)();break;default:console.log("暂未添加该类型消息复制功能")}}));return t.addPipe(i.RxjsEventNames.COPY_MESSAGE,f),function(){return t.removePipe(i.RxjsEventNames.COPY_MESSAGE,f)}}))]}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(492),s=n(493),a=n(494),u=n(138),c=n(139),l=n(11),d=n(1),f=n(86),p=n(102),A=n(62),g=n(61),h=n(12),m=n(5);t.default=function e(t,n,y){return o.default("HistoryPage",i.default,{rootName:t,_styles:s.default(),store:a.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:y},[u.default(t,".kc-history-page",r([l.mounted("SetType",(function(){this.store.type=d.PageType.HISTORY}))],c.default())).setName("HistoryPageList"),f.default(t,".kc-sub-title",r([l.mounted("SetType",(function(){this.store.type=d.ControllerType.HISTORY}))],p.default())).setName("HistoryController"),A.default(t,".kc-history-user-info",r([l.mounted("ChangeUserInfo",(function(){var e=this,t=h.default.getKChat(this.rootName).rxjsEvent,n=m.map((function(t){e.store.userInfo=t}));return t.addPipe(d.RxjsEventNames.CHANGE_HISTORY_USER_INFO,n),function(){return t.removePipe(d.RxjsEventNames.CHANGE_HISTORY_USER_INFO,n)}}))],g.default())).setName("HistoryUserInfoPopup")])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(8),u=n(6),c=n(29),l=n(1),d=o.useRef;t.default=function(e){e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=d(null),e.refs.historyBox=d(null),e.refs.userInfoRef=d(null);var t=d(null);e.refs.searchIcon={get current(){return t.current.refs.current}},e.refs.searchInput=d(null),e.refs.clearInputIcon=d(null),e.refs.timeIcon=d(null);var n=d(null);e.refs.timeIcon={get current(){return n.current.refs.current}};var f=d(null);return e.refs.searchInput={get current(){return f.current.refs.current}},e.refs.timeListBox=d(null),e.refs.searchResult=d(null),e.refs.audio=d(null),o.createElement(i.Observer,null,(function(){var i=s.toJS(e.styles),d=i.assets,p=d.fonts,A=d.images,g=e.store,h=e.refs,m=g.curChatTarget,y=g.timeList,v=g.historyList,b=g.showUserInfoPopup,E=y.map((function(){return{current:null}}));h.timeList=E.map((function(e){return{get current(){return e.current.refs.current}}}));var C=v.map((function(){return{current:null}}));h.historyList=C.map((function(e){return{get current(){return e.current.refs.current}}})),h.userHeadImgs=v.map((function(){return{current:null}})),h.audioContainer=v.map((function(){return{current:null}})),h.imageMessages=v.map((function(){return{current:null}})),h.locationImages=v.map((function(){return{current:null}})),h.videoFiles=v.map((function(){return{current:null}})),h.combindContainer=v.map((function(){return{current:null}})),h.videoPlays=v.map((function(){return{current:null}}));var T=function(e,t){var n=e.bodyMessage,r=n.refItem,s=n.text;return o.createElement("div",{style:i.combindLogContainer,"data-style-name":"combindLogContainer"},o.createElement("div",{"data-style-name":"replyContent",style:i.replyContent},o.createElement("p",{"data-style-name":"replyee",style:i.replyee},r.sender.senderName),o.createElement("p",{"data-style-name":"replyDetailBox",style:i.replyDetailBox},function(e){var t=e.attachment.msgType,n=o.createElement("div",null,"unknow");switch(t){case l.SignalType.TEXT:case l.SignalType.GROUP_ANNOUNCEMENT:case l.SignalType.IM_REPLY:n=e.attachment.text;break;case l.SignalType.IMAGE:n=S(e.attachment.url);break;case l.SignalType.LOCATION:n=S(e.attachment.snapshotUrl);break;case l.SignalType.FILE:case l.SignalType.VIDEO_FILE:case l.SignalType.VOICE_FILE:n=e.attachment.fileName}return n}(r))),o.createElement("p",{style:i.replyText,"data-style-name":"replyText"},"[回复道]",s))},S=function(e){return o.createElement("img",{src:e,"data-style-name":"replyImage",style:i.replyImage,alt:""})},x=function(e,t){var n=o.createElement("div",null,"unknow");switch(e.signalType){case l.SignalType.TEXT:n=function(e,t){return o.createElement("div",{style:i.text,dangerouslySetInnerHTML:{__html:e.content},"data-style-name":"text"})}(e);break;case l.SignalType.PTT:case l.SignalType.VOICE_FILE:n=function(e,t){return o.createElement("div",{style:r(r({},i.audioContainer),{width:a.getPttWidth(e.remark.duration)+"px"}),ref:h.audioContainer[t],"data-style-name":"audioContainer"},o.createElement("i",{className:p.playAudioStart,style:u.toggleVisible(i.pttIcon,g.isPlayingIdx===t&&1===g.playingStep),"data-style-name":"pttIcon"}),o.createElement("i",{className:p.playAudioIng,style:u.toggleVisible(i.pttIcon,g.isPlayingIdx===t&&2===g.playingStep),"data-style-name":"pttIcon"}),o.createElement("i",{className:p.playAudioEnd,style:u.toggleVisible(i.pttIcon,g.isPlayingIdx!==t||3===g.playingStep),"data-style-name":"pttIcon"}),o.createElement("span",{style:i.audioDuration,"data-style-name":"audioDuration"},Math.ceil(e.remark.duration/1e3),'"'))}(e,t);break;case l.SignalType.LOCATION:n=function(e,t){return o.createElement("div",{style:i.locationContainer,"data-style-name":"locationContainer"},o.createElement("img",{src:e.location.snapshotUrl,style:i.locationImage,draggable:!1,"data-style-name":"locationImage",ref:h.locationImages[t],alt:""}))}(e,t);break;case l.SignalType.IMAGE:n=function(e,t){return o.createElement("div",{style:i.imageContainer,"data-style-name":"imageContainer"},o.createElement("img",{src:e.url,style:i.imageContent,draggable:!1,"data-style-name":"imageContent",ref:h.imageMessages[t],alt:""}))}(e,t);break;case l.SignalType.FILE:n=function(e,t){var n=a.getFileName(e.remark.fileName),s=a.formatFileSize(e.remark.fileSize);return o.createElement("div",{style:i.fileContainer,"data-style-name":"fileContainer"},o.createElement("div",{style:i.fileInfoBox,"data-style-name":"fileInfoBox"},o.createElement("i",{className:p[a.getTypeByName(n)],style:r(r({},i.fileIcon),i[a.getTypeByName(n)]),"data-style-name":"fileIcon&"+a.getTypeByName(n)}),o.createElement("div",{style:i.fileName,title:n,"data-style-name":"fileName"},n),o.createElement("div",{style:i.fileSize,"data-style-name":"fileSize"},s)))}(e);break;case l.SignalType.IM_REPLY:n=T(e);break;case l.SignalType.IM_COMBIND:n=function(e,t){return o.createElement("div",{ref:h.combindContainer[t],style:i.combindLogContainer,"data-style-name":"combindLogContainer"},o.createElement("h3",{style:i.combindTitle,"data-style-name":"combindTitle"},e.combindBody.title),o.createElement("textarea",{style:i.combindDescription,readOnly:!0,"data-style-name":"combindDescription",value:e.combindBody.description}))}(e,t);break;case l.SignalType.VIDEO_FILE:n=function(e,t){return o.createElement("div",{style:i.videoContainer,"data-style-name":"videoContainer",ref:h.videoPlays[t]},o.createElement("video",{style:i.videoEle,"data-style-name":"videoEle",src:e.url,ref:h.videoFiles[t]}),o.createElement("div",{style:i.videoMask,"data-style-name":"videoMask"},o.createElement("i",{style:i.videoPlayIcon,"data-style-name":"videoPlayIcon",className:p.videoIcon})))}(e,t)}return o.createElement("div",{style:i.historyLogSignal,"data-style-name":"historyLogSignal"},n)};return o.createElement("div",{ref:e.refs.container,"data-tree":e.name,style:u.toggleVisible(i.container,g.visible),"data-style-name":"container"},o.createElement("div",{style:i.historyBox,ref:e.refs.historyBox,"data-style-name":"historyBox"},o.createElement("div",{style:i.historyTitle,"data-style-name":"historyTitle"},a.isGroup(m)?m.groupName:m.userName,o.createElement("div",{className:"kc-sub-title",style:i.controllerBox,"data-style-name":"controllerBox"})),o.createElement("div",{style:i.historyContent,"data-style-name":"historyContent"},o.createElement("div",{style:i.searchBar,"data-style-name":"searchBar"},o.createElement(c.Pseudo,{className:p.search,style:i.searchIcon,hoverStyle:i.searchIconHover,"data-style-name":"searchIcon","data-style-hover-name":"searchIconHover",tagName:"i",ref:t}),o.createElement(c.Pseudo,{type:"text",ref:f,tagName:"input",style:i.searchInput,focusStyle:i.searchInputFocus,"data-style-name":"searchInput","data-style-focus-name":"searchInputFocus",placeholder:"搜索聊天记录"}),o.createElement("i",{className:p.clearInput,style:u.toggleVisible(i.clearInputIcon,g.searchKey.length>0),ref:h.clearInputIcon,"data-style-name":"clearInputIcon"}),o.createElement("div",{style:i.timeBox,"data-style-name":"timeBox"},o.createElement(c.Pseudo,{ref:n,style:i.timeIcon,hoverStyle:i.timeIconHover,"data-style-name":"timeIcon","data-style-hover-name":"timeIconHover"},o.createElement("i",{className:p.timeInActive,style:u.toggleVisible(i.timeIconInActive,!g.timeVisible),"data-style-name":"timeIconInActive"}),o.createElement("i",{className:p.timeActive,style:u.toggleVisible(i.timeIconActive,g.timeVisible),"data-style-name":"timeIconActive"})),o.createElement("ul",{ref:h.timeListBox,style:u.toggleVisible(i.timeRangeList,g.timeVisible),"data-style-name":"timeRangeList"},g.timeList.map((function(e,t){return o.createElement(c.Pseudo,{ref:E[t],tagName:"li",style:r(r({},i.timeItem),e.value===g.selectedTime?i.selectedTimeItem:{}),hoverStyle:i.timeItemHover,key:t,"data-style-name":e.value===g.selectedTime?"selectedTimeItem":"timeItem","data-style-hover-name":"timeItemHover"},e.label)})),o.createElement("li",{style:i.arrowBefore,"data-style-name":"arrowBefore"}),o.createElement("li",{style:i.arrowAfter,"data-style-name":"arrowAfter"})))),o.createElement("ul",{style:i.searchResult,"data-style-name":"searchResult",ref:h.searchResult},v.map((function(e,t){return o.createElement(c.Pseudo,{style:r(r({},i.historyLog),e.signalType===l.SignalType.IMAGE?i.imageHistoryLog:e.signalType===l.SignalType.LOCATION?i.locationHistoryLog:e.signalType===l.SignalType.TEXT?i.textHistoryLog:e.signalType===l.SignalType.VIDEO_FILE?i.videoFileHistoryLog:{}),tagName:"li",key:t,hoverStyle:i.historyLogHover,"data-style-name":e.signalType===l.SignalType.IMAGE?"imageHistoryLog":e.signalType===l.SignalType.LOCATION?"locationHistoryLog":e.signalType===l.SignalType.TEXT?"textHistoryLog":e.signalType===l.SignalType.VIDEO_FILE?"videoFileHistoryLog":"historyLog","data-style-hover-name":"historyLogHover",ref:C[t]},o.createElement("img",{src:a.getUserHeader(a.isSelf(e)?g.loginUser:a.isGroup(g.curChatTarget)?a.getTargetMember(g.curChatTarget,e):g.curChatTarget,A),alt:"",style:i.imgHeader,"data-style-name":"imgHeader",ref:h.userHeadImgs[t]}),o.createElement("div",{style:r(r({},i.historyLogContent),t===v.length-1?i.lastHistoryLogContent:{}),"data-style-name":t===v.length-1?"lastHistoryLogContent":"historyLogContent"},o.createElement("div",{style:i.historyLogContentTitle,"data-style-name":"historyLogContentTitle"},o.createElement("span",{style:i.authName,"data-style-name":"authName"},a.isSelf(e)?g.loginUser.userName:a.isGroup(g.curChatTarget)?a.getTargetMember(g.curChatTarget,e).userName:g.curChatTarget.userName),o.createElement("span",{style:i.logTime,"data-style-name":"logTime"},a.formatTime(e.time))),x(e,t)))})))),o.createElement("div",{style:i.historyFooter,"data-style-name":"historyFooter",className:"kc-history-page"})),o.createElement("video",{controls:!0,ref:h.audio,style:u.toggleVisible(i.pttAudioBox,!1),"data-style-name":"pttAudioBox"}),o.createElement("div",{style:u.toggleVisible(i.userInfoContainer,b),"data-style-name":"userInfoContainer"},o.createElement("div",{className:"kc-history-user-info",ref:e.refs.userInfoRef,style:i.userInfoBox,"data-style-name":"userInfoBox"})))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{fonts:{search:"icon iconfont icon-icon-search",clearInput:"icon iconfont icon-username-error-surface-copy",timeInActive:"icon iconfont icon-recently",timeActive:"icon iconfont icon-recently-surface",playAudioStart:"icon iconfont icon-broadcast-one",playAudioIng:"icon iconfont icon-broadcast-two",playAudioEnd:"icon iconfont icon-broadcast-three",$docIcon:o.$theme.$docIcon,$excelIcon:o.$theme.$excelIcon,$pptIcon:o.$theme.$pptIcon,$txtIcon:o.$theme.$txtIcon,$rarIcon:o.$theme.$rarIcon,$pdfIcon:o.$theme.$pdfIcon,$audioIcon:o.$theme.$audioIcon,$videoIcon:o.$theme.$videoIcon,$unknowIcon:o.$theme.$unknowIcon,videoIcon:"icon iconfont icon-icon-broadcast"},images:{$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader}},container:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, .3)",zIndex:9},historyBox:r({width:"530px",height:"460px",background:"#fff",boxShadow:"0 0 12px 0 rgba(0,0,0,0.16)",borderRadius:"6px"},o.middle()),historyTitle:r({lineHeight:"46px",height:"46px",position:"relative",padding:"0 120px",borderBottom:"1px solid #EEF0F3",textAlign:"center",fontSize:"16px",color:"#333"},o.ellipsis()),controllerBox:{position:"absolute",right:0,top:0},historyContent:{height:"calc(100% - 76px)"},searchBar:{height:"56px",position:"relative",padding:"15px 80px 15px 30px",borderBottom:"1px solid #EEF0F3"},searchInput:r(r({},o.searchInput()),{width:"220px",padding:"0 25px"}),searchInputFocus:{border:"1px solid #3B99FC",boxShadow:"0 0 0 2px rgba(73,153,255,0.14)"},searchIcon:{position:"absolute",left:"40px",top:"50%",transform:"translateY(-50%)",color:"#ccc",cursor:"pointer",fontSize:"12px"},searchIconHover:{color:o.$theme.$baseColor},clearInputIcon:{position:"absolute",top:"50%",transform:"translateY(-50%)",left:"228px",color:o.$theme.$borderColor,cursor:"pointer"},timeBox:{position:"absolute",top:"50%",transform:"translateY(-50%)",right:"30px",color:o.$theme.$borderColor,width:"20px",height:"26px",lineHeight:"26px",zIndex:1},timeIcon:{cursor:"pointer",color:o.$theme.$lightBgColor},timeIconHover:{color:o.$theme.$baseColor},timeIconInActive:{fontSize:"20px"},timeIconActive:{fontSize:"20px",color:o.$theme.$baseColor},timeRangeList:{position:"absolute",top:"30px",left:"50%",transform:"translateX(-50%)",width:"80px",padding:"4px 0",lineHeight:"22px",textAlign:"center",background:"#fff",boxShadow:"0 0 4px 0 rgba(0,0,0,0.18)",borderRadius:"4px",fontSize:"12px",color:"#333"},arrowBefore:r({position:"absolute",top:"-8px",backgroundColor:"#fff",width:"8px",height:"8px",transformOrigin:"right bottom",transform:"rotate(-45deg)",boxShadow:"0 0 4px 0 rgba(0, 0, 0, 0.18)"},o.horizon()),arrowAfter:{position:"absolute",backgroundColor:"#fff",height:"4px",left:"5px",width:"calc(100% - 10px)",top:"0"},timeItem:{cursor:"pointer",position:"relative",backgroundColor:"#fff",zIndex:1},timeItemHover:{backgroundColor:o.$theme.$baseColor,color:"#fff"},selectedTimeItem:{backgroundColor:o.$theme.$baseColor,color:"#fff"},searchResult:{height:"calc(100% - 56px)",overflowX:"hidden",overflowY:"auto"},historyLog:r({position:"relative",padding:"8px 12px 0 20px",minHeight:"70px"},o.flex()),historyLogHover:{backgroundColor:"#EAEAEF"},imageHistoryLog:{height:"auto"},locationHistoryLog:{height:"auto"},textHistoryLog:{height:"auto"},videoFileHistoryLog:{height:"auto"},imgHeader:{width:"30px",height:"30px",borderRadius:"50%",marginRight:"15px",cursor:"pointer"},historyLogContent:{flex:1,height:"100%",paddingBottom:"12px",width:"calc(100% - 45px)",borderBottom:"1px solid "+o.$theme.$borderColor},lastHistoryLogContent:{borderBottom:"none"},historyLogContentTitle:r({lineHeight:"18px",height:"18px"},o.flex()),authName:{fontSize:"12px",color:"#333"},logTime:{fontSize:"12px",color:o.$theme.$lightFontColor},historyLogSignal:{height:"calc(100% - 27px)",marginTop:"4px"},historyLogTextSignal:{height:"auto",minHeight:"62px"},historyLogImageSignal:{height:"auto",minHeight:"62px"},historyLogLocationSignal:{height:"auto",minHeight:"62px"},audioContainer:{position:"relative",cursor:"pointer",textAlign:"left",boxSizing:"content-box",padding:"0 5px 0 5px",borderRadius:"5px",backgroundColor:"#EAEAEF",lineHeight:"22px"},pttIcon:r(r({},o.vertical()),{height:"20px",lineHeight:"20px",transformOrigin:"center",right:0}),audioDuration:{},imageContainer:{},imageContent:{maxWidth:"200px",minWidth:"50px",height:"auto",width:"auto",borderRadius:"4px"},locationContainer:{},locationImage:{maxWidth:"200px",minWidth:"50px",height:"auto",width:"auto",borderRadius:"4px"},text:{height:"auto",lineHeight:"16px",overflow:"hidden",wordBreak:"break-all",fontSize:"12px",color:"#333"},fileContainer:r(r({},o.flex()),{paddingLeft:"45px",position:"relative"}),fileName:r({width:"150px",height:"100%",fontSize:"12px",color:"#373C3D"},o.ellipsis()),fileIcon:r(r({fontSize:"30px"},o.vertical()),{lineHeight:1,left:0}),$docIcon:{color:o.$theme.$baseColor},$excelIcon:{color:"#00D1A5"},$pttIcon:{color:"#F26666"},$txtIcon:{color:"#61CFEA"},$rarIcon:{color:"#F7D167"},$pdfIcon:{color:"#E43A35"},$videoIcon:{color:"#FAAE53"},$musicIcon:{color:"#89D043"},$unknowIcon:{color:"#DCDCDC"},fileSize:{fontSize:"12px",height:"100%",color:"#B7B7B7"},historyFooter:r({height:"30px",position:"relative",borderTop:"1px solid #EEF0F3",paddingRight:"20px"},o.flex({justifyContent:"flex-end",alignItems:"center"})),videoFileContainer:{},videoContainer:r(r({position:"relative",width:"90px",height:"50px"},o.flex({justifyContent:"center"})),{backgroundColor:"#000",cursor:"pointer"}),videoPlayIcon:{fontSize:"25px",color:"#fff"},videoMask:r(r({},o.middle()),{cursor:"pointer",width:"25px",height:"25px",lineHeight:"25px",textAlign:"center"}),videoEle:{maxWidth:"90px",maxHeight:"50px"},pttAudioBox:{},userInfoContainer:{position:"absolute",left:"0",top:"0",width:"270px",zIndex:"1"},userInfoBox:{},replyMessageBox:{width:"100%",position:"absolute",bottom:"160px",left:0,minHeight:"60px",backgroundColor:"#fff",padding:"10px 14px"},replyContent:{width:"100%",height:"100%",borderLeft:"2px solid #DCDFE6",color:o.$theme.$lightFontColor,position:"relative",paddingLeft:"5px"},replyee:{fontSize:"12px"},replyDetailBox:{fontSize:"14px",lineHeight:"20px",wordBreak:"break-all",padding:"5px"},replyImage:{display:"block",maxHeight:"150px",maxWidth:"150px"},closeReply:{width:"16px",height:"16px",fontSize:"14px",textAlign:"center",display:"block",cursor:"pointer",position:"absolute",right:0,top:0},replyText:{paddingTop:"5px",marginTop:"5px",borderTop:"1px solid "+o.$theme.$borderColor,color:"#333"},combindLogContainer:{maxWidth:"250px",color:"#333",backgroundColor:"#f3f0f0",padding:"5px",borderRadius:"4px"},combindTitle:r(r({fontSize:"14px",lineHeight:"25px"},o.ellipsis()),{cursor:"pointer",borderBottom:"1px solid"+o.$theme.$borderColor}),combindDescription:{border:"none",display:"block",width:"100%",overflow:"hidden",height:"45px",color:o.$theme.$lightFontColor,outline:"none",cursor:"pointer",backgroundColor:"transparent"}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){var e;return r.observable({visible:!1,curChatTarget:{},loginUser:{},searchKey:"",curPlayVideoRef:{},timeList:[{label:"最近一周",value:o.HistoryRange.WEEK},{label:"最近一个月",value:o.HistoryRange.MONTH},{label:"最近三个月",value:o.HistoryRange.SEASON},{label:"全部",value:o.HistoryRange.ALL}],selectedTime:o.HistoryRange.WEEK,curLogIdx:-1,menus:(e={},e[o.SignalType.TEXT]=[{label:"复制",name:o.RightMouseName.COPY},{label:"转发",name:o.RightMouseName.FORWARD},{label:"收藏",name:o.RightMouseName.STAR}],e[o.SignalType.FILE]=[{label:"复制",name:o.RightMouseName.COPY},{label:"保存",name:o.RightMouseName.SAVE},{label:"转发",name:o.RightMouseName.FORWARD},{label:"收藏",name:o.RightMouseName.STAR}],e[o.SignalType.VIDEO_FILE]=[{label:"复制",name:o.RightMouseName.COPY},{label:"保存",name:o.RightMouseName.SAVE},{label:"转发",name:o.RightMouseName.FORWARD},{label:"收藏",name:o.RightMouseName.STAR}],e[o.SignalType.IMAGE]=[{label:"复制",name:o.RightMouseName.COPY},{label:"保存",name:o.RightMouseName.SAVE},{label:"转发",name:o.RightMouseName.FORWARD},{label:"收藏",name:o.RightMouseName.STAR}],e[o.SignalType.LOCATION]=[{label:"转发",name:o.RightMouseName.FORWARD},{label:"收藏",name:o.RightMouseName.STAR}],e),historyList:[],isPlayingIdx:-1,playingStep:1,endtimeList:[],total:-1,pageNo:1,endtime:null,limit:-1,pageCount:3,searchTimes:0,timeVisible:!1,forwardLog:{},showUserInfoPopup:!1})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(1),a=n(6),u=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=u(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=e.store,o=e.refs,u=t.assets.fonts;return o.menus=n.menus.map((function(){return{current:null}})),r.createElement("ul",{ref:e.refs.container,"data-tree":e.name,style:t.container,"data-style-name":"container"},n.menus.map((function(e,i){return r.createElement("li",{key:i,ref:o.menus[i],style:a.toggleVisible(t.controlerIconBox,n.isBig?e.name!==s.ControllerName.BIG:e.name!==s.ControllerName.EXIT_BIG),"data-style-name":"controlerIconBox"},r.createElement("i",{className:u[e.name],style:e.name===s.ControllerName.SMALL?t.smallIcon:e.name===s.ControllerName.BIG?t.bigIcon:e.name===s.ControllerName.EXIT_BIG?t.exitBigIcon:t.closeIcon,"data-style-name":e.name===s.ControllerName.SMALL?"smallIcon":e.name===s.ControllerName.BIG?"bigIcon":e.name===s.ControllerName.EXIT_BIG?"exitBigIcon":"closeIcon"}))})))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(17);t.default=function(){var e;return{default:{assets:{fonts:(e={},e[o.ControllerName.SMALL]="icon iconfont icon-narrow",e[o.ControllerName.BIG]="icon iconfont icon-magnify",e[o.ControllerName.EXIT_BIG]="icon iconfont icon-statetransitio",e[o.ControllerName.CLOSE]="icon iconfont icon-close-copy",e)},container:r({},i.flex({justifyContent:"center",alignItems:"center"})),controlerIconBox:{},smallIcon:{margin:"0 10px",cursor:"pointer",fontSize:"12px",color:i.$theme.$lightBgColor},bigIcon:{margin:"0 10px",cursor:"pointer",fontSize:"12px",color:i.$theme.$lightBgColor},exitBigIcon:{margin:"0 10px",cursor:"pointer",fontSize:"12px",color:i.$theme.$lightBgColor},closeIcon:{margin:"0 10px",cursor:"pointer",fontSize:"12px",color:i.$theme.$lightBgColor}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({menus:[{name:o.ControllerName.SMALL},{name:o.ControllerName.BIG},{name:o.ControllerName.EXIT_BIG},{name:o.ControllerName.CLOSE}],isBig:!1,type:o.ControllerType.DEFAULT})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(12),s=n(1),a=n(5),u=n(13),c=n(6),l=n(2),d=n(8),f=n(101);function p(){var e=this.store,t=this.refs,n=i.default.getKChat(this.rootName),o=n.fetch,a=n.rxjsEvent,c=e.endtimeList.some((function(n){if(n.endtime===e.endtime)return e.historyList=n.list,t.searchResult.current.scrollTop=0,!0}));if(e.searchTimes++,-1!==e.limit||-1===e.total){var l=void 0,f=15*e.pageCount;if(e.endtimeList.length>0){var p=e.endtimeList[e.endtimeList.length-1].list;l=p[p.length-1].time-1,f=e.limit}o.history.getHistory(r(r({},d.isGroup(e.curChatTarget)?{groupCodeStr:e.curChatTarget.groupCodeStr}:{userCode:e.curChatTarget.userCode}),{searchKey:e.searchKey.trim()||void 0,begintime:A(e.selectedTime),endtime:l,limit:f})).subscribe({next:function(n){var r=!0;for(-1===e.total&&(e.total=Math.ceil(n.total/15),r=!1),a.subscribe(s.RxjsEventNames.INIT_PAGE,u.of({total:e.total,pageCount:e.pageCount,reset:r,type:s.PageType.HISTORY})),e.limit=-1,c||(e.historyList=n.list.slice(0,15),t.searchResult.current.scrollTop=0);n.list.length>0;)e.endtimeList.push({pageNo:e.endtimeList.length+1,endtime:n.list[0].time,list:n.list.splice(0,15)})},error:function(e){console.log(e),a.subscribe(s.RxjsEventNames.SHOW_MESSAGE,u.of("历史记录接口异常"))}})}}function A(e){var t=(new Date).getTime();switch(e){case s.HistoryRange.WEEK:return d.getDayStart(t-5184e5);case s.HistoryRange.MONTH:return d.getDayStart(t-25056e5);case s.HistoryRange.SEASON:return d.getDayStart(t-76896e5);default:return 0}}function g(e){void 0===e&&(e=!1);var t=this.store,n=this.refs;t.pageNo=1,t.timeVisible=!1,t.endtime=null,t.curHistoryIdx=-1,t.endtimeList=[],t.limit=-1,t.total=-1,e||(t.searchKey="",n.searchInput.current.value="",t.selectedTime=s.HistoryRange.WEEK)}function h(){var e=this.store,t=this.refs;e.isPlayingIdx=-1,clearInterval(t.audio.current.timer),t.audio.current.timer=null,t.audio.current.pause(),t.audio.current.src=""}function m(e){i.default.getKChat(this.rootName).rxjsEvent.subscribe(s.RxjsEventNames.COPY_MESSAGE,u.of(e))}function y(e){d.saveFile(e.url)}function v(e){var t=i.default.getKChat(this.rootName),n=this.store,o=e.target===s.MessageTarget.SELF?n.loginUser:d.isGroup(n.curChatTarget)?d.getTargetMember(n.curChatTarget,e):n.curChatTarget;t.fetch.star.addStar(r({author:{userCode:o.userCode,userName:o.userName},type:s.SignalType[s.SignalType[e.signalType]],content:e},d.isGroup(n.curChatTarget)?{groupCodeStr:n.curChatTarget.groupCodeStr,groupName:n.curChatTarget.groupName}:{})).subscribe({next:function(){t.rxjsEvent.subscribe(s.RxjsEventNames.SHOW_MESSAGE,u.of({type:s.GlobalMessageTip.SUCCESS,message:"收藏成功"}))},error:function(e){throw t.rxjsEvent.subscribe(s.RxjsEventNames.SHOW_MESSAGE,u.of("收藏失败")),e}})}function b(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store;e.subscribe(s.RxjsEventNames.SHOW_SELECT_MEMBER,u.of({type:s.SelectMemberType.FORWARD})),e.subscribe(s.RxjsEventNames.BROADCAST_FORWARD_MESSAGE,u.of(t.forwardLog))}function E(){var e=this.store;e.visible&&(e.visible=!1,h.bind(this)())}function C(){i.default.getKChat(this.rootName).rxjsEvent.subscribe(s.RxjsEventNames.RESET_CONTROLLER,u.of({type:s.ControllerType.HISTORY}))}t.default=function(){return[o.mounted("UpdateLoginUser",(function(){var e=i.default.getKChat(this.rootName),t=this.store,n=l.autorun((function(){t.loginUser=e.store.loginUser}));return function(){return n()}})),o.mounted("UpdateCurChatTarget",(function(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=a.map((function(e){return t.curChatTarget=e,t.visible=!1,e}));return e.addPipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n),function(){return e.removePipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n)}})),o.mounted("OpenHistoryPage",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=a.map((function(t){if(t===s.MenuType.HISTORY){if(n.visible)return;n.visible=!0,g.bind(e)(),p.bind(e)()}return t}));return t.addPipe(s.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,r),function(){return t.removePipe(s.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,r)}})),o.mounted("SearchHistory",(function(){var e=this,t=this.refs,n=this.store;u.fromEvent(t.searchInput.current,"input").pipe(a.map((function(){n.searchKey=t.searchInput.current.value}))).subscribe(),u.merge(u.fromEvent(t.searchIcon.current,"click"),u.fromEvent(t.searchInput.current,"keyup").pipe(a.filter((function(e){return 13===e.which}))),u.fromEvent(t.searchInput.current,"change"),u.fromEvent(t.clearInputIcon.current,"click").pipe(a.map((function(){n.searchKey="",t.searchInput.current.value=""})))).subscribe((function(){g.bind(e)(!0),p.bind(e)()}))})),o.mounted("ToggleTimeRangeVisible",(function(){var e=this,t=i.default.getKChat(this.rootName),n=this.store,r=this.refs,o={name:"chatHistoryTimeRange",show:function(){n.timeVisible=!0},hide:function(){n.timeVisible=!1},targets:[r.timeIcon]};u.fromEvent(r.timeIcon.current,"click").subscribe((function(){t.store.popupManager[n.timeVisible?"remove":"add"](o)})),u.fromEvent(r.timeListBox.current,"click").pipe(a.map((function(i){r.timeList.some((function(s,a){if(c.isDescendant(i.target,s.current,r.container.current))return t.store.popupManager.remove(o),g.bind(e)(),n.selectedTime=n.timeList[a].value,p.bind(e)(),!0}))}))).subscribe((function(){}))})),o.mounted("ShowRightMouse",(function(){var e=i.default.getKChat(this.rootName),t=this.refs,n=this.store;u.fromEvent(t.searchResult.current,"contextmenu").subscribe((function(r){t.historyList.some((function(o,i){if(o.current&&c.isDescendant(r.target,o.current,t.container.current))return n.curLogIdx=i,e.rxjsEvent.subscribe(s.RxjsEventNames.SHOW_RIGHT_MOUSE,u.of({event:r,rightMouseType:s.RightMouseType.CHAT_HISTORY,menuPos:{x:r.x-c.getElementLeft(e.store.rootDomRef.current),y:r.y-c.getElementTop(e.store.rootDomRef.current)},menus:n.menus[n.historyList[i].signalType]})),!0}))}))})),o.mounted("ClickRightMouse",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=(this.refs,a.map((function(t){if(t.rightMouseType===s.RightMouseType.CHAT_HISTORY){var r=n.historyList[n.curLogIdx];switch(t.name){case s.RightMouseName.COPY:m.bind(e)(r);break;case s.RightMouseName.FORWARD:n.forwardLog=r,b.bind(e)(),C.bind(e)();break;case s.RightMouseName.SAVE:y.bind(e)(r);break;case s.RightMouseName.STAR:v.bind(e)(r)}n.curLogIdx=-1}return t})));return t.addPipe(s.RxjsEventNames.CLICK_RIGHT_MOUSE,r),function(){return t.removePipe(s.RxjsEventNames.CLICK_RIGHT_MOUSE,r)}})),o.mounted("ClickUserHeaderImage",(function(){var e=this.refs,t=this.styles,n=this.store,r=i.default.getKChat(this.rootName),o={name:"historyUserInfoPopup",show:function(){return n.showUserInfoPopup=!0},hide:function(){n.showUserInfoPopup=!1,r.rxjsEvent.subscribe(s.RxjsEventNames.CHANGE_HISTORY_USER_INFO,u.of({}))},targets:[e.userInfoRef]};u.fromEvent(e.searchResult.current,"click").subscribe((function(i){d.isGroup(n.curChatTarget)&&e.userHeadImgs.some((function(a,l){if(a.current&&c.isDescendant(i.target,a.current,e.searchResult.current)){var d=n.historyList[l];r.fetch.user.getUserInfo({userCode:d.userCode}).subscribe({next:function(n){r.rxjsEvent.subscribe(s.RxjsEventNames.CHANGE_HISTORY_USER_INFO,u.of(n),{next:function(){r.store.popupManager.add(o);var n=i.y-c.getElementTop(r.store.rootDomRef.current),s=r.store.rootDomRef.current.offsetHeight-e.userInfoRef.current.offsetHeight;t.userInfoContainer.top=Math.min(n,s)+"px",t.userInfoContainer.left=i.x-c.getElementLeft(r.store.rootDomRef.current)+"px"}})},error:function(e){console.log(e),r.rxjsEvent.subscribe(s.RxjsEventNames.SHOW_MESSAGE,u.of("获取用户信息失败"))}})}}))}))})),o.mounted("PlayAudio",(function(){var e=this,t=this.refs,n=this.store;u.fromEvent(t.audio.current,"canplay").subscribe((function(){t.audio.current.play(),t.audio.current.timer=setInterval((function(){t.audio.current.paused?h.bind(e)():n.playingStep<3?n.playingStep++:n.playingStep=1}),200)})),u.fromEvent(t.audio.current,"error").subscribe((function(){n.playingStep=3})),u.fromEvent(t.container.current,"click").subscribe((function(r){t.audioContainer.some((function(o,i){if(o.current&&c.isDescendant(r.target,o.current,t.container.current))return t.audio.current.paused?(h.bind(e)(),n.isPlayingIdx=i,t.audio.current.src=n.historyList[i].url):h.bind(e)(),!0}))}))})),o.mounted("SelectPage",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=(this.refs,a.map((function(t){if(t.type===s.PageType.HISTORY){if(-1===n.total)return t;n.pageNo=t.page,n.endtimeList=n.endtimeList.sort((function(e,t){return e.pageNo-t.pageNo}));var r=!0;n.endtimeList.some((function(e){if(n.pageNo===e.pageNo){n.endtime=e.endtime;var t=Math.min(n.pageNo+Math.ceil(n.pageCount/2),n.total);return t>n.endtimeList.length&&(n.limit=15*(t-n.endtimeList.length),r=!1),!0}})),r&&(n.limit=-1),p.bind(e)()}return t})));return t.addPipe(s.RxjsEventNames.SELECT_PAGE,r),function(){return t.removePipe(s.RxjsEventNames.SELECT_PAGE,r)}})),o.mounted("CancelForward",(function(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=a.map((function(e){return e===s.SelectMemberType.FORWARD&&(t.forwardLog={}),e}));return e.addPipe(s.RxjsEventNames.SELECTED_MEMBER_CANCEL,n),function(){return e.removePipe(s.RxjsEventNames.SELECTED_MEMBER_CANCEL,n)}})),o.mounted("PlayVideoFile",(function(){var e=this.refs,t=this.store;u.fromEvent(document,d.fullscreenchange()).subscribe((function(e){var n=t.curPlayVideoRef.current;e.target===n&&n&&(document[f.default.fullscreenElement]!==n?(n.currentTime=0,n.pause(),n.style.objectFit="cover"):n.style.objectFit="contain")})),u.fromEvent(e.container.current,"click").subscribe((function(n){e.videoPlays.some((function(r,o){if(c.isDescendant(n.target,r.current,e.container.current))return t.curPlayVideoRef=e.videoFiles[o],d.openFullscreen(e.videoFiles[o].current),e.videoFiles[o].current.play(),!0}))}))})),o.mounted("ClickImageMessage",(function(){var e=this.refs,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent;u.fromEvent(e.container.current,"click").subscribe((function(r){e.imageMessages.some((function(o,i){if(o.current&&c.isDescendant(r.target,o.current,e.container.current))return t.curLogIdx=i,n.subscribe(s.RxjsEventNames.SHOW_IMAGE,u.of({imageInfo:t.historyList[i],rightMouseType:s.RightMouseType.CHAT_HISTORY,menus:t.menus[s.SignalType.IMAGE]})),!0}))}))})),o.mounted("ClickController",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.refs,r=a.map((function(t){if(t.type===s.ControllerType.HISTORY)switch(t.name){case s.ControllerName.SMALL:case s.ControllerName.EXIT_BIG:d.exitBig(n.historyBox.current);break;case s.ControllerName.BIG:d.resizeBig(n.historyBox.current);break;case s.ControllerName.CLOSE:d.exitBig(n.historyBox.current),E.bind(e)()}return t}));return t.addPipe(s.RxjsEventNames.CLICK_CONTROLLER,r),function(){return t.removePipe(s.RxjsEventNames.CLICK_CONTROLLER,r)}})),o.mounted("HideHistory",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=a.map((function(t){return E.bind(e)(),u.merge(u.fromEvent(r.login,"loginOut"),u.fromEvent(r.login,"beCoercive")).subscribe((function(){E.bind(e)()})),t}));return n.addPipe(s.RxjsEventNames.LOGIN_SUCCESS,o),function(){return n.removePipe(s.RxjsEventNames.LOGIN_SUCCESS,o)}})),o.mounted("ClickCombindMessage",(function(){var e=this.refs,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent;u.fromEvent(e.container.current,"click").subscribe((function(r){e.combindContainer.some((function(o,i){if(o.current&&c.isDescendant(r.target,o.current,e.container.current))return t.curLogIdx=i,n.subscribe(s.RxjsEventNames.SHOW_COMBIND_POPUP,u.of(t.historyList[i])),!0}))}))}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(500),i=n(501),s=n(502);t.default=function e(t,n,a){return r.default("Phone",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(6),u=n(8),c=n(29),l=o.useRef;t.default=function(e){e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=l(null),e.refs.closeIcon=l(null),e.refs.resizeIcon=l(null),e.refs.headerBox=l(null),e.refs.leftIcon=l(null),e.refs.rightIcon=l(null),e.refs.memberList=l(null),e.refs.audio=l(null),e.refs.voiceIcon=l(null);var t=l(null);return e.refs.callBtn={get current(){return t.current.refs.current}},o.createElement(i.Observer,null,(function(){var n=s.toJS(e.styles),i=n.assets,l=i.fonts,d=i.images,f=e.store,p=e.refs;return o.createElement("div",{ref:e.refs.container,"data-tree":e.name,style:a.toggleVisible(0===f.status?r(r({},n.container),{left:f.pos.x+"px",top:f.pos.y+"px"}):n.sideContainer,f.visible),"data-style-name":0===f.status?"container":"sideContainer"},o.createElement("div",{draggable:!1,style:a.toggleVisible(n.headerBox,0===f.status),ref:p.headerBox,"data-style-name":"headerBox"},o.createElement("span",{draggable:!1},"语音对讲"),o.createElement("i",{ref:p.closeIcon,draggable:!1,className:l.close,style:n.closeIcon,"data-style-name":"closeIcon"}),o.createElement("i",{ref:p.resizeIcon,draggable:!1,className:l.resize,style:n.resizeIcon,"data-style-name":"resizeIcon"}),o.createElement("div",{style:n.clearfix,"data-style-name":"clearfix"})),o.createElement("div",{style:a.toggleVisible(n.contentBox,0===f.status),"data-style-name":"contentBox"},o.createElement("div",{style:n.ringIcon,"data-style-name":"ringIcon"}),o.createElement("div",{style:r(r({},n.ringIconBg),f.speaking||f.otherSpeaking?n.selftRingIconBg:{}),"data-style-name":f.speaking||f.otherSpeaking?"selftRingIconBg":"ringIconBg"}),o.createElement("div",{style:n.subTip,"data-style-name":"subTip"},f.subTip),o.createElement("div",{style:n.voiceIconBox,ref:p.voiceIcon,"data-style-name":"voiceIconBox"},o.createElement("i",{style:a.toggleVisible(n.voiceIcon,!f.muted&&0===f.voiceStatus),className:l.unMuteIcon,"data-style-name":"voiceIcon"}),o.createElement("i",{style:a.toggleVisible(n.voiceIcon,f.muted&&0===f.voiceStatus),className:l.muteIcon,"data-style-name":"voiceIcon"}),o.createElement(c.Pseudo,{style:a.toggleVisible(n.voiceIcon,!f.muted&&1===f.voiceStatus),tagName:"i",activeStyle:n.voiceIconActive,className:l.unMuteIconHover,"data-style-name":"voiceIcon","data-style-active-name":"voiceIconActive"}),o.createElement(c.Pseudo,{style:a.toggleVisible(n.voiceIcon,f.muted&&1===f.voiceStatus),tagName:"i",activeStyle:n.voiceIconActive,className:l.muteIconHover,"data-style-name":"voiceIcon","data-style-active-name":"voiceIconActive"})),o.createElement(c.Pseudo,{style:n.callBtn,tagName:"button",hoverStyle:n.callBtnHover,ref:t,"data-style-name":"callBtn","data-style-hover-name":"callBtnHover"},f.speakingTip)),o.createElement("div",{style:a.toggleVisible(n.footerBox,u.isGroup(f.curChatTarget)&&0===f.status),"data-style-name":"footerBox"},o.createElement("i",{style:r(r({},n.leftIcon),0===f.curMemberIdx?n.leftIconDisabled:{}),className:l.leftIcon,ref:p.leftIcon,"data-style-name":0===f.curMemberIdx?"leftIconDisabled":"leftIcon"}),o.createElement("ul",{style:n.memberList,"data-style-name":"memberList",ref:p.memberList},f.memberList.map((function(e,t){return o.createElement("li",{style:a.toggleVisible(r(r({},n.memberItem),f.curMemberIdx===t?n.memberItemActive:{}),-1!==f.curIdxList.indexOf(t)),key:t,"data-style-name":f.curMemberIdx===t?"memberItemActive":"memberItem"},o.createElement("img",{src:u.getUserHeader(e,d),style:r(r({},n.memberItemImage),f.curMemberIdx===t?n.memberItemImageActive:{}),"data-style-name":f.curMemberIdx===t?"memberItemImageActive":"memberItemImage",draggable:!1,alt:""}))}))),o.createElement("i",{style:r(r({},n.rightIcon),f.curMemberIdx===f.memberList.length-1?n.rightIconDisabled:{}),className:l.rightIcon,"data-style-name":f.curMemberIdx===f.memberList.length-1?"rightIconDisabled":"rightIcon",ref:p.rightIcon})),o.createElement("audio",{controls:!0,style:a.toggleVisible(n.pttAudio,!1),ref:p.audio,"data-style-name":"pttAudio"}),o.createElement("i",{className:l.voice,style:a.toggleVisible(n.sideBarIcon,1===f.status),"data-style-name":"sideBarIcon"}))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{fonts:{voice:"icon iconfont icon-vi-voice",close:"icon iconfont icon-close-copy",resize:"icon iconfont icon-reducetoasma",leftIcon:"icon iconfont icon-to-the-left",rightIcon:"icon iconfont icon-to-the-right",unMuteIcon:"icon iconfont icon-play-line",muteIcon:"icon iconfont icon-mute-line",unMuteIconHover:"icon iconfont icon-play-surface",muteIconHover:"icon iconfont icon-mute-surface"},images:{$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader}},container:r({position:"absolute",width:"360px",height:"366px",background:"#FFFFFF",boxShadow:"0 0 12px 0 rgba(0,0,0,0.16)",borderRadius:"6px",zIndex:9},o.forbidSelect()),sideContainer:{position:"absolute",cursor:"pointer",right:"0",top:"85px",width:"48px",height:"36px",lineHeight:"36px",backgroundColor:"#fff",borderRadius:"23px 0 0 23px",boxShadow:"0 0 2px 0 rgba(95,136,189,0.64)",zIndex:9},headerBox:{position:"relative",height:"51px",borderBottom:"1px solid #DCDFE6",padding:"15px 20px",lineHeight:"20px",cursor:"move"},clearfix:{clear:"both"},headerTitle:{fontSize:"14px",color:"#333",letterSpacing:"0",float:"left"},closeIcon:{fontSize:"14px",color:"#BEC1C9",float:"right",cursor:"pointer",marginLeft:"20px"},resizeIcon:{fontSize:"14px",color:"#BEC1C9",float:"right",cursor:"pointer"},contentBox:{height:"246px",paddingTop:"12px",position:"relative"},ringIcon:r({zIndex:1,top:"12px",width:"140px",height:"140px",backgroundColor:"rgba(73,153,255,0.10)",borderRadius:"70px"},o.horizon()),ringIconBg:r({top:"29px",zIndex:2,width:"107px",height:"107px",backgroundColor:"rgba(73,153,255,0.40)",borderRadius:"53.5px",padding:"23.5px"},o.horizon()),selftRingIconBg:{animation:"kc-ring 1s ease-out",animationIterationCount:"infinite"},subTip:{marginTop:"156px",textAlign:"center",height:"18px",lineHeight:"18px",fontSize:"14px",color:"#333"},callBtn:{margin:"12px auto 0",cursor:"pointer",display:"block",minWidth:"180px",backgroundColor:"#fff",border:"1px solid #BEC1C9",borderRadius:"100px",padding:"8px 20px",lineHeight:"14px",fontSize:"14px",color:"#333"},callBtnHover:{color:o.$theme.$baseColor},voiceIconBox:r({top:"52px",zIndex:"3",cursor:"pointer",backgroundColor:"#fff",width:"60px",height:"60px",boxShadow:"0 0 12px 0 rgba(74,140,223,0.84)",borderRadius:"30px",padding:"20px 0",textAlign:"center"},o.horizon()),voiceIcon:{color:o.$theme.$baseColor,fontSize:"20px",lineHeight:"20px"},voiceIconActive:{color:"#2181FB"},footerBox:{height:"69px",borderTop:"1px solid #DCDFE6",padding:"15px 40px",position:"relative",lineHeight:"34px"},leftIcon:r(r({cursor:"pointer",color:"#333",height:"34px",lineHeight:"34px"},o.vertical()),{left:"10px"}),leftIconDisabled:{color:o.$theme.$lightBgColor,cursor:"default"},rightIcon:r(r({cursor:"pointer",color:"#333",height:"34px",lineHeight:"34px"},o.vertical()),{right:"10px"}),rightIconDisabled:{color:o.$theme.$lightBgColor,cursor:"default"},memberList:r({height:"34px",overflow:"hidden"},o.flex({justifyContent:"flex-start"})),memberItem:{width:"40px",padding:"2px 5px"},memberItemActive:{padding:"0 3px"},memberItemImage:{width:"30px",height:"30px",display:"block",borderRadius:"50%"},memberItemImageActive:{width:"34px",height:"34px"},sideBarIcon:{marginLeft:"18px",fontSize:"22px",color:o.$theme.$baseColor},pttAudio:{}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1),i=n(8);t.default=function(){return r.observable({visible:!1,currentPage:o.PanelTabType.CONTACTS,status:0,loginUser:{},curChatTarget:{},ended:!0,speaking:!1,otherSpeaking:!1,ready:!1,pos:{x:0,y:0},getInfo:{},curMemberIdx:0,curIdxList:[],pageCount:7,get memberList(){var e=this;if(!i.getTargetCode(this.curChatTarget))return[];if(i.isGroup(this.curChatTarget)){var t=this.curChatTarget.groupMembers.filter((function(e){return 0===e.state}));return t.some((function(n,r,o){if(e.curChatTarget.userCode===n.userCode)return o.splice(r,1),t.unshift(n),!0})),t}return[this.loginUser,this.curChatTarget]},curSpeakerCode:"",voiceStatus:0,muted:!1,liveStatus:!1,get subTip(){var e=this;if(this.otherSpeaking&&this.curSpeakerCode){var t="";return i.isGroup(this.curChatTarget)?this.curChatTarget.groupMembers.some((function(n){if(n.userCode===e.curSpeakerCode)return t=n.userName,!0})):t=this.curChatTarget.userName,t+"正在说话"}return""},get speakingTip(){return this.otherSpeaking&&this.curSpeakerCode?"挂断":this.speaking?this.ready?"我正在说话":"正在连接...":"按住空格键(Space)说话"}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(5),a=n(6),u=n(1),c=n(8),l=n(2);function d(){var e=this.store,t=this.styles;e.visible&&(1===this.status?a.animation(t.sideContainer,u.AnimationType.SLIDE_OUT_RIGHT).subscribe((function(){e.status=0,e.visible=!1})):a.animation(t.container,u.AnimationType.ZOOM_OUT).subscribe((function(){e.visible=!1})))}function f(){var e=this.store,t=this.refs,n=this.styles,r=o.default.getKChat(this.rootName),s=o.default.getKChat(this.rootName).rxjsEvent;e.visiblev||e.liveStatus?s.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("通话中，无法发起")):(e.visible=!0,e.status=0,e.pos.x=(r.store.rootDomRef.current.offsetWidth-t.container.current.offsetWidth)/2,e.pos.y=(r.store.rootDomRef.current.offsetHeight-t.container.current.offsetHeight)/2,a.animation(n.container,u.AnimationType.ZOOM_IN),p.bind(this)())}function p(){var e=this.store;if(e.curMemberIdx=0,e.curIdxList=[],c.getTargetCode(e.curChatTarget)){var t=[];c.isGroup(e.curChatTarget)?(t=e.curChatTarget.groupMembers.filter((function(e){return 0===e.state}))).some((function(n,r,o){if(e.curChatTarget.userCode===n.userCode)return o.splice(r,1),t.unshift(n),!0})):t=[e.loginUser,e.curChatTarget],t.some((function(t,n){if(n>e.pageCount-1)return!0;e.curIdxList.push(n)}))}}function A(){var e=o.default.getKChat(this.rootName).fetch,t=this.store;t.speaking&&(t.ended=!0,m.bind(this)()),t.otherSpeaking&&(t.otherSpeaking=!1,t.curSpeakerCode="",e.ptt.stopListen())}function g(){A.bind(this)(),d.bind(this)()}function h(){var e=this.store,t=this.styles;0===e.status?a.animation(t.container,u.AnimationType.ZOOM_OUT).subscribe((function(){e.status=1,a.animation(t.sideContainer,u.AnimationType.SLIDE_IN_LEFT).subscribe()})):a.animation(t.sideContainer,u.AnimationType.SLIDE_OUT_RIGHT).subscribe((function(){e.status=0,a.animation(t.container,u.AnimationType.ZOOM_IN).subscribe()}))}function m(e){var t=o.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,s=this.store;s.speaking&&(y.bind(this)(),s.speaking=!1,s.curSpeakerCode="",s.ready=!1,n.ptt.endPTT().subscribe({next:function(e){e&&r.subscribe(u.RxjsEventNames.SEND_AUDIO_END,i.of(e))},error:function(e){console.log(e),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("结束PTT语音失败"))}}))}function y(){var e=this.refs;e.audio.current.pause(),e.audio.current.srcObject=null}function v(e){var t=this.store,n=o.default.getKChat(this.rootName),r=n.fetch,s=n.rxjsEvent;e=e||t.curChatTarget,t.otherSpeaking||t.speaking||(t.curSpeakerCode=t.loginUser.userCode,t.speaking=!0,r.ptt.startPTT({chatCode:c.getTargetCode(e),type:c.isGroup(e)?u.ChatType.GROUP:u.ChatType.USER}).subscribe({next:function(){},error:function(e){console.log(e),s.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("开始PTT语音失败"))}}))}function b(e){var t=this.store,n=o.default.getKChat(this.rootName).fetch;f.bind(this)(),t.otherSpeaking=!0,t.speaking=!1,t.curSpeakerCode=e.userCode,n.ptt.getPTT({srcCode:e.srcCode,type:e.type,chatCode:c.getTargetCode(e),pttResourceId:e.remark.pttResourceId,sn:e.sn})}t.default=function(){return[r.mounted("UpdateLoginUser",(function(){var e=o.default.getKChat(this.rootName),t=this.store,n=l.autorun((function(){t.loginUser=e.store.loginUser}));return function(){return n()}})),r.mounted("Drag",(function(){var e=o.default.getKChat(this.rootName),t=this.refs,n=this.store,r=i.fromEvent(t.headerBox.current,"mousedown"),a=i.fromEvent(window,"mousemove"),u=i.fromEvent(window,"mouseup"),c=i.fromEvent(t.container.current,"mouseleave");r.pipe(s.map((function(n){var r=t.headerBox.current.getBoundingClientRect(),o=e.store.rootDomRef.current.getBoundingClientRect(),i=e.store.rootDomRef.current.offsetWidth-t.container.current.offsetWidth,s=e.store.rootDomRef.current.offsetHeight-t.container.current.offsetHeight;return{x:n.x-(r.x-o.x),y:n.y-(r.y-o.y),maxRight:i,maxBottom:s,maxLeft:0,maxTop:0}})),s.concatMap((function(e){return a.pipe(s.takeUntil(i.merge(u,c)),s.map((function(t){return{x:t.x-e.x,y:t.y-e.y,maxRight:e.maxRight,maxBottom:e.maxBottom,maxLeft:e.maxLeft,maxTop:e.maxTop}})))}))).subscribe((function(e){n.pos.x=e.x>e.maxRight?e.maxRight:e.x<e.maxLeft?e.maxLeft:e.x,n.pos.y=e.y>e.maxBottom?e.maxBottom:e.y<e.maxTop?e.maxTop:e.y}))})),r.mounted("PannelTabChange",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=s.map((function(t){return n.currentPage===u.PanelTabType.CONTACTS&&n.visible&&g.bind(e)(),n.currentPage=t,t}));return t.addPipe(u.RxjsEventNames.PANEL_TAB_CHANGE,r),function(){return t.removePipe(u.RxjsEventNames.PANEL_TAB_CHANGE,r)}})),r.mounted("HidePhonePage",(function(){var e=this,t=o.default.getKChat(this.rootName).fetch,n=this.refs;i.merge(i.fromEvent(n.closeIcon.current,"click"),i.fromEvent(t.login,"beCoercive"),i.fromEvent(t.login,"loginOut")).subscribe((function(){g.bind(e)()}))})),r.mounted("ShowPhonePage",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return console.log("name",t),t===u.MenuType.PTT&&f.bind(e)(),t}));return t.addPipe(u.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,n),function(){return t.removePipe(u.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,n)}})),r.mounted("UpdateCurChatTarget",(function(){var e,t=this,n=o.default.getKChat(this.rootName).rxjsEvent,r=this.store,i=s.map((function(n){return A.bind(t)(),e&&c.getTargetCode(n)&&0===r.status&&h.bind(t)(),e=c.getTargetCode(n),r.ended=!0,p.bind(t)(),r.curChatTarget=n,n}));return n.addPipe(u.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,i),function(){return n.removePipe(u.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,i)}})),r.mounted("TogglePhoneStatus",(function(){var e=this,t=this.refs,n=this.store;i.merge(i.fromEvent(t.container.current,"click").pipe(s.filter((function(){return 1===n.status}))),i.fromEvent(t.resizeIcon.current,"click")).subscribe((function(){h.bind(e)()}))})),r.mounted("MoveActiveMember",(function(){var e=this.refs,t=this.store;i.fromEvent(e.leftIcon.current,"click").subscribe((function(){t.curMemberIdx>0&&(t.curMemberIdx--,-1===t.curIdxList.indexOf(t.curMemberIdx)&&(t.curIdxList.splice(t.curIdxList.length-1,1),t.curIdxList.unshift(t.curMemberIdx)))})),i.fromEvent(e.rightIcon.current,"click").subscribe((function(){t.curMemberIdx<t.memberList.length-1&&(t.curMemberIdx++,-1===t.curIdxList.indexOf(t.curMemberIdx)&&(t.curIdxList.splice(0,1),t.curIdxList.push(t.curMemberIdx)))}))})),r.mounted("RecvStartSpeak",(function(){var e=this,t=o.default.getKChat(this.rootName),n=this.store,r=function(r){var o=c.getTargetCode(n.curChatTarget),s=c.getTargetCode(r);if(!o){(c.isGroup(r)?t.fetch.group.getGroupInfo({groupCodeStr:s}):t.fetch.user.getUserInfo({userCode:s})).subscribe({next:function(o){n.getInfo=o,t.rxjsEvent.subscribe(u.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,i.of(n.getInfo),(function(){b.bind(e)(r)}))},error:function(e){console.log(e),t.rxjsEvent.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("获取聊天对象信息失败"))}})}},a=s.map((function(o){return t.fetch.ptt.on("startSpeak",(function(o){!o||n.liveStatus||t.store.smallest||(r(o),function(t){c.getTargetCode(n.curChatTarget)===c.getTargetCode(t)&&b.bind(e)(t)}(o))})),o})),l=s.map((function(o){return!o||t.store.smallest||(r(o),c.getTargetCode(n.curChatTarget)&&b.bind(e)(o)),o}));return t.rxjsEvent.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,a),t.rxjsEvent.addPipe(u.RxjsEventNames.RECV_PTT_IN_LIVE,l),function(){t.rxjsEvent.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,a),t.rxjsEvent.removePipe(u.RxjsEventNames.RECV_PTT_IN_LIVE,l)}})),r.mounted("RecvEndSpeak",(function(){var e=this,t=o.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,i=this.store,a=s.map((function(t){return n.ptt.on("endSpeak",(function(t){i.otherSpeaking&&c.getTargetCode(t)===c.getTargetCode(i.curChatTarget)&&(A.bind(e)(),y.bind(e)())})),t}));return r.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,a),function(){return r.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,a)}})),r.mounted("RecvReceiveStream",(function(){var e=o.default.getKChat(this.rootName),t=e.fetch,n=e.rxjsEvent,r=this.refs;i.fromEvent(r.audio.current,"canplay").subscribe((function(){r.audio.current.play()}));var a=s.map((function(e){return t.ptt.on("receiveStream",(function(e){console.log("收到ptt对讲得音频流",e),r.audio.current.srcObject=e})),e}));return n.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,a),function(){return n.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,a)}})),r.mounted("RecvTalkingTimeout",(function(){var e=this,t=o.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,i=s.map((function(t){return n.ptt.on("talkingTimeout",(function(t){m.bind(e)()})),t}));return r.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,i),function(){return r.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,i)}})),r.mounted("RecvConnectTimeout",(function(){var e=this,t=o.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,a=this.store,c=s.map((function(t){return n.ptt.on("connectTimeout",(function(t){a.speaking&&(y.bind(e)(),a.speaking=!1,a.ready=!1,a.curChatTargetCode="",r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("网络不佳，请稍后再试")))})),t}));return r.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,c)}})),r.mounted("RecvError",(function(){var e=this,t=o.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,a=this.store,c=s.map((function(t){return n.ptt.on("error",(function(t){if(a.speaking)throw y.bind(e)(),a.speaking=!1,a.ready=!1,a.curChatTargetCode="",console.log(t),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("PTT连接错误")),t})),t}));return r.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,c)}})),r.mounted("RecvReady",(function(){var e=o.default.getKChat(this.rootName),t=e.fetch,n=e.rxjsEvent,r=this.store,i=s.map((function(e){return t.ptt.on("ready",(function(e){r.ready=!0})),e}));return n.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,i),function(){return n.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,i)}})),r.mounted("RecvCaptureFailed",(function(){var e=o.default.getKChat(this.rootName),t=e.fetch,n=e.rxjsEvent,r=s.map((function(e){return t.ptt.on("captureFailed",(function(e){n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("从设备捕捉音频失败，请重试"))})),e}));return n.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,r),function(){return n.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,r)}})),r.mounted("RecvShortDuration",(function(){var e=o.default.getKChat(this.rootName),t=e.fetch,n=e.rxjsEvent,r=s.map((function(e){return t.ptt.on("shortDuration",(function(e){n.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("讲话时间太短，请重试"))})),e}));return n.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,r),function(){return n.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,r)}})),r.mounted("RecvChannelBusy",(function(){var e=this,t=o.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,a=s.map((function(t){return n.ptt.on("channelBusy",(function(t){m.bind(e)(),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("当前功能已被占用, 请稍后再试"))})),t}));return r.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,a),function(){return r.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,a)}})),r.mounted("OtherDeviceHandled",(function(){var e=this,t=o.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,a=s.map((function(t){return n.ptt.on("otherDeviceHandled",(function(t){m.bind(e)(),r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of("已在其他终端处理"))})),t}));return r.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,a),function(){return r.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,a)}})),r.mounted("RecvChannelInterrupt",(function(){var e=this,t=o.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,i=this.store,a=s.map((function(t){return n.ptt.on("channelInterrupt",(function(t){c.getTargetCode(t)===c.getTargetCode(i.curChatTarget)&&(y.bind(e)(),i.speaking=!1,i.ready=!1,i.otherSpeaking=!1,i.curSpeakerCode=t.userCode)})),t}));return r.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,a),function(){return r.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,a)}})),r.mounted("Hangup",(function(){var e=this,t=this.refs,n=this.store;i.fromEvent(t.callBtn.current,"click").subscribe((function(){n.otherSpeaking&&g.bind(e)()}))})),r.mounted("ClickCallBtn",(function(){var e=this,t=this.refs,n=this.store;i.merge(i.fromEvent(t.callBtn.current,"mousedown").pipe(s.filter((function(){return!n.otherSpeaking&&!n.speaking}))),i.fromEvent(window,"keydown").pipe(s.filter((function(e){return n.visible&&1!==n.status&&e&&32===e.keyCode&&n.ended?(n.ended=!1,!0):!!(n.visible&&1!==n.status&&e&&112===e.keyCode&&n.ended)&&(n.ended=!1,e.preventDefault(),!0)})))).subscribe((function(){n.liveStatus||v.bind(e)()}))})),r.mounted("EndSpeak",(function(){var e=this,t=this.store;i.merge(i.fromEvent(window,"keyup").pipe(s.filter((function(e){return!(!t.visible||!e||32!==e.keyCode&&112!==e.keyCode)&&(t.ended=!0,!0)}))),i.fromEvent(window,"mouseup").pipe(s.filter((function(e){return!(!t.visible||1===t.status)&&(t.ended=!0,!0)})))).subscribe((function(){m.bind(e)()}))})),r.mounted("ToggleVoiceStatus",(function(){var e=this,t=this.refs,n=this.store;i.fromEvent(t.voiceIcon.current,"click").subscribe((function(){n.muted=!n.muted,n.muted?t.audio.current.muted=!0:t.audio.current.muted=!1})),i.fromEvent(t.voiceIcon.current,"mouseover").subscribe((function(){e.store.voiceStatus=1})),i.fromEvent(t.voiceIcon.current,"mouseleave").subscribe((function(){e.store.voiceStatus=0}))})),r.mounted("BroadcastPttStatus",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=t.speaking,r=t.otherSpeaking,s=l.autorun((function(){n===t.speaking&&t.otherSpeaking===r||(n=t.speaking,r=t.otherSpeaking,e.subscribe(u.RxjsEventNames.BROADCAST_PTT_STATUS,i.of({speaking:t.speaking,otherSpeaking:t.otherSpeaking})))}));return function(){s(),r=null,r=null}})),r.mounted("WatchLiveStatus",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=s.map((function(t){return n.liveStatus=t,t?g.bind(e)():A.bind(e)(),t}));return t.addPipe(u.RxjsEventNames.BROADCAST_LIVE_STATUS,r),function(){return t.removePipe(u.RxjsEventNames.BROADCAST_LIVE_STATUS,r)}})),r.mounted("OperatePttInLive",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){v.bind(e)(t)})),r=s.map((function(t){m.bind(e)(t)}));return t.addPipe(u.RxjsEventNames.START_PTT_IN_LIVE,n),t.addPipe(u.RxjsEventNames.END_PTT_IN_LIVE,r),function(){t.removePipe(u.RxjsEventNames.START_PTT_IN_LIVE,n),t.removePipe(u.RxjsEventNames.END_PTT_IN_LIVE,r)}})),r.mounted("OnMediaBroken",(function(){var e=this,t=o.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,a=s.map((function(t){return n.ptt.on("mediaSetBroken",(function(t){r.subscribe(u.RxjsEventNames.SHOW_MESSAGE,i.of(t.message)),t.mic&&A.bind(e)()})),t}));return r.addPipe(u.RxjsEventNames.LOGIN_SUCCESS,a),function(){return r.removePipe(u.RxjsEventNames.LOGIN_SUCCESS,a)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(505),i=n(507),s=n(509);t.default=function e(t,n,a){return r.default("SettingPopup",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(1),u=n(6),c=n(8),l=n(29),d=n(506),f=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.contentTabRef=f(null),e.refs.logoutRef=f(null),e.refs.sendSelectRef=f(null),e.refs.deleteIconRef=f(null),e.refs.setScreenshotRef=f(null),e.refs.confirmBtnRef=f(null),e.refs.cancelBtnRef=f(null),e.refs.closeIconRef=f(null),e.refs.resetBtnRef=f(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=t.assets,i=n.fonts,f=n.images,p=e.store,A=p.visible,g=p.activeTab,h=p.loginUser,m=p.version,y=p.sendSelectVisible,v=p.screenshotPopupVisible,b=p.shortcuts,E=p.tempScreenshot,C=b.sendMessageList.map((function(){return{current:null}}));e.refs.selectItemRefs=C.map((function(e){return{get current(){return e.current.refs.current}}}));var T=function(e){return e===g?r(r({},t.tabItem),t.activeTabItem):t.tabItem},S=function(e){return e.map((function(e){return d.getKeyCode(e)})).join("+")};return o.createElement("div",{style:u.toggleVisible(t.mask,A),"data-tree":e.name,"data-style-name":"mask"},o.createElement("div",{style:t.container,"data-style-name":"container"},o.createElement("div",{style:t.zoomBox,"data-style-name":"zoomBox"},o.createElement("div",{style:t.header,"data-style-name":"header"},o.createElement("span",{style:t.headerTitle,"data-style-name":"headerTitle"},"设置"),o.createElement("i",{className:i.close,style:t.closeIcon,ref:e.refs.closeIconRef,"data-style-name":"closeIcon"})),o.createElement("div",{style:t.content,"data-style-name":"content"},o.createElement("div",{style:t.contentTab,ref:e.refs.contentTabRef,"data-style-name":"contentTab"},o.createElement("span",{style:T(a.SettingType.ACCOUNT_SETTING),"data-type":a.SettingType.ACCOUNT_SETTING,"data-style-name":a.SettingType.ACCOUNT_SETTING===g?"activeTabItem":"tabItem"},"账号设置"),o.createElement("span",{style:T(a.SettingType.SHORTCUT_KEY),"data-type":a.SettingType.SHORTCUT_KEY,"data-style-name":a.SettingType.SHORTCUT_KEY===g?"activeTabItem":"tabItem"},"快捷按键"),o.createElement("span",{style:T(a.SettingType.OTHER_INFO),"data-type":a.SettingType.OTHER_INFO,"data-style-name":a.SettingType.OTHER_INFO===g?"activeTabItem":"tabItem"},"其它信息")),o.createElement("div",{style:t.contentView,"data-style-name":"contentView"},o.createElement("div",{style:u.toggleVisible(t.accountBox,g===a.SettingType.ACCOUNT_SETTING),"data-style-name":"accountBox"},o.createElement("img",{src:c.getUserHeader(h,f),style:t.headerImg,"data-style-name":"headerImg"}),o.createElement("span",{style:t.userName,"data-style-name":"userName"},h.userName),o.createElement("span",{style:t.exitButton,ref:e.refs.logoutRef,"data-style-name":"exitButton"},"退出登录")),o.createElement("div",{style:u.toggleVisible(t.shortcutBox,g===a.SettingType.SHORTCUT_KEY),"data-style-name":"shortcutBox"},o.createElement("div",{style:t.sendMsgBox,"data-style-name":"sendMsgBox"},o.createElement("span",{style:t.label,"data-style-name":"label"},"发送消息"),o.createElement("div",{style:t.inputContainer,ref:e.refs.sendSelectRef,"data-style-name":"inputContainer"},o.createElement("span",{style:t.sendInputTitle,"data-style-name":"sendInputTitle"},S(b.sendMessage)),o.createElement("i",{style:t.selectIcon,className:i.select,"data-style-name":"selectIcon"}),o.createElement("div",{style:u.toggleVisible(t.selectContainer,y),"data-style-name":"selectContainer"},b.sendMessageList.map((function(e,n){return o.createElement(l.Pseudo,{style:t.selectItem,hoverStyle:t.selectItemHover,ref:C[n],key:n,"data-style-name":"selectItem","data-style-hover-name":"selectItemHover"},e.map((function(e){return d.getKeyCode(e)})).join("+"))}))))),o.createElement("div",{style:t.screenShotBox,"data-style-name":"screenShotBox"},o.createElement("span",{style:t.label,"data-style-name":"label"},"截取屏幕"),o.createElement("div",{style:t.inputContainer,"data-style-name":"inputContainer"},o.createElement("span",{style:t.screenshotTitle,ref:e.refs.setScreenshotRef,"data-style-name":"screenshotTitle"},b.screenshot.length>0?S(b.screenshot):o.createElement("span",{style:t.screenshotEmpty,"data-style-name":"screenshotEmpty"},"请定义快捷键")),o.createElement("i",{style:t.clearIcon,className:i.delete,ref:e.refs.deleteIconRef,"data-style-name":"clearIcon"}))),o.createElement("span",{style:t.resetButton,ref:e.refs.resetBtnRef,"data-style-name":"resetButton"},"恢复默认设置")),o.createElement("div",{style:u.toggleVisible(t.otherInfoBox,g===a.SettingType.OTHER_INFO),"data-style-name":"otherInfoBox"},o.createElement("div",{style:t.infoItem,"data-style-name":"infoItem"},o.createElement("span",{style:t.label,"data-style-name":"label"},"版本信息"),o.createElement("span",{style:t.infoItemContent,"data-style-name":"infoItemContent"},m.description)),o.createElement("div",{style:t.infoItem,"data-style-name":"infoItem"},o.createElement("span",{style:t.label,"data-style-name":"label"},"版本日期"),o.createElement("span",{style:t.infoItemContent,"data-style-name":"infoItemContent"},m.date)))))),o.createElement("div",{style:u.toggleVisible(t.screenshotSetttingPopup,v),"data-style-name":"screenshotSetttingPopup"},o.createElement("div",{style:t.screenshotSetttingPopupTitle,"data-style-name":"screenshotSetttingPopupTitle"},"请直接在键盘上输入新的快捷键"),o.createElement("div",{style:t.screenshotSetttingPopupContent,"data-style-name":"screenshotSetttingPopupContent"},S(E)),o.createElement("div",{style:t.screenshotSetttingPopupFooter,"data-style-name":"screenshotSetttingPopupFooter"},o.createElement("span",{style:t.confirmBtn,ref:e.refs.confirmBtnRef,"data-style-name":"confirmBtn"},"确认"),o.createElement("span",{style:t.cancelBtn,ref:e.refs.cancelBtnRef,"data-style-name":"cancelBtn"},"取消")))))}))}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={8:"BackSpace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",20:"Caps Lock",27:"Esc",32:"Space",37:"Left",38:"Up",39:"Right",40:"Down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",186:";:",187:"=+",188:",<",189:"-_",190:".>",191:"/?",192:"`~",219:"[{",220:"\\|",221:"]}",222:"'\""};t.getKeyCode=function(e){var t=n[e];return void 0===t?null:t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);t.default=function(){return{default:{assets:{images:{$groupDefaultHeader:r.$theme.$groupDefaultHeader,$maleDefaultHeader:r.$theme.$maleDefaultHeader,$femaleDefaultHeader:r.$theme.$femaleDefaultHeader,loginOut:n(508)},fonts:{close:"icon iconfont icon-close-copy",select:"icon iconfont icon-thumbnail",delete:"icon iconfont icon-mark delete-icon"}},mask:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"9",backgroundColor:"rgba(0, 0, 0, .3)"},container:{position:"absolute",left:"50%",top:"50%",width:"390px",height:"290px",transform:"translate(-50%, -50%)"},zoomBox:{height:"100%",borderRadius:"5px",backgroundColor:"#fff",boxShadow:"rgba(0, 0, 0, 0.16) 0px 0px 10px 0px"},header:{height:"60px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",marginBottom:"25px",borderBottom:"1px solid #DCDFE6"},headerTitle:{color:"#333",fontSize:"14px"},closeIcon:{color:"#BEC1C9",fontSize:"12px",cursor:"pointer"},content:{height:"205px",display:"flex"},contentTab:{width:"108px",height:"100%",display:"flex",flexDirection:"column",borderRight:"1px solid #DCDFE6"},tabItem:{width:"calc(100% + 1px)",marginBottom:"26px",fontSize:"14px",color:"#333",textAlign:"center",borderRight:"2px solid transparent",cursor:"pointer"},activeTabItem:{color:"#4999FF",borderRight:"2px solid #4999FF"},contentView:{width:"calc(100% - 108px)"},accountBox:{display:"flex",flexDirection:"column",alignItems:"center"},headerImg:{width:"50px",height:"50px",borderRadius:"50%"},exitButton:{width:"100px",marginTop:"46px",lineHeight:"26px",textAlign:"center",border:"1px solid #DCDFE6",borderRadius:"2px",fontSize:"16px",color:"#333",cursor:"pointer"},userName:{marginTop:"10px",color:"#333",fontSize:"12px"},shortcutBox:{display:"flex",flexDirection:"column",alignItems:"center",fontSize:"16px",color:"#333"},sendMsgBox:{width:"100%",marginBottom:"26px",display:"flex"},screenShotBox:{width:"100%",marginBottom:"48px",display:"flex"},inputContainer:{position:"relative",width:"116px",height:"22px",display:"flex",border:"1px solid #DCDFE6",lineHeight:"20px",borderRadius:"2px",fontSize:"14px",cursor:"pointer"},sendInputTitle:{width:"calc(100% - 20px)",textAlign:"center",borderRight:"1px solid #DCDFE6"},screenshotTitle:{width:"calc(100% - 20px)",textAlign:"center"},selectIcon:{position:"absolute",right:"6px",width:"20px",lineHeight:"20px",fontSize:"18px",color:"#BEC1C9"},selectContainer:{position:"absolute",left:"0",top:"21px",width:"100%",border:"1px solid #DCDFE6",borderRadius:"2px",lineHeight:"16px",color:"#262626",backgroundColor:"#fff",boxShadow:"0 0 12px 0 rgba(0, 0, 0, 0.16)",zIndex:"1"},selectItem:{lineHeight:"22px",textAlign:"center"},selectItemHover:{color:"#fff",backgroundColor:"#4999FF"},clearIcon:{lineHeight:"20px",fontSize:"20px",color:"#BEC1C9"},screenshotEmpty:{color:"#DCDFE6"},resetButton:{width:"116px",lineHeight:"20px",border:"1px solid #DCDFE6",borderRadius:"2px",cursor:"pointer",textAlign:"center"},otherInfoBox:{display:"flex",flexDirection:"column",alignItems:"center",fontSize:"14px"},infoItem:{width:"100%",display:"flex",marginBottom:"26px",fontSize:"16px",color:"#333"},label:{margin:"0 20px 0 42px"},infoItemContent:{},screenshotSetttingPopup:{position:"absolute",left:"50%",top:"50%",width:"354px",height:"190px",boxShadow:"0 0 12px 0 rgba(0, 0, 0, 0.16)",borderRadius:"6px",backgroundColor:"#fff",transform:"translate(-50%, -50%)"},screenshotSetttingPopupTitle:{height:"40px",padding:"20px 20px 0",lineHeight:"20px",fontSize:"14px",color:"#666"},screenshotSetttingPopupContent:{height:"100px",lineHeight:"100px",fontSize:"18px",color:"#000",textAlign:"center"},screenshotSetttingPopupFooter:{width:"100%",height:"50px",display:"flex",justifyContent:"flex-end"},confirmBtn:{width:"72px",height:"28px",lineHeight:"28px",color:"#fff",letterSpacing:"5px",borderRadius:"2px",fontSize:"14px",textAlign:"center",cursor:"pointer",marginRight:"30px",backgroundColor:"#4999FF"},cancelBtn:{width:"72px",height:"28px",lineHeight:"26px",color:"#666",letterSpacing:"5px",borderRadius:"2px",fontSize:"14px",textAlign:"center",cursor:"pointer",border:"1px solid #DCDFE6",marginRight:"30px",backgroundColor:"#fff"}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/loginOut.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({visible:!1,activeTab:o.SettingType.ACCOUNT_SETTING,loginUser:{},version:{},sendSelectVisible:!1,screenshotPopupVisible:!1,shortcuts:{sendMessage:[13],screenshot:[17,18,65],sendMessageList:[[13],[17,13]]},tempScreenshot:[]})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(5),a=n(1),u=n(6),c=n(8);t.default=function(){return[r.mounted("GetDefaltSetting",(function(){var e=o.default.getKChat(this.rootName).store;this.store.version=e.version||{}})),r.mounted("ToggleVisible",(function(){var e=this.store,t=this.styles,n=o.default.getKChat(this.rootName).rxjsEvent,r=s.map((function(n){return n?(e.visible=!0,u.animation(t.zoomBox,a.AnimationType.ZOOM_IN).subscribe()):u.animation(t.mask,a.AnimationType.ZOOM_OUT).subscribe({next:function(){return e.visible=!1}}),n}));return n.addPipe(a.RxjsEventNames.TOGGLE_SETTING_VIEW,r),function(){return n.removePipe(a.RxjsEventNames.TOGGLE_SETTING_VIEW,r)}})),r.mounted("CloseIconClick",(function(){var e=this.refs.closeIconRef,t=o.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(e.current,"click").subscribe({next:function(){t.subscribe(a.RxjsEventNames.TOGGLE_SETTING_VIEW,i.of(!1))}})})),r.mounted("ChangeActiveTab",(function(){var e=this.store,t=this.refs.contentTabRef;i.fromEvent(t.current,"click").pipe(s.map((function(e){return e.target.getAttribute("data-type")})),s.filter((function(e){return!!e}))).subscribe({next:function(t){e.activeTab=+t}})})),r.mounted("LoginSuccess",(function(){var e=this.store,t=o.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return e.loginUser=t,e.visible=!1,e.activeTab=a.SettingType.ACCOUNT_SETTING,e.sendSelectVisible=!1,e.screenshotPopupVisible=!1,e.tempScreenshot=[],e.shortcuts.sendMessage=[13],e.shortcuts.screenshot=[17,18,65],t}));return t.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,n),function(){return t.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,n)}})),r.mounted("LoginOut",(function(){var e=this.refs.logoutRef,t=this.styles.assets.images,n=o.default.getKChat(this.rootName),r=(n.fetch,n.rxjsEvent);i.fromEvent(e.current,"click").subscribe({next:function(){r.subscribe(a.RxjsEventNames.SHOW_CONFIRM,i.of({title:"您确定要退出登录吗？",content:"退出后您可以重新登录使用",image:t.loginOut,onOk:function(){r.subscribe(a.RxjsEventNames.LOGIN_OUT,i.of({}))}}))}})})),r.mounted("OnlogOut",(function(){this.store;var e=o.default.getKChat(this.rootName),t=e.rxjsEvent,n=e.fetch,r=s.map((function(e){return n.login.emit("loginOut"),e}));return t.addPipe(a.RxjsEventNames.LOGIN_OUT,r),function(){return t.removePipe(a.RxjsEventNames.LOGIN_OUT,r)}})),r.mounted("sendMsgClick",(function(){var e=this.store,t=this.refs.sendSelectRef;i.fromEvent(t.current,"click").subscribe({next:function(t){t.stopPropagation(),e.sendSelectVisible=!e.sendSelectVisible}}),i.fromEvent(window,"click").subscribe({next:function(){e.sendSelectVisible=!1}})})),r.mounted("changeSend",(function(){var e=this.store,t=this.refs,n=t.sendSelectRef;i.fromEvent(n.current,"click").pipe(s.map((function(e){return t.selectItemRefs.findIndex((function(t){return t.current===e.target}))})),s.filter((function(e){return e>-1}))).subscribe({next:function(t){e.shortcuts.sendMessage=e.shortcuts.sendMessageList[t]}})})),r.mounted("GetShortcutKey",(function(){var e=this.store,t=o.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){var n=t.sort().toString(),r=e.shortcuts.sendMessage.slice().sort().toString(),o=e.shortcuts.screenshot.slice().sort().toString();return n===r?a.ShortcutKeyType.SEND_MESSAGE:n===o?a.ShortcutKeyType.SCREENSHOT:void 0}));return t.addPipe(a.RxjsEventNames.GET_SHORTCUT_KEY_TYPE,n),function(){return t.removePipe(a.RxjsEventNames.GET_SHORTCUT_KEY_TYPE,n)}})),r.mounted("ClearScreenshotKey",(function(){var e=this.store,t=this.refs.deleteIconRef;i.fromEvent(t.current,"click").subscribe({next:function(){e.shortcuts.screenshot=[]}})})),r.mounted("TogglePopupVisible",(function(){var e=this.store,t=this.refs.setScreenshotRef;i.fromEvent(t.current,"click").subscribe({next:function(){e.tempScreenshot=e.shortcuts.screenshot,e.screenshotPopupVisible=!0}})})),r.mounted("ScreenshotConfirm",(function(){var e=this.store,t=this.refs.confirmBtnRef;i.fromEvent(t.current,"click").subscribe({next:function(){e.shortcuts.screenshot=e.tempScreenshot,e.screenshotPopupVisible=!1}})})),r.mounted("ScreenshotCancel",(function(){var e=this.store,t=this.refs.cancelBtnRef;i.fromEvent(t.current,"click").subscribe({next:function(){e.screenshotPopupVisible=!1}})})),r.mounted("SetScreenshotKey",(function(){var e=this.store,t=o.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(window,"keydown").pipe(s.filter((function(){return e.screenshotPopupVisible}))).subscribe({next:function(n){var r=c.getEventKey(n);r.length>3?t.subscribe(a.RxjsEventNames.SHOW_MESSAGE,i.of("快捷键至多支持3个键")):e.tempScreenshot=r}})})),r.mounted("ResetShortcuts",(function(){var e=this.store,t=this.refs.resetBtnRef;i.fromEvent(t.current,"click").subscribe({next:function(){e.shortcuts.sendMessage=[13],e.shortcuts.screenshot=[17,18,65]}})}))]}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(512),s=n(513),a=n(515),u=n(86),c=n(102),l=n(11),d=n(1),f=n(12),p=n(13),A=n(6);t.default=function e(t,n,g){var h=u.default(t,".kc-live-controller",r([l.mounted("SetType",(function(){this.store.type=d.ControllerType.LIVE}))],c.default())).setName("LiveController");return h.removeHook("ClickControllerMenu"),h.addHook({name:"ClickControllerMenu",hookType:d.HookType.MOUNTED,params:function(){var e=this.refs,t=this.store,n=f.default.getKChat(this.rootName).rxjsEvent;p.fromEvent(e.container.current,"click").subscribe((function(r){e.menus.some((function(o,i){if(A.isDescendant(r.target,o.current,e.container.current))return n.subscribe(d.RxjsEventNames.CLICK_CONTROLLER,p.of({type:t.type,name:t.menus[i].name})),t.menus[i].name===d.ControllerName.BIG?t.isBig=!0:t.isBig=!1,!0}))}))}}),o.default("Live",i.default,{rootName:t,_styles:s.default(),store:a.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:g},[h])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(6),u=n(29),c=n(1),l=n(8),d=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=d(null),e.refs.toolBox=d(null),e.refs.volumeControllerBox=d(null),e.refs.volumeControllerLine=d(null),e.refs.volumeControllerBtn=d(null),e.refs.volumeControllerBefore=d(null),e.refs.otherStreamVideo=d(null),e.refs.selfStreamVideo=d(null),e.refs.inviteBox=d(null),e.refs.audio=d(null),e.refs.liveConfirmBox=d(null),e.refs.resizeIconBox=d(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=e.store,i=e.refs,d=t.assets,f=d.fonts,p=d.images,A=n.tools.map((function(){return{current:null}}));i.tools=A.map((function(e){return{get current(){return e.current.refs.current}}})),i.liveConfirm=n.liveConfirmList.map((function(){return{current:null}})),i.liveConfirmArgree=n.liveConfirmList.map((function(){return{current:null}})),i.liveConfirmRefuse=n.liveConfirmList.map((function(){return{current:null}}));var g=function(){return n.liveType===c.LiveType.LIVE?n.curLiveUser:n.liveTarget},h=function(){return n.liveType===c.LiveType.VIDEO&&n.videoType===c.VideoType.AUDIO};return o.createElement("div",{ref:e.refs.container,"data-tree":e.name,style:a.toggleVisible(r(r(r(r({},t.container),h()?t.audioContainer:{}),n.smallest?t.smallestContainer:{}),{left:n.pos.x+"px",top:n.pos.y+"px"}),n.visible),"data-style-name":h()?n.smallest?"audioContainer&smallestContainer":"audioContainer":n.smallest?"smallestContainer":"container"},o.createElement("div",{style:a.toggleVisible(t.videoBox,n.liveType===c.LiveType.LIVE||n.videoType!==c.VideoType.AUDIO),"data-style-name":"videoBox"},o.createElement("div",{style:a.toggleVisible(t.defaultPicture,n.curActiveEmpty),"data-style-name":"defaultPicture"},o.createElement("img",{src:p.defaultPiture,alt:"",draggable:!1,style:t.defaultImage,"data-style-name":"defaultImage"}),o.createElement("div",{style:t.defaultPictureTip,"data-style-name":"defaultPictureTip"},"无画面")),o.createElement("video",{ref:i.otherStreamVideo,style:a.toggleVisible(r(r({},n.isSelfActive?t.otherStreamVideo:t.activeStreamVideo),n.smallest?t.smallestOtherStreamVideo:{}),n.otherStreamVideoVisible),"data-style-name":n.smallest?n.isSelfActive?"smallestOtherStreamVideo&otherStreamVideo":"smallestOtherStreamVideo&activeStreamVideo":n.isSelfActive?"otherStreamVideo":"activeStreamVideo"}),o.createElement("video",{ref:i.selfStreamVideo,muted:!0,style:a.toggleVisible(r(r({},n.isSelfActive?t.activeStreamVideo:t.selfStreamVideo),n.smallest&&n.liveType===c.LiveType.LIVE&&n.living?t.smallestSelfStreamVideo:{}),n.selfStreamVideoVisible),"data-style-name":n.smallest&&n.liveType===c.LiveType.LIVE&&n.living?n.isSelfActive?"smallestSelfStreamVideo&activeStreamVideo":"smallestSelfStreamVideo&selfStreamVideo":n.isSelfActive?"activeStreamVideo":"selfStreamVideo"})),o.createElement("div",{style:a.toggleVisible(t.audioBox,h()),"data-style-name":"audioBox"},o.createElement("audio",{controls:!0,style:t.audio,ref:i.audio,"data-style-name":"audio"}),o.createElement("img",{src:l.getUserHeader(g(),p),draggable:!1,style:t.audioImg,"data-style-name":"audioImg",alt:""}),o.createElement("div",{style:t.liverName,"data-style-name":"liverName"},g().userName),o.createElement("div",{style:a.toggleVisible(t.audioLiveTime,n.living||n.otherLiving),"data-style-name":"audioLiveTime"},a.getFormatTimeStr(n.curTime))),o.createElement("div",{style:a.toggleVisible(t.liveTipBox,!h()),"data-style-name":"liveTipBox"},o.createElement("div",{style:a.toggleVisible(t.curLiverInfo,n.curLiverCode),"data-style-name":"curLiverInfo"},o.createElement("img",{src:l.getUserHeader(g(),p),draggable:!1,style:t.curLiverHeaderImg,"data-style-name":"curLiverHeaderImg",alt:""}),o.createElement("span",{style:t.curLiverName,"data-style-name":"curLiverName"},n.liveType===c.LiveType.LIVE?g().userName+"正在直播":g().userName+"正在视频聊天")),o.createElement("div",{style:a.toggleVisible(t.liveTime,n.living||n.otherLiving),"data-style-name":"liveTime"},a.getFormatTimeStr(n.curTime))),o.createElement("div",{style:t.toolContainer,"data-style-name":"toolContainer"},o.createElement("ul",{style:t.toolList,"data-style-name":"toolList",ref:i.toolBox},n.tools.map((function(e,s){var l="",d="";switch(e.name){case c.LiveToolType.VOLUME:l="volumeToolHover",d="volumeTool";break;case c.LiveToolType.VOLUME_OFF:l="volumeOffToolHover",d="volumeOffTool";break;case c.LiveToolType.PTT:l="pttToolHover",d="pttTool";break;case c.LiveToolType.PTT_SEND:l="pttSendToolHover",d="pttSendTool";break;case c.LiveToolType.LIVE:l="liveToolHover",d="liveTool";break;case c.LiveToolType.UNABLE_UPLOAD_LIVE:l="unableUploadLiveToolHover",d="unableUploadLiveTool";break;case c.LiveToolType.HANGUP:l="hangupToolHover",d="hangupTool"}return o.createElement(u.Pseudo,{key:e.name,ref:A[s],tagName:"li",style:a.toggleVisible(r(r({},t.toolItemBox),d?t[d]:{}),void 0===e.visible||e.visible),hoverStyle:r(r({},t.toolItemBoxHover),l?t[l]:{}),"data-style-name":d?"toolItemBox&"+d:"toolItemBox","data-style-hover-name":l?"toolItemBoxHover&"+l:"toolItemBoxHover"},e.name===c.LiveToolType.PTT_SEND&&o.createElement("div",{style:t.before,"data-style-name":"before"}),e.name===c.LiveToolType.PTT_SEND&&o.createElement("div",{style:t.after,"data-style-name":"after"}),e.name===c.LiveToolType.VOLUME&&o.createElement("div",{ref:i.volumeControllerBox,style:a.toggleVisible(t.volumeControllerBox,n.volumeVisible),"data-style-name":"volumeControllerBox"},o.createElement("div",{style:t.volumeControllerLine,ref:i.volumeControllerLine,"data-style-name":"volumeControllerLine"},o.createElement("div",{style:r(r({},t.volumeControllerBefore),{width:n.volume+"%"}),ref:i.volumeControllerBefore,"data-style-name":"volumeControllerBefore"}),o.createElement("div",{style:r(r({},t.volumeControllerafter),{left:n.volume+"%"}),ref:i.volumeControllerBtn,"data-style-name":"volumeControllerafter"}))),o.createElement("i",{className:f[e.name],style:t.toolIcon,"data-style-name":"toolIcon"}))})))),o.createElement("div",{style:a.toggleVisible(t.pttRecvIconBox,n.pttVisible),"data-style-name":"pttRecvIconBox"},n.pttStatusList.map((function(e){return o.createElement("i",{className:f[e.name],key:e.name,style:a.toggleVisible(t.pttRecvIcon,e.visible),"data-style-name":"pttRecvIcon"})}))),o.createElement("div",{style:a.toggleVisible(r(r(r({},t.inviteBox),n.curActiveEmpty?t.defaultPictureInviteBox:{}),h()?t.audioInviteBox:{}),l.isGroup(n.liveTarget)&&n.living),ref:i.inviteBox,"data-style-name":n.curActiveEmpty?h()?"defaultPictureInviteBox&audioInviteBox":"defaultPictureInviteBox":h()?"audioInviteBox":"inviteBox"},o.createElement("span",{style:t.curActivemembersLen,"data-style-name":"curActivemembersLen"},0!==n.curActivemembersList.length?n.curActivemembersList.length:0),o.createElement("i",{className:f.inviteIcon,style:r(r(r({},t.inviteIcon),n.curActiveEmpty?t.defaultPictureInviteIcon:{}),h()?t.audioInviteIcon:{}),"data-style-name":n.curActiveEmpty?h()?"defaultPictureInviteIcon&audioInviteIcon":"defaultPictureInviteIcon":h()?"audioInviteIcon":"inviteIcon"})),o.createElement("div",{className:"kc-live-controller",style:a.toggleVisible(t.liveController,!n.smallest&&(n.liveType===c.LiveType.LIVE||n.videoType!==c.VideoType.AUDIO)),"data-style-name":"liveController"}),o.createElement("div",{style:a.toggleVisible(t.resizeController,n.smallest&&(n.liveType===c.LiveType.LIVE||n.videoType!==c.VideoType.AUDIO)),ref:i.resizeIconBox,"data-style-name":"resizeController"},o.createElement("i",{draggable:!1,className:f.resize,style:t.resizeIcon,"data-style-name":"resizeIcon"})),o.createElement("div",{style:a.toggleVisible(r(r({},t.liveMessage),h()?t.audioLiveMessage:{}),n.liveMessageVisible),"data-style-name":h()?"audioLiveMessage":"liveMessage"},o.createElement("span",{style:t.liveMessageTip,"data-style-name":"liveMessageTip"},n.messageTip)),o.createElement("ul",{style:a.toggleVisible(t.liveConfirmBox,n.liveConfirmVisible),ref:i.liveConfirmBox,"data-style-name":"liveConfirmBox"},n.liveConfirmList.map((function(e,s){return o.createElement("li",{key:e.userCode,ref:i.liveConfirm[s],style:r(r({},t.liveConfirm),n.curActiveConfirmIdx===s?t.activeLiveConfirm:{}),"data-style-name":n.curActiveConfirmIdx===s?"activeLiveConfirm":"liveConfirm"},o.createElement("div",{style:t.liveConfirmContent,"data-style-name":"liveConfirmContent"},o.createElement("img",{src:l.getUserHeader(e,p),alt:"",draggable:!1,style:t.liveConfirmImg,"data-style-name":"liveConfirmImg"}),o.createElement("div",{style:t.liveConfirmTitle,"data-style-name":"liveConfirmTitle"},"申请直播"),o.createElement("div",{style:t.liveConfirmTip,"data-style-name":"liveConfirmTip"},e.userName,"申请直播权限，同意后视频画面切换给对方")),o.createElement("div",{style:t.liveConfirmFooter,"data-style-name":"liveConfirmFooter"},o.createElement("button",{style:t.liveConfirmArgree,"data-style-name":"liveConfirmArgree",ref:i.liveConfirmArgree[s]},"同意"),o.createElement("button",{style:t.liveConfirmRefuse,"data-style-name":"liveConfirmRefuse",ref:i.liveConfirmRefuse[s]},"拒绝")))}))))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=n(1);t.default=function(){var e;return{default:{assets:{images:{defaultPiture:n(514),$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader},fonts:(e={},e[i.LiveToolType.VOLUME]="icon iconfont icon-vi-volume",e[i.LiveToolType.VOLUME_OFF]="icon iconfont icon-vi-volume-off",e[i.LiveToolType.PTT]="icon iconfont icon-vi-voice",e[i.LiveToolType.PTT_SEND]="icon iconfont icon-vi-voice",e[i.LiveToolType.PTT_RECV_ONE]="icon iconfont icon-taste-one",e[i.LiveToolType.PTT_RECV_TWO]="icon iconfont icon-taste-two",e[i.LiveToolType.PTT_RECV_THREE]="icon iconfont icon-taste-three",e[i.LiveToolType.PTT_RECV_FOUR]="icon iconfont icon-taste-four",e[i.LiveToolType.PTT_RECV_FIVE]="icon iconfont icon-taste-five",e[i.LiveToolType.LIVE]="icon iconfont icon-vi-video",e[i.LiveToolType.UNABLE_UPLOAD_LIVE]="icon iconfont icon-vi-video-off",e[i.LiveToolType.HANGUP]="icon iconfont icon-vi-hangup",e.inviteIcon="icon iconfont icon-add-people",e.resize="icon iconfont icon-zoom",e)},container:r({position:"fixed",width:"615px",height:"460px",background:"#d8d8d8",zIndex:999,cursor:"move"},o.forbidSelect()),smallestContainer:{width:"308px",height:"230px"},inviteContaienr:{},toolContainer:r({},o.flex({justifyContent:"space-around"})),toolList:r(r({bottom:"25px"},o.flex({justifyContent:"space-around"})),{position:"absolute"}),toolItemBox:{margin:"0 16px",width:"45px",height:"45px",borderRadius:"100%",backgroundColor:o.$theme.$baseColor,cursor:"pointer",position:"relative",textAlign:"center",lineHeight:"45px",color:"#fff"},toolItemBoxHover:{backgroundColor:"#2E87E0"},volumeTool:{},volumeOffTool:{backgroundColor:"#7E8185"},pttTool:{},pttSendTool:{backgroundColor:"#fff",boxShadow:"0 0 6px 0 #90C0EF",color:o.$theme.$baseColor},liveTool:{},unableUploadLiveTool:{backgroundColor:"#7E8185",cursor:"default"},hangupTool:{backgroundColor:"#F25643"},volumeToolHover:{},volumeOffToolHover:{backgroundColor:"#717579"},pttToolHover:{},pttSendToolHover:{backgroundColor:"#fff"},liveToolHover:{},unableUploadLiveToolHover:{backgroundColor:"#717579"},hangupToolHover:{backgroundColor:"#D74F3E"},before:r({animation:"kc-resize 1s linear 0s infinite",background:"#90C0EF",width:"0",height:"0",borderRadius:"50%"},o.middle()),after:r({animation:"kc-resize 1s linear 0s infinite",background:"#90C0EF",width:"0",height:"0",borderRadius:"50%",animationDelay:"0.5s"},o.middle()),volumeControllerBox:{width:"100px",height:"24px",left:"50%",transform:"translateX(-50%)",position:"absolute",bottom:"-24px",paddingTop:"10px",background:"rgba(0, 0, 0, .5)",borderRadius:"10px"},volumeControllerLine:{width:"80px",marginLeft:"10px",height:"4px",position:"relative",backgroundColor:"#d8d8d8",borderRadius:"4px"},volumeControllerBefore:{position:"absolute",left:"0",top:"0",height:"100%",backgroundColor:"#fff",borderRadius:"4px"},volumeControllerafter:{width:"8px",height:"8px",backgroundColor:"#fff",position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"0",borderRadius:"50%",cursor:"pointer"},toolIcon:r(r({},o.middle()),{fontSize:"26px"}),pttRecvIconBox:r({width:"90px",height:"90px",background:"rgba(0,0,0,0.50)",borderRadius:"4px"},o.middle()),pttRecvIcon:r({left:"25px",fontSize:"42px",color:"#fff",lineHeight:"90px"},o.vertical()),videoBox:{height:"100%",backgroundColor:"#000"},defaultPicture:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},defaultImage:{width:"82px"},defaultPictureTip:{textAlign:"center",marginTop:"20px",lineHeight:"1",fontSize:"12px",color:"#a0a0a0"},otherStreamVideo:{width:"auto",height:"auto",maxWidth:"120px",maxHeight:"120px",position:"absolute",backgroundColor:"#000",left:"0",bottom:"0",border:"1px solid "+o.$theme.$baseColor,zIndex:1,cursor:"pointer"},smallestOtherStreamVideo:{zIndex:2,objectFit:"cover"},selfStreamVideo:{width:"auto",height:"auto",maxWidth:"120px",maxHeight:"120px",position:"absolute",left:"0",bottom:"0",border:"1px solid "+o.$theme.$baseColor,zIndex:1,cursor:"pointer",backgroundColor:"#000"},smallestSelfStreamVideo:{zIndex:2,objectFit:"cover"},activeStreamVideo:{objectFit:"contain",width:"100%",height:"100%",cursor:"move",position:"relative"},inviteBox:{position:"absolute",right:"20px",top:"50px",borderRadius:"2px",backgroundColor:"#fff",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",padding:"0 20px 0 5px",cursor:"pointer"},curActivemembersLen:{},inviteIcon:r(r({},o.vertical()),{right:"0",fontSize:"22px"}),defaultPictureInviteBox:{backgroundColor:"transparent",border:"1px solid #727479",color:"#727479"},defaultPictureInviteIcon:{color:"#727479"},audioInviteBox:{backgroundColor:"transparent",border:"1px solid #fff",color:"#fff"},audioInviteIcon:{color:"#fff"},liveTipBox:{},curLiverInfo:{position:"absolute",left:"20px",top:"40px",borderRadius:"18px",backgroundColor:"rgba(0, 0, 0, .8)",lineHeight:"34px",padding:"0 6px",fontSize:"14px",color:"#fff"},curLiverHeaderImg:{marginRight:"6px",verticalAlign:"middle",width:"22px",height:"22px",borderRadius:"50%"},curLiverName:{},liveTime:{position:"absolute",left:"50%",transform:"translateX(-50%)",top:"20px",fontSize:"14px",color:"#fff"},liveConfirmBox:r(r({},o.middle()),{width:"290px",height:"140px",zIndex:1}),liveConfirm:{width:"100%",height:"100%",position:"absolute",left:"0",top:"0",background:"#fff",boxShadow:"0 0 12px 0 rgba(0,0,0,0.16)",borderRadius:"6px",zIndex:0},activeLiveConfirm:{zIndex:1},liveConfirmContent:{position:"relative",padding:"25px 40px 0 80px",height:"calc(100% - 45px)"},liveConfirmImg:r({width:"42px",height:"42px",left:"20px"},o.vertical()),liveConfirmTitle:r({fontSize:"12px",color:"#333"},o.ellipsisN(4)),liveConfirmTip:{marginTop:"10px",color:"#666",fontSize:"10px"},liveConfirmFooter:{width:"100%",height:"45px",display:"flex",justifyContent:"center",alignItems:"center",borderTop:"1px solid "+o.$theme.$borderColor},liveConfirmArgree:r(r({},o.button()),{margin:"0 25px",fontSize:"10px"}),liveConfirmRefuse:r(r({},o.button("#fff","#333","1px solid "+o.$theme.$borderColor)),{fontSize:"10px"}),liveMessage:{position:"absolute",left:"50%",transform:"translateX(-50%)",top:"70px",zIndex:1,borderRadius:"4px",backgroundColor:"rgba(0, 0, 0, .8)",color:"#fff",lineHeight:"30px",padding:"0 12px",whiteSpace:"nowrap"},liveMessageTip:{},audioContainer:{width:"300px",height:"420px",borderRadius:"4px",paddingTop:"50px",background:"rgba(0, 0, 0, .7)",lineHeight:"1",fontSize:"16px",color:"#fff",textAlign:"center"},audioLiveMessage:{top:"250px"},audio:{display:"none"},audioImg:{width:"90px",height:"90px",borderRadius:"50%",verticalAlign:"middle"},liverName:{marginTop:"8px",lineHeight:"28px",fontSize:"18px",color:"#fff"},audioLiveTime:{marginTop:"4px",lineHeight:"20px",fontSize:"14px",color:"#fff"},liveController:{position:"absolute",height:"20px",zIndex:1,top:"10px",right:0},resizeController:{position:"absolute",zIndex:2,top:"10px",right:"10px",cursor:"pointer"},resizeIcon:{fontSize:"14px",color:"#BEC1C9"}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/noPicture.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1),i=n(8);t.default=function(){var e=r.observable({visible:!1,pos:{x:0,y:0},loginUser:{},curChatTarget:{},liveTarget:{},curLiverCode:"",curtime:0,curTimeCounter:null,messageTimer:null,messageTip:"",liveMessageVisible:!1,liveConfirmVisible:!1,liveConfirmList:[],curActiveConfirmIdx:0,get curLiveUser(){return e.curLiverCode?e.curLiverCode===e.loginUser.userCode?e.loginUser:i.isGroup(e.liveTarget)?e.liveTarget.groupMembers&&e.liveTarget.groupMembers.filter((function(t){return t.userCode===e.curLiverCode}))[0]||{}:e.liveTarget:{}},volumeVisible:!1,volume:100,volumeSetting:!1,living:!1,otherLiving:!1,liveType:o.LiveType.LIVE,videoType:o.VideoType.VIDEO,pttOtherSpeaking:!1,pttSpeaking:!1,muted:!1,localstream:null,remotestream:null,isSelfActive:!1,noReceiver:!0,liveInviteGroups:{refuse:0,total:0},curActivemembersList:[],smallest:!1,get otherStreamVideoVisible(){return!!e.remotestream},get selfStreamVideoVisible(){return e.liveType===o.LiveType.VIDEO?!!e.remotestream:e.living},get pttVisible(){return void 0!==e.living&&void 0!==e.otherLiving&&e.visible&&e.liveType===o.LiveType.LIVE&&e.pttOtherSpeaking},get curActiveEmpty(){return e.isSelfActive?!e.localstream&&e.liveType===o.LiveType.LIVE:!e.remotestream&&e.liveType===o.LiveType.LIVE},pttStatus:1,pttStatusList:[{name:o.LiveToolType.PTT_RECV_ONE,get visible(){return void 0!==e.living&&void 0!==e.otherLiving&&e.liveType===o.LiveType.LIVE&&e.pttOtherSpeaking&&1===e.pttStatus}},{name:o.LiveToolType.PTT_RECV_TWO,get visible(){return void 0!==e.living&&void 0!==e.otherLiving&&e.liveType===o.LiveType.LIVE&&e.pttOtherSpeaking&&2===e.pttStatus}},{name:o.LiveToolType.PTT_RECV_THREE,get visible(){return void 0!==e.living&&void 0!==e.otherLiving&&e.liveType===o.LiveType.LIVE&&e.pttOtherSpeaking&&3===e.pttStatus}},{name:o.LiveToolType.PTT_RECV_FOUR,get visible(){return void 0!==e.living&&void 0!==e.otherLiving&&e.liveType===o.LiveType.LIVE&&e.pttOtherSpeaking&&4===e.pttStatus}},{name:o.LiveToolType.PTT_RECV_FIVE,get visible(){return void 0!==e.living&&void 0!==e.otherLiving&&e.liveType===o.LiveType.LIVE&&e.pttOtherSpeaking&&5===e.pttStatus}}],tools:[{name:o.LiveToolType.VOLUME,get visible(){return!e.muted&&0!==e.volume||e.volumeSetting}},{name:o.LiveToolType.VOLUME_OFF,get visible(){return(e.muted||0===e.volume)&&!e.volumeSetting}},{name:o.LiveToolType.PTT,get visible(){return void 0!==e.living&&void 0!==e.otherLiving&&!e.living&&e.liveType===o.LiveType.LIVE&&!e.pttSpeaking}},{name:o.LiveToolType.PTT_SEND,get visible(){return void 0!==e.living&&void 0!==e.otherLiving&&!e.living&&e.liveType===o.LiveType.LIVE&&e.pttSpeaking}},{name:o.LiveToolType.LIVE,get visible(){return void 0!==e.living&&void 0!==e.otherLiving&&!e.living&&e.liveType===o.LiveType.LIVE}},{name:o.LiveToolType.UNABLE_UPLOAD_LIVE,get visible(){return void 0!==e.living&&void 0!==e.otherLiving&&e.living&&e.liveType===o.LiveType.LIVE}},{name:o.LiveToolType.HANGUP}]});return e}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(12),s=n(5),a=n(1),u=n(13),c=n(6),l=n(2),d=n(8);function f(){var e=this.store,t=this.refs,n=this.styles;e.visible||(e.visible=!0,e.pos.x=(window.innerWidth-t.container.current.offsetWidth)/2,e.pos.y=(window.innerHeight-t.container.current.offsetHeight)/2,c.animation(n.container,a.AnimationType.ZOOM_IN).subscribe())}function p(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=this.styles;t.visible&&(t.liveTarget={},c.animation(n.container,a.AnimationType.ZOOM_OUT).subscribe((function(){t.visible=!1,t.smallest=!1,e.subscribe(a.RxjsEventNames.RESET_CONTROLLER,u.of({type:a.ControllerType.LIVE}))})))}function A(e){var t=this.store,n=this.refs;e||0===e?(t.volume=e,n.otherStreamVideo.current.volume=e/100,n.audio.current.volume=e/100):(n.otherStreamVideo.current.muted=t.muted,n.audio.current.muted=t.muted)}function g(){this.store.muted=!0,A.bind(this)()}function h(){var e=this.store;e.muted=!1,0===e.volume?A.bind(this)(1):A.bind(this)()}function m(){var e=this.store;y.bind(this)(),e.curTimeCounter=setInterval((function(){e.curTime++}),1e3)}function y(){var e=this.store;clearInterval(e.curTimeCounter),e.curTimeCounter=null,e.curTime=0}function v(){var e=this.store;return e.liveType===a.LiveType.VIDEO&&e.videoType===a.VideoType.AUDIO}function b(e){var t=this.store;e?E.bind(this)(e):(t.remotestream=null,t.localstream=null,C.bind(this)())}function E(e){var t,n,r,o,s=this.store,c=this.refs,l=i.default.getKChat(this.rootName).options.singleRoomAutoLoginParam;l&&(r=l.localVideo,o=l.remoteVideo,t="string"==typeof r?document.querySelector(r):r,n="string"==typeof o?document.querySelector(o):o,t&&n&&(c.selfStreamVideo.current.style.display="none"),t&&n&&(c.otherStreamVideo.current.style.display="none")),C.bind(this)(e),e===s.localstream?t&&n?t.srcObject=e:c.selfStreamVideo.current.srcObject=e:s.liveType===a.LiveType.LIVE||s.videoType!==a.VideoType.AUDIO?(c.audio.current.srcObject=e,u.fromEvent(c.otherStreamVideo.current,"loadeddata").subscribe((function(){c.audio.current.srcObject=null})),t&&n?n.srcObject=e:c.otherStreamVideo.current.srcObject=e):c.audio.current.srcObject=e}function C(e){var t,n,r,o,s=this.store,a=this.refs,u=i.default.getKChat(this.rootName).options.singleRoomAutoLoginParam;u&&(r=u.localVideo,o=u.remoteVideo,t="string"==typeof r?document.querySelector(r):r,n="string"==typeof o?document.querySelector(o):o),e&&e!==s.remotestream||(a.otherStreamVideo.current.srcObject&&(a.otherStreamVideo.current.srcObject=null),t&&n&&n.srcObject&&(n.srcObject=null),a.audio.current.srcObject&&(a.audio.current.srcObject=null)),e&&e!==s.localstream||(a.selfStreamVideo.current.srcObject&&(a.selfStreamVideo.current.srcObject=null),t&&n&&t.srcObject&&(t.srcObject=null))}function T(){var e=this.store;i.default.getKChat(this.rootName).rxjsEvent;e.liveConfirmVisible&&(e.liveConfirmList=[],e.curActiveConfirmIdx=0,e.liveConfirmVisible=!1)}function S(){var e=this.store;e.liveConfirmVisible||(e.liveConfirmList=[],e.curActiveConfirmIdx=0,e.liveConfirmVisible=!0)}function x(e){var t=this.store;S.bind(this)(),t.liveConfirmList.some((function(t){return d.getTargetCode(e)===d.getTargetCode(t)}))||(t.liveConfirmList.push(e),t.curActiveConfirmIdx=t.liveConfirmList.length-1,_.bind(this)())}function _(){var e=this.refs,t=(e.container.current.offsetWidth-e.liveConfirmBox.current.offsetWidth)/2,n=(e.container.current.offsetHeight-e.liveConfirmBox.current.offsetHeight)/2;e.liveConfirm.forEach((function(e,r){var o=30*r,i=Math.min(o,t),s=Math.min(o,n);e.current.style.left=i+"px",e.current.style.top=s+"px"}))}function w(e){var t=this,n=this.store,r=i.default.getKChat(this.rootName),o=r.fetch,s=r.rxjsEvent;T.bind(this)(),b.bind(this)(),n.living||n.otherLiving||e?(n.living=!1,n.otherLiving=!1,y.bind(this)(),n.curLiverCode="",o.live.quitLive({chatCode:d.getTargetCode(n.liveTarget),type:d.isGroup(n.liveTarget)?a.ChatType.GROUP:a.ChatType.USER,liveType:n.liveType}).subscribe({next:function(){console.log("挂断成功"),I.bind(t)(),s.subscribe(a.RxjsEventNames.HANGUP_LIVE,u.of(n.liveTarget))},error:function(e){console.log(e),I.bind(t)(),417===e.resultCode&&s.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("已在其它终端处理"))}})):d.getTargetCode(n.liveTarget)&&I.bind(this)(n.liveTarget),p.bind(this)()}function B(e){var t=this.store;return e=e||t.curChatTarget,i.default.getKChat(this.rootName).fetch.live.getLivingInfo(d.isGroup(e)?{type:a.ChatType.GROUP,groupCodes:[e.groupCodeStr]}:{type:a.ChatType.USER,userCodes:[e.userCode]})}function I(e){var t=this.store,n=i.default.getKChat(this.rootName),o=n.fetch,s=n.rxjsEvent;e=e||t.curChatTarget,d.getTargetCode(e)&&o.live.getLivingInfo(d.isGroup(e)?{type:a.ChatType.GROUP,groupCodes:[e.groupCodeStr]}:{type:a.ChatType.USER,userCodes:[e.userCode]}).subscribe({next:function(t){s.subscribe(a.RxjsEventNames.UPDATE_LIVING_INFO_END,u.of(r(r({},d.isGroup(e)?{groupCodeStr:e.groupCodeStr}:{userCode:e.userCode}),{info:t[0]||{}})))},error:function(t){console.log(t),s.subscribe(a.RxjsEventNames.UPDATE_LIVING_INFO_END,u.of(r({},d.isGroup(e)?{groupCodeStr:e.groupCodeStr}:{userCode:e.userCode})))}})}function R(e,t){var n=this.store,r={userList:[],user:{},data:e};if(d.isGroup(e)){var o=t.groupMembers.filter((function(e){return 0===e.state}));o.some((function(t){if(t.userCode===e.userCode)return r.user=t,!0})),r.userList=o.filter((function(t){return-1!==e.userCodes.indexOf(t.userCode)}))}else r.user=t,r.userList=[n.loginUser];return r}function O(e){var t=this,n=this.store;n.messageTimer&&(clearTimeout(n.messageTimer),n.messageTimer=null),n.liveMessageVisible=!0,n.messageTip=e||"",n.messageTimer=setTimeout((function(){return N.bind(t)()}),3e3)}function N(){var e=this.store;e.liveMessageVisible=!1,e.messageTip=""}function M(){var e=this.store,t=i.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent;e.otherLiving?n.live.applyLivePermit({chatCode:d.getTargetCode(e.liveTarget),type:d.isGroup(e.liveTarget)?a.ChatType.GROUP:a.ChatType.USER}).subscribe({error:function(e){console.log(e),r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("申请请求未发出"))}}):e.living||(p.bind(this)(),U.bind(this)())}function U(){var e=this.store,t=i.default.getKChat(this.rootName).rxjsEvent;e.liveType=a.LiveType.LIVE,e.videoType=a.VideoType.VIDEO;var n=d.getTargetCode(e.liveTarget)?e.liveTarget:e.curChatTarget;d.isGroup(n)?G.bind(this)().subscribe({next:function(e){t.subscribe(a.RxjsEventNames.SHOW_SELECT_MEMBER,u.of({type:a.SelectMemberType.LIVE_INVITE_MEMBER,list:e}))},error:function(e){console.log(e)}}):P.bind(this)(n.userCode)}function L(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store;t.liveType=a.LiveType.VIDEO,t.videoType=a.VideoType.VIDEO;var n=d.getTargetCode(t.liveTarget)?t.liveTarget:t.curChatTarget;d.isGroup(n)?e.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("群组暂不支持该功能")):P.bind(this)(n.userCode)}function F(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store;t.liveType=a.LiveType.VIDEO,t.videoType=a.VideoType.AUDIO;var n=d.getTargetCode(t.liveTarget)?t.liveTarget:t.curChatTarget;d.isGroup(n)?e.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("群组暂不支持该功能")):P.bind(this)(n.userCode)}function P(e){var t=this,n=i.default.getKChat(this.rootName),r=n.fetch,o=n.rxjsEvent;r.user.getUserStatus({userCodes:[e]}).subscribe({next:function(e){var n=e&&e[0]&&1===e[0].status;"string"!=typeof e||n?("string"==typeof e&&n&&o.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of(e)),n?r.live.getUserActionStatus().subscribe({next:function(e){console.log("getUserActionStatus inviteLive result-----=========---",e),e.userActionStatus===a.UserActionStatus.TALKING?o.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("已经发起通话")):j.bind(t)()},error:function(e){console.log(e)}}):o.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("对方不在线"))):o.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of(e))},error:function(e){console.log(e),o.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("在线状态获取异常"))}})}function j(e){var t=this.store,n=i.default.getKChat(this.rootName),o=n.fetch,s=n.rxjsEvent;if(e||!t.otherLiving&&!t.living){var c=!t.otherLiving&&!t.living;c&&(t.living=!0,t.curLiverCode=t.loginUser.userCode);var l=r({liveType:t.liveType,chatCode:d.getTargetCode(t.liveTarget),videoType:t.videoType},d.isGroup(t.liveTarget)?{userCodes:e.map((function(e){return e.userCode}))||[],type:a.ChatType.GROUP}:{type:a.ChatType.USER});c?(t.noReceiver=!0,t.liveType===a.LiveType.LIVE&&(t.liveInviteGroups.total=e.length,t.liveInviteGroups.refuse=0),o.live.startLive(l).subscribe({next:function(n){t.isSelfActive=t.liveType===a.LiveType.LIVE,t.localstream=n,!t.visible&&s.subscribe(a.RxjsEventNames.BROADCAST_LIVE_TARGET,u.of({userList:e||[t.liveTarget],user:t.loginUser,data:r({liveType:t.liveType,videoType:t.videoType,userCode:t.loginUser.userCode},d.isGroup(t.liveTarget)?{groupCodeStr:t.liveTarget.groupCodeStr,type:a.ChatType.GROUP}:{type:a.ChatType.USER}),target:a.MessageTarget.SELF}))},error:function(e){console.log(e),t.living=!1,t.curLiverCode="",s.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of(e.message||e.retMsg||""))}})):o.live.inviteLive(l).subscribe({error:function(e){console.log(e),s.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("邀请人员异常"))}})}}function D(e){var t=this,n=this.store,o=i.default.getKChat(this.rootName),s=o.fetch,c=o.rxjsEvent;n.living||n.otherLiving||(n.liveTarget=e,B.bind(this)(n.liveTarget).subscribe({next:function(o){if(0!==o.length)return n.liveType=o[0].liveType,n.videoType=o[0].videoType,s.live.applyJoin(r({chatCode:d.getTargetCode(n.liveTarget),liveType:n.liveType,videoType:n.videoType,sn:o[0].sn,videoresourceid:o[0].videoresourceid},d.isGroup(n.liveTarget)?{type:a.ChatType.GROUP,srcCode:o[0].owner}:{type:a.ChatType.USER})).subscribe({next:function(){console.log("成功加入直播"),n.isSelfActive=!1,n.otherLiving=!0,y.bind(t)(),n.curLiverCode=o[0].owner||"",f.bind(t)(),I.bind(t)()},error:function(e){console.log(e),n.otherLiving=!1,y.bind(t)(),n.curLiverCode="",c.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("申请加入请求失败")),I.bind(t)()}});c.subscribe(a.RxjsEventNames.UPDATE_LIVING_INFO_END,u.of(r(r({},d.isGroup(e)?{groupCodeStr:e.groupCodeStr}:{userCode:e.userCode}),{info:{}})))},error:function(o){console.log(o),n.otherLiving=!1,y.bind(t)(),n.curLiverCode="",c.subscribe(a.RxjsEventNames.UPDATE_LIVING_INFO_END,u.of(r({},d.isGroup(e)?{groupCodeStr:e.groupCodeStr}:{userCode:e.userCode})))}}))}function k(e){var t=i.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,o=this.store;o.otherLiving=!1,y.bind(this)(),o.curLiverCode="",n.live.refuseLive({type:d.isGroup(o.liveTarget)?a.ChatType.GROUP:a.ChatType.USER,chatCode:d.getTargetCode(o.liveTarget),liveType:o.liveType,sn:e.sn}).subscribe({error:function(e){console.log(e),r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("拒绝请求未发出"))}}),o.liveTarget={}}function H(e){var t=this,n=i.default.getKChat(this.rootName),o=n.fetch,s=n.rxjsEvent,c=this.store;o.live.acceptLive(r(r({chatCode:d.getTargetCode(c.liveTarget),videoResourceId:e.remark.videoResourceId,liveType:c.liveType,videoType:c.videoType},d.isGroup(c.liveTarget)?{type:a.ChatType.GROUP,srcCode:e.userCode}:{type:a.ChatType.USER}),{sn:e.sn})).subscribe({next:function(n){n&&(c.isSelfActive=!1,c.localstream=n,b.bind(t)(c.localstream)),c.otherLiving=!0,y.bind(t)(),f.bind(t)(),c.curLiverCode=e.userCode||"",I.bind(t)()},error:function(e){console.log(e),c.otherLiving=!1,y.bind(t)(),c.curLiverCode="",s.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of(e.resultMsg||"接受邀请通知未发出")),I.bind(t)()}})}function Q(e){var t=this,n=i.default.getKChat(this.rootName),r=n.fetch,o=n.rxjsEvent,s=this.store;s.living=!1,y.bind(this)(),s.curLiverCode="",r.live.quitLive({type:d.isGroup(s.liveTarget)?a.ChatType.GROUP:a.ChatType.USER,chatCode:d.getTargetCode(s.liveTarget),liveType:s.liveType}).subscribe({next:function(){return I.bind(t)()},error:function(e){console.log(e),416===e.resultCode||o.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of(e.message||e.retMsg||"")),I.bind(t)()}}),s.liveTarget={}}function G(){var e=this.store;return e.living||e.otherLiving?B.bind(this)(e.liveTarget).pipe(s.map((function(t){return e.liveTarget.groupMembers.filter((function(t){return 0===t.state&&t.userCode!==e.loginUser.userCode})).filter((function(e){return-1===(t[0]&&t[0].activemembersList||[]).indexOf(e.userCode)}))})),s.catchError((function(t){return console.log(t),e.liveTarget.groupMembers.filter((function(t){return 0===t.state&&t.userCode!==e.loginUser.userCode}))}))):u.of(e.liveTarget.groupMembers.filter((function(t){return 0===t.state&&t.userCode!==e.loginUser.userCode})))}t.default=function(){return[o.mounted("UpdateLoginUser",(function(){var e=i.default.getKChat(this.rootName),t=this.store,n=l.autorun((function(){t.loginUser=e.store.loginUser}));return function(){return n()}})),o.mounted("UpdateCurChatTarget",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=s.map((function(t){return n.curChatTarget=t,d.getTargetCode(n.curChatTarget)&&I.bind(e)(),t}));return t.addPipe(a.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,r),function(){return t.removePipe(a.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,r)}})),o.mounted("RecvLiveMsgUpdateLivingInfo",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,o=this.store,c=s.map((function(t){return u.merge(u.fromEvent(n.live,"invite"),u.fromEvent(n.live,"accept"),u.fromEvent(n.live,"applyJoin"),u.fromEvent(n.live,"quit")).subscribe((function(t){var n=t.userCode===o.loginUser.userCode?t.chatCode:d.getTargetCode(t);n===d.getTargetCode(o.curChatTarget)&&I.bind(e)(),n===d.getTargetCode(o.liveTarget)&&I.bind(e)(o.liveTarget)})),t}));return r.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}})),o.mounted("RecvUpdateLivingInfoRequest",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return I.bind(e)(t),t}));return t.addPipe(a.RxjsEventNames.UPDATE_LIVING_INFO_START,n),function(){return t.removePipe(a.RxjsEventNames.UPDATE_LIVING_INFO_START,n)}})),o.mounted("ShowLivePage",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=s.map((function(r){if(n.living||n.otherLiving)return-1!==[a.MenuType.LIVE,a.MenuType.AUDIO,a.MenuType.VIDEO].indexOf(r)&&t.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("通话中，无法发起")),r;switch(n.liveTarget=n.curChatTarget,r){case a.MenuType.LIVE:U.bind(e)();break;case a.MenuType.AUDIO:F.bind(e)();break;case a.MenuType.VIDEO:L.bind(e)()}return r}));return t.addPipe(a.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,r),function(){return t.removePipe(a.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,r)}})),o.mounted("Drag",(function(){var e=this.refs,t=this.store,n=u.fromEvent(e.container.current,"mousedown"),r=u.fromEvent(window,"mousemove"),o=u.fromEvent(window,"mouseup"),i=u.fromEvent(window,"contextmenu"),a=u.fromEvent(e.container.current,"mouseleave");n.pipe(s.filter((function(e){return"move"===getComputedStyle(e.target,null).cursor}))).pipe(s.map((function(n){var r=e.container.current.getBoundingClientRect();r.x<0&&(t.pos.x=0,r.x=0),r.y<0&&(t.pos.y=0,r.y=0);var o=window.innerWidth-e.container.current.offsetWidth,i=window.innerHeight-e.container.current.offsetHeight;return{x:n.x-r.x,y:n.y-r.y,maxRight:o,maxBottom:i,maxLeft:0,maxTop:0}})),s.concatMap((function(e){return r.pipe(s.takeUntil(u.merge(o,a,i)),s.map((function(t){return{x:t.x-e.x,y:t.y-e.y,maxRight:e.maxRight,maxBottom:e.maxBottom,maxLeft:e.maxLeft,maxTop:e.maxTop}})))}))).subscribe((function(e){t.pos.x=e.x>e.maxRight?e.maxRight:e.x<e.maxLeft?e.maxLeft:e.x,t.pos.y=e.y>e.maxBottom?e.maxBottom:e.y<e.maxTop?e.maxTop:e.y}))})),o.mounted("ClickLiveTool",(function(){var e=this,t=this.refs,n=this.store,r=i.default.getKChat(this.rootName).rxjsEvent;u.fromEvent(t.toolBox.current,"click").subscribe((function(o){t.tools.some((function(i,s){if(c.isDescendant(o.target,i.current,t.container.current)){switch(n.tools[s].name){case a.LiveToolType.VOLUME:c.isDescendant(o.target,t.volumeControllerBox.current,t.container.current)||g.bind(e)();break;case a.LiveToolType.VOLUME_OFF:h.bind(e)();break;case a.LiveToolType.PTT:r.subscribe(a.RxjsEventNames.START_PTT_IN_LIVE,u.of(n.liveTarget));break;case a.LiveToolType.PTT_SEND:r.subscribe(a.RxjsEventNames.END_PTT_IN_LIVE,u.of(n.liveTarget));break;case a.LiveToolType.LIVE:M.bind(e)();break;case a.LiveToolType.HANGUP:w.bind(e)()}return!0}}))}))})),o.mounted("QuiteLiveByRomoveGroup",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent,r=s.map((function(n){return t.otherLiving&&t.liveTarget.groupCodeStr&&t.liveTarget.groupCodeStr===n.group.groupCodeStr&&t.loginUser.userCode===n.data.userCodes[0]&&(console.log(t.loginUser.userCode+"被踢出了群聊，挂断当前得直播"),w.bind(e)()),n}));return n.addPipe(a.RxjsEventNames.REMOVE_GROUP_MEMBER,r),function(){return n.removePipe(a.RxjsEventNames.REMOVE_GROUP_MEMBER,r)}})),o.mounted("ToggleVolumeToolVisible",(function(){var e=this.refs,t=this.store;u.merge(u.fromEvent(e.toolBox.current,"mouseover"),u.fromEvent(e.toolBox.current,"mouseout")).subscribe((function(n){e.tools.some((function(r,o){if(c.isDescendant(n.target,r.current,e.container.current))return t.tools[o].name===a.LiveToolType.VOLUME&&("mouseover"===n.type?t.volumeVisible=!0:t.volumeVisible=!1),!0}))}))})),o.mounted("SetVolume",(function(){var e=this,t=this.refs,n=this.store,r=u.fromEvent(t.volumeControllerBox.current,"mousedown"),o=u.fromEvent(t.volumeControllerBox.current,"mousemove"),i=u.fromEvent(t.volumeControllerBox.current,"mouseup"),a=u.fromEvent(t.volumeControllerBox.current,"mouseleave");u.fromEvent(t.volumeControllerLine.current,"click").pipe(s.filter((function(e){return e.target!==t.volumeControllerBtn.current}))).subscribe((function(n){var r=(n.x-c.getElementLeft(t.volumeControllerLine.current))/t.volumeControllerLine.current.offsetWidth*100;A.bind(e)(Math.max(Math.min(100,Math.round(r)),0))})),r.pipe(s.filter((function(e){return e.target===t.volumeControllerBtn.current}))).pipe(s.map((function(e){return n.volumeSetting=!0,{startPos:e.x,volume:n.volume,width:t.volumeControllerLine.current.offsetWidth}})),s.concatMap((function(e){return o.pipe(s.takeUntil(u.merge(i,a).pipe(s.map((function(){n.volumeSetting=!1})))),s.map((function(t){var n=(t.x-e.startPos)/e.width*100+e.volume;return Math.max(Math.min(100,Math.round(n)),0)})))}))).subscribe((function(t){A.bind(e)(t)}))})),o.mounted("WatchPttStatus",(function(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=function(){t.pttStatus<5?t.pttStatus++:t.pttStatus=1,t.pttOtherSpeaking&&setTimeout((function(){n()}),200)},r=s.map((function(e){t.pttOtherSpeaking=e.otherSpeaking,t.pttSpeaking=e.speaking,t.pttOtherSpeaking&&t.visible&&n()}));return e.addPipe(a.RxjsEventNames.BROADCAST_PTT_STATUS,r),function(){e.removePipe(a.RxjsEventNames.BROADCAST_PTT_STATUS,r),n=null}})),o.mounted("BroadcastLiveStatus",(function(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=t.visible,r=l.autorun((function(){t.visible!==n&&(n=t.visible,e.subscribe(a.RxjsEventNames.BROADCAST_LIVE_STATUS,u.of(t.visible)))}));return function(){r(),n=null}})),o.mounted("RecvStartSpeakInLive",(function(){var e=i.default.getKChat(this.rootName),t=this.store,n=s.map((function(n){return e.fetch.ptt.on("startSpeak",(function(n){!n||!t.visible||t.liveType!==a.LiveType.LIVE||d.getTargetCode(t.liveTarget)&&d.getTargetCode(t.liveTarget)!==d.getTargetCode(n)||e.rxjsEvent.subscribe(a.RxjsEventNames.RECV_PTT_IN_LIVE,u.of(n))})),n}));return e.rxjsEvent.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,n),function(){return e.rxjsEvent.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,n)}})),o.mounted("ToggleSelfOtherPicture",(function(){var e=this.store,t=this.refs;u.merge(u.fromEvent(t.otherStreamVideo.current,"click"),u.fromEvent(t.selfStreamVideo.current,"click"),u.fromEvent(t.otherStreamVideo.current,"dblclick"),u.fromEvent(t.selfStreamVideo.current,"dblclick")).subscribe((function(n){e.smallest||("click"===n.type?e.isSelfActive=n.currentTarget===t.selfStreamVideo.current:e.isSelfActive=n.currentTarget!==t.selfStreamVideo.current)}))})),o.mounted("WatchLivingInfo",(function(){var e=this.store,t=i.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return d.getTargetCode(t)!==d.getTargetCode(e.liveTarget)||t.info&&(e.curActivemembersList=t.info.activemembersList||[]),t}));return t.addPipe(a.RxjsEventNames.UPDATE_LIVING_INFO_END,n),function(){return t.removePipe(a.RxjsEventNames.UPDATE_LIVING_INFO_END,n)}})),o.mounted("InviteLiveMembers",(function(){var e=this,t=this.refs,n=this.store;u.fromEvent(t.inviteBox.current,"click").subscribe((function(){n.living||n.otherLiving||p.bind(e)(),n.liveType===a.LiveType.LIVE?U.bind(e)():n.videoType===a.VideoType.VIDEO?L.bind(e)():F.bind(e)()}))})),o.mounted("HandleUnNormalSituation",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,o=this.store;u.merge(u.fromEvent(n.login,"loginOut"),u.fromEvent(n.login,"beCoercive"),u.fromEvent(window,"beforeunload")).subscribe((function(){try{w.bind(e)()}catch(e){console.log(e)}})),u.fromEvent(n.login,"reConnecting").subscribe((function(){(o.living||o.otherLiving)&&w.bind(e)()}));var c=s.map((function(t){return d.getTargetCode(o.curChatTarget)&&I.bind(e)(),t}));return r.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}})),o.mounted("RecvReceiveStream",(function(){var e,t,n,r,o=this,c=i.default.getKChat(this.rootName),l=c.fetch,d=c.rxjsEvent,f=c.options,p=this.refs,A=this.store;f.singleRoomAutoLoginParam&&(n=f.singleRoomAutoLoginParam.localVideo,r=f.singleRoomAutoLoginParam.remoteVideo,e="string"==typeof n?document.querySelector(n):n,t="string"==typeof r?document.querySelector(r):r,e&&u.fromEvent(e,"loadeddata").subscribe((function(){e.play()})),t&&u.fromEvent(t,"loadeddata").subscribe((function(){t.play()}))),u.fromEvent(p.otherStreamVideo.current,"loadeddata").subscribe((function(){p.otherStreamVideo.current.play()})),u.fromEvent(p.selfStreamVideo.current,"loadeddata").subscribe((function(){p.selfStreamVideo.current.play()})),u.fromEvent(p.audio.current,"loadeddata").subscribe((function(){p.audio.current.play()}));var g=s.map((function(e){return l.live.on("receiveStream",(function(e){A.remotestream=e,v.bind(o)()?p.audio.current.srcObject=A.remotestream:(A.isSelfActive=!1,b.bind(o)(A.remotestream)),m.bind(o)()})),e}));return d.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,g),function(){return d.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,g)}})),o.mounted("RecvInvite",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),o=s.map((function(o){return u.fromEvent(n.fetch.live,"invite").subscribe((function(o){if(o.userCode!==t.loginUser.userCode)if(t.living||t.otherLiving)o.liveType===a.LiveType.VIDEO&&n.fetch.live.refuseLive({chatCode:d.getTargetCode(o),type:o.type,statusType:a.StatusType.BUSY,liveType:o.liveType,sn:o.sn}).subscribe({error:function(e){console.log(e)}});else if(n.rxjsEvent.subscribe(a.RxjsEventNames.RECV_INVITED,u.of(o)),p.bind(e)(),!d.isGroup(o)||-1!==o.userCodes.indexOf(t.loginUser.userCode)){var i=d.getTargetCode(t.curChatTarget),s=d.getTargetCode(o),c=function(){if(i&&i===s)t.liveTarget=t.curChatTarget,t.liveType=o.liveType,t.videoType=o.videoType,n.rxjsEvent.subscribe(a.RxjsEventNames.BROADCAST_LIVE_TARGET,u.of(r(r({},R.bind(e)(o,t.curChatTarget)),{target:a.MessageTarget.OTHER})));else{(d.isGroup(o)?n.fetch.group.getGroupInfo({groupCodeStr:o.groupCodeStr}):n.fetch.user.getUserInfo({userCode:o.userCode})).subscribe({next:function(i){t.liveTarget=i,n.rxjsEvent.subscribe(a.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,u.of(t.liveTarget)),t.liveType=o.liveType,t.videoType=o.videoType,n.rxjsEvent.subscribe(a.RxjsEventNames.BROADCAST_LIVE_TARGET,u.of(r(r({},R.bind(e)(o,i)),{target:a.MessageTarget.OTHER})))},error:function(e){console.log(e),n.rxjsEvent.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("对象信息获取失败"))}})}};n.store.smallest?n.rxjsEvent.subscribe(a.RxjsEventNames.RESET_CONTROLLER,u.of({type:a.ControllerType.CONTAINER}),(function(){c()})):c()}})),o}));return n.rxjsEvent.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,o),function(){return n.rxjsEvent.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,o)}})),o.mounted("RecvAcceptOrJoin",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=s.map((function(n){return u.merge(u.fromEvent(o.live,"accept"),u.fromEvent(o.live,"applyJoin")).subscribe((function(n){n.userCode===t.loginUser.userCode&&(n.chatCode===d.getTargetCode(t.curChatTarget)&&r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of({type:a.GlobalMessageTip.TIP,message:"已在("+n.device.type+")上接听"})),n.chatCode===d.getTargetCode(t.liveTarget)&&(r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of({type:a.GlobalMessageTip.TIP,message:"已在("+n.device.type+")上接听"})),b.bind(e)(),(t.living||t.otherLiving)&&(t.living=!1,t.otherLiving=!1,y.bind(e)(),t.curLiverCode=""),p.bind(e)(),r.subscribe(a.RxjsEventNames.BROADCAST_ACCEPT,u.of(n)))),t.living&&d.getTargetCode(t.liveTarget)===d.getTargetCode(n)&&(r.subscribe(a.RxjsEventNames.BROADCAST_ACCEPT,u.of(n)),f.bind(e)(),t.noReceiver&&(t.noReceiver=!1,m.bind(e)(),v.bind(e)()||b.bind(e)(t.localstream))),d.isGroup(n)&&d.getTargetCode(t.liveTarget)===d.getTargetCode(n)&&O.bind(e)(d.getTargetMember(t.liveTarget,n).userName+"加入了房间")})),n}));return r.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}})),o.mounted("RecvRefuse",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=s.map((function(n){return u.fromEvent(o.live,"refuse").subscribe((function(n){d.isGroup(n)||d.getTargetCode(t.liveTarget)!==d.getTargetCode(n)||(t.living&&(r.subscribe(a.RxjsEventNames.BROADCAST_ALL_REFUSE,u.of(n)),console.log("对方状态：res.onlineStatus",n.onlineStatus),n.onlineStatus===a.StatusType.AWAY?r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("对方无人接听")):n.onlineStatus===a.StatusType.BUSY?r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("对方正忙")):r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("对方已拒绝"))),w.bind(e)()),t.liveType===a.LiveType.LIVE&&t.living&&t.noReceiver&&(t.liveInviteGroups.refuse++,t.liveInviteGroups.refuse===t.liveInviteGroups.total&&(r.subscribe(a.RxjsEventNames.BROADCAST_ALL_REFUSE,u.of(n)),r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of({type:a.GlobalMessageTip.TIP,message:"直播成员全部拒绝了邀请"})),w.bind(e)()))})),n}));return r.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}})),o.mounted("RecvQuit",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=s.map((function(n){return u.fromEvent(o.live,"quit").subscribe((function(n){console.log("quitMessage",n),d.isGroup(n)&&d.getTargetCode(t.liveTarget)===d.getTargetCode(n)&&B.bind(e)().subscribe({next:function(o){0!==o.length&&o[0].owner?O.bind(e)((d.getTargetMember(t.liveTarget,n).userName?d.getTargetMember(t.liveTarget,n).userName:n.srcCode)+"退出了房间"):(t.living||t.visible||(r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("直播已结束")),r.subscribe(a.RxjsEventNames.BROADCAST_QUIT,u.of(n))),t.liveType===a.LiveType.LIVE?(O.bind(e)("直播结束"),r.subscribe(a.RxjsEventNames.END_PTT_IN_LIVE,u.of(t.liveTarget)),w.bind(e)()):O.bind(e)((d.getTargetMember(t.liveTarget,n).userName?d.getTargetMember(t.liveTarget,n).userName:n.srcCode)+"退出了房间"))},error:function(e){console.log(e)}}),d.isGroup(n)||d.getTargetCode(t.liveTarget)!==d.getTargetCode(n)||(r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("对方已取消")),r.subscribe(a.RxjsEventNames.BROADCAST_QUIT,u.of(n)),w.bind(e)()),t.liveType===a.LiveType.LIVE&&t.living&&d.getTargetCode(t.liveTarget)===d.getTargetCode(n)&&t.liveConfirmList.some((function(r,o){r.userCode===n.userCode&&(t.liveConfirmList.splice(o,1),t.curActiveConfirmIdx=t.liveConfirmList.length-1,_.bind(e)())}))})),n}));return r.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}})),o.mounted("RecvApplyUpload",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=s.map((function(n){return u.fromEvent(o.live,"applyUpload").subscribe((function(n){d.getTargetCode(n)===d.getTargetCode(t.liveTarget)&&t.liveType===a.LiveType.LIVE&&t.living&&x.bind(e)(d.isGroup(t.liveTarget)?d.getTargetMember(t.liveTarget,n):t.liveTarget)})),n}));return r.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}})),o.mounted("RecvAcceptUpload",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=s.map((function(n){return u.fromEvent(o.live,"acceptUpload").subscribe((function(n){d.getTargetCode(n)===d.getTargetCode(t.liveTarget)&&t.liveType===a.LiveType.LIVE&&(-1!==n.userCodes.indexOf(t.loginUser.userCode)?(b.bind(e)(),t.living=!0,t.otherLiving=!1,y.bind(e)(),t.curLiverCode=t.loginUser.userCode,o.live.startLive().subscribe({next:function(n){t.isSelfActive=!0,t.localstream=n,m.bind(e)(),b.bind(e)(t.localstream)},error:function(e){return console.log(e)}})):((t.living||t.otherLiving)&&o.live.reGetLive(n.userCodes[0]).subscribe(),t.living=!1,t.otherLiving=!0,y.bind(e)(),t.curLiverCode=n.userCodes[0]||""))})),n}));return r.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}})),o.mounted("RecvRefuseUpload",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=s.map((function(n){return u.fromEvent(o.live,"refuseUpload").subscribe((function(n){d.getTargetCode(n)===d.getTargetCode(t.liveTarget)&&t.liveType===a.LiveType.LIVE&&t.otherLiving&&-1!==n.userCodes.indexOf(t.loginUser.userCode)&&O.bind(e)("抢播申请被拒绝")})),n}));return r.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}})),o.mounted("RecvMediaChange",(function(){var e=this,t=this.store,n=i.default.getKChat(this.rootName),r=n.rxjsEvent,o=n.fetch,c=s.map((function(n){return u.fromEvent(o.live,"mediaChange").subscribe((function(n){if(d.getTargetCode(n)===d.getTargetCode(t.liveTarget)){var r="";switch(n.videoAction){case a.VideoAction.CAMERA_OFF:r="关了摄像头";break;case a.VideoAction.CAMERA_ON:r="开了摄像头";break;case a.VideoAction.MICRO_OFF:r="关了麦克风";break;case a.VideoAction.MICRO_ON:r="开了麦克风"}r&&O.bind(e)((d.isGroup(t.liveTarget)?d.getTargetMember(t.liveTarget,n).userName:t.liveTarget.userName)+r)}})),n}));return r.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}})),o.mounted("RecvError",(function(){var e=i.default.getKChat(this.rootName),t=e.rxjsEvent,n=e.fetch,r=s.map((function(e){return u.fromEvent(n.live,"error").subscribe((function(e){console.log(e)})),e}));return t.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,r),function(){return t.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,r)}})),o.mounted("HandleApplyUploadConfirm",(function(){var e=this,t=this.refs,n=this.store,r=i.default.getKChat(this.rootName),o=r.fetch,s=r.rxjsEvent;u.fromEvent(t.liveConfirmBox.current,"click").subscribe((function(r){t.liveConfirm.some((function(i,l){if(c.isDescendant(r.target,i.current,t.container.current)){if(n.curActiveConfirmIdx=l,c.isDescendant(r.target,t.liveConfirmArgree[l].current,t.container.current)){b.bind(e)(),n.living=!1,n.otherLiving=!0,y.bind(e)();var f=n.liveConfirmList[l];return n.curLiverCode=f.userCode,o.live.acceptLivePermit({chatCode:d.getTargetCode(n.liveTarget),type:d.isGroup(n.liveTarget)?a.ChatType.GROUP:a.ChatType.USER,userCodes:[f.userCode]}).subscribe({error:function(e){console.log(e),s.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("同意请求未发出"))}}),T.bind(e)(),!0}if(c.isDescendant(r.target,t.liveConfirmRefuse[l].current,t.container.current)){var p=n.liveConfirmList[l];n.liveConfirmList.some((function(t,r){if(t.userCode===p.userCode)return o.live.refuseLivePermit({chatCode:d.getTargetCode(n.liveTarget),type:d.isGroup(n.liveTarget)?a.ChatType.GROUP:a.ChatType.USER,userCodes:[p.userCode]}).subscribe({error:function(e){console.log(e),s.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("拒绝请求未发出"))}}),n.liveConfirmList.splice(r,1),n.curActiveConfirmIdx=n.liveConfirmList.length-1,_.bind(e)(),!0})),0===n.liveConfirmList.length&&T.bind(e)()}return!0}}))}))})),o.mounted("JoinLive",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=s.map((function(t){return r.live.getUserActionStatus().subscribe({next:function(r){console.log("getUserActionStatus joinLive result-----=========---",r),r.userActionStatus===a.UserActionStatus.TALKING?n.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of("已经发起通话")):D.bind(e)(t)},error:function(e){console.log(e)}}),t}));return n.addPipe(a.RxjsEventNames.APPLY_JOIN,o),function(){return n.removePipe(a.RxjsEventNames.APPLY_JOIN,o)}})),o.mounted("SubmitInvite",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return t.type===a.SelectMemberType.LIVE_INVITE_MEMBER&&j.bind(e)(t.list),t}));return t.addPipe(a.RxjsEventNames.SELECTED_MEMBER_COMMIT,n),function(){return t.removePipe(a.RxjsEventNames.SELECTED_MEMBER_COMMIT,n)}})),o.mounted("CancelInvite",(function(){var e=i.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=s.map((function(e){return e===a.SelectMemberType.LIVE_INVITE_MEMBER&&(t.liveTarget={}),e}));return e.addPipe(a.RxjsEventNames.SELECTED_MEMBER_CANCEL,n),function(){return e.removePipe(a.RxjsEventNames.SELECTED_MEMBER_CANCEL,n)}})),o.mounted("AcceptLive",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return H.bind(e)(t),t}));return t.addPipe(a.RxjsEventNames.DO_ACCEPT,n),function(){return t.removePipe(a.RxjsEventNames.DO_ACCEPT,n)}})),o.mounted("RefuseLive",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return k.bind(e)(t),t}));return t.addPipe(a.RxjsEventNames.DO_REFUSE,n),function(){return t.removePipe(a.RxjsEventNames.DO_REFUSE,n)}})),o.mounted("CancelLive",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=s.map((function(t){return Q.bind(e)(t),t}));return t.addPipe(a.RxjsEventNames.DO_CANCEL,n),function(){return t.removePipe(a.RxjsEventNames.DO_CANCEL,n)}})),o.mounted("ClickController",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.refs,r=this.store,o=s.map((function(t){if(t.type===a.ControllerType.LIVE)switch(t.name){case a.ControllerName.SMALL:d.exitBig(n.container.current),r.smallest=!0,r.isSelfActive=r.liveType===a.LiveType.LIVE&&r.living,r.pos.x=window.innerWidth-n.container.current.offsetWidth,r.pos.y=window.innerHeight-n.container.current.offsetHeight;break;case a.ControllerName.EXIT_BIG:d.exitBig(n.container.current);break;case a.ControllerName.BIG:d.resizeBig(n.container.current);break;case a.ControllerName.CLOSE:d.exitBig(n.container.current),w.bind(e)()}return t}));return u.fromEvent(n.resizeIconBox.current,"click").subscribe((function(){r.smallest=!1;var e=window.innerWidth-n.container.current.offsetWidth,t=window.innerHeight-n.container.current.offsetHeight;r.pos.x=r.pos.x>e?e:r.pos.x<0?0:r.pos.x,r.pos.y=r.pos.y>t?t:r.pos.y<0?0:r.pos.y})),t.addPipe(a.RxjsEventNames.CLICK_CONTROLLER,o),function(){return t.removePipe(a.RxjsEventNames.CLICK_CONTROLLER,o)}})),o.mounted("OnMediaBroken",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.fetch,r=t.rxjsEvent,o=this.store,c=s.map((function(t){return n.live.on("mediaSetBroken",(function(t){t.message&&r.subscribe(a.RxjsEventNames.SHOW_MESSAGE,u.of(t.message)),(o.videoType===a.VideoType.AUDIO&&t.mic||(o.liveType===a.LiveType.LIVE||o.videoType===a.VideoType.VIDEO)&&t.mic&&t.camera)&&w.bind(e)(!0)})),t}));return r.addPipe(a.RxjsEventNames.LOGIN_SUCCESS,c),function(){return r.removePipe(a.RxjsEventNames.LOGIN_SUCCESS,c)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(518),i=n(519),s=n(520);t.default=function e(t,n,a){return r.default("LiveInvite",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(6),u=n(8),c=n(1),l=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=l(null),e.refs.leftIcon=l(null),e.refs.rightIcon=l(null),e.refs.memberList=l(null),e.refs.hangup=l(null),e.refs.accept=l(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=e.store,i=e.refs,l=t.assets,d=l.images,f=l.fonts,p=function(){return n.data.liveType===c.LiveType.LIVE||n.target===c.MessageTarget.OTHER?n.user:n.userList[0]||{}};return o.createElement("div",{ref:e.refs.container,"data-tree":e.name,style:a.toggleVisible(t.container,n.visible),"data-style-name":"container"},o.createElement("div",{style:t.liveInvite,"data-style-name":"liveInvite"},o.createElement("div",{style:t.liveInviteInnerBox,"data-style-name":"liveInviteInnerBox"},o.createElement("div",{style:t.header,"data-style-name":"header"},o.createElement("img",{src:u.getUserHeader(p(),d),alt:"",draggable:!1,style:t.inviterHeaderImg,"data-style-name":"inviterHeaderImg"}),o.createElement("div",{style:t.inviterUserName,"data-style-name":"inviterUserName"},p().userName),o.createElement("div",{style:t.inviterUserTip,"data-style-name":"inviterUserTip"},n.tip)),o.createElement("div",{style:a.toggleVisible(t.content,n.data.type===c.ChatType.GROUP),"data-style-name":"content"},o.createElement("i",{style:r(r({},t.leftIcon),0===n.curMemberIdx?t.leftIconDisabled:{}),className:f.leftIcon,ref:i.leftIcon,"data-style-name":0===n.curMemberIdx?"leftIconDisabled":"leftIcon"}),o.createElement("ul",{style:t.memberList,"data-style-name":"memberList",ref:i.memberList},n.userList.map((function(e,i){return o.createElement("li",{style:a.toggleVisible(r(r({},t.memberItem),n.curMemberIdx===i?t.memberItemActive:{}),-1!==n.curIdxList.indexOf(i)),key:i,"data-style-name":n.curMemberIdx===i?"memberItemActive":"memberItem"},o.createElement("img",{src:u.getUserHeader(e,d),style:r(r({},t.memberItemImage),n.curMemberIdx===i?t.memberItemImageActive:{}),"data-style-name":n.curMemberIdx===i?"memberItemImageActive":"memberItemImage",draggable:!1,alt:""}))}))),o.createElement("i",{style:r(r({},t.rightIcon),n.curMemberIdx===n.userList.length-1?t.rightIconDisabled:{}),className:f.rightIcon,ref:i.rightIcon,"data-style-name":n.curMemberIdx===n.userList.length-1?"rightIconDisabled":"rightIcon"})),o.createElement("div",{style:t.footer,"data-style-name":"footer"},o.createElement("div",{style:t.refuseBtn,"data-style-name":"refuseBtn"},o.createElement("i",{className:f.hangup,ref:i.hangup,style:t.hangupIcon,"data-style-name":"hangupIcon"})),o.createElement("div",{style:a.toggleVisible(t.acceptBtn,n.target!==c.MessageTarget.SELF),"data-style-name":"acceptBtn"},o.createElement("i",{className:f.accept,ref:i.accept,style:t.acceptIcon,"data-style-name":"acceptIcon"}))))))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader},fonts:{leftIcon:"icon iconfont icon-to-the-left",rightIcon:"icon iconfont icon-to-the-right",hangup:"icon iconfont icon-vi-hangup",accept:"icon iconfont icon-videotape"}},container:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, .3)",zIndex:"9"},liveInvite:r({width:"300px",height:"420px",textAlign:"center",overflow:"hidden",borderRadius:"4px",fontSize:"16px",color:"#fff",lineHeight:"420px"},o.middle()),liveInviteInnerBox:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",paddingTop:"56px",backgroundColor:"rgba(0, 0, 0, .7)",lineHeight:1},header:{},inviterHeaderImg:{width:"90px",height:"90px",borderRadius:"50%"},inviterUserName:{margin:"20px 0 6px",lineHeight:"25px"},inviterUserTip:{lineHeight:"22px",marginBottom:"45px"},content:{height:"34px",padding:"0 30px",position:"relative",lineHeight:"34px"},leftIcon:r(r({cursor:"pointer",color:"#fff",height:"34px",lineHeight:"34px"},o.vertical()),{left:"5px"}),leftIconDisabled:{color:"#666",cursor:"default"},memberList:r({height:"34px",overflow:"hidden"},o.flex({justifyContent:"flex-start"})),memberItem:{width:"40px",padding:"2px 5px"},memberItemActive:{padding:"0 3px"},memberItemImage:{width:"30px",height:"30px",display:"block",borderRadius:"50%"},memberItemImageActive:{width:"34px",height:"34px"},rightIcon:r(r({cursor:"pointer",color:"#fff",height:"34px",lineHeight:"34px"},o.vertical()),{right:"5px"}),rightIconDisabled:{color:"#666",cursor:"default"},footer:r({marginTop:"50px"},o.flex({justifyContent:"space-around"})),refuseBtn:{width:"45px",height:"45px",margin:"0 25px",position:"relative",borderRadius:"50%",backgroundColor:"#F25643"},hangupIcon:r({cursor:"pointer",textAlign:"center",lineHeight:"45px",fontSize:"26px",color:"#fff"},o.middle()),acceptBtn:{width:"45px",height:"45px",margin:"0 25px",position:"relative",borderRadius:"50%",backgroundColor:"#09BB07"},acceptIcon:r({cursor:"pointer",textAlign:"center",lineHeight:"45px",fontSize:"26px",color:"#fff"},o.middle())}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1);t.default=function(){return r.observable({visible:!1,inviterTimer:null,user:{},userList:[],target:o.MessageTarget.SELF,data:{},curMemberIdx:0,curIdxList:[],pageCount:6,get tip(){return this.target===o.MessageTarget.OTHER?this.data.liveType===o.LiveType.LIVE?"邀请你进入直播":this.data.videoType===o.VideoType.VIDEO?"邀请你进入视频聊天":"邀请你进入语音聊天":"正在呼叫"}})}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(12),s=n(1),a=n(5),u=n(13);function c(){var e=this.store;e.visible&&(e.target===s.MessageTarget.SELF&&(clearTimeout(e.inviterTimer),e.inviterTimer=null),e.visible=!1)}function l(e){var t=this.store,n=i.default.getKChat(this.rootName),r=n.options,o=n.rxjsEvent;t.visible||(t.user=e.user||{},t.userList=e.userList||[],t.data=e.data||{},t.target=e.target,t.visible=!0,t.target===s.MessageTarget.OTHER&&r.autoAccept&&(t.visible=!1,o.subscribe(s.RxjsEventNames.DO_ACCEPT,u.of(t.data))),f.bind(this)(),d.bind(this)())}function d(){var e=this,t=this.store,n=i.default.getKChat(this.rootName).rxjsEvent;clearTimeout(t.inviterTimer),t.inviterTimer=null,t.target===s.MessageTarget.SELF&&(t.inviterTimer=setTimeout((function(){t.visible&&(c.bind(e)(),n.subscribe(s.RxjsEventNames.DO_CANCEL,u.of(t.data)),n.subscribe(s.RxjsEventNames.SHOW_MESSAGE,u.of("无人接听")))}),6e4))}function f(){var e=this.store;e.curMemberIdx=0,e.curIdxList=[];(e.data.type===s.ChatType.GROUP?e.userList:r([e.user],e.userList)).some((function(t,n){if(n>e.pageCount-1)return!0;e.curIdxList.push(n)}))}t.default=function(){return[o.mounted("ShowLiveInvite",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=(t.fetch,this.store,a.map((function(t){return l.bind(e)(t),t})));return n.addPipe(s.RxjsEventNames.BROADCAST_LIVE_TARGET,r),function(){return n.removePipe(s.RxjsEventNames.BROADCAST_LIVE_TARGET,r)}})),o.mounted("HideLiveInvite",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=a.map((function(t){return c.bind(e)(),t})),l=a.map((function(t){return c.bind(e)(),t})),d=a.map((function(t){return c.bind(e)(),u.merge(u.fromEvent(r.login,"loginOut"),u.fromEvent(r.login,"beCoercive")).subscribe((function(){c.bind(e)()})),t}));return n.addPipe(s.RxjsEventNames.BROADCAST_ACCEPT,o),n.addPipe(s.RxjsEventNames.BROADCAST_QUIT,l),n.addPipe(s.RxjsEventNames.LOGIN_SUCCESS,d),function(){n.removePipe(s.RxjsEventNames.BROADCAST_ACCEPT,o),n.removePipe(s.RxjsEventNames.BROADCAST_QUIT,l),n.removePipe(s.RxjsEventNames.LOGIN_SUCCESS,d)}})),o.mounted("MoveActiveMember",(function(){var e=this.refs,t=this.store;u.fromEvent(e.leftIcon.current,"click").subscribe((function(){t.curMemberIdx>0&&(t.curMemberIdx--,-1===t.curIdxList.indexOf(t.curMemberIdx)&&(t.curIdxList.splice(t.curIdxList.length-1,1),t.curIdxList.unshift(t.curMemberIdx)))})),u.fromEvent(e.rightIcon.current,"click").subscribe((function(){t.curMemberIdx<t.userList.length-1&&(t.curMemberIdx++,-1===t.curIdxList.indexOf(t.curMemberIdx)&&(t.curIdxList.splice(0,1),t.curIdxList.push(t.curMemberIdx)))}))})),o.mounted("RefuseOrAccept",(function(){var e=this,t=this.refs,n=this.store,r=i.default.getKChat(this.rootName).rxjsEvent;u.fromEvent(t.hangup.current,"click").subscribe((function(){c.bind(e)(),n.target===s.MessageTarget.SELF?r.subscribe(s.RxjsEventNames.DO_CANCEL,u.of(n.data)):r.subscribe(s.RxjsEventNames.DO_REFUSE,u.of(n.data))})),u.fromEvent(t.accept.current,"click").subscribe((function(){c.bind(e)(),r.subscribe(s.RxjsEventNames.DO_ACCEPT,u.of(n.data))}))})),o.mounted("AllInviteMemberRefuse",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return c.bind(e)(),t}));return t.addPipe(s.RxjsEventNames.BROADCAST_ALL_REFUSE,n),function(){return t.removePipe(s.RxjsEventNames.BROADCAST_ALL_REFUSE,n)}}))]}},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),s=n(12),a=n(1),u=n(5),c=n(6);function l(e){return/^\(\d{4}\):Error:([\s|\S]+)from[\s|\S]+$/.test(e)?RegExp.$1.replace(/[\s|\S]+-/,""):e}t.default=function(){return[i.mounted("UpdateMessageList",(function(){var e=s.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=this.styles,i=u.map((function(e){if("string"==typeof e)t.animationStyle.push(o({},n.messageBox)),t.messageList.push({type:a.GlobalMessageTip.WARNING,message:l(e)});else{if("object"!==(void 0===e?"undefined":r(e))||!e.message)throw new Error("message提示类型为 {type? GlobalMessageTip; message: string}");t.animationStyle.push(o({},n.messageBox)),t.messageList.push({type:e.type,message:l(e.message)})}var i=t.messageList.length-1,s=t.messageList[i],u=t.animationStyle[i];c.animation(u,a.AnimationType.MESSAGE_IN).subscribe();var d=setTimeout((function(){s&&c.animation(u,a.AnimationType.MESSAGE_OUT).subscribe((function(){t.messageList.remove(s),t.animationStyle.remove(u)})),clearTimeout(d)}),t.timeRange);return e}));return e.addPipe(a.RxjsEventNames.SHOW_MESSAGE,i),function(){return e.removePipe(a.RxjsEventNames.SHOW_MESSAGE,i)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(524),i=n(525),s=n(526);t.default=function e(t,n,a){return r.default("Message",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(1),a=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=a(null),r.createElement(o.Observer,null,(function(){var t=e.store,n=i.toJS(e.styles),o=n.assets.fonts;return r.createElement("ul",{ref:e.refs.container,"data-tree":e.name,style:n.container,"data-style-name":"container"},t.messageList.map((function(e,a){var u,c=i.toJS(t.animationStyle[a]);switch(e.type){case s.GlobalMessageTip.ERROR:u="errorIcon";break;case s.GlobalMessageTip.SUCCESS:u="successIcon";break;case s.GlobalMessageTip.TIP:u="tipIcon";break;default:u="warningIcon"}return r.createElement("li",{style:c,key:a,title:e.message,"data-style-name":"messageBox"},r.createElement("i",{style:n[u],className:o[e.type],"data-style-name":u}),r.createElement("div",{style:n.content,"data-style-name":"content"},e.message))})))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(17);t.default=function(){var e;return{default:{assets:{fonts:(e={},e[o.GlobalMessageTip.SUCCESS]="iconfont icon icon-correct-copy",e[o.GlobalMessageTip.ERROR]="iconfont icon icon-username-error-surface-copy",e[o.GlobalMessageTip.WARNING]="iconfont icon icon-question-copy",e[o.GlobalMessageTip.TIP]="iconfont icon icon-icon-tip",e)},container:{position:"fixed",left:"50%",top:"30px",zIndex:999,transform:"translateX(-50%)"},messageBox:{boxShadow:"0 0 4px 0 rgba(0,0,0,0.15)",borderRadius:"4px",fontSize:"14px",lineHeight:"30px",border:"1px solid "+i.$theme.$borderColor,minWidth:"100px",maxWidth:"500px",textAlign:"center",background:"#fff",position:"absolute",left:0,top:0,transform:"translateX(-50%)"},successIcon:r(r({},i.vertical()),{left:"5px",display:"block",color:"#63C532",lineHeight:"16px",height:"16px"}),errorIcon:r(r({},i.vertical()),{left:"5px",display:"block",color:"#F36464",lineHeight:"16px",height:"16px"}),tipIcon:r(r({},i.vertical()),{left:"5px",display:"block",color:i.$theme.$baseColor,lineHeight:"16px",height:"16px"}),warningIcon:r(r({},i.vertical()),{left:"5px",display:"block",color:"#F36464",lineHeight:"16px",height:"16px"}),content:r({padding:"0 12px 0 25px",lineHeight:"30px",color:"#1B2126",fontSize:"14px"},i.ellipsis())}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({messageList:[],timeRange:2e3,animationStyle:[]})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(12),s=n(1),a=n(5),u=n(6),c=n(8),l=n(13);function d(e){var t=this,n=this.store,r=this.styles;n.visible||(n.visible=!0,n.log=e,u.animation(r.mapContainer,s.AnimationType.ZOOM_IN).subscribe((function(){n.kmap?n.kmap.destroy({ended:function(){n.kmap=null,p.bind(t)()}}):p.bind(t)()})))}function f(){var e=this.store,t=this.styles;e.visible&&u.animation(t.mapContainer,s.AnimationType.ZOOM_OUT).subscribe((function(){e.visible=!1}))}function p(){var e=this,t=this.store,n=this.refs;if(!t.kmap&&window.KChatConfig.kmap&&window.KChatConfig.kmap.configUrl){var o=t.log.location,i=r(r({containerId:n.mapBox.current,configUrl:window.KChatConfig.kmap.configUrl,onLoadMap:function(){g.bind(e)(),A.bind(e)()}},o&&o.longitude?{center:[o.longitude,o.latitude]}:{}),o&&o.zoom?{zoom:o.zoom}:{});window.KMap?t.kmap=new window.KMap(i):console.log("未接入地图配置")}}function A(e){var t=this.store,n=e||t.log;t.kmap.getLocation&&n.location&&t.kmap.getLocation({point:[n.location.longitude,n.location.latitude],callback:function(e){if(!e.data.err){var t=e.data,r=t.province,o=t.city,i=t.dist,s=t.address;n.location.address=r+o+i+s}}})}function g(){var e=this.store,t=this.styles.assets.images;e.markId&&e.kmap.removeMarkersById({id:e.markId});var n=e.log.location;n&&(e.markId="markId",e.kmap.addMarkers({data:[{point:[n.longitude,n.latitude],id:e.markId}],offset:e.offset,url:t.marker}))}t.default=function(){return[o.mounted("ShowMap",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return d.bind(e)(t),t}));return t.addPipe(s.RxjsEventNames.SHOW_LOCATION,n),function(){return t.removePipe(s.RxjsEventNames.SHOW_LOCATION,n)}})),o.mounted("UpdateCurChatTarget",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=a.map((function(t){return n.curChatTarget=t,c.getTargetCode(t)&&p.bind(e)(),t}));return t.addPipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,r),function(){return t.removePipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,r)}})),o.mounted("LoginSuccess",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return f.bind(e)(),t}));return t.addPipe(s.RxjsEventNames.LOGIN_SUCCESS,n),function(){return t.removePipe(s.RxjsEventNames.LOGIN_SUCCESS,n)}})),o.mounted("SetLogAddress",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return A.bind(e)(t),t}));return t.addPipe(s.RxjsEventNames.UPDATE_LOCATION_ADDRESS,n),function(){return t.removePipe(s.RxjsEventNames.UPDATE_LOCATION_ADDRESS,n)}})),o.mounted("ClickController",(function(){var e=this,t=i.default.getKChat(this.rootName).rxjsEvent,n=this.refs,r=this.store,o=a.map((function(t){if(t.type===s.ControllerType.MAP)switch(t.name){case s.ControllerName.SMALL:case s.ControllerName.EXIT_BIG:c.exitBig(n.mapContainer.current),r.kmap&&r.kmap.resize();break;case s.ControllerName.BIG:c.resizeBig(n.mapContainer.current),r.kmap&&r.kmap.resize();break;case s.ControllerName.CLOSE:c.exitBig(n.mapContainer.current),f.bind(e)()}return t}));return t.addPipe(s.RxjsEventNames.CLICK_CONTROLLER,o),function(){return t.removePipe(s.RxjsEventNames.CLICK_CONTROLLER,o)}})),o.mounted("HideMap",(function(){var e=this,t=i.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,o=a.map((function(t){return f.bind(e)(),l.merge(l.fromEvent(r.login,"loginOut"),l.fromEvent(r.login,"beCoercive")).subscribe((function(){f.bind(e)()})),t}));return n.addPipe(s.RxjsEventNames.LOGIN_SUCCESS,o),function(){return n.removePipe(s.RxjsEventNames.LOGIN_SUCCESS,o)}}))]}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(529),s=n(530),a=n(531),u=n(86),c=n(11),l=n(1),d=n(102);t.default=function e(t,n,f){return o.default("Map",i.default,{rootName:t,_styles:s.default(),store:a.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:f},[u.default(t,".kc-map-header",r([c.mounted("SetType",(function(){this.store.type=l.ControllerType.MAP}))],d.default())).setName("MapController")])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(6),u=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=u(null),e.refs.mapContainer=u(null),e.refs.mapBox=u(null),o.createElement(i.Observer,null,(function(){var t=s.toJS(e.styles),n=e.store,i=e.refs,u=n.log.location&&(n.log.location.name||n.log.location.address)||"",c=n.log.location&&n.log.location.name&&n.log.location.address||"";return o.createElement("div",{ref:e.refs.container,"data-tree":e.name,style:a.toggleVisible(t.container,n.visible),"data-style-name":"container"},o.createElement("div",{style:t.mapContainer,ref:e.refs.mapContainer,"data-style-name":"mapContainer"},o.createElement("div",{style:t.header,className:"kc-map-header","data-style-name":"header"}),o.createElement("div",{style:t.content,ref:i.mapBox,"data-style-name":"content"}),o.createElement("div",{style:t.footer,"data-style-name":"footer"},o.createElement("div",{style:t.locationTitle,"data-style-name":"locationTitle"},o.createElement("div",{style:r(r({},t.locationName),c?{}:t.onlyLocationName),title:u,"data-style-name":c?"locationName":"onlyLocationName"},u),o.createElement("div",{style:a.toggleVisible(t.locationSubName,!!c),title:c,"data-style-name":"locationSubName"},c)))))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{marker:n(184)}},container:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, .3)",zIndex:99},mapContainer:r(r({width:"600px",height:"460px",background:"#fff",boxShadow:"0 0 12px 0 rgba(0,0,0,0.16)",borderRadius:"6px",overflow:"hidden"},o.middle()),o.forbidSelect()),header:r({height:"35px",lineHeight:"35px"},o.flex({justifyContent:"flex-end",alignItems:"center"})),content:{height:"calc(100% - 105px)"},footer:{height:"70px",padding:"0 34px"},locationTitle:{},locationName:r(r({fontSize:"14px",color:"#666",lineHeight:"20px"},o.ellipsis()),{maxWidth:"400px",marginTop:"18px"}),onlyLocationName:{lineHeight:"70px",marginTop:0},locationSubName:r(r({fontSize:"10px",color:"#8C9097",lineHeight:"14px"},o.ellipsis()),{maxWidth:"400px"})}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({visible:!1,log:{},markId:"",kmap:null,curChatTarget:{},offset:[0,0]})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(1),a=n(5),u=n(2),c=n(6),l=n(28),d=n(23),f=n(8);function p(){var e=this;console.log("hide");var t=this.store,n=this.styles;t.visible&&c.animation(n.selectMapBox,s.AnimationType.ZOOM_OUT).subscribe((function(){t.visible=!1,B.bind(e)()}))}function A(){var e=this,t=this.store,n=this.styles,r=o.default.getKChat(this.rootName),a=r.fetch,u=r.rxjsEvent;t.visible||a.map.getCityJSON().subscribe({next:function(r){g.bind(e)(),t.cityJSONList.proList=r,t.visible=!0,c.animation(n.selectMapBox,s.AnimationType.ZOOM_IN).subscribe((function(){t.kmap?t.kmap.destroy({ended:function(){t.kmap=null,S.bind(e)()}}):S.bind(e)()}))},error:function(e){console.log(e),u.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("未请求到省市区级联数据"))}})}function g(){var e=this.store,t=this.refs;h.bind(this)(),e.visible=!1,e.sideBarVisible=!1,e.emptyCodeWarning=!1,e.cityListVisible=!1,e.citySelectActive=!1,e.selectedChoice={},e.searchKey="",t.searchInput.current.value="",e.overlayType=""}function h(){var e=this.store;e.selectedCity.proCode="",e.selectedCity.proName="",e.selectedCity.cityCode&&m.bind(this)()}function m(){var e=this.store;e.selectedCity.cityCode="",e.selectedCity.cityName="",e.cityJSONList.cityList=[],e.selectedCity.distCode&&y.bind(this)()}function y(){var e=this.store;e.selectedCity.distCode="",e.selectedCity.distName="",e.cityJSONList.distList=[]}function v(e){var t=this,n=this.store;h.bind(this)(),n.cityJSONList.proList.some((function(n){if(n.code===e.proCode)return b.bind(t)(n),!0})),n.cityJSONList.cityList.some((function(n){if(n.code===e.cityCode)return E.bind(t)(n),!0})),n.cityJSONList.distList.some((function(n){if(n.code===e.distCode)return C.bind(t)(n),!0}))}function b(e){var t=this.store;t.selectedCity.proCode!==e.code&&m.bind(this)(),t.selectedCity.proCode=e.code,t.selectedCity.proName=e.name,t.cityJSONList.cityList=e.childs}function E(e){var t=this.store;t.selectedCity.cityCode!==e.code&&y.bind(this)(),t.selectedCity.cityCode=e.code,t.selectedCity.cityName=e.name,t.cityJSONList.distList=e.childs}function C(e){var t=this.store;t.selectedCity.distCode=e.code,t.selectedCity.distName=e.name,t.cityListVisible=!1}function T(){var e=this.store;e.emptyCodeWarning=!1,e.cityListVisible=!e.cityListVisible}function S(){var e=this,t=this.store,n=this.refs;if(!t.kmap&&window.KChatConfig.kmap&&window.KChatConfig.kmap.configUrl){if(!window.KMap)return void console.log("未接入地图配置");t.kmap=new window.KMap({containerId:n.mapBox.current,configUrl:window.KChatConfig.kmap.configUrl,onLoadMap:function(){t.kmap.addEventOnMap({event:"click",handler:function(t){w.bind(e)({position:[t.lngLat.lng,t.lngLat.lat]})}}),x.bind(e)()}})}else t.kmap.resize(),x.bind(this)()}function x(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent;return _.bind(this)().subscribe({next:function(t){w.bind(e)({position:t.data})},error:function(e){console.log(e),t.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of(e.message))}})}function _(){var e=this.store;return l.createObserver((function(t){e.kmap.getCenter({callback:function(e){t.next(e)}})}))}function w(e){var t=this,n=this.store,r=this.refs,u=o.default.getKChat(this.rootName).rxjsEvent;return n.searching=!1,n.emptyCodeWarning=!1,n.searchKey="",r.searchInput.current.value="",B.bind(this)(),n.querying=!0,I.bind(this)(e.position).pipe(a.concatMap((function(r){return v.bind(t)(r),n.dot={code:r.distCode,position:e.position},O.bind(t)(n.dot).pipe(a.map((function(e){u.subscribe(s.RxjsEventNames.INIT_PAGE,i.of({total:e.pages,pageCount:n.pageCount,type:s.PageType.MAP}))})))}))).subscribe({error:function(e){console.log(e),u.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of(e.message))}})}function B(){var e=this.store;e.page.pageNo=1,e.page.list=[],F.bind(this)()}function I(e){var t=this.store;return l.createObserver((function(n){t.kmap.getAdminInfoByPoint({point:e,callback:function(e){if(e&&e.data){var t=e.data;n.next({province:t.provinceName,proCode:t.proadcode,city:t.cityName,cityCode:t.cityadcode,district:t.nameZh,distCode:t.adminId})}else n.error(d.default(2003,"经纬度查询行政区划失败","SelectMap getAdminInfoByPoint"))}})}))}function R(){var e=this,t=this.store;return l.createObserver((function(n){t.querying=!0,t.kmap.queryInfoByType({keyword:t.searchKey,code:t.selectedCity.distCode+"",searchType:[],pageNo:t.page.pageNo,maxCount:t.page.count,callback:function(r){if(r&&r.data&&r.total){var o=r.data;N.bind(e)(),t.querying=!1,t.page.list=o||[],U.bind(e)(),t.selectedChoice={},L.bind(e)(t.page.list[0]),P.bind(e)(t.page.list),n.next({page:t.page.pageNo,pages:K(r.total,t.page.count),list:o})}else t.querying=!1,n.error(d.default(2003,"关键字查询位置信息失败","SelectMap queryInfoByType"))}})}))}function O(e){var t=this,n=this.store;return l.createObserver((function(r){n.querying=!0,n.kmap.queryPointBuffer({point:e.position,radius:n.radius,code:e.code+"",keyword:n.searchKey,searchType:[],pageNo:n.page.pageNo,maxCount:n.page.count,callback:function(e){if(e&&e.data&&e.total){var o=e.data;N.bind(t)(),n.querying=!1,n.page.list=o||[],U.bind(t)(),n.selectedChoice={},L.bind(t)(n.page.list[0]),P.bind(t)(n.page.list),r.next({page:n.page.pageNo,pages:K(e.total,n.page.count),list:o})}else n.querying=!1,r.error(d.default(2003,"点缓冲区查询失败","SelectMap queryPointBuffer"))}})}))}function N(){console.log("showSideBar");var e=this.store,t=this.styles;e.sideBarVisible||(e.sideBarVisible=!0,c.animation(t.sideBar,s.AnimationType.SLIDE_IN_DOWN).subscribe())}function M(){console.log("hideSideBar");var e=this.store,t=this.styles;e.sideBarVisible&&c.animation(t.sideBar,s.AnimationType.SLIDE_OUT_UP).subscribe((function(){e.sideBarVisible=!1}))}function U(){this.refs.addressListBox.current.scrollTop=0}function L(e){e&&Q.bind(this)(e.geometry.coordinates,11).subscribe()}function F(){var e=this.store;e.kmap&&e.kmap.removeCustomOverlaysByType({customOverlaysType:e.overlayType})}function P(e){var t=this,n=this.store,r=this.styles.assets.images;F.bind(this)();var o=e.map((function(e,t){var n=document.createElement("div");return n.innerText=t+1,n.setAttribute("class","res-icon"),n.style.backgroundImage="url("+r.searchDotIcon+")",n.style.zIndex="999",{point:e.geometry.coordinates,element:n}}));n.kmap.addCustomOverlays({data:o,offset:n.offset,customOverlaysType:"customType",ended:function(e){n.overlayType=e.data,n.kmap.addEventOnCustomOverlays({selector:"."+n.overlayType,event:"click",handler:function(e){e.stopPropagation(),Number.isNaN(+e.target.innerText)||(n.kmap.getCustomOverlaysByType({customOverlaysType:n.overlayType,callback:function(e){10===e.status&&e.data.forEach((function(e){e.style.zIndex=0,e.querySelector(".res-icon").style.backgroundImage="url("+r.searchDotIcon+")"}))}}),V.bind(t)(e.target.innerText-1),e.target.parentNode.parentNode.classList.contains("minemap-marker")?e.target.parentNode.parentNode.style.zIndex=1:e.target.parentNode.style.zIndex=1,e.target.style.backgroundImage="url("+r.searchDotSelectedIcon+")")}}),n.kmap.addEventOnCustomOverlays({selector:"."+n.overlayType,event:"mouseenter",handler:function(e){e.stopPropagation(),e.target.querySelector(".res-icon").style.backgroundImage="url("+r.searchDotSelectedIcon+")"}}),n.kmap.addEventOnCustomOverlays({selector:"."+n.overlayType,event:"mouseleave",handler:function(e){e.stopPropagation(),Number.isNaN(+e.target.innerText)||n.page.list[e.target.innerText-1]===n.selectedChoice||(e.target.querySelector(".res-icon").style.backgroundImage="url("+r.searchDotIcon+")")}})}})}function j(){var e=this.store;return l.createObserver((function(t){e.kmap.getZoom({callback:function(e){e&&e.data?t.next(e):t.error(d.default(2003,"获取缩放比例失败","SelectMap getZoom"))}})}))}function D(){var e=this,t=this.store,n=this.styles.assets.images;return l.createObserver((function(r){t.kmap.screenshot({callback:function(o){o&&o.data?G.bind(e)(o.data).subscribe({next:function(o){var i=document.createElement("canvas"),s=t.ratio;i.height=o.height,i.width=Math.ceil(o.height/s);var u=i.getContext("2d");u.translate((i.width-o.width)/2,0),u.drawImage(o,0,0),t.kmap.getPixelByGeoPoint({point:t.selectedChoice.geometry.coordinates,callback:function(o){o&&o.data?G.bind(e)(n.marker).pipe(a.concatMap((function(n){var r=o.data.x+t.offset[0]-n.width/2,s=o.data.y+t.offset[1]-n.height/2;return u.drawImage(n,r,s),H.bind(e)(i).pipe(a.concatMap((function(t){return k.bind(e)(t)})))}))).subscribe({next:function(e){return r.next(e)},error:function(e){return r.error(e)}}):r.error(d.default(2003,"根据经纬度获取物理坐标失败","SelectMap getPixelByGeoPoint"))}})},error:function(e){return r.error(e)}}):r.error(d.default(2003,"截取地图失败","SelectMap screenshot"))}})}))}function k(e){var t=this.store,n=o.default.getKChat(this.rootName).fetch,r=function(e){for(var t=window.atob(e.split(",")[1]),n=new ArrayBuffer(t.length),r=new Uint8Array(n),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([n],{type:"image/png"})}(e.src);return r.name="cutImage"+t.loginUser.userCode+(new Date).getTime()+".png",n.message.singleFileUpload({file:r,fileType:s.SignalType.IMAGE,loginUserCode:t.loginUser.userCode}).upload.pipe(a.map((function(e){return{url:e.url,size:r.size,fileName:r.name}})))}function H(e){return l.createObserver((function(t){var n=new Image;n.crossOrigin="",n.onload=function(){return t.next(n)},n.onerror=function(e){return t.error(e)},n.src=e.toDataURL("image/jpg")}))}function Q(e,t){var n=this.store;return l.createObserver((function(t){n.kmap.getZoom({callback:function(r){10===r.status?n.kmap.moveTolnglat({type:2,zoom:r.data,point:e,ended:function(){t.next(null)}}):t.error(d.default(2003,"获取地图层级失败","SelectMap getZoom"))}})}))}function G(e){return l.createObserver((function(t){var n=new Image;n.onload=function(){t.next(n)},n.onerror=function(e){t.error(e)},n.src=e}))}function V(e){var t=this.store,n=this.refs,r=t.page.list[e];t.selectedChoice=r,Q.bind(this)(t.selectedChoice.geometry.coordinates).subscribe(),n.addressListBox.current.scrollTop=n.addressList[e].current.offsetTop,M.bind(this)()}function K(e,t){return Math.floor((e+t-1)/t)}t.default=function(){return[r.mounted("UpdateLoginUser",(function(){var e=o.default.getKChat(this.rootName),t=this.store,n=u.autorun((function(){t.loginUser=e.store.loginUser}));return function(){return n()}})),r.mounted("ShowSelectMap",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return t===s.MenuType.MAP&&A.bind(e)(),t}));return t.addPipe(s.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,n),function(){return t.removePipe(s.RxjsEventNames.CHAT_FOOTER_MENU_CLICK,n)}})),r.mounted("SendLocation",(function(){var e=this,t=this.refs,n=this.store,r=o.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(t.sendBtn.current,"click").subscribe((function(){n.selectedChoice.provinceName?j.bind(e)().subscribe({next:function(t){F.bind(e)(),D.bind(e)().subscribe({next:function(o){var a={location:{address:(n.selectedChoice.provinceName||"")+(n.selectedChoice.cityName||"")+(n.selectedChoice.areaName||"")+(n.selectedChoice.address||""),latitude:n.selectedChoice.geometry.coordinates[1],longitude:n.selectedChoice.geometry.coordinates[0],snapshotUrl:o.url,zoom:t.data,name:n.selectedChoice.name||""},type:f.isGroup(n.curChatTarget)?s.ChatType.GROUP:s.ChatType.USER,chatCode:f.getTargetCode(n.curChatTarget)};r.subscribe(s.RxjsEventNames.SEND_LOCATION_START,i.of(a)),p.bind(e)()},error:function(e){console.log(e),r.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of(e.message))}})}}):r.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("未选择地图选点"))}))})),r.mounted("CancelSendLocation",(function(){var e=this,t=this.refs;i.fromEvent(t.cancelBtn.current,"click").subscribe((function(){p.bind(e)()}))})),r.mounted("LoginSuccess",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=a.map((function(t){return p.bind(e)(),t}));return t.addPipe(s.RxjsEventNames.LOGIN_SUCCESS,n),function(){return t.removePipe(s.RxjsEventNames.LOGIN_SUCCESS,n)}})),r.mounted("UpdateCurChatTarget",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=a.map((function(t){return n.curChatTarget=t,p.bind(e)(),t}));return t.addPipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,r),function(){return t.removePipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,r)}})),r.mounted("ClickSearchBtn",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=this.refs;i.fromEvent(r.searchInput.current,"input").pipe(a.map((function(){n.searchKey=r.searchInput.current.value}))).subscribe(),i.merge(i.fromEvent(r.searchIconBox.current,"click"),i.fromEvent(r.searchInput.current,"keyup").pipe(a.filter((function(e){return 13===e.which}))),i.fromEvent(r.searchInput.current,"change")).subscribe((function(){return n.selectedCity.distCode?(n.searching=!0,n.dot=null,B.bind(e)(),R.bind(e)().subscribe({next:function(e){t.subscribe(s.RxjsEventNames.INIT_PAGE,i.of({total:e.pages,pageCount:n.pageCount,type:s.PageType.MAP}))},error:function(e){console.log(e),t.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of(e.message))}})):(t.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("未选择行政区")),void(n.emptyCodeWarning=!0))}))})),r.mounted("SelectPage",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=this.store,r=a.map((function(r){return r.type===s.PageType.MAP&&(n.page.pageNo=r.page,n.searching?R.bind(e)().subscribe({error:function(e){console.log(e),t.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of(e.message))}}):O.bind(e)(n.dot).subscribe({error:function(e){console.log(e),t.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of(e.message))}})),r}));return t.addPipe(s.RxjsEventNames.SELECT_PAGE,r),function(){return t.removePipe(s.RxjsEventNames.SELECT_PAGE,r)}})),r.mounted("SelectCity",(function(){var e=this,t=this.store,n=this.refs;i.fromEvent(n.dropList.current,"click").subscribe((function(r){n.proList.some((function(o,i){if(c.isDescendant(r.target,o.current,n.dropList.current))return b.bind(e)(t.cityJSONList.proList[i]),!0}))||n.cityList.some((function(o,i){if(c.isDescendant(r.target,o.current,n.dropList.current))return E.bind(e)(t.cityJSONList.cityList[i]),!0}))||n.distList.some((function(o,i){if(c.isDescendant(r.target,o.current,n.dropList.current))return C.bind(e)(t.cityJSONList.distList[i]),!0}))}))})),r.mounted("ClickSelectBox",(function(){var e=this,t=this.store,n=this.refs;i.merge(i.fromEvent(n.selectResultBox.current,"click"),i.fromEvent(n.dropIcon.current,"click")).subscribe((function(n){T.bind(e)(),t.citySelectActive=!0})),i.fromEvent(window,"click").subscribe((function(e){!t.visible||c.isDescendant(e.target,n.selectResultBox.current,n.container.current)||c.isDescendant(e.target,n.dropIcon.current,n.container.current)||c.isDescendant(e.target,n.clearIcon.current,n.container.current)||c.isDescendant(e.target,n.dropList.current,n.container.current)||(t.cityListVisible=!1,t.citySelectActive=!1)})),i.fromEvent(n.clearIcon.current,"click").subscribe((function(){t.emptyCodeWarning=!1,h.bind(e)()}))})),r.mounted("ShowSideBar",(function(){var e=this,t=this.refs;i.fromEvent(t.sideBarTip.current,"click").subscribe((function(){N.bind(e)()}))})),r.mounted("SelectDot",(function(){var e=this,t=this.refs,n=this.store,r=this.styles.assets.images,a=o.default.getKChat(this.rootName).rxjsEvent;i.fromEvent(t.addressListBox.current,"click").subscribe((function(o){t.addressList.some((function(u,l){if(c.isDescendant(o.target,u.current,t.addressListBox.current))return V.bind(e)(l),n.kmap.getCustomOverlaysByType({customOverlaysType:n.overlayType,callback:function(e){10===e.status?(e.data.forEach((function(e){e.style.zIndex=0,e.querySelector(".res-icon").style.backgroundImage="url("+r.searchDotIcon+")"})),e.data[l]&&(e.data[l].style.zIndex=1,e.data[l].querySelector(".res-icon").style.backgroundImage="url("+r.searchDotSelectedIcon+")")):a.subscribe(s.RxjsEventNames.SHOW_MESSAGE,i.of("获取覆盖物失败"))}}),!0}))}))}))]}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(534),s=n(535),a=n(539),u=n(138),c=n(139),l=n(11),d=n(1);t.default=function e(t,n,f){return o.default("SelectMap",i.default,{rootName:t,_styles:s.default(),store:a.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:f},[u.default(t,".kc-map-page-box",r([l.mounted("SetType",(function(){this.store.type=d.PageType.MAP}))],c.default())).setName("SelectMapPageList")])}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(6),u=n(29),c=o.useRef;t.default=function(e){e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=c(null),e.refs.mapBox=c(null),e.refs.sendBtn=c(null),e.refs.cancelBtn=c(null),e.refs.searchInput=c(null),e.refs.dropList=c(null);var t=c(null);e.refs.selectResultBox={get current(){return t.current.refs.current}},e.refs.dropIcon=c(null),e.refs.clearIcon=c(null);var n=c(null);e.refs.sideBarTip={get current(){return n.current.refs.current}};var l=c(null);return e.refs.searchIconBox={get current(){return l.current.refs.current}},e.refs.selectBox=c(null),e.refs.addressListBox=c(null),o.createElement(i.Observer,null,(function(){var i=s.toJS(e.styles),c=e.store,d=e.refs,f=i.assets,p=f.fonts,A=f.images,g=c.cityJSONList.proList.map((function(){return{current:null}}));d.proList=g.map((function(e){return{get current(){return e.current.refs.current}}}));var h=c.cityJSONList.cityList.map((function(){return{current:null}}));d.cityList=h.map((function(e){return{get current(){return e.current.refs.current}}}));var m=c.cityJSONList.distList.map((function(){return{current:null}}));d.distList=m.map((function(e){return{get current(){return e.current.refs.current}}})),d.addressList=c.page.list.map((function(){return{current:null}}));var y=function(){return o.createElement(u.Pseudo,{style:a.toggleVisible(i.sideBarTip,!c.sideBarVisible&&c.page.list.length>0),hoverStyle:i.sideBarTipHover,"data-style-name":"sideBarTip","data-style-hover-name":"sideBarTipHover",ref:n},o.createElement("i",{className:p.showMoreIcon}),"返回搜索结果")},v=function(e){return(e.provinceName||"")+(e.cityName||"")+(e.areaName||"")+(e.address||"")},b=function(){return o.createElement("div",{style:a.toggleVisible(i.sideBar,c.sideBarVisible),"data-style-name":"sideBar"},o.createElement("div",{style:a.toggleVisible(i.sideBarEmpty,0===c.page.list.length&&!c.querying),"data-style-name":"sideBarEmpty"},o.createElement("img",{src:A.searchEmptyPic,"data-style-name":"emptyImg",style:i.emptyImg,alt:""}),o.createElement("div",{style:i.emptyTip,"data-style-name":"emptyTip"},"很抱歉，未找到结果",o.createElement("br",null),"您可以换个词试试")),o.createElement("ul",{style:i.addressBox,ref:d.addressListBox,"data-style-name":"addressBox"},c.page.list.map((function(e,t){return o.createElement("li",{style:i.addressItem,key:t,ref:d.addressList[t],"data-style-name":"addressItem"},o.createElement("div",{style:i.indexBox,"data-style-name":"indexBox"},o.createElement("img",{src:c.selectedChoice===e?A.searchDotSelectedIcon:A.searchDotIcon,style:i.indexImg,"data-style-name":"indexImg",alt:""}),o.createElement("span",{style:i.indexContent,"data-style-name":"indexContent"},t+1)),o.createElement("div",{style:i.addressName,"data-style-name":"addressName",title:e.name},e.name),o.createElement("div",{style:i.addressDetail,"data-style-name":"addressDetail",title:v(e)},v(e)),o.createElement("div",{style:i.selectIconBox,"data-style-name":"selectIconBox"},o.createElement("div",{style:a.toggleVisible(i.selectIcon,c.selectedChoice===e),"data-style-name":"selectIcon"})))}))),o.createElement("div",{className:"kc-map-page-box",style:i.mapPageBox,"data-style-name":"mapPageBox"}))};return o.createElement("div",{ref:e.refs.container,"data-tree":e.name,style:a.toggleVisible(i.container,c.visible),"data-style-name":"container"},o.createElement("div",{style:i.selectMapBox,"data-style-name":"selectMapBox"},o.createElement("div",{style:i.header,"data-style-name":"header"},o.createElement("div",{style:i.selectBox,ref:d.selectBox,"data-style-name":"selectBox"},o.createElement(u.Pseudo,{style:r(r({},i.selectResultBox),c.citySelectActive?i.activeselectResultBox:{}),hoverStyle:i.selectResultBoxHover,"data-style-name":c.citySelectActive?"activeselectResultBox":"selectResultBox","data-style-hover-name":"selectResultBoxHover",ref:t},o.createElement("div",{style:a.toggleVisible(r(r({},i.selectPlaceHolder),c.emptyCodeWarning?i.selectPlaceHolderWarning:{}),!c.selectedCity.proCode||c.emptyCodeWarning),"data-style-name":c.emptyCodeWarning?"selectPlaceHolderWarning":"selectPlaceHolder"},c.placeholder),o.createElement("div",{style:a.toggleVisible(i.selectResult,!!c.selectedCity.proCode&&!c.emptyCodeWarning),"data-style-name":"selectResult"},c.selectResult)),o.createElement("div",{ref:d.dropIcon,style:r(r(r({},i.dropIcon),c.emptyCodeWarning?i.dropIconWarning:{}),c.cityListVisible?i.dropIconActive:{}),"data-style-name":c.emptyCodeWarning?c.cityListVisible?"dropIconWarning&cityListVisible":"dropIconWarning":c.cityListVisible?"cityListVisible":"dropIcon"}),o.createElement("i",{className:p.clearIcon,style:a.toggleVisible(r(r({},i.clearIcon),c.emptyCodeWarning?i.clearIconWarning:{}),!!c.selectedCity.proCode&&c.citySelectActive),"data-style-name":c.emptyCodeWarning?"clearIconWarning":"clearIcon",ref:d.clearIcon}),o.createElement("div",{ref:d.dropList,style:a.toggleVisible(i.dropList,c.cityListVisible),"data-style-name":"dropList"},o.createElement("ul",{style:i.cityBox,"data-style-name":"cityBox"},c.cityJSONList.proList.map((function(e,t){return o.createElement(u.Pseudo,{key:t,style:r(r({},i.cityListItem),c.selectedCity.proCode===e.code?i.selectedCityListItem:{}),hoverStyle:i.cityListItemHover,"data-style-name":c.selectedCity.proCode===e.code?"selectedCityListItem":"cityListItem","data-style-hover-name":"cityListItemHover",tagName:"li",ref:g[t]},o.createElement("span",{title:e.name,style:i.labelName,"data-style-name":"labelName"},e.name),o.createElement("i",{className:p.rightArrow,style:i.rightArrow,"data-style-name":"rightArrow"}))}))),o.createElement("ul",{style:a.toggleVisible(i.cityBox,!!c.selectedCity.proCode),"data-style-name":"cityBox"},c.cityJSONList.cityList.map((function(e,t){return o.createElement(u.Pseudo,{key:t,style:r(r({},i.cityListItem),c.selectedCity.cityCode===e.code?i.selectedCityListItem:{}),hoverStyle:i.cityListItemHover,tagName:"li","data-style-name":c.selectedCity.cityCode===e.code?"selectedCityListItem":"cityListItem","data-style-hover-name":"cityListItemHover",ref:h[t]},o.createElement("span",{title:e.name,style:i.labelName,"data-style-name":"labelName"},e.name),o.createElement("i",{className:p.rightArrow,style:i.rightArrow,"data-style-name":"rightArrow"}))}))),o.createElement("ul",{style:a.toggleVisible(i.cityBox,!!c.selectedCity.cityCode),"data-style-name":"cityBox"},c.cityJSONList.distList.map((function(e,t){return o.createElement(u.Pseudo,{key:t,style:r(r({},i.cityListItem),c.selectedCity.distCode===e.code?i.selectedCityListItem:{}),hoverStyle:i.cityListItemHover,"data-style-name":c.selectedCity.cityCode===e.code?"selectedCityListItem":"cityListItem","data-style-hover-name":"cityListItemHover",tagName:"li",ref:m[t]},o.createElement("span",{title:e.name,style:i.labelName,"data-style-name":"labelName"},e.name))}))))),o.createElement("div",{style:i.searchBar,"data-style-name":"searchBar"},o.createElement("input",{type:"text",placeholder:c.searchPaceholder,ref:d.searchInput,style:i.searchInput,"data-style-name":"searchInput"}),o.createElement(u.Pseudo,{style:i.searchIconBox,hoverStyle:i.searchIconBoxHover,"data-style-name":"searchIconBox","data-style-hover-name":"searchIconBoxHover",ref:l},o.createElement("div",{style:i.searchLine,"data-style-name":"searchLine"}),o.createElement("i",{style:i.searchIcon,"data-style-name":"searchIcon",className:p.searchIcon})))),o.createElement("div",{style:i.content,"data-style-name":"content",className:"kc-map-box"},o.createElement("div",{style:i.mapBox,"data-style-name":"mapBox",ref:d.mapBox}),y(),b()),o.createElement("div",{style:i.footer,"data-style-name":"footer"},o.createElement("div",{ref:d.sendBtn,style:i.sendBtn,"data-style-name":"sendBtn"},"发送"),o.createElement("div",{ref:d.cancelBtn,style:i.cancelBtn,"data-style-name":"cancelBtn"},"取消"))))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{marker:n(184),searchDotIcon:n(536),searchDotSelectedIcon:n(537),searchEmptyPic:n(538)},fonts:{searchIcon:"icon iconfont icon-icon-search",rightArrow:"icon iconfont icon-arrow-right-copy",clearIcon:"icon iconfont icon-username-error-surface-copy",showMoreIcon:"icon iconfont icon-arrow-right-copy"}},container:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, .3)",zIndex:9},selectMapBox:r(r({width:"600px",height:"460px",backgroundColor:"#fff",boxShadow:"0 0 12px 0 rgba(0,0,0,0.16)",borderRadius:"6px",overflow:"hidden"},o.middle()),o.forbidSelect()),header:{height:"60px",padding:"20px 24px 0 20px",position:"relative"},selectBox:{display:"inline-block",width:"320px",height:"24px",position:"relative"},selectResultBox:{width:"100%",height:"100%",border:"1px solid "+o.$theme.$borderColor,borderRadius:"1px",position:"relative",lineHeight:"22px",cursor:"pointer"},activeselectResultBox:{boxShadow:"0 0 0 2px #D6EBFF",borderColor:"#5CADFF"},selectResultBoxHover:{borderColor:"#5CADFF"},selectPlaceHolder:{fontSize:"12px",color:"#B6B6B6",paddingLeft:"12px",textAlign:"left",lineHeight:"22px",position:"absolute",left:"0",top:"0"},selectPlaceHolderWarning:{color:"#F36464"},selectResult:r(r({fontSize:"12px",color:"#B6B6B6",paddingLeft:"12px",textAlign:"left",lineHeight:"22px",position:"absolute",left:"0",top:"0"},o.ellipsis()),{maxWidth:"calc(100% - 20px)",wordBreak:"break-all"}),dropIcon:r({transition:"all 0.2s",right:"8px",width:"0",height:"0",borderStyle:"solid",borderWidth:"5px 5px 0 5px",borderColor:o.$theme.$lightBgColor+" transparent transparent transparent"},o.vertical()),dropIconActive:{transform:"rotate(180deg)"},dropIconWarning:{borderTopColor:"#F36464"},clearIcon:r(r({position:"absolute",fontSize:"10px",color:o.$theme.$lightBgColor,height:"16px"},o.vertical()),{right:"8px",backgroundColor:"#fff",cursor:"pointer"}),clearIconWarning:{color:"#F36464"},dropList:r({position:"absolute",left:"0",top:"28px",height:"200px",padding:"5px 0",backgroundColor:"#fff",boxShadow:"0 1px 8px 0 rgba(0,0,0,0.18)",borderRadius:"2px",zIndex:1,textAlign:"left"},o.flex()),cityBox:{width:"106px",height:"100%",overflowX:"hidden",overflowY:"auto",borderRight:"1px solid "+o.$theme.$borderColor},cityListItem:{height:"24px",lineHeight:"24px",paddingLeft:"22px",fontSize:"12px",color:"#575A5F",position:"relative"},cityListItemHover:{color:o.$theme.$baseColor,backgroundColor:"#f3f3f3"},selectedCityListItem:{color:o.$theme.$baseColor,backgroundColor:"#f3f3f3"},labelName:r({wordBreak:"break-all",maxWidth:"calc(100% - 15px)",display:"inline-block"},o.ellipsis()),rightArrow:r({fontSize:"10px",color:o.$theme.$lightBgColor,right:"2px"},o.vertical()),searchBar:{width:"195px",height:"24px",position:"absolute",right:"24px",top:"20px"},searchInput:r(r({},o.searchInput("22px")),{height:"100%",paddingLeft:"12px"}),searchIconBox:{width:"28px",height:"100%",position:"absolute",right:"0",top:"0",cursor:"pointer",color:"#ccc"},searchIconBoxHover:{color:o.$theme.$baseColor},searchLine:r(r({left:"0"},o.vertical()),{backgroundColor:o.$theme.$borderColor,height:"12px",width:"1px"}),searchIcon:r(r({right:"10px",lineHeight:"22px",height:"22px"},o.vertical()),{fontSize:"10px"}),content:{height:"calc(100% - 130px)",position:"relative",textAlign:"left",overflow:"hidden"},mapBox:{width:"100%",height:"100%"},sideBarTip:{position:"absolute",backgroundColor:"#fff",right:"0",top:"6px",width:"240px",height:"40px",lineHeight:"40px",paddingLeft:"30px",cursor:"pointer",fontSize:"14px",color:"#333"},sideBarTipHover:{color:o.$theme.$baseColor},showMoreIcon:r({fontSize:"10px",color:o.$theme.$lightBgColor,left:"10px",transform:"rotate(180deg)"},o.vertical()),sideBar:{position:"absolute",zIndex:1,backgroundColor:"#fff",right:"0",top:"6px",width:"240px",height:"calc(100% - 12px)"},sideBarEmpty:{position:"absolute",left:"0",top:"60px",width:"100%",textAlign:"center"},emptyImg:{width:"120px",height:"auto"},emptyTip:{marginTop:"40px",width:"100%",fontSize:"12px",color:"#666"},addressBox:{height:"300px",overflowX:"hidden",overflowY:"auto",position:"relative"},addressItem:{position:"relative",padding:"12px 60px 12px 38px"},activeAddressItem:{backgroundColor:"#f3f3f3"},indexBox:{position:"absolute",left:"10px",top:"12px",width:"18px",height:"24px"},indexImg:{width:"100%",height:"auto"},indexContent:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",fontSize:"12px",color:"#fff",textAlign:"center",lineHeight:"20px"},addressName:r(r({fontSize:"14px",color:"#333"},o.ellipsis()),{lineHeight:"20px"}),addressDetail:r({fontSize:"10px",color:"#8C9097",lineHeight:"14px"},o.ellipsis()),selectIconBox:r({width:"20px",height:"20px",right:"20px",border:"1px solid "+o.$theme.$lightBgColor,borderRadius:"50%"},o.vertical()),activeSelectIconBox:{border:"1px solid "+o.$theme.$baseColor},selectIcon:r({width:"10px",height:"10px",borderRadius:"50%",backgroundColor:o.$theme.$baseColor},o.middle()),mapPageBox:r({height:"calc(100% - 300px)"},o.flex({justifyContent:"center",alignItems:"center"})),footer:r({width:"100%",height:"70px"},o.flex({justifyContent:"center"})),sendBtn:r(r({},o.button()),{margin:"0 40px"}),cancelBtn:r({},o.button("#fff","#666","1px solid "+o.$theme.$borderColor))}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/search-dot.png"},function(e,t,n){e.exports=n.p+"./static/kchat203/images/search-dot-selected.png"},function(e,t,n){e.exports=n.p+"./static/kchat203/images/searchEmpty.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({visible:!1,kmap:null,loginUser:{},curChatTarget:{},searchPaceholder:"搜索",emptyCodeWarning:!1,searching:!1,querying:!1,radius:3,searchKey:"",selectedCity:{proCode:"",proName:"",cityCode:"",cityName:"",distCode:"",distName:""},cityJSONList:{proList:[],cityList:[],distList:[]},cityListVisible:!1,citySelectActive:!1,sideBarVisible:!1,overlayType:"",offset:[0,0],page:{pageNo:1,count:10,list:[]},pageCount:3,selectedChoice:{},ratio:1280/720,get placeholder(){return this.emptyCodeWarning?"请选择省/市/区":this.selectedCity.proCode?"":"请选择"},get selectResult(){var e=this.selectedCity.proName;return this.selectedCity.cityCode&&(e+="/"+this.selectedCity.cityName),this.selectedCity.distCode&&(e+="/"+this.selectedCity.distName),e}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(541),i=n(542),s=n(544);t.default=function e(t,n,a){return r.default("ConfirmPopup",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(6),a=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.ensureRef=a(null),e.refs.cancelRef=a(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets.images,o=e.store,a=o.title,u=o.content,c=o.visible,l=o.confirmImg;return r.createElement("div",{style:s.toggleVisible(t.mask,c),"data-tree":e.name,"data-style-name":"mask"},r.createElement("div",{style:t.container,"data-style-name":"container"},r.createElement("div",{style:t.header,"data-style-name":"header"},r.createElement("div",{style:t.content,"data-style-name":"content"},r.createElement("img",{style:t.image,"data-style-name":"image",src:l||n.confirm}),r.createElement("div",{style:t.title,"data-style-name":"title"},a),r.createElement("div",{style:t.tip,"data-style-name":"tip"},u))),r.createElement("div",{style:t.footer,"data-style-name":"footer"},r.createElement("button",{style:t.ensure,ref:e.refs.ensureRef,"data-style-name":"ensure"},"确认"),r.createElement("button",{style:t.cancel,ref:e.refs.cancelRef,"data-style-name":"cancel"},"取消"))))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{images:{confirm:n(543)}},mask:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"9",backgroundColor:"rgba(0, 0, 0, .3)"},container:{position:"absolute",left:"50%",top:"100px",width:"360px",backgroundColor:"#fff",boxShadow:"0 0 12px 0 rgba(0, 0, 0, 0.16)",borderRadius:"6px",zIndex:"1",transform:"translateX(-50%)"},header:{padding:"44px 40px"},content:{position:"relative",paddingLeft:"110px",minHeight:"50px"},image:{position:"absolute",left:"15px",top:"50%",width:"70px",transform:"translateY(-50%)"},title:r({fontSize:"16px",color:"#333",fontWeight:"700"},o.ellipsisN(4)),tip:{fontSize:"12px",color:"#666",marginTop:"10px"},footer:{height:"70px",display:"flex",justifyContent:"center",alignItems:"center",borderTop:"1px solid #DCDFE6"},ensure:{width:"100px",margin:"0 25px",lineHeight:"28px",fontSize:"12px",color:"#fff",textAlign:"center",border:"none",borderRadius:"2px",letterSpacing:"5px",backgroundColor:"#4999FF",cursor:"pointer"},cancel:{width:"100px",margin:"0 25px",lineHeight:"28px",fontSize:"12px",color:"#666",textAlign:"center",border:"1px solid #DCDFE6",borderRadius:"2px",letterSpacing:"5px",backgroundColor:"#fff",cursor:"pointer"}}}}},function(e,t,n){e.exports=n.p+"./static/kchat203/images/confirm.png"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({visible:!1,title:"",content:"",confirmImg:void 0,onOk:void 0,onCancel:void 0})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(13),s=n(5),a=n(1),u=n(6);t.default=function(){return[r.mounted("ShowConfirm",(function(){var e=this.store,t=this.styles,n=o.default.getKChat(this.rootName).rxjsEvent,r=s.map((function(n){e.title=n.title,e.content=n.content,e.onOk=n.onOk,e.onCancel=n.onCancel,e.confirmImg=n.image,e.visible=!0,u.animation(t.container,a.AnimationType.ZOOM_IN)}));return n.addPipe(a.RxjsEventNames.SHOW_CONFIRM,r),function(){return n.removePipe(a.RxjsEventNames.SHOW_CONFIRM,r)}})),r.mounted("OkClick",(function(){var e=this.refs,t=this.store;i.fromEvent(e.ensureRef.current,"click").subscribe({next:function(){t.onOk&&t.onOk(),t.visible=!1}})})),r.mounted("CancelClick",(function(){var e=this.refs,t=this.store;i.fromEvent(e.cancelRef.current,"click").subscribe({next:function(){t.onCancel&&t.onCancel(),t.visible=!1}})}))]}},function(e,t,n){var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(547),s=n(548),a=n(549),u=n(86),c=n(102),l=n(11),d=n(1);t.default=function e(t,n,f){return o.default("ImagePopup",i.default,{rootName:t,_styles:s.default(),store:a.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:f},[u.default(t,".kc-img-controller",r([l.mounted("SetType",(function(){this.store.type=d.ControllerType.IMAGE_DETAIL}))],c.default())).setName("HistoryController")])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15),i=n(2),s=n(6),a=r.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=a(null),e.refs.contentRef=a(null),e.refs.canvasRef=a(null),e.refs.biggerRef=a(null),e.refs.smallerRef=a(null),e.refs.rotateRef=a(null),e.refs.detailRef=a(null),e.refs.menusRef=a(null),r.createElement(o.Observer,null,(function(){var t=i.toJS(e.styles),n=t.assets.fonts,o=e.store,a=o.visible,u=o.imageInfo,c=o.menus;return r.createElement("div",{style:s.toggleVisible(t.mask,a),"data-tree":e.name,"data-style-name":"mask"},r.createElement("div",{style:t.container,ref:e.refs.container,"data-style-name":"container"},r.createElement("div",{style:t.zoomBox,"data-style-name":"zoomBox"},r.createElement("div",{style:t.header,title:u.fileName,"data-style-name":"header"},r.createElement("p",{style:t.title,"data-style-name":"title"},u.fileName&&u.remark&&u.remark.fileName),r.createElement("div",{style:t.imgControl,"data-style-name":"imgControl",className:"kc-img-controller"})),r.createElement("div",{style:t.content,"data-style-name":"content",ref:e.refs.contentRef},r.createElement("canvas",{ref:e.refs.canvasRef}),r.createElement("div",{style:t.menus,ref:e.refs.menusRef,"data-style-name":"menus"},r.createElement("span",{style:t.menuItem,ref:e.refs.biggerRef,className:n.zoomIn,"data-style-name":"menuItem"}),r.createElement("span",{style:t.menuItem,ref:e.refs.smallerRef,className:n.zoomOut,"data-style-name":"menuItem"}),r.createElement("span",{style:t.menuItem,ref:e.refs.rotateRef,className:n.rotate,"data-style-name":"menuItem"}),r.createElement("span",{style:s.toggleVisible(t.menuItem,c.length),ref:e.refs.detailRef,className:n.detail,"data-style-name":"menuItem"}))))))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{fonts:{zoomIn:"icon iconfont icon-zoom-in",zoomOut:"icon iconfont icon-zoom-out",rotate:"icon iconfont icon-rotate",detail:"icon iconfont icon-detail"}},mask:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:99,backgroundColor:"rgba(0, 0, 0, .3)"},container:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto",width:"80%",maxWidth:"600px",height:"70%",borderRadius:"6px"},zoomBox:{position:"relative",height:"100%",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"0 0 12px 0 rgba(0, 0, 0, 0.16)",overflow:"hidden"},header:{position:"relative",lineHeight:"40px",height:"40px",fontSize:"14px",color:"#333",fontWeight:"400"},title:r({margin:"0 120px",textAlign:"center"},o.ellipsis()),content:{height:"calc(100% - 40px)"},menus:{position:"absolute",bottom:"-50px",left:"50%",width:"240px",display:"flex",justifyContent:"center",lineHeight:"48px",borderRadius:"2px",backgroundColor:"rgba(255, 255, 255, 0.88)",transform:"translateX(-50%)",transition:"all .5s"},menuItem:{fontSize:"20px",color:"#272536",cursor:"pointer",margin:"0 12px"},imgControl:{position:"absolute",right:0,top:0}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({visible:!1,imageInfo:{},rotate:0,ratio:1,moving:!1,origin:{x:0,y:0},image:null,rightMouseType:null,menus:[]})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(1),s=n(13),a=n(5),u=n(8),c=n(6);function l(e){var t=e.store;t.origin.x=t.image.width/2,t.origin.y=t.image.height/2}function d(e){var t=e.store,n=e.refs,r=n.canvasRef.current;r.width=n.contentRef.current.offsetWidth,r.height=n.contentRef.current.offsetHeight,t.ratio=f(e),A(e)}function f(e){var t=e.store,n=e.refs,r=p(e),o=r.asWidth,i=r.asHeight,s=n.canvasRef.current;return t.image[o]/t.image[i]>s.width/s.height?s.width/t.image[o]:s.height/t.image[i]}function p(e){var t=e.store,n=Math.abs(t.rotate)%180==0;return{asWidth:n?"width":"height",asHeight:n?"height":"width",asX:n?"x":"y",asY:n?"y":"x"}}function A(e){var t,n,r,o,i,s,a,u,c=e.store,l=e.refs.canvasRef.current,d=l.getContext("2d");t=n=r=o=i=s=a=u=0;var f=p(e),A=f.asWidth,g=f.asHeight;d.clearRect(0,0,l.width,l.height),c.image.width*c.ratio>l[A]?(t=c.origin.x-l[A]/2/c.ratio,i=0,a=l[A],r=l[A]/c.ratio,t<0?t=0:t+r>c.image.width&&(t=c.image.width-r)):(t=0,i=(l[A]-c.image.width*c.ratio)/2,a=c.image.width*c.ratio,r=c.image.width),c.image.height*c.ratio>l[g]?(n=c.origin.y-l[g]/2/c.ratio,s=0,u=l[g],o=l[g]/c.ratio,n<0?n=0:n+o>c.image.height&&(n=c.image.height-o)):(n=0,s=(l[g]-c.image.height*c.ratio)/2,u=c.image.height*c.ratio,o=c.image.height),l.width=l.width,d.translate(l.width/2,l.height/2),d.rotate(c.rotate/180*Math.PI),d.drawImage(c.image,t,n,r,o,i-l[A]/2,s-l[g]/2,a,u)}function g(e){var t=e.store,n=e.styles;c.animation(n.mask,i.AnimationType.ZOOM_OUT).subscribe({next:function(){return t.visible=!1}}),t.imageInfo={},t.rotate=0,t.ratio=1,t.moving=!1,t.origin={x:0,y:0},t.image=null}t.default=function(){return[r.mounted("ImageViewer",(function(){var e=this,t=this.store,n=this.styles,r=o.default.getKChat(this.rootName).rxjsEvent,s=a.map((function(r){var o=r.imageInfo,s=r.rightMouseType,a=r.menus;t.visible=!0,c.animation(n.zoomBox,i.AnimationType.ZOOM_IN).subscribe(),t.imageInfo=o,t.rotate=0,t.ratio=1,t.moving=!1,t.origin.x=0,t.origin.y=0,t.image=new Image,t.image.onload=function(){l(e),d(e)},t.image.src=o.url,t.rightMouseType=s,t.menus=a}));return r.addPipe(i.RxjsEventNames.SHOW_IMAGE,s),function(){return r.removePipe(i.RxjsEventNames.SHOW_IMAGE,s)}})),r.mounted("ResizeBigger",(function(){var e=this,t=this.store,n=this.refs;s.fromEvent(n.biggerRef.current,"click").subscribe({next:function(){t.ratio=Math.min(2*t.ratio,Math.pow(2,5)),t.ratio<=f(e)&&2*t.ratio>f(e)&&(t.ratio=f(e),l(e)),A(e)}})})),r.mounted("ResizeSmaller",(function(){var e=this,t=this.store,n=this.refs;s.fromEvent(n.smallerRef.current,"click").subscribe({next:function(){t.ratio=Math.max(t.ratio/2,Math.pow(2,-5)),t.ratio>=f(e)&&t.ratio/2<f(e)&&(t.ratio=f(e),l(e)),A(e)}})})),r.mounted("Reverse",(function(){var e=this,t=this.store,n=this.refs;s.fromEvent(n.rotateRef.current,"click").subscribe({next:function(){t.rotate-=90,t.ratio=f(e),l(e),A(e)}})})),r.mounted("Detail",(function(){var e=this.store,t=this.refs,n=o.default.getKChat(this.rootName);s.fromEvent(t.detailRef.current,"click").subscribe((function(r){n.rxjsEvent.subscribe(i.RxjsEventNames.SHOW_RIGHT_MOUSE,s.of({event:r,rightMouseType:e.rightMouseType,menuPos:{x:t.menusRef.current.offsetWidth+c.getElementLeft(t.menusRef.current)-c.getElementLeft(n.store.rootDomRef.current),y:c.getElementTop(t.menusRef.current)-c.getElementTop(n.store.rootDomRef.current)},menus:e.menus,targets:[t.detailRef]}))}))})),r.mounted("ClickRightMouse",(function(){var e=this,t=this.store,n=o.default.getKChat(this.rootName).rxjsEvent,r=a.map((function(n){return t.visible&&g(e),n}));return n.addPipe(i.RxjsEventNames.CLICK_RIGHT_MOUSE,r),function(){return n.removePipe(i.RxjsEventNames.CLICK_RIGHT_MOUSE,r)}})),r.mounted("MenuHandler",(function(){var e=this.refs,t=this.styles;s.fromEvent(e.contentRef.current,"mouseenter").subscribe({next:function(){t.menus.bottom="0"}}),s.fromEvent(e.contentRef.current,"mouseleave").subscribe({next:function(){t.menus.bottom="-50px"}})})),r.mounted("DragImage",(function(){var e=this,t=this.store,n=this.refs,r=n.canvasRef.current,o=s.fromEvent(n.canvasRef.current,"mousedown"),i=s.fromEvent(window,"mousemove"),u=s.fromEvent(window,"mouseup"),c=s.fromEvent(window,"mouseleave"),l={x:0,y:0};o.pipe(a.map((function(e){return l.x=t.origin.x,l.y=t.origin.y,{x:e.pageX,y:e.pageY}})),a.concatMap((function(e){return i.pipe(a.takeUntil(u),a.takeUntil(c),a.map((function(t){return{x:t.pageX-e.x,y:t.pageY-e.y}})))}))).subscribe({next:function(n){var o=p(e),i=o.asX,s=o.asY,a=o.asHeight,u=o.asWidth,c=function(e){var t=e.store;return Math.abs(t.rotate)%360==0||Math.abs(t.rotate)%360==270?-1:1}(e),d=function(e){var t=e.store;return Math.abs(t.rotate)%360==0||Math.abs(t.rotate)%360==90?-1:1}(e);t.image.width*t.ratio>r[u]&&(t.origin.x=l.x+c*n[i]/t.ratio,t.origin.x=Math.max(t.origin.x,r[u]/2/t.ratio),t.origin.x=Math.min(t.origin.x,t.image.width-r[u]/2/t.ratio)),t.image.height*t.ratio>r[a]&&(t.origin.y=l.y+d*n[s]/t.ratio,t.origin.y=Math.max(t.origin.y,r[a]/2/t.ratio),t.origin.y=Math.min(t.origin.y,t.image.height-r[a]/2/t.ratio)),A(e)}})})),r.mounted("OnResize",(function(){var e=this,t=this.store,n=this.refs.canvasRef.current;s.fromEvent(window,"resize").subscribe({next:function(){t.image&&n&&d(e)}})})),r.mounted("ClickController",(function(){var e=this,t=o.default.getKChat(this.rootName).rxjsEvent,n=this.refs,r=a.map((function(t){if(t.type===i.ControllerType.IMAGE_DETAIL)switch(t.name){case i.ControllerName.SMALL:case i.ControllerName.EXIT_BIG:u.exitBig(n.container.current),d(e);break;case i.ControllerName.BIG:u.resizeBig(n.container.current),d(e);break;case i.ControllerName.CLOSE:u.exitBig(n.container.current),d(e),g(e)}return t}));return t.addPipe(i.RxjsEventNames.CLICK_CONTROLLER,r),function(){return t.removePipe(i.RxjsEventNames.CLICK_CONTROLLER,r)}}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(552),i=n(553),s=n(554);t.default=function e(t,n,a){return r.default("CombindMessage",o.default,{rootName:t,_styles:i.default(),store:s.default(),parentEl:n,refs:{},tree:e,assets:{},hooks:a})}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(15),s=n(2),a=n(8),u=n(6),c=n(1),l=o.useRef;t.default=function(e){return e.hooks&&e.hooks.forEach((function(t){t.params.forEach((function(t,n,r){return"function"==typeof t&&(r[n]=t.bind(e))})),t.hookFn.apply(t,t.params)})),e.refs.container=l(null),e.refs.containerFilter=l(null),e.refs.closeAll=l(null),e.refs.curPlayVideoRef=l(null),e.refs.curPlayAudioRef=l(null),o.createElement(i.Observer,null,(function(){var t=e.store,n=e.refs,i=s.toJS(e.styles),l=i.assets,d=l.fonts,f=l.images,p=t.messageList,A=t.userInfoObject,g=t.videoSrc,h=t.audioSrc;n.closeRef=p.map((function(){return{current:null}})),n.forwardRef=p.map((function(){return{current:null}}));var m=function(e){return o.createElement("p",{style:i.text,"data-style-name":"text"},e.text)},y=function(e,t,n){return o.createElement("div",{style:i.combindLogContainer,"data-style-name":"combindLogContainer"},o.createElement("h3",{"data-type":e.msgType,"data-order":n+"-"+t,style:i.combindTitle,"data-style-name":"combindTitle"},e.title),o.createElement("textarea",{"data-type":e.msgType,"data-order":n+"-"+t,style:i.combindDescription,readOnly:!0,"data-style-name":"combindDescription",value:e.description}))},v=function(e,t,n,r){return o.createElement("img",{"data-type":e.msgType,"data-order":n+"-"+t,"data-fromtype":r,src:e.previewUrl||e.snapshotUrl,style:i.picture,"data-style-name":"picture",alt:""})},b=function(e,t,n,r){return o.createElement("div",{style:i.locationContainer,"data-style-name":"locationContainer"},o.createElement("h3",{title:e.name,style:i.locationTitle,"data-style-name":"locationTitle"},"[位置] "+e.name),v(e,t,n,r))},E=function(e,t,n,r){return o.createElement("div",{style:i.locationContainer,"data-style-name":"locationContainer"},o.createElement("a",{style:i.download,"data-style-name":"download",href:e.url,download:!0,rel:"noopener noreferrer"},o.createElement("i",{className:d.download,style:i.downloadIcon,"data-style-name":"downloadIcon"})),o.createElement("h3",{"data-type":e.msgType,"data-order":n+"-"+t,title:e.name,style:i.fileTitle,"data-style-name":"fileTitle"},"[文件] "+e.fileName),e.msgType===c.SignalType.VIDEO_FILE&&C(e,t,n,r),e.msgType===c.SignalType.VOICE_FILE&&T(e,t,n,r))},C=function(e,t,n,r){return o.createElement("div",{style:i.videoContainer,"data-style-name":"videoContainer"},v(e,t,n),o.createElement("i",{"data-type":e.msgType,"data-order":n+"-"+t,"data-fromtype":r,className:d.play,style:i.playIcon,"data-style-name":"playIcon"}))},T=function(e,t,n,r){return o.createElement("div",{style:i.voiceContainer,"data-style-name":"voiceContainer"},o.createElement("i",{"data-type":e.msgType,"data-order":n+"-"+t,"data-fromtype":r,style:i.voiceButton,"data-style-name":"voiceButton",className:d.voice}))},S=function(e,t,n){var r=e.refItem.attachment;return o.createElement("div",{style:i.replyContainer,"data-style-name":"replyContainer"},o.createElement("div",{style:i.replyObject,"data-style-name":"replyObject"},o.createElement("p",{"data-style-name":"replyee",style:i.replyee},e.refItem.sender.senderName),r.msgType===c.SignalType.IM_REPLY&&m(r),r.msgType===c.SignalType.TEXT&&m(r),r.msgType===c.SignalType.IMAGE&&v(r,t,n,r.msgType),(r.msgType===c.SignalType.VIDEO_FILE||r.msgType===c.SignalType.VOICE_FILE||r.msgType===c.SignalType.FILE)&&E(r,t,n,r.msgType),r.msgType===c.SignalType.LOCATION&&b(r,t,n,r.msgType)),o.createElement("p",{style:i.replyText,"data-style-name":"replyText"},e.text))},x=function(e,t){return o.createElement("ul",{style:i.messageUl,"data-style-name":"messageUl"},e.map((function(e,n){return o.createElement("li",{style:i.messageLi,"data-style-name":"messageLi",key:n},o.createElement("img",{style:i.headImage,"data-style-name":"headImage",src:a.getUserHeader(A[e.sender.senderCodeForDomain.split("@")[0]],f)}),o.createElement("div",{style:i.messageContent,"data-style-name":"messageContent"},o.createElement("span",{style:i.sendername,"data-style-name":"sendername"},e.sender.senderName),o.createElement("div",null,function(e,t,n){var r=o.createElement("div",null,"unknown"),i=e.attachment;switch(i.msgType){case c.SignalType.TEXT:case c.SignalType.GROUP_ANNOUNCEMENT:r=m(i);break;case c.SignalType.IM_COMBIND:r=y(i,t,n);break;case c.SignalType.IMAGE:r=v(i,t,n);break;case c.SignalType.LOCATION:r=b(i,t,n);break;case c.SignalType.FILE:case c.SignalType.VIDEO_FILE:case c.SignalType.VOICE_FILE:r=E(i,t,n);break;case c.SignalType.IM_REPLY:r=S(i,t,n)}return r}(e,n,t))),o.createElement("span",{style:i.sendtime,"data-style-name":"sendtime"},a.formatTime(e.time)))})))};return o.createElement("div",{ref:e.refs.container,"data-tree":e.name,style:u.toggleVisible(i.container,p.length),"data-style-name":"container"},o.createElement("i",{className:d.close,style:i.closeAll,"data-style-name":"closeAll",ref:n.closeAll}),o.createElement("div",{style:i.containerFilter,"data-style-name":"containerFilter",ref:n.containerFilter},p.map((function(e,t){return o.createElement("div",{key:t,style:i.messageContainer,"data-style-name":"messageContainer"},o.createElement("div",{style:i.titleContainer,"data-style-name":"titleContainer"},o.createElement("h3",{style:i.titleName,"data-style-name":"titleName"},e.title),o.createElement("i",{style:i.close,"data-style-name":"close",ref:n.closeRef[t],className:d.close}),o.createElement("i",{className:d.forward,style:r(r({},i.close),i.forward),"data-style-name":"close,forward",ref:n.forwardRef[t]})),x(e.items,t))}))),o.createElement("video",{ref:n.curPlayVideoRef,style:u.toggleVisible(i.playerBox,!!g),"data-style-name":"playerBox",src:g}),o.createElement("audio",{ref:n.curPlayAudioRef,style:u.toggleVisible(i.audioBox,!!h),"data-style-name":"audioBox",src:h}))}))}},function(e,t,n){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.default=function(){return{default:{assets:{fonts:{forward:"icon iconfont icon-transmit",download:"icon iconfont icon-download",close:"icon iconfont icon-close-copy",play:"icon iconfont icon-icon-broadcast",voice:"icon iconfont icon-broadcast-three"},images:{$maleDefaultHeader:o.$theme.$maleDefaultHeader,$femaleDefaultHeader:o.$theme.$femaleDefaultHeader}},container:{position:"absolute",left:0,top:0,zIndex:11,backgroundColor:"rgba(0, 0, 0, 0.5)",width:"100%",height:"100%"},closeAll:{color:"#fff",height:"20px",width:"20px",fontSize:"18px",cursor:"pointer",position:"absolute",right:"14px",top:"14px"},containerFilter:{position:"absolute",height:"100%",width:"90%",left:0,top:0},messageContainer:{width:"450px",height:"500px",backgroundColor:o.$theme.$backgroundColor,borderRadius:"6px",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},titleContainer:{height:"40px",lineHeight:"40px",display:"flex",position:"relative",borderBottom:"1px solid "+o.$theme.$borderColor,marginBottom:"5px",padding:"0 14px",justifyContent:"space-between"},titleName:r(r({width:"70%"},o.ellipsis()),{fontSize:"14px",color:"#333"}),close:{position:"absolute",height:"18px",lineHeight:"18px",width:"18px",right:"14px",top:"14px",display:"block",fontSize:"14px",cursor:"pointer"},forward:{right:"38px"},messageUl:{height:"calc(100% - 45px)",overflowX:"hidden",overflowY:"auto"},messageLi:{minHeight:"60px",padding:"0 14px",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},headImage:{height:"36px",width:"36px",borderRadius:"100%"},messageContent:{width:"80%",borderBottom:"1px solid "+o.$theme.$borderColor,padding:"10px"},sendername:{display:"block",marginBottom:"5px"},sendtime:{color:o.$theme.$lightFontColor},text:{wordBreak:"break-all",userSelect:"text",display:"inline-block"},combindLogContainer:{maxWidth:"200px",color:"#333",backgroundColor:"#fff",borderRadius:"4px",padding:"10px"},combindTitle:r(r({fontSize:"14px",lineHeight:"25px"},o.ellipsis()),{borderBottom:"1px solid"+o.$theme.$borderColor,cursor:"pointer"}),combindDescription:{border:"none",display:"block",width:"100%",overflow:"hidden",height:"43px",color:o.$theme.$lightFontColor,outline:"none",cursor:"pointer"},picture:{display:"block",borderRadius:"6px",width:"200px",height:"auto",minHeight:"50px",maxHeight:"260px",cursor:"pointer"},locationContainer:{width:"200px",height:"auto",borderRadius:"6px",backgroundColor:"#fff",position:"relative"},locationTitle:r(r({height:"25px",lineHeight:"25px",padding:"0 5px"},o.ellipsis()),{borderBottom:"1px solid "+o.$theme.$borderColor}),fileTitle:r(r({height:"30px",lineHeight:"30px",padding:"0 5px"},o.ellipsis()),{borderBottom:"none"}),download:{width:"20px",height:"20px",lineHeight:"20px",textAlign:"center",padding:"2px",display:"block",cursor:"pointer",position:"absolute",right:"4px",top:"4px"},downloadIcon:{fontSize:"16px",color:o.$theme.$baseColor},videoContainer:{position:"relative"},playIcon:{display:"flex",height:"100%",width:"100%",position:"absolute",left:"0",bottom:0,fontSize:"30px",color:"#fff",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center",cursor:"pointer"},voiceContainer:{width:"200px",padding:"14px"},voiceButton:{width:"60px",height:"30px",backgroundColor:o.$theme.$baseColor,color:"#fff",fontSize:"14px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px",margin:"0 auto"},replyContainer:{padding:"5px",backgroundColor:"#fff",maxWidth:"330px",borderRadius:"4px"},replyObject:{padding:"10px",borderLeft:"1px solid "+o.$theme.$borderColor},replyText:{padding:"10px 0",width:"100%",wordBreak:"break-all"},playerBox:{},audioBox:{}}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){return r.observable({loginUser:{},messageList:[],videoSrc:"",audioSrc:"",order:"",userInfoObject:{},forwardIndex:0})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(1),s=n(5),a=n(13),u=n(6),c=n(2),l=n(8),d=n(101);function f(e){var t=this.store,n=o.default.getKChat(this.rootName),r=n.rxjsEvent,s=n.fetch,u=e.items,c=[];u.forEach((function(e){c.push(e.sender.senderCodeForDomain.split("@")[0])})),c=Array.from(new Set(c)),s.user.getUserListInfo({userCodes:c}).subscribe({next:function(n){n.forEach((function(e,n){var r=e.userCode;t.userInfoObject[r]=e})),t.messageList.push(e)},error:function(e){console.log(e),r.subscribe(i.RxjsEventNames.SHOW_MESSAGE,a.of("获取用户信息失败"))}})}function p(){var e=this.store,t=(this.refs,o.default.getKChat(this.rootName).rxjsEvent);t.subscribe(i.RxjsEventNames.SHOW_SELECT_MEMBER,a.of({type:i.SelectMemberType.FORWARD})),t.subscribe(i.RxjsEventNames.BROADCAST_FORWARD_MESSAGE,a.of({time:Date.now(),target:i.MessageTarget.SELF,srcCode:e.loginUser.userCode,userCode:e.loginUser.userCode,signalType:i.SignalType.IM_COMBIND,combindBody:e.messageList[e.forwardIndex]}))}t.default=function(){return[r.mounted("UpdateLoginUser",(function(){var e=o.default.getKChat(this.rootName),t=this.store,n=c.autorun((function(){t.loginUser=e.store.loginUser}));return function(){return n()}})),r.mounted("UpdateMessageList",(function(){var e=this,t=o.default.getKChat(this.rootName),n=t.rxjsEvent,r=(t.fetch,s.map((function(t){return f.bind(e)(t.combindBody),t})));return n.addPipe(i.RxjsEventNames.SHOW_COMBIND_POPUP,r),function(){return n.removePipe(i.RxjsEventNames.SHOW_COMBIND_POPUP,r)}})),r.mounted("CloseSomeMessage",(function(){var e=this,t=this.store,n=this.refs;a.fromEvent(n.container.current,"click").subscribe((function(r){n.closeRef.some((function(e,o){if(e.current&&u.isDescendant(r.target,e.current,n.container.current))return t.messageList.splice(o,1),!0})),n.forwardRef.some((function(o,i){if(o.current&&u.isDescendant(r.target,o.current,n.container.current))return t.forwardIndex=i,p.bind(e)(),!0}))})),a.fromEvent(n.closeAll.current,"click").subscribe((function(e){t.messageList=[]}))})),r.mounted("UpdateUserCodeObj",(function(){o.default.getKChat(this.rootName);var e=this.store,t=c.autorun((function(){e.messageList.length||(e.userInfoObject={})}));return function(){return t()}})),r.mounted("MessageItemClick",(function(){var e=this,t=this.store,n=this.refs,r=o.default.getKChat(this.rootName).rxjsEvent;a.fromEvent(document,l.fullscreenchange()).subscribe((function(e){var r=n.curPlayVideoRef.current;e.target===r&&r&&(document[d.default.fullscreenElement]!==r?(r.currentTime=0,r.pause(),r.style.objectFit="cover",t.videoSrc=""):r.style.objectFit="contain")})),a.fromEvent(n.containerFilter.current,"click").pipe(s.map((function(e){return{type:e.target.getAttribute("data-type"),order:e.target.getAttribute("data-order"),fromtype:e.target.getAttribute("data-fromtype")}})),s.filter((function(e){return!!e.order}))).subscribe({next:function(o){var s=+o.type,u=o.order.split("-"),c=u[0],d=u[1],p=t.messageList[c];switch(s){case i.SignalType.IM_COMBIND:f.bind(e)(p.items[d].attachment);break;case i.SignalType.IMAGE:var A=o.fromtype?p.items[d].attachment.refItem.attachment:p.items[d].attachment;r.subscribe(i.RxjsEventNames.SHOW_IMAGE,a.of({imageInfo:A,rightMouseType:i.RightMouseType.CHAT_CONTENT,menus:[]}));break;case i.SignalType.LOCATION:if(!window.KChatConfig.kmap||!window.KChatConfig.kmap.configUrl)return r.subscribe(i.RxjsEventNames.SHOW_MESSAGE,a.of("未引入地图服务")),!0;var g=o.fromtype?p.items[d].attachment.refItem.attachment:p.items[d].attachment;r.subscribe(i.RxjsEventNames.SHOW_LOCATION,a.of({location:g,type:i.ChatType.USER,chatCode:""}));break;case i.SignalType.VIDEO_FILE:t.videoSrc=o.fromtype?p.items[d].attachment.refItem.attachment.url:p.items[d].attachment.url,l.openFullscreen(n.curPlayVideoRef.current),n.curPlayVideoRef.current.play();break;case i.SignalType.VOICE_FILE:if(t.audioSrc)return t.audioSrc="",!0;t.audioSrc=o.fromtype?p.items[d].attachment.refItem.attachment.url:p.items[d].attachment.url,n.curPlayAudioRef.current.play()}},error:function(e){console.log(e)}})}))]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(5),s=n(1),a=n(2),u=n(8),c=n(13);t.default=function(){return[r.mounted("UpdateCurChatTarget",(function(){var e=o.default.getKChat(this.rootName).rxjsEvent,t=this.store,n=i.map((function(e){return t.curChatTarget=e,u.getTargetCode(t.curChatTarget)&&!t.fixed&&(t.rightPartVisible=!0),e}));return e.addPipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n),function(){return e.removePipe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,n)}})),r.mounted("LoginCheck",(function(){var e=this,t=o.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.fetch,a=i.map((function(t){return e.store.loginSuccess=!0,t}));n.addPipe(s.RxjsEventNames.LOGIN_SUCCESS,a);var u=function(){e.store.loginSuccess=!1};return r.login.on("beCoercive",u),r.login.on("loginOut",u),function(){return n.removePipe(s.RxjsEventNames.LOGIN_SUCCESS,a)}})),r.mounted("UpdateFixedStatus",(function(){var e=o.default.getKChat(this.rootName),t=this.store,n=a.autorun((function(){t.fixed=e.store.fixed,t.fixed&&(t.rightPartVisible=!0)}));return function(){return n()}})),r.mounted("ToggleRightPartVisible",(function(){var e=this.store,t=this.refs,n=o.default.getKChat(this.rootName).rxjsEvent;c.fromEvent(t.hideRightIconBox.current,"click").subscribe((function(){e.rightPartVisible=!1,e.curChatTarget={},n.subscribe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,c.of(e.curChatTarget))})),c.fromEvent(t.showRightIconBox.current,"click").subscribe((function(){e.rightPartVisible=!0}));var r=i.map((function(t){return e.rightPartVisible=!0,t})),a=i.map((function(t){return e.rightPartVisible=!0,t})),u=i.map((function(t){return e.rightPartVisible=!0,t})),l=i.map((function(t){return e.rightPartVisible=!0,t})),d=i.map((function(t){return e.rightPartVisible=!0,t}));return n.addPipe(s.RxjsEventNames.CHAT_AREA_SHOW_USER,r),n.addPipe(s.RxjsEventNames.CHAT_AREA_SHOW_GROUP,a),n.addPipe(s.RxjsEventNames.TOGGLE_SETTING_VIEW,u),n.addPipe(s.RxjsEventNames.SHOW_SELECT_MEMBER,l),n.addPipe(s.RxjsEventNames.SELECT_COLLECTION_TYPE,d),function(){n.removePipe(s.RxjsEventNames.CHAT_AREA_SHOW_USER,r),n.removePipe(s.RxjsEventNames.CHAT_AREA_SHOW_GROUP,a),n.removePipe(s.RxjsEventNames.TOGGLE_SETTING_VIEW,u),n.removePipe(s.RxjsEventNames.SHOW_SELECT_MEMBER,d),n.removePipe(s.RxjsEventNames.SELECT_COLLECTION_TYPE,d)}})),r.mounted("ClickController",(function(){var e=o.default.getKChat(this.rootName),t=this.store,n=i.map((function(n){if(n.type===s.ControllerType.CONTAINER)switch(n.name){case s.ControllerName.SMALL:case s.ControllerName.EXIT_BIG:case s.ControllerName.CLOSE:t.smallest=!0,e.store.smallest=!0,t.pos.x=18,t.pos.y=18,u.getTargetCode(t.curChatTarget)&&(t.curChatTarget={},e.rxjsEvent.subscribe(s.RxjsEventNames.UPDATE_CUR_CHAT_TARGET,c.of(t.curChatTarget)));break;case s.ControllerName.BIG:t.smallest=!1,e.store.smallest=!1}return n}));return e.rxjsEvent.addPipe(s.RxjsEventNames.CLICK_CONTROLLER,n),function(){return e.rxjsEvent.removePipe(s.RxjsEventNames.CLICK_CONTROLLER,n)}})),r.mounted("UpdateUnreadMsgLen",(function(){var e=this.store,t=o.default.getKChat(this.rootName).rxjsEvent,n=i.map((function(t){return e.unReadMsgTotalLen=t,t}));return t.addPipe(s.RxjsEventNames.UPDATE_TOTAL_MSG_LEN,n),function(){return t.removePipe(s.RxjsEventNames.UPDATE_TOTAL_MSG_LEN,n)}})),r.mounted("ResizeBig",(function(){var e=this.refs,t=this.store,n=o.default.getKChat(this.rootName).rxjsEvent;c.fromEvent(e.smallestBox.current,"mouseup").subscribe((function(){t.smallest&&!t.hasMoved&&n.subscribe(s.RxjsEventNames.RESET_CONTROLLER,c.of({type:s.ControllerType.CONTAINER}))}))})),r.mounted("LoginBoxDrag",(function(){var e=this.refs,t=this.store,n=c.fromEvent(e.smallestBox.current,"mousedown"),r=c.fromEvent(window,"mousemove"),o=c.fromEvent(window,"mouseup"),s=c.fromEvent(window,"mouseleave");n.pipe(i.map((function(n){t.hasMoved=!1;var r=e.smallestBox.current.getBoundingClientRect(),o=r.left,i=r.top;return{x:n.x-o,y:n.y-i}})),i.concatMap((function(e){return r.pipe(i.takeUntil(c.merge(o,s).pipe(i.map((function(){t.hasMoved=!1})))),i.map((function(t){return{x:t.x-e.x,y:t.y-e.y}})))}))).subscribe((function(n){var r=window.innerWidth-e.smallestBox.current.offsetWidth-n.x,o=window.innerHeight-e.smallestBox.current.offsetHeight-n.y,i={x:Math.min(window.innerWidth-e.smallestBox.current.offsetWidth,Math.max(r,0)),y:t.pos.y=Math.min(window.innerHeight-e.smallestBox.current.offsetHeight,Math.max(o,0))};i.x===t.pos.x&&i.y===t.pos.y||(t.pos.x=i.x,t.pos.y=i.y,t.hasMoved=!0)}))})),r.mounted("OnContainerDrag",(function(){var e=this,t=this.refs,n=this.store,r=o.default.getKChat(this.rootName).rxjsEvent,u=a.autorun((function(){n.rightPartVisible&&!n.fixed&&setTimeout((function(){n.unFixedContainerPos.x=Math.min(window.innerWidth-t.container.current.offsetWidth,Math.max(n.unFixedContainerPos.x,0)),n.unFixedContainerPos.y=Math.min(window.innerHeight-t.container.current.offsetHeight,Math.max(n.unFixedContainerPos.y,0))}),0)})),c=i.map((function(r){if(!e.store.fixed){var o=window.innerWidth-t.container.current.offsetWidth-r.x,i=window.innerHeight-t.container.current.offsetHeight-r.y;n.unFixedContainerPos.x=Math.min(window.innerWidth-t.container.current.offsetWidth,Math.max(o,0)),n.unFixedContainerPos.y=Math.min(window.innerHeight-t.container.current.offsetHeight,Math.max(i,0))}}));return r.addPipe(s.RxjsEventNames.DRAG_CONTAINER,c),function(){r.removePipe(s.RxjsEventNames.DRAG_CONTAINER,c),u()}})),r.mounted("ContainerDrag",(function(){var e=this.refs,t=o.default.getKChat(this.rootName),n=t.rxjsEvent,r=t.store,a=c.fromEvent(e.loginBoxRef.current,"mousedown"),u=c.fromEvent(window,"mousemove"),l=c.fromEvent(window,"mouseup");n.subscribe(s.RxjsEventNames.DRAG_CONTAINER,a.pipe(i.filter((function(e){return Array.prototype.some.call(e.target.childNodes,(function(e){return 1===e.nodeType}))})),i.map((function(e){var t=r.rootDomRef.current.getBoundingClientRect(),n=t.left,o=t.top;return{x:e.x-n,y:e.y-o}})),i.concatMap((function(e){return u.pipe(i.takeUntil(l),i.map((function(t){return{x:t.x-e.x,y:t.y-e.y}})))}))))}))]}},function(e,t,n){var r=n(140);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},i=n(142)(r,o);r.locals&&(e.exports=r.locals),e.hot.accept(140,(function(){var t=n(140);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,r=0;for(n in e){if(!t||e[n]!==t[n])return!1;r++}for(n in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)})),e.hot.dispose((function(){i()}))},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){var r=n(143);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},i=n(142)(r,o);r.locals&&(e.exports=r.locals),e.hot.accept(143,(function(){var t=n(143);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,r=0;for(n in e){if(!t||e[n]!==t[n])return!1;r++}for(n in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)})),e.hot.dispose((function(){i()}))},function(e,t,n){var r=n(144);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},i=n(142)(r,o);r.locals&&(e.exports=r.locals),e.hot.accept(144,(function(){var t=n(144);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,r=0;for(n in e){if(!t||e[n]!==t[n])return!1;r++}for(n in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)})),e.hot.dispose((function(){i()}))},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"shimGetUserMedia",(function(){return E})),n.d(r,"shimGetDisplayMedia",(function(){return C})),n.d(r,"shimMediaStream",(function(){return T})),n.d(r,"shimOnTrack",(function(){return S})),n.d(r,"shimGetSendersWithDtmf",(function(){return x})),n.d(r,"shimGetStats",(function(){return _})),n.d(r,"shimSenderReceiverGetStats",(function(){return w})),n.d(r,"shimAddTrackRemoveTrackWithNative",(function(){return B})),n.d(r,"shimAddTrackRemoveTrack",(function(){return I})),n.d(r,"shimPeerConnection",(function(){return R})),n.d(r,"fixNegotiationNeeded",(function(){return O}));var o={};n.r(o),n.d(o,"shimGetUserMedia",(function(){return U})),n.d(o,"shimGetDisplayMedia",(function(){return L})),n.d(o,"shimPeerConnection",(function(){return F})),n.d(o,"shimReplaceTrack",(function(){return P}));var i={};n.r(i),n.d(i,"shimGetUserMedia",(function(){return j})),n.d(i,"shimGetDisplayMedia",(function(){return D})),n.d(i,"shimOnTrack",(function(){return k})),n.d(i,"shimPeerConnection",(function(){return H})),n.d(i,"shimSenderGetStats",(function(){return Q})),n.d(i,"shimReceiverGetStats",(function(){return G})),n.d(i,"shimRemoveStream",(function(){return V})),n.d(i,"shimRTCDataChannel",(function(){return K})),n.d(i,"shimAddTransceiver",(function(){return W})),n.d(i,"shimCreateOffer",(function(){return z})),n.d(i,"shimCreateAnswer",(function(){return X}));var s={};n.r(s),n.d(s,"shimLocalStreamsAPI",(function(){return Y})),n.d(s,"shimRemoteStreamsAPI",(function(){return J})),n.d(s,"shimCallbacksAPI",(function(){return q})),n.d(s,"shimGetUserMedia",(function(){return $})),n.d(s,"shimConstraints",(function(){return Z})),n.d(s,"shimRTCIceServerUrls",(function(){return ee})),n.d(s,"shimTrackEventTransceiver",(function(){return te})),n.d(s,"shimCreateOfferLegacy",(function(){return ne}));var a={};n.r(a),n.d(a,"shimRTCIceCandidate",(function(){return ie})),n.d(a,"shimMaxMessageSize",(function(){return se})),n.d(a,"shimSendThrowTypeError",(function(){return ae})),n.d(a,"shimConnectionState",(function(){return ue})),n.d(a,"removeAllowExtmapMixed",(function(){return ce}));let u=!0,c=!0;function l(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function d(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return o.apply(this,arguments);const i=e=>{const t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=i,o.apply(this,[e,i])};const i=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return i.apply(this,arguments);const r=this._eventMap[n];return delete this._eventMap[n],i.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function f(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(u=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function p(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(c=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function A(){if("object"==typeof window){if(u)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function g(e,t){c&&console.warn(e+" is deprecated, please use "+t+" instead.")}function h(e){const{navigator:t}=e,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=l(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=l(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=l(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=l(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e){return m(e)?Object.keys(e).reduce((function(t,n){const r=m(e[n]),o=r?y(e[n]):e[n],i=r&&!Object.keys(o).length;return void 0===o||i?t:Object.assign(t,{[n]:o})}),{}):e}function v(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;const i=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)}),i.forEach(t=>{e.forEach(n=>{n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach(o=>{o.endsWith("Id")?e(t,t.get(n[o]),r):o.endsWith("Ids")&&n[o].forEach(n=>{e(t,t.get(n),r)})}))}(e,n,o)})}),o}const b=A;function E(e){const t=e&&e.navigator;if(!t.mediaDevices)return;const n=h(e),r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);const o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[o("min",n)]=r.ideal,t.optional.push(e),e={},e[o("max",n)]=r.ideal,t.optional.push(e)):(e[o("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=r.exact):["min","max"].forEach(e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=r[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(n.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let i=e.video.facingMode;i=i&&("object"==typeof i?i:{ideal:i});const s=n.version<66;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||s)){let n;if(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal?n=["back","rear"]:"user"!==i.exact&&"user"!==i.ideal||(n=["front"]),n)return t.mediaDevices.enumerateDevices().then(t=>{let s=(t=t.filter(e=>"videoinput"===e.kind)).find(e=>n.some(t=>e.label.toLowerCase().includes(t)));return!s&&t.length&&n.includes("back")&&(s=t[t.length-1]),s&&(e.video.deviceId=i.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=r(e.video),b("chrome: "+JSON.stringify(e)),o(e)})}e.video=r(e.video)}return b("chrome: "+JSON.stringify(e)),o(e)},i=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,n,r){o(e,e=>{t.webkitGetUserMedia(e,n,e=>{r&&r(i(e))})})}.bind(t),t.mediaDevices.getUserMedia){const e=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(t){return o(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(i(e))))}}}function C(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(t=>{const r=n.video&&n.video.width,o=n.video&&n.video.height,i=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},r&&(n.video.mandatory.maxWidth=r),o&&(n.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(n)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function T(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function S(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.track.id):{track:n.track};const o=new Event("track");o.track=n.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],this.dispatchEvent(o)}),t.stream.getTracks().forEach(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.id):{track:n};const o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else d(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function x(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let o=n.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{const t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function _(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const o=function(e){const t={};return e.result().forEach(e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{n[t]=e.stat(t)}),t[n.id]=n}),t},i=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};if(arguments.length>=2){const r=function(e){n(i(o(e)))};return t.apply(this,[r,e])}return new Promise((e,n)=>{t.apply(this,[function(t){e(i(o(t)))},n])}).then(n,r)}}function w(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>v(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),d(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>v(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach(n=>{n.track===e&&(t?r=!0:t=n)}),this.getReceivers().forEach(t=>(t.track===e&&(n?r=!0:n=t),t.track===e)),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function B(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),o.apply(this,arguments)}}function I(e){if(!e.RTCPeerConnection)return;const t=h(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return B(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const o=e.RTCPeerConnection.prototype.removeStream;function i(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const r=e._reverseStreams[t],o=e._streams[r.id];n=n.replace(new RegExp(o.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}function s(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const r=e._reverseStreams[t],o=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),o.id)}),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const o=this.getSenders().find(e=>e.track===t);if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=i(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then(e=>i(this,e))}};e.RTCPeerConnection.prototype[t]=r[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=s(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const u=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=u.get.apply(this);return""===e.type?e:i(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{this._streams[n].getTracks().find(t=>e.track===t)&&(t=this._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function R(e){const t=h(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!e.RTCPeerConnection)return;const n=0===e.RTCPeerConnection.prototype.addIceCandidate.length;t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return n||arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}function O(e){d(e,"negotiationneeded",e=>{if("stable"===e.target.signalingState)return e})}var N=n(185),M=n.n(N);function U(e){const t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(e=>Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}}(e)))}}function L(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function F(e){const t=h(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);const n=new Event("enabled");n.enabled=e,this.dispatchEvent(n)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=M()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e,t){let n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(e=>{if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&g("RTCIceServer.url","RTCIceServer.urls");const r="string"==typeof t;return r&&(t=[t]),t=t.filter(e=>{if(0===e.indexOf("stun:"))return!1;const t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n}),delete e.url,e.urls=r?t[0]:t,!!t.length}})}(e.iceServers,t.version),A("ICE servers after filtering:",e.iceServers)),new n(e)},e.RTCPeerConnection.prototype=n.prototype}function P(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}function j(e){const t=h(e),n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){g("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function D(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function k(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function H(e){const t=h(e);if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]})),t.version<68){const t=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,o,i]=arguments;return r.apply(this,[e||null]).then(e=>{if(t.version<53&&!o)try{e.forEach(e=>{e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(o,i)}}function Q(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function G(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),d(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function V(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){g("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function K(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function W(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach(e=>{if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();"encodings"in n||(n.encodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(n).catch(()=>{})))}return r})}function z(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function X(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Y(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(n=>t.call(this,n,e)),e.getVideoTracks().forEach(n=>t.call(this,n,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...n){return n&&n.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach(e=>{n.includes(e.track)&&this.removeTrack(e)})})}}function J(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)})}),t.apply(e,arguments)}}}function q(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),Promise.resolve()):o};let a=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=a,a=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=a,a=function(e,t,n){const r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=a}function $(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(Z(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function Z(e){return e&&void 0!==e.video?Object.assign({},e,{video:y(e.video)}):e}function ee(e){const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(g("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function te(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ne(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}var re=n(81),oe=n.n(re);function ie(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=oe.a.parseCandidate(e.candidate),o=Object.assign(n,r);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,d(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function se(e){if(!e.RTCPeerConnection)return;const t=h(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(e){if(!e||!e.sdp)return!1;const t=oe.a.splitSections(e.sdp);return t.shift(),t.some(e=>{const t=oe.a.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},r=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n},o=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},i=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const o=oe.a.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?r=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const e=r(arguments[0]),t=o(e),n=i(arguments[0],e);let s;s=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const a={};Object.defineProperty(a,"maxMessageSize",{get:()=>s}),this._sctp=a}return s.apply(this,arguments)}}function ae(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],o=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},d(e,"datachannel",e=>(t(e.channel,e.target),e))}function ue(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function ce(e){if(!e.RTCPeerConnection)return;const t=h(e);if("chrome"===t.browser&&t.version>=71)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n")),n.apply(this,arguments)}}const le=function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=A,u=h(e),c={browserDetails:u,commonShim:a,extractVersion:l,disableLog:f,disableWarnings:p};switch(u.browser){case"chrome":if(!r||!R||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),c;n("adapter.js shimming chrome."),c.browserShim=r,E(e),T(e),R(e),S(e),I(e),x(e),_(e),w(e),O(e),ie(e),ue(e),se(e),ae(e),ce(e);break;case"firefox":if(!i||!H||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),c;n("adapter.js shimming firefox."),c.browserShim=i,j(e),H(e),k(e),V(e),Q(e),G(e),K(e),W(e),z(e),X(e),ie(e),ue(e),se(e),ae(e);break;case"edge":if(!o||!F||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),c;n("adapter.js shimming edge."),c.browserShim=o,U(e),L(e),F(e),P(e),se(e),ae(e);break;case"safari":if(!s||!t.shimSafari)return n("Safari shim is not included in this adapter release."),c;n("adapter.js shimming safari."),c.browserShim=s,ee(e),ne(e),q(e),Y(e),J(e),te(e),$(e),ie(e),se(e),ae(e),ce(e);break;default:n("Unsupported browser!")}return c}({window:window});t.default=le},function(e,t,n){"use strict";n.r(t),n.d(t,"ajax",(function(){return E})),n.d(t,"AjaxResponse",(function(){return m})),n.d(t,"AjaxError",(function(){return y})),n.d(t,"AjaxTimeoutError",(function(){return b}));var r=n(0),o=n(35),i=n(4),s=n(3),a=n(22);function u(e,t){return void 0===t&&(t=null),new g({method:"GET",url:e,headers:t})}function c(e,t,n){return new g({method:"POST",url:e,body:t,headers:n})}function l(e,t){return new g({method:"DELETE",url:e,headers:t})}function d(e,t,n){return new g({method:"PUT",url:e,body:t,headers:n})}function f(e,t,n){return new g({method:"PATCH",url:e,body:t,headers:n})}var p=Object(a.a)((function(e,t){return e.response}));function A(e,t){return p(new g({method:"GET",url:e,responseType:"json",headers:t}))}var g=function(e){function t(t){var n=e.call(this)||this,r={async:!0,createXHR:function(){return this.crossDomain?function(){if(o.a.XMLHttpRequest)return new o.a.XMLHttpRequest;if(o.a.XDomainRequest)return new o.a.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(o.a.XMLHttpRequest)return new o.a.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(e=t[n],new o.a.ActiveXObject(e))break}catch(e){}return new o.a.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return n.request=r,n}var n;return r.a(t,e),t.prototype._subscribe=function(e){return new h(e,this.request)},t.create=((n=function(e){return new t(e)}).get=u,n.post=c,n.delete=l,n.put=d,n.patch=f,n.getJSON=A,n),t}(i.a),h=function(e){function t(t,n){var r=e.call(this,t)||this;r.request=n,r.done=!1;var i=n.headers=n.headers||{};return n.crossDomain||r.getHeader(i,"X-Requested-With")||(i["X-Requested-With"]="XMLHttpRequest"),r.getHeader(i,"Content-Type")||o.a.FormData&&n.body instanceof o.a.FormData||void 0===n.body||(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=r.serializeBody(n.body,r.getHeader(n.headers,"Content-Type")),r.send(),r}return r.a(t,e),t.prototype.next=function(e){this.done=!0;var t,n=this.xhr,r=this.request,o=this.destination;try{t=new m(e,n,r)}catch(e){return o.error(e)}o.next(t)},t.prototype.send=function(){var e=this.request,t=this.request,n=t.user,r=t.method,o=t.url,i=t.async,s=t.password,a=t.headers,u=t.body;try{var c=this.xhr=e.createXHR();this.setupEvents(c,e),n?c.open(r,o,i,n,s):c.open(r,o,i),i&&(c.timeout=e.timeout,c.responseType=e.responseType),"withCredentials"in c&&(c.withCredentials=!!e.withCredentials),this.setHeaders(c,a),u?c.send(u):c.send()}catch(e){this.error(e)}},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(o.a.FormData&&e instanceof o.a.FormData)return e;if(t){var n=t.indexOf(";");-1!==n&&(t=t.substring(0,n))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])},t.prototype.getHeader=function(e,t){for(var n in e)if(n.toLowerCase()===t.toLowerCase())return e[n]},t.prototype.setupEvents=function(e,t){var n=t.progressSubscriber;function r(e){var t,n=r,o=n.subscriber,i=n.progressSubscriber,s=n.request;i&&i.error(e);try{t=new b(this,s)}catch(e){t=e}o.error(t)}if(e.ontimeout=r,r.request=t,r.subscriber=this,r.progressSubscriber=n,e.upload&&"withCredentials"in e){var i,s;if(n)i=function(e){i.progressSubscriber.next(e)},o.a.XDomainRequest?e.onprogress=i:e.upload.onprogress=i,i.progressSubscriber=n;s=function(e){var t,n=s,r=n.progressSubscriber,o=n.subscriber,i=n.request;r&&r.error(e);try{t=new y("ajax error",this,i)}catch(e){t=e}o.error(t)},e.onerror=s,s.request=t,s.subscriber=this,s.progressSubscriber=n}function a(e){}function u(e){var t=u,n=t.subscriber,r=t.progressSubscriber,o=t.request;if(4===this.readyState){var i=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;if(0===i&&(i=s?200:0),i<400)r&&r.complete(),n.next(e),n.complete();else{r&&r.error(e);var a=void 0;try{a=new y("ajax error "+i,this,o)}catch(e){a=e}n.error(a)}}}e.onreadystatechange=a,a.subscriber=this,a.progressSubscriber=n,a.request=t,e.onload=u,u.subscriber=this,u.progressSubscriber=n,u.request=t},t.prototype.unsubscribe=function(){var t=this.done,n=this.xhr;!t&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),e.prototype.unsubscribe.call(this)},t}(s.a),m=function(){return function(e,t,n){this.originalEvent=e,this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=v(this.responseType,t)}}(),y=function(){function e(e,t,n){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=v(this.responseType,t),this}return e.prototype=Object.create(Error.prototype),e}();function v(e,t){switch(e){case"json":return function(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(t);case"xml":return t.responseXML;case"text":default:return"response"in t?t.response:t.responseText}}var b=function(e,t){return y.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this},E=function(){return g.create}()}]).default}));
