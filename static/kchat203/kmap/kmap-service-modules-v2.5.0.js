webpackJsonpKMap([2],Array(370).concat([function(t,e,n){"use strict";e.a=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(370),i=n(465),o=n(718),s=n(387),a=n(583),u=n(506),c=n(581),l=function(t){function e(n,r,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.a;break;case 1:if(!n){s.destination=o.a;break}if("object"===typeof n){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new A(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new A(s,n,r,i)}return s}return r.a(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.a),A=function(t){function e(e,n,r,s){var a,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(i.a)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=r,u._complete=s,u}return r.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw t;Object(c.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(c.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},function(t,e,n){"use strict";n.d(e,"i",function(){return r}),n.d(e,"j",function(){return i}),n.d(e,"o",function(){return o}),n.d(e,"l",function(){return s}),n.d(e,"q",function(){return a}),n.d(e,"w",function(){return u}),n.d(e,"h",function(){return c}),n.d(e,"r",function(){return l}),n.d(e,"a",function(){return A}),n.d(e,"d",function(){return h}),n.d(e,"e",function(){return p}),n.d(e,"g",function(){return f}),n.d(e,"f",function(){return g}),n.d(e,"k",function(){return d}),n.d(e,"n",function(){return y}),n.d(e,"p",function(){return v}),n.d(e,"t",function(){return m}),n.d(e,"s",function(){return C}),n.d(e,"u",function(){return I}),n.d(e,"v",function(){return _}),e.b=function(t){return t>1?0:t<-1?o:Math.acos(t)},e.c=function(t){return t>1?s:t<-1?-s:Math.asin(t)},e.m=function(t){return(t=m(t/2))*t};var r=1e-6,i=1e-12,o=Math.PI,s=o/2,a=o/4,u=2*o,c=180/o,l=o/180,A=Math.abs,h=Math.atan,p=Math.atan2,f=Math.cos,g=Math.ceil,d=Math.exp,y=(Math.floor,Math.log),v=Math.pow,m=Math.sin,C=Math.sign||function(t){return t>0?1:t<0?-1:0},I=Math.sqrt,_=Math.tan},function(t,e,n){"use strict";e.g={classes:{CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_CIRCLE:"mapbox-gl-draw_circle",CONTROL_BUTTON_TRIANGLE:"mapbox-gl-draw_triangle",CONTROL_BUTTON_RECTANGLE:"mapbox-gl-draw_rectangle",CONTROL_BUTTON_SECTOR:"mapbox-gl-draw_sector",CONTROL_BUTTON_ARROW:"mapbox-gl-draw_arrow",CONTROL_BUTTON_BEZIER_ARROW:"mapbox-gl-draw_bezier_arrow",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},sources:{HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},cursors:{ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},types:{CIRCLE:"circle",POLYGON:"polygon",LINE:"line_string",POINT:"point",TRIANGLE:"triangle",RECTANGLE:"rectangle",SECTOR:"sector",ARROW:"arrow",BEZIERARROW:"bezier_arrow"},geojsonTypes:{CIRCLE:"Circle",TRIANGLE:"Triangle",RECTANGLE:"Rectangle",SECTOR:"Sector",ARROW:"Arrow",BEZIERARROW:"BezierArrow",FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},modes:{DRAW_CIRCLE:"draw_circle",DRAW_TRIANGLE:"draw_triangle",DRAW_RECTANGLE:"draw_rectangle",DRAW_SECTOR:"draw_sector",DRAW_ARROW:"draw_arrow",DRAW_BEZIER_ARROW:"draw_bezier_arrow",DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},events:{CREATE:"draw.create",CLICK:"draw.click",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine",REPLACE:"draw.replace",RECORD_CREATE:"draw.record.create",UNDO:"draw.undo",REDO:"draw.redo",SELECTED:"draw.selected"},updateActions:{MOVE:"move",CHANGE_COORDINATES:"change_coordinates",CHANGE_PROPERTIES:"change_properties"},meta:{FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},activeStates:{ACTIVE:"true",INACTIVE:"false"},interactions:["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],LAT_MIN:-90,LAT_RENDERED_MIN:-85,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270,drawStyles:{"polygon-fill-inactive":{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},"polygon-fill-active":{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},"polygon-midpoint":{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},"polygon-stroke-inactive":{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},"polygon-stroke-active":{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#D20C0C","line-dasharray":[.2,2],"line-width":2}},"line-inactive":{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},"line-active":{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#D20C0C","line-dasharray":[.2,2],"line-width":2}},"polygon-and-line-vertex-stroke-inactive":{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},"polygon-and-line-vertex-inactive":{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#D20C0C"}},"point-point-stroke-inactive":{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},"point-inactive":{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},"point-stroke-active":{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},"point-active":{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#D20C0C"}},"polygon-fill-static":{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},"polygon-stroke-static":{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},"line-static":{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},"point-static":{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(580),i=n(1069),o=n(441),s=n(584),a=n(506),u=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=Object(i.a)(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a.a.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.a.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(370),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n(371).a)},function(t,e,n){"use strict";e.a=function(t,e,n,s,a){void 0===a&&(a=new r.a(t,n,s));if(a.closed)return;if(e instanceof o.a)return e.subscribe(a);return Object(i.a)(e)(a)};var r=n(421),i=n(590),o=n(374)},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"j",function(){return s}),n.d(e,"k",function(){return a}),n.d(e,"i",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"m",function(){return l}),n.d(e,"h",function(){return A}),n.d(e,"l",function(){return h}),n.d(e,"b",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"f",function(){return g}),n.d(e,"g",function(){return d});var r=6371008.8,i={meters:r,metres:r,millimeters:1e3*r,millimetres:1e3*r,centimeters:100*r,centimetres:100*r,kilometers:r/1e3,kilometres:r/1e3,miles:r/1609.344,nauticalmiles:r/1852,inches:39.37*r,yards:r/1.0936,feet:3.28084*r,radians:1,degrees:r/111325};function o(t,e,n){if(!d(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&y(r),i&&v(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function s(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!g(t[0])||!g(t[1]))throw new Error("coordinates must contain numbers");return o({type:"Point",coordinates:t},e,n)}function a(t,e,n){if(!t)throw new Error("coordinates is required");for(var r=0;r<t.length;r++){var i=t[r];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<i[i.length-1].length;s++){if(0===r&&0===s&&!g(i[0][0])||!g(i[0][1]))throw new Error("coordinates must contain numbers");if(i[i.length-1][s]!==i[0][s])throw new Error("First and last Position are not equivalent.")}}return o({type:"Polygon",coordinates:t},e,n)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!g(t[0][1])||!g(t[0][1]))throw new Error("coordinates must contain numbers");return o({type:"LineString",coordinates:t},e,n)}function c(t,e){if(!d(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&y(n),r&&v(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function l(t,e){if(void 0===t||null===t)throw new Error("radians is required");if(e&&"string"!==typeof e)throw new Error("units must be a string");var n=i[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function A(t,e){if(void 0===t||null===t)throw new Error("distance is required");if(e&&"string"!==typeof e)throw new Error("units must be a string");var n=i[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function h(t){if(null===t||void 0===t)throw new Error("radians is required");return 180*(t%(2*Math.PI))/Math.PI}function p(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180}function f(t,e,n){if(null===t||void 0===t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return l(A(t,e),n||"kilometers")}function g(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function d(t){return!!t&&t.constructor===Object}function y(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!g(t))throw new Error("bbox must only contain numbers")})}function v(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},,,,function(t,e,n){"use strict";e.b=function(t,e,n){var r,i;r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0;i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0;return r*r+i*i},e.c=function(t,e){return s(t,e[0],e[1])},e.d=function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},e.e=s,e.f=u,e.g=c,e.h=l,e.i=function(t,e){var n=t[0],r=t[1];return c(n,r,n,r,e)},e.j=function(t,e){return h(l(e),t)},e.k=function(t,e,n,r,i){return p(l(i),t,e,n,r)},e.l=function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},e.m=function(t,e){e[0]<t[0]&&(t[0]=e[0]);e[2]>t[2]&&(t[2]=e[2]);e[1]<t[1]&&(t[1]=e[1]);e[3]>t[3]&&(t[3]=e[3]);return t},e.n=p,e.o=function(t,e,n){var r;if(r=e.call(n,g(t)))return r;if(r=e.call(n,d(t)))return r;if(r=e.call(n,C(t)))return r;if(r=e.call(n,m(t)))return r;return!1},e.p=g,e.q=function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},e.r=function(t,e){var n;e===i.a.BOTTOM_LEFT?n=g(t):e===i.a.BOTTOM_RIGHT?n=d(t):e===i.a.TOP_LEFT?n=m(t):e===i.a.TOP_RIGHT?n=C(t):Object(r.a)(!1,13);return n},e.s=y,e.t=v,e.u=m,e.v=C,e.w=I,e.x=_,e.z=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},e.A=function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r},e.y=function(t,e,n){var r=!1,i=a(t,e),s=a(t,n);if(i===o.a.INTERSECTING||s===o.a.INTERSECTING)r=!0;else{var u,c,l=t[0],A=t[1],h=t[2],p=t[3],f=e[0],g=e[1],d=n[0],y=n[1],v=(y-g)/(d-f);s&o.a.ABOVE&&!(i&o.a.ABOVE)&&(r=(u=d-(y-p)/v)>=l&&u<=h),r||!(s&o.a.RIGHT)||i&o.a.RIGHT||(r=(c=y-(d-h)*v)>=A&&c<=p),r||!(s&o.a.BELOW)||i&o.a.BELOW||(r=(u=d-(y-A)/v)>=l&&u<=h),r||!(s&o.a.LEFT)||i&o.a.LEFT||(r=(c=y-(d-l)*v)>=A&&c<=p)}return r},e.a=function(t,e,n){var r=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(r,r,2),function(t,e,n){var r=Math.min.apply(null,t),i=Math.min.apply(null,e),o=Math.max.apply(null,t),s=Math.max.apply(null,e);return c(r,i,o,s,n)}([r[0],r[2],r[4],r[6]],[r[1],r[3],r[5],r[7]],n)};var r=n(389),i=n(649),o=n(940);function s(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function a(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],a=e[0],u=e[1],c=o.a.UNKNOWN;return a<n?c|=o.a.LEFT:a>i&&(c|=o.a.RIGHT),u<r?c|=o.a.BELOW:u>s&&(c|=o.a.ABOVE),c===o.a.UNKNOWN&&(c=o.a.INTERSECTING),c}function u(){return[1/0,1/0,-1/0,-1/0]}function c(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function l(t){return c(1/0,1/0,-1/0,-1/0,t)}function A(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function h(t,e){for(var n=0,r=e.length;n<r;++n)A(t,e[n]);return t}function p(t,e,n,r,i){for(;n<r;n+=i)f(t,e[n],e[n+1]);return t}function f(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function g(t){return[t[0],t[1]]}function d(t){return[t[2],t[1]]}function y(t){return t[3]-t[1]}function v(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return _(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):l(r),r}function m(t){return[t[0],t[3]]}function C(t){return[t[2],t[3]]}function I(t){return t[2]-t[0]}function _(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}},function(t,e,n){"use strict";e.b=function(){return function(){throw new Error("Unimplemented abstract method.")}()},e.c=function(t){return t.ol_uid||(t.ol_uid=String(++r))},n.d(e,"a",function(){return i});var r=0;var i="5.3.3"},function(t,e,n){"use strict";function r(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function i(t,e,n){return void 0===n&&(n={}),r({type:"Point",coordinates:t},e,n)}function o(t,e,n){void 0===n&&(n={});for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:t},e,n)}function s(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:t},e,n)}function a(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function u(t,e,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:t},e,n)}function c(t,e,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:t},e,n)}function l(t,e,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:t},e,n)}function A(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t*r}function h(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t/r}function p(t){return 180*(t%(2*Math.PI))/Math.PI}function f(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)&&!/^\s*$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius/1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1/1.0936},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=r,e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return i(e).geometry;case"LineString":return s(e).geometry;case"Polygon":return o(e).geometry;case"MultiPoint":return c(e).geometry;case"MultiLineString":return u(e).geometry;case"MultiPolygon":return l(e).geometry;default:throw new Error(t+" is invalid")}},e.point=i,e.points=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return i(t,e)}),n)},e.polygon=o,e.polygons=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return o(t,e)}),n)},e.lineString=s,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return s(t,e)}),n)},e.featureCollection=a,e.multiLineString=u,e.multiPoint=c,e.multiPolygon=l,e.geometryCollection=function(t,e,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:t},e,n)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=A,e.lengthToRadians=h,e.lengthToDegrees=function(t,e){return p(h(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=p,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return A(h(t,e),n)},e.convertArea=function(t,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[n];if(!i)throw new Error("invalid original units");var o=e.areaFactors[r];if(!o)throw new Error("invalid final units");return t/i*o},e.isNumber=f,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!f(t))throw new Error("bbox must only contain numbers")})},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")},e.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},e.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},e.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},e.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},e.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},e.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},e.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),e.b=function(t){for(var e in t)delete t[e]},e.c=function(t){var e=[];for(var n in t)e.push(t[n]);return e},e.d=function(t){var e;for(e in t)return!1;return!e};var r="function"===typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),i=1,o=arguments.length;i<o;++i){var s=n[i];if(void 0!==s&&null!==s)for(var a in s)s.hasOwnProperty(a)&&(r[a]=s[a])}return r}},function(t,e,n){"use strict";e.a=function(t,e,n){return Math.min(Math.max(t,e),n)},n.d(e,"b",function(){return r}),e.f=function(t,e,n,r,o,s){var a=o-n,u=s-r;if(0!==a||0!==u){var c=((t-n)*a+(e-r)*u)/(a*a+u*u);c>1?(n=o,r=s):c>0&&(n+=a*c,r+=u*c)}return i(t,e,n,r)},e.e=i,e.g=function(t){return 180*t/Math.PI},e.h=function(t){return t*Math.PI/180},e.d=function(t,e){var n=t%e;return n*e<0?n+e:n},e.c=function(t,e,n){return t+n*(e-t)};n(389);var r="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function i(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}},function(t,e,n){"use strict";var r=n(423),i=n.n(r),o=n(400),s=n(102),a=n(405),u=-180,c=180,l=-90,A=90;function h(t){var e=[];return e[0]=t[0]<=u?u:t[0],e[0]=t[0]>=c?c:t[0],e[1]=t[1]<=l?l:t[1],e[1]=t[1]>=A?A:t[1],e}var p={makePolygon:function(t){return o.a.polygon([t])},getCurrentLngLat:function(t){var e=t.getBounds();return{north:e.getNorth(),east:e.getEast(),south:e.getSouth(),west:e.getWest()}},getCurrentGeometry:function(t,e){var n=t.getBounds(),r={north:n.getNorth(),east:n.getEast(),south:n.getSouth(),west:n.getWest()};return e?o.a.polygon([[[r.west-e[0],r.north+e[1]],[r.east+e[0],r.north+e[1]],[r.east+e[0],r.south-e[1]],[r.west-e[0],r.south-e[1]],[r.west-e[0],r.north+e[1]]]]):o.a.polygon([[[r.west,r.north],[r.east,r.north],[r.east,r.south],[r.west,r.south],[r.west,r.north]]])},getCurrentBoundsByScreen:function(t,e){var n=t._canvas,r=n.width,i=n.height,a=[r,0],u=[r,i],c=[0,i],l=h(t.unproject([0,0]).toArray()),A=h(t.unproject(a).toArray()),f=h(t.unproject(u).toArray()),g=h(t.unproject(c).toArray()),d=o.a.polygon([[l,A,f,g,l]]),y=p.bbox(d),v=Math.min(y[0],y[2]),m=Math.max(y[0],y[2]);if(v<73.34312643237152&&m<73.34312643237152&&(y[0]=73.34,y[2]=73.341),v<73.34312643237152&&(y[0]=73.34312643237152,y[2]=m),m>135.39390768237615&&(y[0]=73.34312643237152,y[2]=m),d=p.bboxPolygon(y),!e)return d;var C=[e,0],I=h(t.unproject(C).toArray()),_=(new s.a.modules.calculation).distanceOfP2P(l,I,"kilometers");return _=_>5?5:_,o.a.buffer(d,_,{units:"kilometers"})},getBboxByScreen:function(t){var e=p.getCurrentBoundsByScreen(t).geometry.coordinates[0],n=e[0][0],r=e[1][0],i=e[2][0],o=e[3][0],s=e[0][1],a=e[1][1],u=e[2][1],c=e[3][1],l=Math.min(n,r,i,o),A=Math.max(n,r,i,o),h=Math.max(s,a,u,c);return[l,Math.min(s,a,u,c),A,h]},featureCollection:function(t){var e={type:"FeatureCollection",features:t.map(function(t){return{type:"Feature",geometry:t}})},n=o.a.combine(e),r=[];return n&&n.features&&n.features[0]&&n.features[0].geometry&&n.features[0].geometry.coordinates&&(r=n.features[0].geometry.coordinates),r}},f={makePolygon:function(t){return o.a.polygon([t])},getCurrentLngLat:function(t){var e=t.getBounds();return{north:e.getNorth(),east:e.getEast(),south:e.getSouth(),west:e.getWest()}},getCurrentGeometry:function(t,e){var n=t.getView().calculateExtent(),r=Object(a.h)(n,"EPSG:"+s.a.config.EPSG,"EPSG:4326"),i={north:r[1],east:r[2],south:r[3],west:r[0]};return e?o.a.polygon([[[i.west-e[0],i.north+e[1]],[i.east+e[0],i.north+e[1]],[i.east+e[0],i.south-e[1]],[i.west-e[0],i.south-e[1]],[i.west-e[0],i.north+e[1]]]]):o.a.polygon([[[i.west,i.north],[i.east,i.north],[i.east,i.south],[i.west,i.south],[i.west,i.north]]])},getCurrentBoundsByScreen:function(t,e){var n=t.getViewport(),r=i()(n.children).filter(function(t){return t instanceof HTMLCanvasElement})[0],u=r.width,c=r.height,l=[u,0],A=[u,c],f=[0,c],g=h(Object(a.f)(t.getCoordinateFromPixel([0,0]),"EPSG:"+s.a.config.EPSG)),d=h(Object(a.f)(t.getCoordinateFromPixel(l),"EPSG:"+s.a.config.EPSG)),y=h(Object(a.f)(t.getCoordinateFromPixel(A),"EPSG:"+s.a.config.EPSG)),v=h(Object(a.f)(t.getCoordinateFromPixel(f),"EPSG:"+s.a.config.EPSG)),m=Object(a.f)(s.a.map.view.getCenter(),"EPSG:"+s.a.config.EPSG),C=p.point(m),I=o.a.polygon([[g,d,y,v,g]]),_=p.bbox(I);if(I=p.bboxPolygon(_),p.booleanWithin(C,I)||(_[0]=360-Math.abs(_[0])),_[0]=_[0]<73.34312643237152?73.34312643237152:_[0],_[0]=_[0]>135.39390768237615?135.39390768237615:_[0],_[2]=_[2]<73.34312643237152?73.34312643237152:_[2],_[2]=_[2]>135.39390768237615?135.39390768237615:_[2],I=p.bboxPolygon(_),!e)return I;var b=[e,0],w=h(Object(a.f)(t.getCoordinateFromPixel(b),"EPSG:"+s.a.config.EPSG)),E=(new s.a.modules.calculation).distanceOfP2P(g,w,"kilometers");return E=E>5?5:E,o.a.buffer(I,E,{units:"kilometers"})},getBboxByScreen:function(t){var e=p.getCurrentBoundsByScreen(t).geometry.coordinates[0],n=e[0][0],r=e[1][0],i=e[2][0],o=e[3][0],s=e[0][1],a=e[1][1],u=e[2][1],c=e[3][1],l=Math.min(n,r,i,o),A=Math.max(n,r,i,o),h=Math.max(s,a,u,c);return[l,Math.min(s,a,u,c),A,h]}};Object.setPrototypeOf(p,o.a),Object.setPrototypeOf(f,o.a),e.a=p},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(396),i=n(582),o=n(465),s=n(719),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l){n[l].remove(this)}if(Object(o.a)(a))try{a.call(this)}catch(t){e=t instanceof s.a?u(t.errors):[t]}if(Object(r.a)(c)){l=-1;for(var A=c.length;++l<A;){var h=c[l];if(Object(i.a)(h))try{h.unsubscribe()}catch(t){e=e||[],t instanceof s.a?e=e.concat(u(t.errors)):e.push(t)}}}if(e)throw new s.a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function u(t){return t.reduce(function(t,e){return t.concat(e instanceof s.a?e.errors:e)},[])}},function(t,e,n){var r=n(1015);function i(e,n,o){return"undefined"!==typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(t,e,n){var i=r(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},i(e,n,o||e)}t.exports=i},function(t,e,n){"use strict";e.a=function(t,e){if(!t)throw new r.a(e)};var r=n(647)},,function(t,e,n){"use strict";e.a={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return A});var r=n(370),i=n(374),o=n(371),s=n(387),a=n(508),u=n(721),c=n(583),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.a(e,t),e}(o.a),A=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.a(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new u.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},e}(A)},function(t,e,n){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,n){"use strict";var r=n(373);e.a={isOfMetaType:function(t){return function(e){var n=e.featureTarget;return!!n&&(!!n.properties&&n.properties.meta===t)}},isShiftMousedown:function(t){return!!t.originalEvent&&(!!t.originalEvent.shiftKey&&0===t.originalEvent.button)},isActiveFeature:function(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===r.g.activeStates.ACTIVE&&t.featureTarget.properties.meta===r.g.meta.FEATURE))},isInactiveFeature:function(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===r.g.activeStates.INACTIVE&&t.featureTarget.properties.meta===r.g.meta.FEATURE))},noTarget:function(t){return void 0===t.featureTarget},isFeature:function(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&t.featureTarget.properties.meta===r.g.meta.FEATURE)},isVertex:function(t){var e=t.featureTarget;return!!e&&(!!e.properties&&e.properties.meta===r.g.meta.VERTEX)},isShiftDown:function(t){return!!t.originalEvent&&!0===t.originalEvent.shiftKey},isEscapeKey:function(t){return 27===t.keyCode},isEnterKey:function(t){return 13===t.keyCode},true:function(){return!0}}},function(t,e,n){"use strict";n.d(e,"a",function(){return F});var r=n(167),i=(n.n(r),n(104)),o=(n.n(i),n(30)),s=(n.n(o),n(25)),a=(n.n(s),n(24)),u=(n.n(a),n(103)),c=(n.n(u),n(417)),l=(n.n(c),n(164)),A=n.n(l),h=n(693),p=(n.n(h),n(160)),f=(n.n(p),n(161)),g=(n.n(f),n(74)),d=n.n(g),y=n(101),v=n.n(y),m=n(158),C=n.n(m),I=n(157),_=n.n(I),b=n(159),w=n.n(b),E=n(422),B=n(408),x=n(102),O=n(156),T=n(576),N=n(386),S=n(390),M=n(698),L=n(505);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var F=function(t){function e(t){var n;if(d()(this,e),(n=C()(this,_()(e).call(this))).type="layer",n.sources=null,n.map=x.a.map.map,x.a.layerCollect||(x.a.layerCollect=new T.a),n.sourceId=Object(O.b)(),n.layerId=Object(O.b)(),t){var r=x.a.layerCollect.get(t);n.before=r&&r._getBasicLayer(),n.packagedBefore=n.before?t:null}return n.defaultIconName="weather-alarm-lev-1-24",x.a.spriteManager.getSpriteImg(n.defaultIconName,1)||(n.defaultIconName="marker-15-6"),n.addCollect(),n}return w()(e,t),v()(e,[{key:"addCollect",value:function(){x.a.layerCollect.add(this)}},{key:"setLayerFeature",value:function(t){this.sources=t,this.clustered&&"backend"!==this.clusterType&&this.updateClusterSources(!0);var e=this.map.getSource(this.sourceId);e?e.setData(this.sources):(this.buildSource(),this.buildLayer())}},{key:"_addTimerDevice",value:function(t){this.dynamic&&(x.a.timerDevice=x.a.timerDevice||new M.a,this.timerDeviceId=O.a.createRandomId(16),(!this.timer||this.timer<15e3)&&(this.timer=15e3),x.a.timerDevice.add(this.timerDeviceId,this.timer,t))}},{key:"_removeTimerDevice",value:function(){this.timerDeviceId&&(x.a.timerDevice.remove(this.timerDeviceId),this.timerDeviceId=null)}},{key:"setLayerData",value:function(t){this.setLayerFeature({type:"FeatureCollection",features:t})}},{key:"updateClusterSources",value:function(t){x.a.kdIndex||(x.a.kdIndex={});var e=17,n=x.a.config.AGGS_CONFIG;if(n&&n.kfront){e=Number(n.kfront.split(",")[1]);var r=x.a.kdIndex[this.layerId]?x.a.kdIndex[this.layerId]:null;r&&!t||((r=new L.a({log:!1,radius:x.a.config.CLUSTERED_RADIUS||40,extent:256,maxZoom:e})).setReduceProps("aggsCount"),r.load(this.sources.features),x.a.kdIndex[this.layerId]=r);var i=Math.floor(this.map.getZoom()),o=[];if(this.requestPolygon)o=N.a.bbox(this.requestPolygon);else{var s=this.map.getBounds();o=[s.getWest(),s.getSouth(),s.getEast(),s.getNorth()]}this.sources.features=r.getClusters(o,i)}}},{key:"buildSource",value:function(){this.map.addSource(this.sourceId,{type:"geojson",data:this.sources,maxzoom:24})}},{key:"addEvent",value:function(t,e){var n=this;this.map&&B.b.on(this.map)(t,this.layerId,function(t){var r=t.originalFeatures;if(0!==r.length)if("roadPlan"===n.layerType)e(t);else if("geometry"===n.layerType)r=r.map(function(t){return{type:"Feature",geometry:t.geometry,properties:t.properties}}),e(t,r);else{var i=[],o={type:"",data:[],location:r[0].geometry.coordinates,bbox:n.requestPolygon,userTerms:n.userTerms||[],clustered:!0,isPublic:n.isPublic},s=r.filter(function(t){return"circle"===t.layer.type});if(n.clustered&&s.length>0){var a=s[0].properties;if("frontend"===n.clusterType)x.a.kdIndex[n.layerId].getLeaves(a.cluster_id,Number.MAX_SAFE_INTEGER,0).map(function(t){i.push(t.properties)}),o.type="details",o.data=i;else"backend"===n.clusterType&&(a.aggsName&&a.aggsValue&&("string"==typeof a.aggsValue&&(a.aggsValue.indexOf("[")>-1?a.aggsValue=JSON.parse(a.aggsValue):a.aggsValue.indexOf(",")>-1&&(a.aggsValue=a.aggsValue.split(","))),i.push({aggsName:a.aggsName,aggsValue:a.aggsValue})),o.type="aggs",o.data=i)}else o.type="details",o.clustered=!1,o.data=r.map(function(t){return t.properties});e(t,o)}else e(t)})}},{key:"buildLayer",value:function(t){if("heatMap"===this.layerType)this.map.addLayer({id:this.layerId,type:"heatmap",source:this.sourceId,"source-layer":t,paint:{"heatmap-weight":["interpolate",["linear"],["get","RKZS"],this.minValue,0,this.maxValue,1],"heatmap-intensity":["interpolate",["linear"],["zoom"],this.minZoom,this.minIntensity,this.maxZoom,this.maxIntensity],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(85,21,193,0)",.3,"rgba(25,148,203,0.7)",.5,"rgba(241,238,46,1)",1,"rgba(255,9,1,1)"],"heatmap-radius":["interpolate",["linear"],["zoom"],this.minZoom,this.minRadius,this.maxZoom,this.maxRadius]}});else if("geometry"===this.layerType){var e=this.layerId+"-line",n=this.layerId+"-circle",r=this.layerId+"-polygon";this.addLineLayer(e),B.a.setIdDepts(this.layerId,e),this.addCircleLayer(n),B.a.setIdDepts(this.layerId,n),this.addPolygonLayer(r),B.a.setIdDepts(this.layerId,r),this.callback&&this.callback(this.layerId),this.setLayerZoomRange&&this.setLayerZoomRange()}else if(this.icons&&this.icons.length>0&&(this.isPoiLayer?this.buildUnClusterPoiLayer(t):(this.buildUnClusterLayer(t),this.iconTextStyle&&this.buildIconTextLayer(t))),this.clustered){var i=this._buildClusterSource(this.clusteredFilters),o={id:this.layerId+"circle",type:"circle",source:this.sourceId,paint:{"circle-color":i.circleColor.length>2?i.circleColor:this.circleColor||"#51bbd6","circle-radius":i.circleRadius.length>2?i.circleRadius:this.circleRadius||18,"circle-blur":this.circleBlur||0,"circle-opacity":this.circleOpacity||1,"circle-translate":this.circleTranslate||[0,0],"circle-stroke-width":this.circleStrokeWidth||2,"circle-stroke-color":this.circleStrokeColor||"#BFEFFF","circle-stroke-opacity":this.circleStrokeOpacity||1},filter:["all",["any",[">","aggsCount",1],[">","point_count",1]]]};t&&(o["source-layer"]=t),this.addLayertoMap(o),B.a.setIdDepts(this.layerId,this.layerId+"circle"),this.buildCountLayer(t)}}},{key:"buildUnClusterLayer",value:function(t){var e,n,r=this,i=[],o=[];this.icons[0].filter?(this.icons.forEach(function(t){t.filter&&(r.filterExp=[],t.filter.forEach(function(t){r._analysisFilter(t)}),i.push(["all"].concat(r.filterExp)),i.push(t.iconName),o.push(["all"].concat(r.filterExp)),o.push(t.scale||1))}),(e=(e=["case"]).concat(i)).push(this.defaultIconName),(n=(n=["case"]).concat(o)).push(1)):(e=this.icons[0].iconName,n=this.icons[0].scale||1),this.symbolLayerId=Object(O.b)()+"-icon";var s={id:this.symbolLayerId,type:"symbol",source:this.sourceId,layout:{"icon-image":e,"icon-offset":this.iconOffset||[0,0],"icon-size":n,"text-size":this.textSize||12,"text-field":this.showText?"{"+this.showText+"}":"","text-offset":this.textOffset||[0,1.5],"text-anchor":"top","icon-allow-overlap":!0,"text-allow-overlap":!0,"icon-rotation-alignment":"map","icon-rotate":["get","dct"]},filter:["all",["all",["any",["==",["get","aggsCount"],1],["==",["get","aggsCount"],null]],["any",["==",["get","point_count"],1],["==",["get","point_count"],null]]]]};this.iconSize&&(s.layout["icon-size"]=["interpolate",["linear"],["zoom"],3,this.iconSize[0]||.5,19,this.iconSize[1]||1.2]),this.iconTextStyle&&delete s.layout["text-field"],t&&(s["source-layer"]=t),this.addLayertoMap(s),B.a.setIdDepts(this.layerId,this.symbolLayerId)}},{key:"buildUnClusterPoiLayer",value:function(t){var e=["match",["string",["get","kindcode"]]];this.icons.forEach(function(t){e.push(t.filter),e.push(t.iconName)}),e.push(this.defaultIconName),this.symbolLayerId=Object(O.b)()+"-icon";var n={id:this.symbolLayerId,type:"symbol",source:this.sourceId,layout:{"icon-image":e,"icon-offset":this.iconOffset||[0,0],"icon-size":1,"text-size":this.textSize||12,"text-field":this.showText?"{"+this.showText+"}":"","text-offset":this.textOffset||[0,1.5],"text-anchor":"top","icon-allow-overlap":!0,"text-allow-overlap":!0},filter:["all",["all",["any",["==",["get","aggsCount"],1],["==",["get","aggsCount"],null]],["any",["==",["get","point_count"],1],["==",["get","point_count"],null]]]]};t&&(n["source-layer"]=t),this.addLayertoMap(n),B.a.setIdDepts(this.layerId,this.symbolLayerId)}},{key:"buildIconTextLayer",value:function(t){this.iconTextLayerId=Object(O.b)();var e={id:this.iconTextLayerId,type:"symbol",source:this.sourceId,layout:{"icon-image":"showTextIcon","text-size":this.iconTextStyle.textSize||12,"text-field":"{".concat(this.showText,"}"),"text-offset":this.iconTextStyle.textOffset||[0,1.5],"icon-size":1,"icon-allow-overlap":!0,"text-allow-overlap":!0===this.iconTextStyle.textAllowOverlap,"icon-text-fit":"both","icon-text-fit-padding":this.iconTextStyle.iconTextFitPadding||[0,6,0,6],"icon-ignore-placement":!0},paint:{"text-color":this.iconTextStyle.textColor||"#fff","icon-color":this.iconTextStyle.iconColor||"#1569E0"},filter:["all",["all",["any",["==",["get","aggsCount"],1],["==",["get","aggsCount"],null]],["any",["==",["get","point_count"],1],["==",["get","point_count"],null]],["has",this.showText]]]};t&&(e["source-layer"]=t);var r=this.map.style&&this.map.style.imageManager&&this.map.style.imageManager.images;if(r&&r.showTextIcon)this.addLayertoMap(e);else{var i=new Image,o=this;i.onload=function(){o.map.addImage("showTextIcon",i,{sdf:!0}),o.addLayertoMap(e)};var s=n(1028);i.src=s}}},{key:"buildCountLayer",value:function(t){var e={id:this.layerId+"count",type:"symbol",source:this.sourceId,layout:{"text-field":"{aggsCount}","text-size":this.countTextSize||14,"text-letter-spacing":0,"text-offset":[0,0],"text-allow-overlap":!0},paint:{"text-opacity":1,"text-color":this.countTextColor||"#fff"},filter:["all",["any",[">","aggsCount",1],[">","point_count",1]]]};t&&(e["source-layer"]=t),this.addLayertoMap(e),B.a.setIdDepts(this.layerId,this.layerId+"count")}},{key:"_analysisFilter",value:function(t,e){var n=this;t.filter?(e=e?["object",["get",t.key,e]]:["object",["get",t.key]],t.filter.forEach(function(t){n._analysisFilter(t,e)})):e?this.filterExp.push(["==",["get",t.key,e],t.value]):this.filterExp.push(["==",["get",t.key],t.value])}},{key:"_toGeojson",value:function(t){return{geometry:{coordinates:"string"==typeof t.locationpoint?JSON.parse(t.locationpoint):t.locationpoint,type:"Point"},type:"Feature",properties:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(n,!0).forEach(function(e){A()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t)}}},{key:"_buildClusterSource",value:function(t){t.sort(function(t,e){return t.count-e.count});for(var e=["step",["get","aggsCount"]],n=["step",["get","aggsCount"]],r=0,i=t.length;r<i;r++){var o=t[r];0===r?(o.circleColor&&e.push(o.circleColor),o.circleRadius&&n.push(o.circleRadius)):(o.circleColor&&e.push(o.count,o.circleColor),o.circleRadius&&n.push(o.count,o.circleRadius))}return{circleColor:e,circleRadius:n}}},{key:"addLineLayer",value:function(t){var e=this.transformPaint("LineString"),n={id:t,type:"line",source:this.sourceId,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":this.defaultColor,"line-width":2,"line-opacity":this.defaultOpacity},filter:["in","$type","LineString"]};e&&(n.paint=O.a.objectAssign(n.paint,e)),this.showPolygonOutline&&delete n.filter,this.addLayertoMap(n)}},{key:"addCircleLayer",value:function(t){var e=this.transformPaint("Point"),n={id:t,type:"circle",source:this.sourceId,paint:{"circle-radius":2,"circle-color":this.defaultColor,"circle-opacity":this.defaultOpacity},filter:["in","$type","Point"]};e&&(n.paint=O.a.objectAssign(n.paint,e)),this.addLayertoMap(n)}},{key:"addPolygonLayer",value:function(t){var e=this.transformPaint("Polygon"),n={id:t,type:"fill",source:this.sourceId,layout:{},paint:{"fill-color":this.defaultColor,"fill-opacity":this.defaultOpacity},filter:["in","$type","Polygon"]};e&&(n.paint=O.a.objectAssign(n.paint,e)),this.addLayertoMap(n)}},{key:"addLayertoMap",value:function(t){this.before?this.map.addLayer(t,this.before):this.map.addLayer(t)}},{key:"updateCluster",value:function(t){this.sources&&((t=t||this).updateClusterSources(),t.map.getSource(t.sourceId).setData(t.sources))}},{key:"getChildLayerIds",value:function(){return B.a.getLayerIdsDepts(this.layerId)}},{key:"show",value:function(){for(var t=B.a.getLayerIdsDepts(this.layerId),e=0,n=t.length;e<n;e++)this.map.setLayoutProperty(t[e],"visibility","visible");this.map.getLayer(this.iconTextLayerId)&&this.map.setLayoutProperty(this.iconTextLayerId,"visibility","visible")}},{key:"hide",value:function(){for(var t=B.a.getLayerIdsDepts(this.layerId),e=0,n=t.length;e<n;e++)this.map.setLayoutProperty(t[e],"visibility","none");this.map.getLayer(this.iconTextLayerId)&&this.map.setLayoutProperty(this.iconTextLayerId,"visibility","none")}},{key:"setPaintProperty",value:function(t,e){var n=t.split("-");if(this.icons)switch(n[0]){case"icon":case"text":x.a.map.map.setPaintProperty(this.layerId,t,e);break;default:O.a.setErrorMessage(S.a.message.paintPropertyError)}else switch(n[0]){case"fill":x.a.map.map.setPaintProperty(this.layerId+"-polygon",t,e);break;case"line":x.a.map.map.setPaintProperty(this.layerId+"-line",t,e);break;case"circle":x.a.map.map.setPaintProperty(this.layerId+"-circle",t,e);break;default:O.a.setErrorMessage(S.a.message.paintPropertyError)}}},{key:"removeEvent",value:function(t){B.b.off(this.map)(t,this.layerId)}},{key:"clearEvent",value:function(){B.b.clear(this.layerId)}},{key:"remove",value:function(){var t=this;B.a.getLayerIdsDepts(this.layerId).forEach(function(e){t.map.removeLayer(e)}),this.iconTextLayerId&&this.map.removeLayer(this.iconTextLayerId),B.a.removeIdDepts(this.layerId),this.clearEvent(),this.map.getSource(this.sourceId)&&this.map.removeSource(this.sourceId)}}]),e}(E.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return Array.isArray||function(t){return t&&"number"===typeof t.length}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(466),i=new(n(467).a)(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"f",function(){return c});var r=n(377);function i(t,e,n){if(null!==t)for(var r,o,s,a,u,c,l,A,h=0,p=0,f=t.type,g="FeatureCollection"===f,d="Feature"===f,y=g?t.features.length:1,v=0;v<y;v++){u=(A=!!(l=g?t.features[v].geometry:d?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var m=0;m<u;m++){var C=0,I=0;if(null!==(a=A?l.geometries[m]:l)){c=a.coordinates;var _=a.type;switch(h=!n||"Polygon"!==_&&"MultiPolygon"!==_?0:1,_){case null:break;case"Point":if(!1===e(c,p,v,C,I))return!1;p++,C++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(!1===e(c[r],p,v,C,I))return!1;p++,"MultiPoint"===_&&C++}"LineString"===_&&C++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(o=0;o<c[r].length-h;o++){if(!1===e(c[r][o],p,v,C,I))return!1;p++}"MultiLineString"===_&&C++,"Polygon"===_&&I++}"Polygon"===_&&C++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for("MultiPolygon"===_&&(I=0),o=0;o<c[r].length;o++){for(s=0;s<c[r][o].length-h;s++){if(!1===e(c[r][o][s],p,v,C,I))return!1;p++}I++}C++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===i(a.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function s(t,e){var n,r,i,o,s,a,u,c,l,A,h=0,p="FeatureCollection"===t.type,f="Feature"===t.type,g=p?t.features.length:1;for(n=0;n<g;n++){for(a=p?t.features[n].geometry:f?t.geometry:t,c=p?t.features[n].properties:f?t.properties:{},l=p?t.features[n].bbox:f?t.bbox:void 0,A=p?t.features[n].id:f?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,h,c,l,A))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],h,c,l,A))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,h,c,l,A))return!1;h++}}function a(t,e,n){var r=n;return s(t,function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)}),r}function u(t,e){s(t,function(t,n,i,o,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(Object(r.d)(t,i,{bbox:o,id:s}),n,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var c=0;c<t.coordinates.length;c++){var l={type:a,coordinates:t.coordinates[c]};if(!1===e(Object(r.d)(l,i),n,c))return!1}})}function c(t,e,n){var o=n,s=!1;return function(t,e){u(t,function(t,n,o){var s=0;if(t.geometry){var a,u=t.geometry.type;if("Point"!==u&&"MultiPoint"!==u)return!1!==i(t,function(i,u,c,l,A){if(void 0!==a){var h=Object(r.i)([a,i],t.properties);if(!1===e(h,n,o,A,s))return!1;s++,a=i}else a=i})&&void 0}})}(t,function(t,r,i,a,u){o=!1===s&&void 0===n?t:e(o,t,r,i,a,u),s=!0}),o}},function(t,e,n){"use strict";e.a={enable:function(t){setTimeout(function(){t.map&&t.map.doubleClickZoom&&t._ctx&&t._ctx.store&&t._ctx.store.getInitialConfigValue&&t._ctx.store.getInitialConfigValue("doubleClickZoom")&&t.map.doubleClickZoom.enable()},0)},disable:function(t){setTimeout(function(){t.map&&t.map.doubleClickZoom&&t.map.doubleClickZoom.disable()},0)}}},function(t,e,n){"use strict";var r=n(831),i=n.n(r),o=n(530),s=n.n(o),a=n(478),u=n.n(a),c=n(832),l=n(383),A=(n.n(l),n(834)),h=(n.n(A),n(836)),p=n.n(h),f=n(841),g=n.n(f),d=n(852),y=n(853),v=n.n(y),m=n(854),C=n(901),I=n.n(C),_=n(902),b=n.n(_),w=n(532),E=n.n(w),B=n(904),x=n.n(B),O=n(905),T=n(908),N=n(641),S=n.n(N),M=n(911),L=n.n(M),k=n(912),F=n.n(k),P=n(913),U=n(640),D=n.n(U),R=n(915),Q=n(156);e.a=Q.a.objectAssign({bearing:s.a,distance:u.a,sector:c.a,nearestPointOnLine:p.a,centerOfMass:g.a,midpoint:d.a,area:v.a,buffer:m.a,circle:I.a,booleanWithin:b.a,bbox:E.a,bboxPolygon:x.a,lineChunk:O.a,difference:T.a,union:S.a,combine:L.a,length:F.a,pointsWithinPolygon:P.a,booleanPointInPolygon:D.a,intersect:R.a,along:i.a},l,A)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(383);e.getCoord=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")},e.getCoords=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},e.containsNumber=function t(e){if(e.length>1&&r.isNumber(e[0])&&r.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")},e.geojsonType=function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},e.featureOf=function(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},e.collectionOf=function(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,i=t.features;r<i.length;r++){var o=i[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+o.geometry.type)}},e.getGeom=function(t){return"Feature"===t.type?t.geometry:t},e.getType=function(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return s});n(377);function r(t){if(!t)throw new Error("coord is required");if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates;if(Array.isArray(t)&&t.length>=2&&void 0===t[0].length&&void 0===t[1].length)return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function i(t){if(!t)throw new Error("coords is required");if("Feature"===t.type&&null!==t.geometry)return t.geometry.coordinates;if(t.coordinates)return t.coordinates;if(Array.isArray(t))return t;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function o(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function s(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(383);function i(t,e,n){if(null!==t)for(var r,o,s,a,u,c,l,A,h=0,p=0,f=t.type,g="FeatureCollection"===f,d="Feature"===f,y=g?t.features.length:1,v=0;v<y;v++){u=(A=!!(l=g?t.features[v].geometry:d?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var m=0;m<u;m++){var C=0,I=0;if(null!==(a=A?l.geometries[m]:l)){c=a.coordinates;var _=a.type;switch(h=!n||"Polygon"!==_&&"MultiPolygon"!==_?0:1,_){case null:break;case"Point":if(!1===e(c,p,v,C,I))return!1;p++,C++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(!1===e(c[r],p,v,C,I))return!1;p++,"MultiPoint"===_&&C++}"LineString"===_&&C++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(o=0;o<c[r].length-h;o++){if(!1===e(c[r][o],p,v,C,I))return!1;p++}"MultiLineString"===_&&C++,"Polygon"===_&&I++}"Polygon"===_&&C++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(I=0,o=0;o<c[r].length;o++){for(s=0;s<c[r][o].length-h;s++){if(!1===e(c[r][o][s],p,v,C,I))return!1;p++}I++}C++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===i(a.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function a(t,e){var n,r,i,o,s,a,u,c,l,A,h=0,p="FeatureCollection"===t.type,f="Feature"===t.type,g=p?t.features.length:1;for(n=0;n<g;n++){for(a=p?t.features[n].geometry:f?t.geometry:t,c=p?t.features[n].properties:f?t.properties:{},l=p?t.features[n].bbox:f?t.bbox:void 0,A=p?t.features[n].id:f?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,h,c,l,A))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],h,c,l,A))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,h,c,l,A))return!1;h++}}function u(t,e){a(t,function(t,n,i,o,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(r.feature(t,i,{bbox:o,id:s}),n,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var c=0;c<t.coordinates.length;c++){var l={type:a,coordinates:t.coordinates[c]};if(!1===e(r.feature(l,i),n,c))return!1}})}function c(t,e){u(t,function(t,n,o){var s=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var u,c=0,l=0,A=0;return!1!==i(t,function(i,a,h,p,f){if(void 0===u||n>c||p>l||f>A)return u=i,c=n,l=p,A=f,void(s=0);var g=r.lineString([u,i],t.properties);if(!1===e(g,n,o,f,s))return!1;s++,u=i})&&void 0}}})}function l(t,e){if(!t)throw new Error("geojson is required");u(t,function(t,n,i){if(null!==t.geometry){var o=t.geometry.type,s=t.geometry.coordinates;switch(o){case"LineString":if(!1===e(t,n,i,0,0))return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(!1===e(r.lineString(s[a],t.properties),n,i,a))return!1}}})}e.coordEach=i,e.coordReduce=function(t,e,n,r){var o=n;return i(t,function(t,r,i,s,a){o=0===r&&void 0===n?t:e(o,t,r,i,s,a)},r),o},e.propEach=o,e.propReduce=function(t,e,n){var r=n;return o(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r},e.featureEach=s,e.featureReduce=function(t,e,n){var r=n;return s(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r},e.coordAll=function(t){var e=[];return i(t,function(t){e.push(t)}),e},e.geomEach=a,e.geomReduce=function(t,e,n){var r=n;return a(t,function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)}),r},e.flattenEach=u,e.flattenReduce=function(t,e,n){var r=n;return u(t,function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)}),r},e.segmentEach=c,e.segmentReduce=function(t,e,n){var r=n,i=!1;return c(t,function(t,o,s,a,u){r=!1===i&&void 0===n?t:e(r,t,o,s,a,u),i=!0}),r},e.lineEach=l,e.lineReduce=function(t,e,n){var r=n;return l(t,function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)}),r},e.findSegment=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.segmentIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),u=u||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":u=u||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var c=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=c.length+a-1),r.lineString([c[a],c[a+1]],u,e);case"Polygon":return s<0&&(s=c.length+s),a<0&&(a=c[s].length+a-1),r.lineString([c[s][a],c[s][a+1]],u,e);case"MultiLineString":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a-1),r.lineString([c[o][a],c[o][a+1]],u,e);case"MultiPolygon":return o<0&&(o=c.length+o),s<0&&(s=c[o].length+s),a<0&&(a=c[o][s].length-a-1),r.lineString([c[o][s][a],c[o][s][a+1]],u,e)}throw new Error("geojson is invalid")},e.findPoint=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.coordIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),u=u||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":u=u||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var c=n.coordinates;switch(n.type){case"Point":return r.point(c,u,e);case"MultiPoint":return o<0&&(o=c.length+o),r.point(c[o],u,e);case"LineString":return a<0&&(a=c.length+a),r.point(c[a],u,e);case"Polygon":return s<0&&(s=c.length+s),a<0&&(a=c[s].length+a),r.point(c[s][a],u,e);case"MultiLineString":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a),r.point(c[o][a],u,e);case"MultiPolygon":return o<0&&(o=c.length+o),s<0&&(s=c[o].length+s),a<0&&(a=c[o][s].length-a),r.point(c[o][s][a],u,e)}throw new Error("geojson is invalid")}},function(t,e,n){"use strict";e.a=u,e.b=function(t,e,n,r){return u(t,e,n,r,!0)},e.c=function(t,e,n,r){var s=o(t,e);if(s){var a=i(s,n,r,!0);a&&c(a)}},e.e=c,e.d=function(t){var e=s(t);if(e)for(var n in e)a(t,n)};var r=n(384);function i(t,e,n,r){for(var i,o=0,s=t.length;o<s;++o)if((i=t[o]).listener===e&&i.bindTo===n)return r&&(i.deleteIndex=o),i}function o(t,e){var n=s(t);return n?n[e]:void 0}function s(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function a(t,e){var n=o(t,e);if(n){for(var i=0,a=n.length;i<a;++i)t.removeEventListener(e,n[i].boundListener),Object(r.b)(n[i]);n.length=0;var u=s(t);u&&(delete u[e],0===Object.keys(u).length&&function(t){delete t.ol_lm}(t))}}function u(t,e,n,r,o){var a=s(t,!0),u=a[e];u||(u=a[e]=[]);var l=i(u,n,r,!1);return l?o||(l.callOnce=!1):(l={bindTo:r,callOnce:!!o,listener:n,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var n=t.listener,r=t.bindTo||t.target;return t.callOnce&&c(t),n.call(r,e)};return t.boundListener=e,e}(l)),u.push(l)),l}function c(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=o(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&a(t.target,t.type)}Object(r.b)(t)}}},function(t,e,n){"use strict";e.d=y,e.c=function(t,e){return I(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},e.f=function(t,e){var n=I(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=n[0];(r<-180||r>180)&&(n[0]=Object(u.d)(r+180,360)-180);return n},e.b=function(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return n;var r=m(t,e);return r===f&&n},e.e=C,e.g=I,e.h=function(t,e,n){var r=C(e,n);return Object(a.a)(t,r)};n(652);var r,i,o,s,a=n(381),u=n(385),c=n(942),l=n(943),A=(n(488),n(426)),h=n(944),p=n(945);function f(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function g(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function d(t){h.a(t.getCode(),t),Object(p.a)(t,t,f)}function y(t){return"string"===typeof t?h.c(t):t||null}function v(t){!function(t){t.forEach(d)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Object(p.a)(e,t,f)})})}function m(t,e){var n=t.getCode(),r=e.getCode(),i=Object(p.c)(n,r);return i||(i=g),i}function C(t,e){return m(y(t),y(e))}function I(t,e,n){return C(e,n)(t,void 0,t.length)}n.d(e,"a",function(){return A.a}),v(c.a),v(l.a),r=l.a,i=c.a,o=c.b,s=c.c,r.forEach(function(t){i.forEach(function(e){Object(p.a)(t,e,o),Object(p.a)(e,t,s)})})},function(t,e,n){"use strict";e.a=function(t,e){return function(n){if("function"!==typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}};var r=n(370),i=n(371);var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";e.b=function(){return!0},e.a=function(){return!1},e.c=function(){}},function(t,e,n){"use strict";n.d(e,"b",function(){return R}),n.d(e,"a",function(){return Q});var r=n(33),i=n.n(r),o=n(177),s=(n.n(o),n(105)),a=(n.n(s),n(75)),u=(n.n(a),n(423)),c=n.n(u),l=n(503),A=(n.n(l),n(504)),h=(n.n(A),n(450)),p=(n.n(h),n(30)),f=(n.n(p),n(25)),g=(n.n(f),n(24)),d=(n.n(g),n(106)),y=(n.n(d),n(451)),v=(n.n(y),n(74)),m=n.n(v),C=n(101),I=n.n(C),_=n(172),b=n.n(_),w=n(77),E=n.n(w),B=n(16),x=(n.n(B),n(1016)),O=(n.n(x),n(1019)),T=(n.n(O),n(196)),N=(n.n(T),n(18)),S=n.n(N),M=n(449),L=(n(200),n(156),n(102),n(664)),k=["mousedown","mouseup","click","dblclick","contextmenu"],F=["mousemove","mouseenter","mouseleave","mouseover","mouseout"],P=["dragstart","dragging","dragend"],U=function(t,e){var n=[];S()(t)||(t=[t]);for(var r=function(r,i){var o=t[r],s={},a={};a=o.geometry,(s=o.properties).__layerId__=e,n.push({type:"Feature",properties:s,geometry:a})},i=0,o=t.length;i<o;i++)r(i);return n},D=function(t,e){E()(e.getInteractions)&&e.getInteractions().forEach(function(e){e instanceof L.a&&e.setActive(t)})},R=function(){function t(){m()(this,t)}return I()(t,null,[{key:"delegate",value:function(t,e,n,r){return function(i){var o=Q.getLayerIdsDepts(n)||new Set,s=Array.from(o);if(0!==s.length){var a=t.queryRenderedFeatures(i.point,{layers:s})||[];a=c()(new Set(a));var u=Object.assign({},i,{type:e,originalFeatures:a}),l=U(a,n);r(u,l)}}}},{key:"on",value:function(e){return function(n,r,i){var o=function(t,e){};if(t.off(e)(n,r),-1!==k.indexOf(n))o=t.delegate(e,n,r,t._setCommonListener(i)),M.a.on(e)(n,o);else if(-1!==F.indexOf(n)){switch(n){case"mouseenter":case"mouseover":o=t.delegate(e,n,r,t._setMouseEnterListener(i));break;case"mouseleave":case"mouseout":o=t.delegate(e,n,r,t._setMouseLeaveListener(i));break;default:o=t.delegate(e,n,r,t._setCommonListener(i))}M.a.on(e)("mousemove",o)}else{if(-1===P.indexOf(n))throw new Error('Layer event system do not support "'.concat(n,'" event, \n                    please use one of these : [').concat(k.concat(F,P).toString(),"]"));o=t.delegate(e,n,r,t._setMapboxMouseDragListener(i,e,r,n)),M.a.on(e)("mousedown",o)}t._ctxListenerSet=t._ctxListenerSet||{},t._ctxListenerSet[r]=t._ctxListenerSet[r]||{},t._ctxListenerSet[r][n]=t._ctxListenerSet[r][n]||new Set,t._ctxListenerSet[r][n].add(o)}}},{key:"_setMouseEnterListener",value:function(t){var e=!1;return function(n,r){0===r.length?e=!1:e||(e=!0,t(n,r))}}},{key:"_setMouseLeaveListener",value:function(t){var e=!1;return function(n,r){r.length>0?e=!0:e&&(e=!1,t(n,r))}}},{key:"_setCommonListener",value:function(t){return function(e,n){0!==n.length&&t(e,n)}}},{key:"_setMapboxMouseDragListener",value:function(t,e,n,r){return function(i,o){var s="inactive",a={},u=Q.getLayerIdsDepts(n),c=Array.from(u),l=e.getLayer(c[0]).source,A=e.getSource(l),h=A._data,p=-1;if(0===o.length)s="inactive";else if("inactive"===s){var f=(a=o[0]).properties.dataId||a.properties.cluster_id||null;s="pending",e.dragPan.disable();for(var g=0,d=h.features.length;g<d;g++){var y=h.features[g];if(y.properties&&(y.properties.dataId||y.properties.cluster_id)===f){p=g;break}}var v=function(e){"inactive"!==s&&-1!==p&&("pending"===s&&(s="active","dragstart"===r&&t(i,[a])),"dragging"===r&&t(i,[a]),h.features[p].geometry.coordinates=[e.lngLat.lng,e.lngLat.lat],A.setData(h))};M.a.on(e)("mousemove",v),M.a.once(e)("mouseup",function(){"active"===s&&"dragend"===r&&t(i,[a]),s="inactive",e.dragPan.enable(),M.a.off(e)("mousemove",v),p=-1})}}}},{key:"_setOpenLayersMouseDragListener",value:function(t,e,n,r){return function(i,o){var s="inactive",a=o[0];if(0===o.length||a.properties&&a.properties.cluster)console.warn("\n                    Cluster layer don't support drag event,\n                    Please use one of these: ".concat(k.concat(F)," \n                    "));else{var u=Q.getLayerIdsDepts(n),c=Array.from(u)[0],l=null;if(e.forEachLayerAtPixel([i.point.x,i.point.y],function(t){t.ol_uid===c&&(l=t)}),l){var A=i.originalFeatures;if(0===o.length)s="inactive";else if("inactive"===s){var h=A[0].getGeometry();s="pending",D(!1,e);var p=function(e){"inactive"!==s&&null!=h&&("pending"===s&&(s="active","dragstart"===r&&t(i,[a])),"dragging"===r&&t(i,[a]),h.setCoordinates([e.lngLat.lng,e.lngLat.lat]))};M.a.on(e)("mousemove",p),M.a.once(e)("mouseup",function(){"active"===s&&"dragend"===r&&t(i,[a]),s="inactive",D(!0,e),M.a.off(e)("mousemove",p)})}}}}}},{key:"off",value:function(e){return function(n,r){var i=t._ctxListenerSet[r]||{};if(!b()(i)){var o=i[n];o&&0!==o.size&&o.forEach(function(t){return M.a.off(e)(n,t)})}}}},{key:"clear",value:function(e){return function(n){var r=t._ctxListenerSet[n]||{};if(!b()(r))for(var o=function(t,n){var i=Reflect.ownKeys(r)[t],o=r[i];if(!o||0===o.size)return{v:void 0};o.forEach(function(t){return M.a.off(e)(i,t)})},s=0,a=Reflect.ownKeys(r).length;s<a;s++){var u=o(s);if("object"===i()(u))return u.v}}}}]),t}();R._ctxListenerSet={};var Q=function(){function t(){m()(this,t)}return I()(t,null,[{key:"setIdDepts",value:function(e,n){t._layerIdDepts[e]=t._layerIdDepts[e]||new Set,t._layerIdDepts[e].add(n)}},{key:"removeIdDepts",value:function(e,n){var r=t._layerIdDepts[e];null==r||Array.isArray(r)&&0===r.length||(void 0!==n?t._layerIdDepts[e].has(n)&&t._layerIdDepts[e].delete(n):t._layerIdDepts[e].clear())}},{key:"getLayerIdsDepts",value:function(e){return e?c()(t._layerIdDepts[e]||new Set):[]}}]),t}();Q._layerIdDepts={}},function(t,e,n){"use strict";e.a=function(t){return f(function(){return t})()},e.b=f;var r=n(886),i=n(887),o=n(535),s=n(617),a=n(538),u=n(372),c=n(482),l=n(483),A=n(541),h=n(888),p=Object(l.a)({point:function(t,e){this.stream.point(t*u.r,e*u.r)}});function f(t){var e,n,l,f,g,d,y,v,m,C,I=150,_=480,b=250,w=0,E=0,B=0,x=0,O=0,T=null,N=r.a,S=null,M=a.a,L=.5,k=Object(h.a)(U,L);function F(t){return[(t=g(t[0]*u.r,t[1]*u.r))[0]*I+n,l-t[1]*I]}function P(t){return(t=g.invert((t[0]-n)/I,(l-t[1])/I))&&[t[0]*u.h,t[1]*u.h]}function U(t,r){return[(t=e(t,r))[0]*I+n,l-t[1]*I]}function D(){g=Object(s.a)(f=Object(c.b)(B,x,O),e);var t=e(w,E);return n=_-t[0]*I,l=b+t[1]*I,R()}function R(){return m=C=null,F}return F.stream=function(t){return m&&C===t?m:m=p(N(f,k(M(C=t))))},F.clipAngle=function(t){return arguments.length?(N=+t?Object(i.a)(T=t*u.r,6*u.r):(T=null,r.a),R()):T*u.h},F.clipExtent=function(t){return arguments.length?(M=null==t?(S=d=y=v=null,a.a):Object(o.a)(S=+t[0][0],d=+t[0][1],y=+t[1][0],v=+t[1][1]),R()):null==S?null:[[S,d],[y,v]]},F.scale=function(t){return arguments.length?(I=+t,D()):I},F.translate=function(t){return arguments.length?(_=+t[0],b=+t[1],D()):[_,b]},F.center=function(t){return arguments.length?(w=t[0]%360*u.r,E=t[1]%360*u.r,D()):[w*u.h,E*u.h]},F.rotate=function(t){return arguments.length?(B=t[0]%360*u.r,x=t[1]%360*u.r,O=t.length>2?t[2]%360*u.r:0,D()):[B*u.h,x*u.h,O*u.h]},F.precision=function(t){return arguments.length?(k=Object(h.a)(U,L=t*t),R()):Object(u.u)(L)},F.fitExtent=function(t,e){return Object(A.a)(F,t,e)},F.fitSize=function(t,e){return Object(A.b)(F,t,e)},function(){return e=t.apply(this,arguments),F.invert=e.invert&&P,D()}}},function(t,e,n){"use strict";e.b=A;var r=n(382),i=n(553),o=n(939),s=n(438),a=n(384),u=function(t){function e(e,n,r){t.call(this,e),this.key=n,this.oldValue=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),c=function(t){function e(e){t.call(this),Object(r.c)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(a.a)({},this.values_)},e.prototype.notify=function(t,e){var n;n=A(t),this.dispatchEvent(new u(n,t,e)),n=i.a.PROPERTYCHANGE,this.dispatchEvent(new u(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(o.a),l={};function A(t){return l.hasOwnProperty(t)?l[t]:l[t]="change:"+t}e.a=c},function(t,e,n){"use strict";function r(t,e){return t>e?1:t<e?-1:0}e.a=function(t,e,n){var i,o,s=n||r,a=0,u=t.length,c=!1;for(;a<u;)(o=+s(t[i=a+(u-a>>1)],e))<0?a=i+1:(u=i,c=!o);return c?a:~a},e.e=r,e.d=function(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1},e.b=function(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]},e.c=function(t,e,n){var i=e||r;return t.every(function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)})}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),e.b=function(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i};var r=n(374),i=new r.a(function(t){return t.complete()})},function(t,e,n){"use strict";e.a=function(t){return t&&"function"===typeof t.schedule}},function(t,e,n){"use strict";e.a=function(t,e){return e?Object(o.a)(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))};var r=n(374),i=n(590),o=n(733)},function(t,e,n){"use strict";e.a={MODULE_RENDERROUTE_SOURCEID:"routePathJsonSource",MODULE_RENDERROUTE_LAYERID:"routePathJsonLineLayer",MODULE_RENDERROUTE_DASHLAYERID:"routePathJsonLineDashLayer",MODULE_RENDERROUTE_LINECOLOR:["#5c8ffd","#666666","#666666"],MODULE_DRIVINGROUTE_DEFAULTOPTION:{st:5,lineColor:"blue",lineWidth:6},PATH_MODE:{WALK_PATH:1,DRIVE_PATH:2},PATH_TYPE:{HISTORY:1,REALTIME:2},PATH_STRATEGY:{SHORTEST_PATH:1,SHORTEST_TIME:2},PATH_CRITERIA:{NONE:0,AVOID_FEE:1,AVOID_HIGH_WAY:2},PRECISION_CONTROL:[1,1,1,1,2,2,3,3,3,4,4,5,5,5,6,6,6,7,7,7],REQUEST_POLYGON_BUFFER:300,UN_CLUSTER_LAYER_MAXSIZE:1e3}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";var r=n(8),i=n(57),o=n(27),s=n(7),a=[].sort,u=[1,2,3];r(r.P+r.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!n(926)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(382),i=n(381),o=n(665),s=n(430),a=n(566),u=n(384),c=function(t){function e(){t.call(this),this.layout=s.a.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return Object(i.k)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(r.b)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(u.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=l(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(r.b)()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=l(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout=s.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=s.a.XY:3==t?e=s.a.XYZ:4==t&&(e=s.a.XYZM);return e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();Object(a.a)(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var o=n;o||(o=Object(i.q)(this.getExtent()));var s=this.getFlatCoordinates();if(s){var u=this.getStride();Object(a.b)(s,0,s.length,u,t,r,o,s),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();Object(a.d)(n,0,n.length,r,t,e,n),this.changed()}},e}(o.a);function l(t){var e;return t==s.a.XY?e=2:t==s.a.XYZ||t==s.a.XYM?e=3:t==s.a.XYZM&&(e=4),e}e.a=c},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var s=n[i],a=0;a<r;++a)t[e++]=s[a];return e}function i(t,e,n,i,o){for(var s=o||[],a=0,u=0,c=n.length;u<c;++u){var l=r(t,e,n[u],i);s[a++]=l,e=l}return s.length=a,s}e.a=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e},e.b=r,e.c=i,e.d=function(t,e,n,r,o){for(var s=o||[],a=0,u=0,c=n.length;u<c;++u){var l=i(t,e,n[u],r,s[a]);s[a++]=l,e=l[l.length-1]}return s.length=a,s}},function(t,e,n){"use strict";var r=n(503),i=(n.n(r),n(504)),o=(n.n(i),n(160)),s=(n.n(o),n(161)),a=(n.n(s),n(102)),u=n(156),c=n(386),l=n(415);window.kmapDebug={},e.a={actions:{},on:function(t,e){this.actions[t]=e},loadData:function(t,e,n){var r=t.mixClusterRadius||a.a.config.CLUSTERED_RADIUS||40;var i={appName:a.a.config.BUSINESS_APPNAME,serviceNames:t.serviceNames||[t.serviceName],location:t.requestPolygon||c.a.getCurrentBoundsByScreen(t.map,l.a.REQUEST_POLYGON_BUFFER).geometry,terms:t.terms,pageSize:l.a.UN_CLUSTER_LAYER_MAXSIZE,pageNo:0,zoomLevel:t._zoom,radius:r};t.fetchAggFields&&(i.fetchAggFields=t.fetchAggFields),!0===t.isPublic&&(i.serviceNames=["device_base"],i.appName=a.a.config.PUBLIC_APPNAME),t.mixTerms&&(i.filterTerms=t.mixTerms);var o=a.a.config.AGGS_CONFIG,s=a.a.config.SERVICE_AGGS_CLUSTER;if(n){if(o&&o.hashgrid){var A=Number(o.hashgrid.split(",")[1]);t._zoom<=A&&delete i.location}t.aggTag&&(i.aggTag=t.aggTag),s=a.a.config.SERVICE_AGGS_CLUSTERINDEX}if(t.isTypicalLayer){var h=t.requestPolygon||c.a.getCurrentBoundsByScreen(t.map,l.a.REQUEST_POLYGON_BUFFER).geometry;if(t.adcode)i.location=h,i.adcode=t.adcode;else if(t.typicalPolygon){var p=c.a.intersect(h,t.typicalPolygon);i.location=null==p?t.typicalPolygon:p.geometry}else delete i.location}t.isHeatMap&&(i.appName="kircp_name",i.includes=["locationshape","RKZS","QYRK"],i.filterTerms=[{column:"XZJB",value:"5",termType:"eq"},{column:"XZBM",value:"110",termType:"prefix"}],delete i.location,s="http://10.67.8.79:8094/search-server/layer/hot/aggs"),t.request=u.a.xhr({type:"POST",url:s,body:i,success:e,error:t._onxhrerror})},loadUnClusterData:function(t,e){var n,r={appName:a.a.config.BUSINESS_APPNAME,serviceNames:t.serviceNames||[t.serviceName],pageNo:0,pageSize:l.a.UN_CLUSTER_LAYER_MAXSIZE,terms:t.terms,location:t.requestPolygon||c.a.getCurrentBoundsByScreen(t.map,l.a.REQUEST_POLYGON_BUFFER).geometry};if(t.includes&&(r.includes=t.includes),t.excludes&&(r.excludes=t.excludes),!0===t.isPublic&&(r.serviceNames=["device_base"],r.appName=a.a.config.PUBLIC_APPNAME),t.mixTerms&&(r.filterTerms=t.mixTerms),t.isStatic&&(r.location={type:"Polygon",coordinates:[[[73.34312643237152,17.659756812078655],[73.34312643237152,53.60230408570581],[135.39390768237615,53.60230408570581],[135.39390768237615,17.659756812078655],[73.34312643237152,17.659756812078655]]]}),t.isTypicalLayer){var i=t.requestPolygon||c.a.getCurrentBoundsByScreen(t.map,l.a.REQUEST_POLYGON_BUFFER).geometry;if(t.adcode)r.location=i,r.adcode=t.adcode;else if(t.typicalPolygon){var o=c.a.intersect(i,t.typicalPolygon);r.location=null==o?t.typicalPolygon:o.geometry}else delete r.location}t.isHeatMap&&(r.appName="kircp_name",r.includes=["locationshape","RKZS","QYRK"],r.filterTerms=[{column:"XZJB",value:"5",termType:"eq"}],n="http://10.67.8.79:8094/search-server/layer/hot/aggs"),t.request=u.a.xhr({type:"POST",url:n||a.a.config.BUSINESS_RENDER_SERVICE,body:r,success:e,error:t._onxhrerror})},loadPoiData:function(t,e){var n=new(a.a.modules.BaseService())("poi");t.onlyScreen&&(t.polygon=c.a.getCurrentBoundsByScreen(a.a.map.map).geometry.coordinates[0]),n.searchBySpace(t,e)},loadImages:function(t,e){var n=[];t.multi?t.urls.forEach(function(t){n.push(t.url)}):n.push(t.url),u.a.loadImage(n,e)},loadBaseData:function(t,e){var n={appName:a.a.config.BUSINESS_APPNAME,location:t.requestPolygon||c.a.getCurrentBoundsByScreen(t.map,l.a.REQUEST_POLYGON_BUFFER).geometry,terms:t.terms,pageSize:l.a.UN_CLUSTER_LAYER_MAXSIZE,pageNo:0,zoomLevel:t._zoom,aggType:2,dataType:t.dataType};t.mixTerms&&(n.filterTerms=t.mixTerms),t.request=u.a.xhr({type:"POST",url:a.a.config.BASE_DATA_AGGS,body:n,success:e,error:t._onxhrerror})},loadRegionData:function(t,e){var n={appName:a.a.config.BUSINESS_APPNAME,geometry:t.requestPolygon||c.a.getCurrentBoundsByScreen(t.map,l.a.REQUEST_POLYGON_BUFFER).geometry,pageSize:l.a.UN_CLUSTER_LAYER_MAXSIZE,pageNo:0,zoomLevel:t._zoom};t.request=u.a.xhr({type:"POST",url:a.a.config.GET_REGIONS,body:n,success:e,error:t._onxhrerror})}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(370),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n(371).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(25),i=(n.n(r),n(24)),o=(n.n(i),n(103)),s=(n.n(o),n(162)),a=(n.n(s),n(104)),u=(n.n(a),n(30)),c=(n.n(u),n(423)),l=n.n(c),A=n(101),h=n.n(A),p=n(74),f=n.n(p),g=n(520),d=n.n(g),y=function(){function t(){f()(this,t),this.type=void 0,this._listeners={},this._oneTimeListeners={}}return h()(t,[{key:"on",value:function(t,e){this._listeners[t]=this._listeners[t]||[],this._on(e,this._listeners[t])}},{key:"off",value:function(t,e){if(void 0===e){if(this._listeners[t])for(var n=l()(this._listeners[t]),r=n.length,i=0;i<r;i++){var o=n[i];this._off(o,this._listeners[t])}if(this._oneTimeListeners[t])for(var s=l()(this._oneTimeListeners[t]),a=s.length,u=0;u<a;u++){var c=s[u];this._off(c,this._oneTimeListeners[t])}}else this._off(e,this._listeners[t]),this._off(e,this._oneTimeListeners[t]);return this}},{key:"once",value:function(t,e){return this._oneTimeListeners[t]=this._oneTimeListeners[t]||[],this._oneTimeListeners[t].push(e),this}},{key:"listens",value:function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0}},{key:"emit",value:function(t,e){var n=new function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f()(this,t),this.type=void 0,this.type=e;var r=new Event(this.type);d()(this,r,n)}(t,e=e||{});if(this.listens(t)){var r=this._listeners&&this._listeners[t]?l()(this._listeners[t]):[],i=!0,o=!1,s=void 0;try{for(var a,u=r[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){a.value.call(this,n)}}catch(t){o=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}var c=this._oneTimeListeners&&this._oneTimeListeners[t]?l()(this._oneTimeListeners[t]):[],A=!0,h=!1,p=void 0;try{for(var g,y=c[Symbol.iterator]();!(A=(g=y.next()).done);A=!0){var v=g.value;this._off(v,this._oneTimeListeners[t]),v.call(this,n)}}catch(t){h=!0,p=t}finally{try{A||null==y.return||y.return()}finally{if(h)throw p}}}return this}},{key:"clean",value:function(){var t=this;Object.keys(this._listeners).map(function(e){return t.off(e)}),this._listeners={}}},{key:"_on",value:function(t,e){e.some(function(e){return e===t})||e.push(t)}},{key:"_off",value:function(t,e){if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()},function(t,e,n){var r=n(518),i=n(477),o=n(519);t.exports=function(t){return r(t)||i(t)||o()}},,function(t,e,n){"use strict";function r(t,e){t&&o.hasOwnProperty(t.type)&&o[t.type](t,e)}var i={Feature:function(t,e){r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)r(n[i].geometry,e)}},o={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){s(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)s(n[r],e,0)},Polygon:function(t,e){a(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)a(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)r(n[i],e)}};function s(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function a(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)s(t[n],e,1);e.polygonEnd()}e.a=function(t,e){t&&i.hasOwnProperty(t.type)?i[t.type](t,e):r(t,e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},i={};i[r.DEGREES]=2*Math.PI*6370997/360,i[r.FEET]=.3048,i[r.METERS]=1,i[r.USFEET]=1200/3937,e.b=r},function(t,e,n){"use strict";e.a=function(t,e){var n=document.createElement("canvas");t&&(n.width=t);e&&(n.height=e);return n.getContext("2d")},e.b=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}},function(t,e,n){"use strict";e.b=function(t,e,n){var r=t.getCenter();if(r){var o=t.constrainCenter([r[0]+e[0],r[1]+e[1]]);n?t.animate({duration:n,easing:i.c,center:o}):t.setCenter(o)}},e.c=function(t,e,n,r){e=t.constrainRotation(e,0),u(t,e,n,r)},e.d=u,e.e=function(t,e,n,r,i){e=t.constrainResolution(e,0,i),c(t,e,n,r)},e.f=function(t,e,n,r){var i=t.getResolution(),o=t.constrainResolution(i,e,0);if(void 0!==o){var a=t.getResolutions();o=Object(s.a)(o,t.getMinResolution()||a[a.length-1],t.getMaxResolution()||a[0])}if(n&&void 0!==o&&o!==i){var u=t.getCenter(),l=t.calculateCenterZoom(o,n);l=t.constrainCenter(l),n=[(o*u[0]-i*l[0])/(o-i),(o*u[1]-i*l[1])/(o-i)]}c(t,o,n,r)},e.g=c;var r=n(410),i=n(460),o=n(961),s=n(385),a=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(o.a.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o.a.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(r.a);function u(t,e,n,r){if(void 0!==e){var o=t.getRotation(),s=t.getCenter();void 0!==o&&s&&r>0?t.animate({rotation:e,anchor:n,duration:r,easing:i.b}):t.rotate(e,n)}}function c(t,e,n,r){if(e){var o=t.getResolution(),s=t.getCenter();if(void 0!==o&&s&&e!==o&&r)t.animate({resolution:e,anchor:n,duration:r,easing:i.b});else{if(n){var a=t.calculateCenterZoom(e,n);t.setCenter(a)}t.setResolution(e)}}}e.a=a},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return A}),n.d(e,"d",function(){return h});n(564);var r=n(389),i=n(407),o=n(559),s=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},a=i.b,u=function(t){var e=t.originalEvent;return 0==e.button&&!(o.f&&o.d&&e.ctrlKey)},c=(i.a,function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}),l=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},A=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},h=function(t){var e=t.pointerEvent;return Object(r.a)(void 0!==e,56),"mouse"==e.pointerType}},function(t,e,n){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,n){"use strict";n.d(e,"a",function(){return I}),n.d(e,"b",function(){return _});var r=n(190),i=(n.n(r),n(699)),o=n.n(i),s=n(1030),a=(n.n(s),n(30)),u=(n.n(a),n(25)),c=(n.n(u),n(24)),l=(n.n(c),n(103)),A=(n.n(l),n(74)),h=n.n(A),p=n(101),f=n.n(p),g=n(185),d=n.n(g),y=n(709),v=n.n(y),m=n(156),C=n(711),I=function(){function t(){h()(this,t)}return f()(t,null,[{key:"setGroupDepts",value:function(e,n,r){t.groupDepts[e][n]=r}},{key:"getGroupDepts",value:function(e,n){return t.groupDepts[e][n]}},{key:"removeGroupDepts",value:function(e,n){delete t.groupDepts[e][n]}},{key:"clearGroupDepts",value:function(e){t.groupDepts[e]={}}},{key:"getGroupDeptsCount",value:function(t){return Object.keys(this.groupDepts[t]).length}}]),t}();I.groupDepts={text:{},marker:{},popup:{},overlay:{}};var _=function(){function t(e,n,r){var i=this;h()(this,t),this._overlays={},this._groupName=r||"overlay_group_".concat(Object(m.b)()),I.setGroupDepts(e,this._groupName,this),this._draggable=!1,v()(n,function(t){i.addOverlay(t)})}return f()(t,[{key:"addOverlay",value:function(t){var e=t.getId();return t.getElement().classList.add(this._groupName),t.addToMap(),this._overlays[e]=t,this}},{key:"removeOverlay",value:function(t){var e=t.getId();return t.removeFromMap(),delete this._overlays[e],this}},{key:"hasOverlay",value:function(t){var e=t.getId();return!d()(this._overlays[e])}},{key:"clearOverlays",value:function(){for(var t=0,e=Object.entries(this._overlays);t<e.length;t++){var n=o()(e[t],2),r=n[0];n[1].removeFromMap(),delete this._overlays[r]}return this}},{key:"getOverlay",value:function(t){return this._overlays[t]}},{key:"getOverlays",value:function(){return Object.values(this._overlays)}},{key:"getOverlayId",value:function(t){return t.getId()}},{key:"addEvent",value:function(t,e){return C.a.on(t,".".concat(this._groupName),e),this}},{key:"removeEvent",value:function(t){return C.a.off(t,".".concat(this._groupName)),this}},{key:"clearEvents",value:function(){return C.a.clear(".".concat(this._groupName)),this}},{key:"setDraggable",value:function(t){this._draggable=t;for(var e=0,n=Object.values(this._overlays);e<n.length;e++){n[e].setDraggable(this._draggable)}return this}},{key:"isDraggable",value:function(){return this._draggable}},{key:"getGroupName",value:function(){return this._groupName}},{key:"setProperty",value:function(t){for(var e=0,n=Object.values(this._overlays);e<n.length;e++){n[e].setProperty(t)}return this}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(159),h=n.n(A),p=n(18),f=n.n(p),g=n(1068),d=n(1102),y=n(711),v=n(422),m=n(449),C=n(156),I=n(102),_=function(t){function e(t){var n;if(i()(this,e),n=u()(this,l()(e).call(this)),!t)return u()(n);var r=t.element,o=Object(C.b)();return r.id=o,n._mapCore=I.a.map.map,n._overlay=new I.a.kedamap.Marker(r,t),n._draggable=!1,n._dragSubscription=null,n._diff={},n}return h()(e,t),s()(e,[{key:"addToMap",value:function(){return this._overlay.addTo(this._mapCore),this}},{key:"removeFromMap",value:function(){return this._overlay.remove(),this}},{key:"getLngLat",value:function(){return this._overlay.getLngLat()}},{key:"setLngLat",value:function(t){return this._overlay.setLngLat(t),this}},{key:"getElement",value:function(){return this._overlay.getElement()}},{key:"setPopup",value:function(t){return this._overlay.setPopup(t),this}},{key:"getPopup",value:function(){return this._overlay.getPopup()}},{key:"togglePopup",value:function(){return this._overlay.togglePopup(),this}},{key:"getOffset",value:function(){var t=this._overlay.getOffset();return f()(t)?t:[t.x,t.y]}},{key:"setOffset",value:function(t){return this._overlay.setOffset(t),this}},{key:"setDraggable",value:function(t){var e=this;if(this._draggable=t,this._mapCore)if(this._draggable){var n=this.getElement(),r=this._mapCore,i=Object(g.a)(function(t){return m.a.on(r)("mousedown",t)}),o=Object(g.a)(function(t){return m.a.on(r)("mousemove",t)}),s=Object(g.a)(function(t){return m.a.on(r)("mouseup",t)}),a=Object(g.a)(function(t){return m.a.on(r)("mouseleave",t)});this._dragSubscription||(this._dragSubscription=i.pipe(Object(d.a)(function(t){return n.contains(t.originalEvent.target)}),Object(d.e)(function(t){r.dragPan.disable(),n.style.cursor="move";var i=e._mapCore.project([e.getLngLat().lng,e.getLngLat().lat]);e._diff.left=t.point.x-i.x,e._diff.top=t.point.y-i.y,y.a.fireDragEvent(t,n,"dragstart")}),Object(d.c)(function(){return o.pipe(Object(d.b)(function(t){return y.a.fireDragEvent(t,n,"dragging"),t}),Object(d.d)(Object(g.b)(a,s).pipe(Object(d.e)(function(t){n.style.cursor="pointer",r.dragPan.enable(),y.a.fireDragEvent(t,n,"dragend")}))))})).subscribe(function(t){var n=t.point.x-e._diff.left,r=t.point.y-e._diff.top,i=e._mapCore.unproject({x:n,y:r});e.setLngLat(i)}))}else this._dragSubscription&&(this._dragSubscription.unsubscribe(),this._dragSubscription=null);return this}},{key:"isDraggable",value:function(){return this._draggable}},{key:"addEvent",value:function(t,e){var n=this.getId();y.a.on(t,"#".concat(n),e)}},{key:"removeEvent",value:function(t){var e=this.getId();y.a.off(t,"#".concat(e))}},{key:"getId",value:function(){return this.getElement().id}},{key:"setProperty",value:function(t){return this.getElement().setAttribute("__customProps__",t),this}}]),e}(v.a)},function(t,e,n){"use strict";var r=n(27),i=n(168),o=n(26);t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>a;)e[a++]=t;return e}},,,function(t,e,n){"use strict";function r(){this.reset()}e.a=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){o(i,t,this.t),o(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new r;function o(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}},function(t,e,n){"use strict";e.a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},function(t,e,n){"use strict";var r=function(t){this.propagationStopped,this.type=t,this.target=null};r.prototype.preventDefault=function(){this.propagationStopped=!0},r.prototype.stopPropagation=function(){this.propagationStopped=!0},e.a=r},function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=void 0!==i?i:[],s=0,a=e;a<n;a+=r)o[s++]=t.slice(a,a+r);return o.length=s,o}function i(t,e,n,i,o){for(var s=void 0!==o?o:[],a=0,u=0,c=n.length;u<c;++u){var l=n[u];s[a++]=r(t,e,l,i,s[a]),e=l}return s.length=a,s}e.a=r,e.b=i,e.c=function(t,e,n,r,o){for(var s=void 0!==o?o:[],a=0,u=0,c=n.length;u<c;++u){var l=n[u];s[a++]=i(t,e,l,r,s[a]),e=l[l.length-1]}return s.length=a,s}},function(t,e,n){"use strict";var r=n(373);e.a=function(t,e,n,i){return{type:r.g.geojsonTypes.FEATURE,properties:{meta:r.g.meta.VERTEX,parent:t,coord_path:n,active:i?r.g.activeStates.ACTIVE:r.g.activeStates.INACTIVE},geometry:{type:r.g.geojsonTypes.POINT,coordinates:e}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";e.a=function(t,e){return function(n){return n.lift(new o(t,e))}};var r=n(370),i=n(371);var o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.a)},function(t,e,n){"use strict";e.a=function(t,e){return function(n){var o;if(o="function"===typeof t?t:function(){return t},"function"===typeof e)return n.lift(new i(o,e));var s=Object.create(n,r.a);return s.source=n,s.subjectFactory=o,s}};var r=n(720);var i=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}()},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,n){"use strict";function r(t,e,n){return t+"/"+e+"/"+n}e.a=function(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]},e.d=r,e.c=function(t){return r(t[0],t[1],t[2])},e.b=function(t){return t.split("/").map(Number)},e.e=function(t){return(t[1]<<t[0])+t[2]},e.f=function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,s=e.getExtent();o=s?e.getTileRangeForExtentAndZ(s,n):e.getFullTileRange(n);return!o||o.containsXY(r,i)}},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),e.a=function(t){return t.reduce(function(t,e){var n,u,c,l,A,h,p,f=function(t){return s.map(function(e){return[e,t[e]].join(":")}).join(";")}(e);return t[f]||(t[f]={paint:(n=e,u=Object(r.b)(n["line-width"])?n["line-width"]:6,c=Object(r.c)(n["line-color"])?n["line-color"]:"gray",l=Object(r.a)(n["line-dash"])?a:null,A="ol"===i?null:(h=n["line-pattern"],p=o[h],p||null),A?{"line-width":u,"line-pattern":A}:l?{"line-width":u,"line-dash":l,"line-color":c}:{"line-width":u,"line-color":c}),filter:e.filter}),t},{})};var r=n(516),i="kd",o=["road-tap-100","road-tap-101","road-tap-102","road-tap-103"],s=["line-width","line-color","line-dash","line-pattern"],a="ol"===i?[10,10]:[2,2],u={entire:{key:"__passed__",value:0},passed:{key:"__passed__",value:1}}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(599),c=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o()(this,t),this._lngLat=e,this._timestamp=n,this._properties=r}return a()(t,[{key:"clone",value:function(){return new t(this._lngLat.concat(),this._timestamp,Object.assign({},this._properties))}},{key:"combineProperties",value:function(t){Object.assign(this._properties,t)}},{key:"destroy",value:function(){this._lngLat=null,this._timestamp=null,this._properties=null}},{key:"lngLat",get:function(){return this._lngLat.concat()}},{key:"timestamp",get:function(){return this._timestamp},set:function(t){this._timestamp=t}},{key:"properties",get:function(){return Object.assign({},this._properties)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._properties=Object.assign({},t)}}],[{key:"transform",value:function(e,n){var r=[e.longitude,e.latitude];return new t(n?u.a.wgs84togcj02(r):r,e.timestamp?new Date(e.timestamp).getTime():null,Object.assign({},e))}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return E});var r=n(169),i=(n.n(r),n(450)),o=(n.n(i),n(75)),s=(n.n(o),n(175)),a=(n.n(s),n(105)),u=(n.n(a),n(165)),c=(n.n(u),n(30)),l=(n.n(c),n(25)),A=(n.n(l),n(24)),h=(n.n(A),n(106)),p=(n.n(h),n(451)),f=(n.n(p),n(74)),g=n.n(f),d=n(101),y=n.n(d),v=n(172),m=n.n(v),C=n(102),I=(n(156),n(522),"getContainer"),_=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click","dblclick","contextmenu"],b=["movestart","moveend"],w=function(t,e){var n=e.getCanvasContainer(),r=n.getBoundingClientRect(),i=new C.a.kedamap.Point(t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop);return{point:i,lngLat:e.unproject(i)}},E=function(){function t(){g()(this,t)}return y()(t,null,[{key:"on",value:function(e,n){return function(r,i){var o=e[I](),s=i;if(-1!==_.indexOf(r)){if(t._directlyEvents.has(e)||t._directlyEvents.set(e,new Set),!t._directlyEvents.get(e).has(r)){var a=t._onDirectlyDOMEvent(e,r),u=r;u=u,o.addEventListener(u,a),t._directlyEvents.get(e).add(r),t._mapEventBindListenerSet=t._mapEventBindListenerSet||{},t._mapEventBindListenerSet[r]=t._mapEventBindListenerSet[r]||new Set,t._mapEventBindListenerSet[r].add(a)}}else{if(-1===b.indexOf(r))throw new Error('Map event system do not support "'.concat(r,'" event, \n                    please use one of these : [').concat(_.concat(b).toString(),"]"));if(t._delegateEvents.has(e)||t._delegateEvents.set(e,new Set),!t._delegateEvents.get(e).has(r)){var c=t._onDelegateMapEvent(e,r);e.on(r,c),t._delegateEvents.get(e).add(r),t._mapEventBindListenerSet=t._mapEventBindListenerSet||{},t._mapEventBindListenerSet["@@map@@".concat(r)]=t._mapEventBindListenerSet["@@map@@".concat(r)]||new Set,t._mapEventBindListenerSet["@@map@@".concat(r)].add(c)}}n?t._setOneTimeListenerDepts(e,r,i,s):t._setListenerDepts(e,r,i,s)}}},{key:"once",value:function(e){return t.on(e,!0)}},{key:"off",value:function(e){return function(n,r){var i=t._mapListenerDepts.get(e)||{};if(!m()(i)){var o=i[n];null!=o&&0!==o.size&&(r?i[n].delete(r):console.error("\n                    Uncaught TypeError: Failed to execute 'removeEventListener' on 'EventTarget': \n                    2 arguments required, but only 1 present.\n                    Expected (type:string,listener:Function).\n                "),t._mapListenerDepts.set(e,i))}}}},{key:"clear",value:function(e){return function(){var n=t._mapListenerDepts.get(e)||{},r=t._mapEventBindListenerSet||new Set;if(!m()(n)&&!m()(r)){for(var i in n)n.hasOwnProperty(i)&&t.off(i);var o=function(t){if(r.hasOwnProperty(t)){var n=t.indexOf("@@map@@"),i=r[t];if(-1!==n){var o=t.slice(n+"@@map@@".length);i.forEach(function(t){e.off(o,t)})}else{var s=e[I]();i.forEach(function(e){s.removeEventListener(t,e)})}}};for(var s in r)o(s);t._directlyEvents.delete(e),t._delegateEvents.delete(e)}}}},{key:"_setListenerDepts",value:function(e,n,r,i){var o=t._mapListenerDepts.get(e)||{};o[n]=o[n]||new Map,i=i||r,o[n].set(r,i),o[n].size>100&&console.warn("\n                MaxListenersExceededWarning: Possible MapEvent memory leak detected. ".concat(o[n].size," \n                event listeners added to ").concat(n," type. Please check and make sure you really need these listeners!")),t._mapListenerDepts.set(e,o)}},{key:"_setOneTimeListenerDepts",value:function(e,n,r,i){var o=t._oneTimeMapListenerDepts.get(e)||{};o[n]=o[n]||new Map,i=i||r,o[n].set(r,i),o[n].size>100&&console.warn("\n                MaxListenersExceededWarning: Possible MapEvent memory leak detected. ".concat(o[n].size," \n                event listeners added to ").concat(n," type. Please check and make sure you really need these listeners!")),t._oneTimeMapListenerDepts.set(e,o)}},{key:"_onDirectlyDOMEvent",value:function(e,n){return function(r){var i=t._mapListenerDepts.get(e)||{},o=t._oneTimeMapListenerDepts.get(e)||{};if(!m()(i)||!m()(o)){var s=i[n]||new Set,a=o[n]||new Set;s.forEach(function(t){var i=w(r,e),o=i.point,s=i.lngLat;t(Object.assign({},r,{type:n,point:o,lngLat:s,originalEvent:r,target:e}))});for(var u=Array.from(a),c=0,l=u.length;c<l;c++){var A=u[c],h=w(r,e),p=h.point,f=h.lngLat;A(Object.assign({},r,{type:n,point:p,lngLat:f,originalEvent:r,target:e})),a.delete(A)}}}}},{key:"_onDelegateMapEvent",value:function(e,n){return function(r){var i=t._mapListenerDepts.get(e)||{};m()(i)||i[n].forEach(function(t){t(Object.assign({},{isTrusted:!0,type:n,target:r.target}))})}}}]),t}();E._directlyEvents=new WeakMap,E._delegateEvents=new WeakMap,E._mapListenerDepts=new Map,E._mapEventBindListenerSet={},E._oneTimeMapListenerDepts=new Map},function(t,e,n){"use strict";var r=n(19),i=n(8),o=n(27),s=n(180),a=n(170),u=n(26),c=n(178),l=n(171);i(i.S+i.F*!n(110)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,A,h=o(t),p="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,d=void 0!==g,y=0,v=l(h);if(d&&(g=r(g,f>2?arguments[2]:void 0,2)),void 0==v||p==Array&&a(v))for(n=new p(e=u(h.length));e>y;y++)c(n,y,d?g(h[y],y):h[y]);else for(A=v.call(h),n=new p;!(i=A.next()).done;y++)c(n,y,d?s(A,g,[i.value,y],!0):i.value);return n.length=y,n}})},function(t,e,n){"use strict";var r=n(181),i=n(38);t.exports=n(115)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(30),i=(n.n(r),n(25)),o=(n.n(i),n(24)),s=(n.n(o),n(106)),a=(n.n(s),n(169)),u=(n.n(a),n(165)),c=(n.n(u),n(74)),l=n.n(c),A=n(101),h=n.n(A),p=n(524),f=function(){function t(){l()(this,t)}return h()(t,null,[{key:"setDelegateContainer",value:function(e){t.delegateContainer=e||window.document}},{key:"delegate",value:function(e){var n=(1===e.eventPhase?t.captureEvents:t.bubbleEvents)[e.type];if(n){var r=e.target,i=t.matches(n,r,1===e.eventPhase);if(i.length){t.collectEventStops(e,"stopPropagation"),t.collectEventStops(e,"stopImmediatePropagation"),t.defineCurrentTarget(e,t.getCurrentTarget);for(var o=0,s=i.length;o<s&&!t.propagationStopped.get(e);o++){var a=i[o];t.currentTargets.set(e,a.node),a._matches.length>10&&console.warn("\n                MaxListenersExceededWarning: Possible DOM event memory leak detected. ".concat(a._matches.length," \n                event listeners added to ").concat(e.type," type. Please check and make sure you really need these listeners!"));for(var u=0,c=a._matches.length;u<c&&!t.immediatePropagationStopped.get(e);u++){a._matches[u].data.call(a.node,e)}}t.currentTargets.delete(e),t.defineCurrentTarget(e)}}}},{key:"getCurrentTarget",value:function(){return t.currentTargets.get(this)||null}},{key:"defineCurrentTarget",value:function(e,n){t.currentTargetDesc&&Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:n||t.currentTargetDesc.get})}},{key:"matches",value:function(t,e,n){var r=[],i=e;do{if(1!==i.nodeType)break;var o=t.matches(i);if(o.length){var s={node:i,_matches:o};n?r.unshift(s):r.push(s)}}while(i=i.parentNode);return r}},{key:"collectEventStops",value:function(e,n){var r=e[n];return e[n]=function(){return"stopPropagation"===n?t.propagationStopped.set(e,!0):"stopImmediatePropagation"===n&&(t.propagationStopped.set(e,!0),t.immediatePropagationStopped.set(e,!0)),r.call(e)},e}},{key:"on",value:function(e,n,r){var i=!!(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).capture,o=i?t.captureEvents:t.bubbleEvents,s=o[e];if(!s){s=new p.a,o[e]=s;document.addEventListener(e,t.delegate,i)}s.add(n,r)}},{key:"fire",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n}))}},{key:"off",value:function(e,n){var r=!!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).capture,i=r?t.captureEvents:t.bubbleEvents,o=i[e];if(o&&(o.remove(n),!o.size)){delete i[e];var s=e;document.removeEventListener(s,t.delegate,r)}}}]),t}();f.bubbleEvents={},f.captureEvents={},f.propagationStopped=new WeakMap,f.immediatePropagationStopped=new WeakMap,f.currentTargets=new WeakMap,f.currentTargetDesc=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget"),f.delegateContainer=window.document},function(t,e,n){for(var r,i=n(2),o=n(15),s=n(31),a=s("typed_array"),u=s("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,A=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");A<9;)(r=i[h[A++]])?(o(r.prototype,a,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:a,VIEW:u}},function(t,e,n){var r=n(48),i=n(26);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){"use strict";e.g=function(t){return[Object(r.e)(t[1],t[0]),Object(r.c)(t[2])]},e.a=function(t){var e=t[0],n=t[1],i=Object(r.g)(n);return[i*Object(r.g)(e),i*Object(r.t)(e),Object(r.t)(n)]},e.d=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},e.c=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},e.b=function(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]},e.f=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},e.e=function(t){var e=Object(r.u)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e};var r=n(372)},function(t,e,n){"use strict";e.a=function(t){return null===t?NaN:+t}},function(t,e,n){"use strict";e.b=function(t){return function(e,n){var i=Object(r.g)(e),o=Object(r.g)(n),s=t(i*o);return[s*o*Object(r.t)(e),s*Object(r.t)(n)]}},e.a=function(t){return function(e,n){var i=Object(r.u)(e*e+n*n),o=t(i),s=Object(r.t)(o),a=Object(r.g)(o);return[Object(r.e)(e*s,i*a),Object(r.c)(i&&n*s/i)]}};var r=n(372)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(549),u=n.n(a),c=n(373),l=function(){function t(e,n){i()(this,t),this.ctx=e,this.properties=n.properties||{},this.coordinates=n.geometry.coordinates,this.id=n.id||u()(),this.type=n.geometry.type}return s()(t,[{key:"changed",value:function(){this.ctx.store.featureChanged(this.id)}},{key:"incomingCoords",value:function(t){this.setCoordinates(t)}},{key:"setCoordinates",value:function(t){this.coordinates=t,this.changed()}},{key:"getCoordinates",value:function(){return JSON.parse(JSON.stringify(this.coordinates))}},{key:"setProperty",value:function(t,e){this.properties[t]=e}},{key:"toGeoJSON",value:function(){return JSON.parse(JSON.stringify({id:this.id,type:c.g.geojsonTypes.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))}},{key:"internal",value:function(t){var e={id:this.id,meta:c.g.meta.FEATURE,"meta:type":this.type,active:c.g.activeStates.INACTIVE,mode:t};if(this.ctx.options.userProperties)for(var n in this.properties)e["user_".concat(n)]=this.properties[n];return{type:c.g.geojsonTypes.FEATURE,properties:e,geometry:{coordinates:this.getCoordinates(),type:this.type}}}}]),t}()},function(t,e,n){"use strict";e.b=function(t){return"string"===typeof t?t:A(t)},e.a=function(t){return Array.isArray(t)?t:c(t)},e.c=A;var r=n(389),i=n(385),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$/i;var a,u,c=(a={},u=0,function(t){var e;if(a.hasOwnProperty(t))e=a[t];else{if(u>=1024){var n=0;for(var i in a)0===(3&n++)&&(delete a[i],--u)}e=function(t){var e,n,i,a,u;if(s.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),o.exec(t)){var c,A=t.length-1;c=A<=4?1:2;var h=4===A||8===A;e=parseInt(t.substr(1+0*c,c),16),n=parseInt(t.substr(1+1*c,c),16),i=parseInt(t.substr(1+2*c,c),16),a=h?parseInt(t.substr(1+3*c,c),16):255,1==c&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,h&&(a=(a<<4)+a)),u=[e,n,i,a/255]}else 0==t.indexOf("rgba(")?l(u=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((u=t.slice(4,-1).split(",").map(Number)).push(1),l(u)):Object(r.a)(!1,14);return u}(t),a[t]=e,++u}return e});function l(t){return t[0]=Object(i.a)(t[0]+.5|0,0,255),t[1]=Object(i.a)(t[1]+.5|0,0,255),t[2]=Object(i.a)(t[2]+.5|0,0,255),t[3]=Object(i.a)(t[3],0,1),t}function A(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,n){"use strict";function r(t){return Math.pow(t,3)}e.a=r,e.b=function(t){return 1-r(1-t)},e.c=function(t){return t}},function(t,e,n){"use strict";e.e=o,e.a=s,e.f=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var u=n[o];i=s(t,e,u,r,i),e=u[u.length-1]}return i},e.d=a,e.b=u,e.c=function(t,e,n,r,i,o,s,a,c,l,A){for(var h=A||[NaN,NaN],p=0,f=n.length;p<f;++p){var g=n[p];l=u(t,e,g,r,i,o,s,a,c,l,h),e=g[g.length-1]}return l};var r=n(385);function i(t,e,n,i,o,s,a){var u,c=t[e],l=t[e+1],A=t[n]-c,h=t[n+1]-l;if(0===A&&0===h)u=e;else{var p=((o-c)*A+(s-l)*h)/(A*A+h*h);if(p>1)u=n;else{if(p>0){for(var f=0;f<i;++f)a[f]=Object(r.c)(t[e+f],t[n+f],p);return void(a.length=i)}u=e}}for(var g=0;g<i;++g)a[g]=t[u+g];a.length=i}function o(t,e,n,i,o){var s=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var u=t[e],c=t[e+1],l=Object(r.e)(s,a,u,c);l>o&&(o=l),s=u,a=c}return o}function s(t,e,n,r,i){for(var s=0,a=n.length;s<a;++s){var u=n[s];i=o(t,e,u,r,i),e=u}return i}function a(t,e,n,o,s,a,u,c,l,A,h){if(e==n)return A;var p,f;if(0===s){if((f=Object(r.e)(u,c,t[e],t[e+1]))<A){for(p=0;p<o;++p)l[p]=t[e+p];return l.length=o,f}return A}for(var g=h||[NaN,NaN],d=e+o;d<n;)if(i(t,d-o,d,o,u,c,g),(f=Object(r.e)(u,c,g[0],g[1]))<A){for(A=f,p=0;p<o;++p)l[p]=g[p];l.length=o,d+=o}else d+=o*Math.max((Math.sqrt(f)-Math.sqrt(A))/s|0,1);if(a&&(i(t,n-o,e,o,u,c,g),(f=Object(r.e)(u,c,g[0],g[1]))<A)){for(A=f,p=0;p<o;++p)l[p]=g[p];l.length=o}return A}function u(t,e,n,r,i,o,s,u,c,l,A){for(var h=A||[NaN,NaN],p=0,f=n.length;p<f;++p){var g=n[p];l=a(t,e,g,r,i,o,s,u,c,l,h),e=g}return l}},function(t,e,n){"use strict";e.a=i,e.b=o,e.c=u,e.d=function(t,e,n,r,i,o,s,a){for(var c=0,l=n.length;c<l;++c){var A=n[c],h=[];s=u(t,e,A,r,i,o,s,h),a.push(h),e=A[A.length-1]}return s};var r=n(385);function i(t,e,n,i,o,s,a){var u=(n-e)/i;if(u<3){for(;e<n;e+=i)s[a++]=t[e],s[a++]=t[e+1];return a}var c=new Array(u);c[0]=1,c[u-1]=1;for(var l=[e,n-i],A=0;l.length>0;){for(var h=l.pop(),p=l.pop(),f=0,g=t[p],d=t[p+1],y=t[h],v=t[h+1],m=p+i;m<h;m+=i){var C=t[m],I=t[m+1],_=Object(r.f)(C,I,g,d,y,v);_>f&&(A=m,f=_)}f>o&&(c[(A-e)/i]=1,p+i<A&&l.push(p,A),A+i<h&&l.push(A,h))}for(var b=0;b<u;++b)c[b]&&(s[a++]=t[e+b*i],s[a++]=t[e+b*i+1]);return a}function o(t,e,n,r,o,s,a,u){for(var c=0,l=n.length;c<l;++c){var A=n[c];a=i(t,e,A,r,o,s,a),u.push(a),e=A}return a}function s(t,e){return e*Math.round(t/e)}function a(t,e,n,r,i,o,a){if(e==n)return a;var u,c,l=s(t[e],i),A=s(t[e+1],i);e+=r,o[a++]=l,o[a++]=A;do{if(u=s(t[e],i),c=s(t[e+1],i),(e+=r)==n)return o[a++]=u,o[a++]=c,a}while(u==l&&c==A);for(;e<n;){var h=s(t[e],i),p=s(t[e+1],i);if(e+=r,h!=u||p!=c){var f=u-l,g=c-A,d=h-l,y=p-A;f*y==g*d&&(f<0&&d<f||f==d||f>0&&d>f)&&(g<0&&y<g||g==y||g>0&&y>g)?(u=h,c=p):(o[a++]=u,o[a++]=c,l=u,A=c,u=h,c=p)}}return o[a++]=u,o[a++]=c,a}function u(t,e,n,r,i,o,s,u){for(var c=0,l=n.length;c<l;++c){var A=n[c];s=a(t,e,A,r,i,o,s),u.push(s),e=A}return s}},function(t,e,n){var r=n(14),i=n(10),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(463),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){"use strict";e.a=function(t){return"function"===typeof t}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(370),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(n(1071).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(370),i=n(725),o=function(t){function e(n,r){void 0===r&&(r=i.a.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.a(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i.a)},function(t,e,n){"use strict";e.a=function(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))};var r=n(374),i=n(727),o=n(587)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},function(t,e,n){"use strict";e.a=function t(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);if("function"===typeof n)return function(i){return i.pipe(t(function(t,r){return Object(u.a)(e(t,r)).pipe(Object(a.a)(function(e,i){return n(t,e,r,i)}))},r))};"number"===typeof n&&(r=n);return function(t){return t.lift(new c(e,r))}};var r=n(370),i=n(376),o=n(375),s=n(421),a=n(406),u=n(414);var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))},t}(),l=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new s.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},function(t,e,n){"use strict";e.a=function(t){void 0===t&&(t=null);return function(e){return e.lift(new o(t))}};var r=n(370),i=n(371);var o=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.defaultValue))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(156),u=n(102),c=function(){function t(){i()(this,t)}return s()(t,[{key:"getParams",value:function(t){if(!t.code&&!t.polygon)throw new Error("行政区划编码和面信息必须至少有一个!");var e={keyword:t.keyword,pageNumber:t.pageNo||1,pageSize:t.maxCount||u.a.config.MAP_SERVIC_MAX_PAGE};if(t.code&&(e.adminId=t.code),t.searchType&&(e.classCodes=t.searchType.join(",")),t.polygon){var n=t.polygon;Array.isArray(n[0][0][0])&&!Array.isArray(n[0][0][0][0])&&(e.geometry={type:"MultiPolygon",coordinates:n}),Array.isArray(n[0])&&!Array.isArray(n[0][0])&&(e.geometry={type:"Polygon",coordinates:[n]})}return e}},{key:"stringifyGetQuery",value:function(t){var e="?";for(var n in t)e+=n+"=",e+=void 0===t[n]?"":t[n],e+="&";return e}},{key:"stringifyParams",value:function(t){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e}},{key:"validateResult",value:function(t){return 200===t.status?void 0===t.result?{_type:"service"}:Array.isArray(t.result)||"boolean"===typeof t.result?t.result:(t.result._type="service",t.result):{_type:"service"}}},{key:"postXhr",value:function(t,e,n,r){var i=this;a.a.xhr({type:"POST",url:n,body:t,success:function(t){r?r(i.validateResult(t)):e.res=i.validateResult(t)},error:function(t){e.res=t}})}},{key:"getXhr",value:function(t,e){var n=this;a.a.xhr({type:"GET",url:e,headers:{Accept:"application/json"},success:function(e){t.res=n.validateResult(e)},error:function(e){t.res=e}})}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n(607),i=(n.n(r),n(25)),o=(n.n(i),n(24)),s=(n.n(o),n(162)),a=(n.n(s),n(104)),u=(n.n(a),n(30)),c=(n.n(u),n(74)),l=n.n(c),A=n(101),h=n.n(A),p=n(1248),f=n(778),g=n(447),d=n(386),y=n(448),v=function(){function t(){l()(this,t),this._segments=[],this._tempNode=null}return h()(t,[{key:"add",value:function(t){if(null!==this._tempNode){if(Object(f.a)(this._tempNode,t)){var e=new p.a(this._tempNode,t);this._segments.push(e),this._tempNode=t}}else this._tempNode=t}},{key:"size",value:function(){return this._segments.length}},{key:"firstNode",value:function(){return this._segments[0].prev}},{key:"lastNode",value:function(){var t=this.size();return this._segments[t-1].next}},{key:"destroy",value:function(){this._segments=[],this._tempNode=null}},{key:"getInfo",value:function(t,e){return t<=this._segments[0].prev.timestamp?this.startInfo(e):t>=this._segments[this.size()-1].next.timestamp?this.endInfo(e):this.middleInfo(t,e)}},{key:"startInfo",value:function(t){var e=this;return{index:0,node:this._segments[0].prev,rotation:this._segments[0].rotation,segments:{type:"FeatureCollection",features:this._segments.map(function(n){var r=n.toArray(),i=n.prev.properties;return i[g.b.entire.key]=g.b.entire.value,t&&e.combinePropertiesByRules(i,t),{type:"Feature",geometry:{type:"LineString",coordinates:r},properties:i}})}}}},{key:"endInfo",value:function(t){var e=this,n=this._segments[this.size()-1];return{index:this.size()-1,node:n.next,rotation:n.rotation,segments:{type:"FeatureCollection",features:this._segments.map(function(n){var r=n.toArray(),i=n.next.properties;return i[g.b.passed.key]=g.b.passed.value,t&&e.combinePropertiesByRules(i,t),{type:"Feature",geometry:{type:"LineString",coordinates:r},properties:i}})}}}},{key:"middleInfo",value:function(t,e){var n=null,r=null,i=[],o=0,s=!0,a=!1,u=void 0;try{for(var c,l=this._segments[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var A=c.value;if(t>A.next.timestamp){var h=A.prev.properties;h[g.b.passed.key]=g.b.passed.value,e&&this.combinePropertiesByRules(h,e),i.push({type:"Feature",geometry:{type:"LineString",coordinates:A.toArray()},properties:h})}else if(t<A.prev.timestamp){var p=A.next.properties;p[g.b.entire.key]=g.b.entire.value,e&&this.combinePropertiesByRules(p,e),i.push({type:"Feature",geometry:{type:"LineString",coordinates:A.toArray()},properties:p})}else{n=A,o=this._segments.indexOf(A);var f=A.prev.timestamp,v=(t-f)/(A.next.timestamp-f),m=A.distance*v,C=d.a.lineString(A.toArray()),I=d.a.along(C,m,{units:"kilometers"}).geometry.coordinates;r=new y.a(I,t,A.prev.properties);var _=A.prev.properties;_[g.b.passed.key]=g.b.passed.value,e&&this.combinePropertiesByRules(_,e),i.push({type:"Feature",geometry:{type:"LineString",coordinates:[A.prev.lngLat,I]},properties:_});var b=A.prev.properties;b[g.b.entire.key]=g.b.entire.value,e&&this.combinePropertiesByRules(b,e),i.push({type:"Feature",geometry:{type:"LineString",coordinates:[I,A.next.lngLat]},properties:b})}}}catch(t){a=!0,u=t}finally{try{s||null==l.return||l.return()}finally{if(a)throw u}}return{index:o,node:r,rotation:n.rotation,segments:{type:"FeatureCollection",features:i}}}},{key:"combinePropertiesByRules",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,u=a.field,c=a.values.find(function(e){return!e.validator||e.validator.every(function(e){return t[e.key]===e.value})});c&&(t[u]=c.value)}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(156),u=n(1254),c=n(784),l=n(1256),A=n(1257),h=n(1264),p=n(1268),f=15,g=function(){function t(e){i()(this,t),this.id=Object(a.b)(),this.type=e.type,this.onerror="function"===typeof e.onerror?e.onerror:null,this.onkeypointchange="function"===typeof e.onkeypointchange?e.onkeypointchange:null,this.ontrackerschange="function"===typeof e.ontrackerschange?e.onkeypointchange:null,this.onsubscribed="function"===typeof e.onsubscribed?e.onsubscribed:null,a.a.bindAll(["_oncreated","_subscribed","_onmessage","_onboundschange","_onboundschangeDelay","_onkeypointchange","_ontrackerschange"],this),this.clusterZoom="number"!==typeof e.clusterZoom||isNaN(e.clusterZoom)?f:e.clusterZoom,this.clusterManager=new l.a({serviceName:e.serviceName,gbids:e.gbids,terms:e.terms,businessTerms:e.businessTerms,clusterZoom:this.clusterZoom,clusterLayerProps:e.clusterProps}),this.trackerManager=new A.a(e.trackerProps,{parent:this,maxDuration:e.maxDuration,autoDirection:e.autoDirection,animation:e.animation,animationMinZoom:e.animationMinZoom,toGcj02:e.toGcj02,onkeypointchange:this._onkeypointchange,ontrackerschange:this._ontrackerschange}),this.subscriber=new h.a({traceType:e.traceType,serviceName:e.serviceName,gbids:e.gbids,terms:e.terms,businessTerms:e.businessTerms,traceZoom:this.clusterZoom}),this.boundschangeDelay=null,this.moveendManger=Object(p.a)("moveend",this._onboundschange),this.subscriber.bindMessageCallback(this._onmessage),this.subscriber.subscribe(this._getDynamicParams(),this._subscribed)}return s()(t,[{key:"addActorEvent",value:function(t,e){this.trackerManager.addActorEvent(t,e)}},{key:"removeActorEvent",value:function(t){this.trackerManager.removeActorEvent(t)}},{key:"addRouteEvent",value:function(t,e){this.trackerManager.addRouteEvent(t,e)}},{key:"removeRouteEvent",value:function(t){this.trackerManager.removeRouteEvent(t)}},{key:"addClusterEvent",value:function(t,e){this.clusterManager.addEvent(t,e)}},{key:"removeClusterEvent",value:function(t){this.clusterManager.removeEvent(t)}},{key:"setActor",value:function(t){var e=t.gbid,n=t.visible,r=t.template,i=t.width,o=t.height,s=t.icon,a=this.trackerManager.getTracker(e);if(a){if((r||s)&&a._actor.setImage({template:r,icon:s}),i&&a._actor.setWidth(i),o&&a._actor.setHeight(o),!0===n)return void a._actor.show();if(!1===n)return void a._actor.hide()}}},{key:"setSlot",value:function(t){var e=t.gbid,n=t.type,r=t.visible,i=t.template,o=this.trackerManager.getTracker(e);o&&o._actor.setSlot({type:n,visible:r,template:i})}},{key:"setTrack",value:function(t){var e=t.gbid,n=t.visible,r=this.trackerManager.getTracker(e);if(r){if(!0===n)return void r.showRoute();if(!1===n)return void r.hideRoute()}}},{key:"destroy",value:function(){this.subscriber.destroy(),this.subscriber=null,this.moveendManger.removeEventListener(),this.moveendManger=null,this.boundschangeDelay&&(clearTimeout(this.boundschangeDelay),this.boundschangeDelay=null),this.clusterManager.destroy(),this.clusterManager=null,this.trackerManager.destroy(),this.trackerManager=null}},{key:"_subscribed",value:function(t,e){var n=this;t?this.onerror&&this.onerror(new Error("SUBSCRIBED ERROR!")):(e.forEach(function(t){n.trackerManager.postMessage({traceType:0,data:t})}),this._onboundschangeDelay(),this.onsubscribed&&this.onsubscribed(this.id))}},{key:"_getDynamicParams",value:function(){var t=Math.ceil(Object(u.a)()),e=Object(c.a)().geometry;return"REALTIME_TRACK"===this.type?{currentZoom:t}:{currentZoom:t,bounds:e}}},{key:"_oncreated",value:function(){}},{key:"_onboundschange",value:function(){"REALTIME_TRACK"!==this.type&&(this.boundschangeDelay&&(clearTimeout(this.boundschangeDelay),this.boundschangeDelay=null),this.boundschangeDelay=setTimeout(this._onboundschangeDelay))}},{key:"_onboundschangeDelay",value:function(){this.subscriber.send(this._getDynamicParams()),Object(u.a)()<=this.clusterZoom?(this.clusterManager.active=!0,this.trackerManager.active=!1):(this.clusterManager.active=!1,this.trackerManager.active=!0)}},{key:"_onmessage",value:function(t){this.trackerManager.postMessage(JSON.parse(t.body))}},{key:"_onkeypointchange",value:function(t){this.onkeypointchange&&this.onkeypointchange(t)}},{key:"_ontrackerschange",value:function(t){this.ontrackerschange&&this.ontrackerschange(t)}}]),t}()},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(401),i=n(383);e.default=function(t,e,n){void 0===n&&(n={});var o=r.getCoord(t),s=r.getCoord(e),a=i.degreesToRadians(s[1]-o[1]),u=i.degreesToRadians(s[0]-o[0]),c=i.degreesToRadians(o[1]),l=i.degreesToRadians(s[1]),A=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(c)*Math.cos(l);return i.radiansToLength(2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A)),n.units)}},function(t,e,n){"use strict";var r=n(402),i=n(377);e.a=function(t,e,n,o){if(o=o||{},!Object(i.g)(o))throw new Error("options is invalid");var s=o.units,a=o.properties,u=Object(r.a)(t),c=Object(i.b)(u[0]),l=Object(i.b)(u[1]),A=Object(i.b)(n),h=Object(i.h)(e,s),p=Math.asin(Math.sin(l)*Math.cos(h)+Math.cos(l)*Math.sin(h)*Math.cos(A)),f=c+Math.atan2(Math.sin(A)*Math.sin(h)*Math.cos(l),Math.cos(h)-Math.sin(l)*Math.sin(p)),g=Object(i.l)(f),d=Object(i.l)(p);return Object(i.j)([g,d],a)}},function(t,e,n){"use strict";t.exports=i,t.exports.default=i;var r=n(840);function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=g(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],u(i,t.leaf?r(o):o);return i}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function A(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(t,e,n,i,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(s=e+Math.ceil((n-e)/i/2)*i,r(t,s,e,n,o),a.push(e,s,s,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!f(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],f(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!f(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],f(t,s=e.leaf?n(o):o)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,s,a=this.data,u=this.toBBox(t),c=[],l=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],n=l.pop(),s=!0),a.leaf&&-1!==(i=o(t,a.children,e)))return a.children.splice(i,1),c.push(a),this._condense(c),this;s||a.leaf||!p(a,u)?r?(n++,a=r.children[n],s=!1):a=null:(c.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return s(i=g(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=g([])).leaf=!1,i.height=r;var u,c,l,A,h=Math.ceil(o/a),p=h*Math.ceil(Math.sqrt(a));for(d(t,e,n,p,this.compareMinX),u=e;u<=n;u+=p)for(d(t,u,l=Math.min(u+p-1,n),h,this.compareMinY),c=u;c<=l;c+=h)A=Math.min(c+h-1,l),i.children.push(this._build(t,c,A,r-1));return s(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,c,l,h,p,f;r.push(e),!e.leaf&&r.length-1!==n;){for(l=h=1/0,i=0,o=e.children.length;i<o;i++)u=A(s=e.children[i]),p=t,f=s,(c=(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-u)<h?(h=c,l=u<l?u:l,a=s):c===h&&u<l&&(l=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),u(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=g(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,u,c,l,h,p,f,g,d,y,v;for(c=l=1/0,r=e;r<=n-e;r++)i=a(t,0,r,this.toBBox),o=a(t,r,n,this.toBBox),p=i,f=o,void 0,void 0,void 0,void 0,g=Math.max(p.minX,f.minX),d=Math.max(p.minY,f.minY),y=Math.min(p.maxX,f.maxX),v=Math.min(p.maxY,f.maxY),s=Math.max(0,y-g)*Math.max(0,v-d),u=A(i)+A(o),s<c?(c=s,h=r,l=u<l?u:l):s===c&&u<l&&(l=u,h=r);return h},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:c,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,c=a(t,0,e,s),l=a(t,n-e,n,s),A=h(c)+h(l);for(i=e;i<n-e;i++)o=t.children[i],u(c,t.leaf?s(o):o),A+=h(c);for(i=n-e-1;i>=e;i--)o=t.children[i],u(l,t.leaf?s(o):o),A+=h(l);return A},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)u(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,n){"use strict";var r=n(398);e.a=function(t){var e=[1/0,1/0,-1/0,-1/0];return Object(r.a)(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}},function(t,e,n){"use strict";e.b=s;var r=n(617),i=n(372);function o(t,e){return[t>i.o?t-i.w:t<-i.o?t+i.w:t,e]}function s(t,e,n){return(t%=i.w)?e||n?Object(r.a)(u(t),c(e,n)):u(t):e||n?c(e,n):o}function a(t){return function(e,n){return[(e+=t)>i.o?e-i.w:e<-i.o?e+i.w:e,n]}}function u(t){var e=a(t);return e.invert=a(-t),e}function c(t,e){var n=Object(i.g)(t),r=Object(i.t)(t),o=Object(i.g)(e),s=Object(i.t)(e);function a(t,e){var a=Object(i.g)(e),u=Object(i.g)(t)*a,c=Object(i.t)(t)*a,l=Object(i.t)(e),A=l*n+u*r;return[Object(i.e)(c*o-A*s,u*n-l*r),Object(i.c)(A*o+c*s)]}return a.invert=function(t,e){var a=Object(i.g)(e),u=Object(i.g)(t)*a,c=Object(i.t)(t)*a,l=Object(i.t)(e),A=l*o-c*s;return[Object(i.e)(c*o+l*s,u*n+A*r),Object(i.c)(A*n-u*r)]},a}o.invert=o,e.a=function(t){function e(e){return(e=t(e[0]*i.r,e[1]*i.r))[0]*=i.h,e[1]*=i.h,e}return t=s(t[0]*i.r,t[1]*i.r,t.length>2?t[2]*i.r:0),e.invert=function(e){return(e=t.invert(e[0]*i.r,e[1]*i.r))[0]*=i.h,e[1]*=i.h,e},e}},function(t,e,n){"use strict";e.a=r;function r(t){return function(e){var n=new i;for(var r in t)n[r]=t[r];return n.stream=e,n}}function i(){}i.prototype={constructor:i,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,e,n){"use strict";var r=n(925),i=n(929),o=n(373),s=n(485),a=[o.g.meta.FEATURE,o.g.meta.MIDPOINT,o.g.meta.VERTEX];function u(t,e,n,o){if(null===n.map)return[];var u=t?Object(i.a)(t,o):e,c={};n.options.styles&&(c.layers=n.options.styles.map(function(t){return t.id})),c.point=[t.lngLat.lng,t.lngLat.lat];var l=n.map.queryRenderedFeatures(u,c);"ol"===n.map.type&&(l=l.map(function(t){return{geometry:t.getGeometry(),properties:t.values_}})),l=l.filter(function(t){return t.properties&&-1!==a.indexOf(t.properties.meta)||t.values_&&t.values_.meta});var A=new s.a,h=[];return l.forEach(function(t){var e=t.properties.id;A.has(e)||(A.add(e),h.push(t))}),Object(r.a)(h)}e.a={click:function(t,e,n){return u(t,e,n,n.options.clickBuffer)},touch:function(t,e,n){return u(t,e,n,n.options.touchBuffer)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(417),i=(n.n(r),n(30)),o=(n.n(i),n(25)),s=(n.n(o),n(24)),a=(n.n(s),n(103)),u=(n.n(a),n(74)),c=n.n(u),l=n(101),A=n.n(l),h=function(){function t(e){if(c()(this,t),this._items={},this._nums={},this._length=e?e.length:0,e)for(var n=0,r=e.length;n<r;n++)this.add(e[n]),void 0!==e[n]&&("string"===typeof e[n]?this._items[e[n]]=n:this._nums[e[n]]=n)}return A()(t,[{key:"add",value:function(t){return this.has(t)?this:(this._length++,"string"===typeof t?this._items[t]=this._length:this._nums[t]=this._length,this)}},{key:"delete",value:function(t){return!1===this.has(t)?this:(this._length--,delete this._items[t],delete this._nums[t],this)}},{key:"has",value:function(t){return("string"===typeof t||"number"===typeof t)&&(void 0!==this._items[t]||void 0!==this._nums[t])}},{key:"values",value:function(){var t=this,e=[];return Object.keys(this._items).forEach(function(n){e.push({k:n,v:t._items[n]})}),Object.keys(this._nums).forEach(function(n){e.push({k:JSON.parse(n),v:t._nums[n]})}),e.sort(function(t,e){return t.v-e.v}).map(function(t){return t.k})}},{key:"clear",value:function(){return this._length=0,this._items={},this._nums={},this}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r=n(165),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(158),c=n.n(u),l=n(157),A=n.n(l),h=n(159),p=n.n(h),f=n(160),g=(n.n(f),n(458)),d=n(373),y=n(549),v=n.n(y),m=n(548),C=n(550),I=n(551),_={MultiPoint:m.a,MultiLineString:C.a,MultiPolygon:I.a},b=function(t,e,n,r,i){var o=n.split("."),s=parseInt(o[0],10),a=o[1]?o.slice(1).join("."):null;return t[s][e](a,r,i)},w=function(t){function e(t,n){var r;if(o()(this,e),delete(r=c()(this,A()(e).call(this,t,n))).coordinates,r.model=_[n.geometry.type],void 0===r.model)throw new TypeError("".concat(n.geometry.type," is not a valid type"));return r.features=r._coordinatesToFeatures(n.geometry.coordinates),r}return p()(e,t),a()(e,[{key:"_coordinatesToFeatures",value:function(t){var e=this,n=this.model.bind(this);return t.map(function(t){return new n(e.ctx,{id:v()(),type:d.g.geojsonTypes.FEATURE,properties:{},geometry:{coordinates:t,type:e.type.replace("Multi","")}})})}},{key:"isValid",value:function(){return this.features.every(function(t){return t.isValid()})}},{key:"setCoordinates",value:function(t){this.features=this._coordinatesToFeatures(t),this.changed()}},{key:"getCoordinate",value:function(t){return b(this.features,"getCoordinate",t)}},{key:"getCoordinates",value:function(){return JSON.parse(JSON.stringify(this.features.map(function(t){return t.type===d.g.geojsonTypes.POLYGON?t.getCoordinates():t.coordinates})))}},{key:"updateCoordinate",value:function(t,e,n){b(this.features,"updateCoordinate",t,e,n),this.changed()}},{key:"addCoordinate",value:function(t,e,n){b(this.features,"addCoordinate",t,e,n),this.changed()}},{key:"removeCoordinate",value:function(t){b(this.features,"removeCoordinate",t),this.changed()}},{key:"getFeatures",value:function(){return this.features}}]),e}(g.a)},function(t,e,n){"use strict";var r=n(648),i=n(404),o=n(407),s=n(438),a=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"===typeof t?new s.a(t):t,n=e.type;e.target=this;var r,i=this.listeners_[n];if(i){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var a=0,u=i.length;a<u;++a)if(!1===i[a].call(this,e)||e.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var c=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];c--;)this.removeEventListener(n,o.c);delete this.dispatching_[n]}return r}},e.prototype.disposeInternal=function(){Object(i.d)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var r=n.indexOf(e);t in this.pendingRemovals_?(n[r]=o.c,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t])}},e}(r.a);e.a=a},function(t,e,n){"use strict";var r=n(426),i=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};i.prototype.canWrapX=function(){return this.canWrapX_},i.prototype.getCode=function(){return this.code_},i.prototype.getExtent=function(){return this.extent_},i.prototype.getUnits=function(){return this.units_},i.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||r.a[this.units_]},i.prototype.getWorldExtent=function(){return this.worldExtent_},i.prototype.getAxisOrientation=function(){return this.axisOrientation_},i.prototype.isGlobal=function(){return this.global_},i.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},i.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},i.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},i.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},i.prototype.setWorldExtent=function(t){this.worldExtent_=t},i.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},i.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e.a=i},function(t,e,n){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,n){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(t,e,n){"use strict";var r=n(404),i=n(391),o=n(382),s=n(410),a=n(653),u=n(654),c=n(384),l=n(557),A=n(489),h=function(t){function e(e){var n=Object(c.a)({},e);delete n.source,t.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(r.a)(this,Object(s.b)(u.a.SOURCE),this.handleSourcePropertyChange_,this);var i=e.source?e.source:null;this.setSource(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(u.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():A.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(r.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(r.a)(t,i.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(r.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(r.e)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(r.a)(t,l.a.PRECOMPOSE,function(t){var e=t,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),e.frameState.layerStatesArray.push(n),e.frameState.layerStates[Object(o.c)(this)]=n},this),this.mapRenderKey_=Object(r.a)(this,i.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(u.a.SOURCE,t)},e}(a.a);e.a=h},function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},function(t,e,n){"use strict";e.a=function(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]};var r=n(564),i=n(428),o=n(384),s=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==r.a.POINTERDRAG)this.handleDragEvent(t);else if(t.type==r.a.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==r.a.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==r.a.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===r.a.POINTERDOWN||e===r.a.POINTERDRAG||e===r.a.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==r.a.POINTERUP?delete this.trackedPointers_[n]:t.type==r.a.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=Object(o.c)(this.trackedPointers_)}},e}(i.a);e.b=s},function(t,e,n){"use strict";var r=n(411),i=n(381),o=n(430),s=n(393),a=n(973),u=n(495),c=n(418),l=(n(652),n(567)),A=n(461),h=n(496),p=n(419),f=n(439),g=n(568),d=n(497),y=n(569),v=n(462),m=(n(385),function(t){function e(e,n,r){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(r.b)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,r){return r<Object(i.b)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(A.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(A.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return Object(h.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(l.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(y.d)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(f.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(i.q)(this.getExtent());this.flatInteriorPoint_=Object(g.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new u.a(this.getFlatInteriorPoint(),o.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new a.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,s=n.length;o<s;++o){var u=n[o],c=new a.a(e.slice(i,u),t);r.push(c),i=u}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(y.b)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(y.d)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Object(v.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,o.a.XY,r)},e.prototype.getType=function(){return s.a.POLYGON},e.prototype.intersectsExtent=function(t){return Object(d.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(p.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(c.a));e.a=m},function(t,e,n){"use strict";var r=n(381),i=n(393),o=n(418),s=n(419),a=n(385),u=function(t){function e(e,n){t.call(this),this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=Object(a.e)(t,e,i[0],i[1]);if(o<r){for(var s=this.stride,u=0;u<s;++u)n[u]=i[u];return n.length=s,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(r.i)(this.flatCoordinates,t)},e.prototype.getType=function(){return i.a.POINT},e.prototype.intersectsExtent=function(t){return Object(r.e)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s.a)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.a);e.a=u},function(t,e,n){"use strict";e.a=function(t,e,n,o,s){return!Object(r.o)(s,function(r){return!i(t,e,n,o,r[0],r[1])})},e.b=i,e.c=o,e.d=function(t,e,n,r,i,s){if(0===n.length)return!1;for(var a=0,u=n.length;a<u;++a){var c=n[a];if(o(t,e,c,r,i,s))return!0;e=c[c.length-1]}return!1};var r=n(381);function i(t,e,n,r,i,o){for(var s=0,a=t[n-r],u=t[n-r+1];e<n;e+=r){var c=t[e],l=t[e+1];u<=o?l>o&&(c-a)*(o-u)-(i-a)*(l-u)>0&&s++:l<=o&&(c-a)*(o-u)-(i-a)*(l-u)<0&&s--,a=c,u=l}return 0!==s}function o(t,e,n,r,o,s){if(0===n.length)return!1;if(!i(t,e,n[0],r,o,s))return!1;for(var a=1,u=n.length;a<u;++a)if(i(t,n[a-1],n[a],r,o,s))return!1;return!0}},function(t,e,n){"use strict";e.a=s,e.b=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){if(s(t,e,n[o],r,i))return!0;e=n[o]}return!1},e.c=a,e.d=function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var u=n[o];if(a(t,e,u,r,i))return!0;e=u[u.length-1]}return!1};var r=n(381),i=n(496),o=n(666);function s(t,e,n,i,s){var a=Object(r.n)(Object(r.f)(),t,e,n,i);return!!Object(r.x)(s,a)&&(!!Object(r.d)(s,a)||(a[0]>=s[0]&&a[2]<=s[2]||(a[1]>=s[1]&&a[3]<=s[3]||Object(o.a)(t,e,n,i,function(t,e){return Object(r.y)(s,t,e)}))))}function a(t,e,n,r,o){if(!function(t,e,n,r,o){return!!s(t,e,n,r,o)||!!Object(i.b)(t,e,n,r,o[0],o[1])||!!Object(i.b)(t,e,n,r,o[0],o[3])||!!Object(i.b)(t,e,n,r,o[2],o[1])||!!Object(i.b)(t,e,n,r,o[2],o[3])}(t,e,n[0],r,o))return!1;if(1===n.length)return!0;for(var a=1,u=n.length;a<u;++a)if(Object(i.a)(t,n[a-1],n[a],r,o)&&!s(t,n[a-1],n[a],r,o))return!1;return!0}},function(t,e,n){"use strict";n(672),n(980);var r=n(655);n.d(e,"a",function(){return r.a});var i=n(563);n.d(e,"b",function(){return i.a});var o=n(660);n.d(e,"c",function(){return o.a});n(661),n(562),n(656);var s=n(659);n.d(e,"d",function(){return s.a});var a=n(558);n.d(e,"e",function(){return a.b});var u=n(981);n.d(e,"f",function(){return u.a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=["simple_select","direct_select","draw_point","draw_polygon","draw_line_string","draw_circle","draw_triangle","draw_rectangle","draw_sector","draw_arrow","draw_bezier_arrow"].reduce(function(t,e){return t[e]=n(988)("./".concat(e)).default,t},{})},function(t,e,n){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var r=t.geometry,u=r.type,c=r.coordinates;var l=t.properties&&t.properties.id;var A=[];function h(t){return!!e.selectedPaths&&-1!==e.selectedPaths.indexOf(t)}function p(t,n){var r="",s=null;t.forEach(function(t,a){var u=void 0!==n&&null!==n?"".concat(n,".").concat(a):String(a),c=Object(i.a)(l,t,u,h(u));if(e.midpoints&&s){var p=Object(o.a)(l,s,c,e.map);p&&A.push(p)}s=c;var f=JSON.stringify(t);r!==f&&A.push(c),0===a&&(r=f)})}u===s.g.geojsonTypes.POINT?A.push(Object(i.a)(l,c,n,h(n))):u===s.g.geojsonTypes.POLYGON?c.forEach(function(t,e){p(t,null!==n?"".concat(n,".").concat(e):String(e))}):u===s.g.geojsonTypes.LINE_STRING?p(c,n):0===u.indexOf(s.g.geojsonTypes.MULTI_PREFIX)&&(f=u.replace(s.g.geojsonTypes.MULTI_PREFIX,""),c.forEach(function(n,r){var i={type:s.g.geojsonTypes.FEATURE,properties:t.properties,geometry:{type:f,coordinates:n}};A=A.concat(a(i,e,r))}));var f;return A};var r=n(165),i=(n.n(r),n(440)),o=n(989),s=n(373);function a(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var r=t.geometry,u=r.type,c=r.coordinates;var l=t.properties&&t.properties.id;var A=[];function h(t){if(!e.selectedPaths)return false;return e.selectedPaths.indexOf(t)!==-1}function p(t,n){var r="";var s=null;t.forEach(function(t,a){var u=n!==undefined&&n!==null?"".concat(n,".").concat(a):String(a);var c=Object(i["a"])(l,t,u,h(u));if(e.midpoints&&s){var p=Object(o["a"])(l,s,c,e.map);if(p){A.push(p)}}s=c;var f=JSON.stringify(t);if(r!==f){A.push(c)}if(a===0){r=f}})}function f(){var n=u.replace(s["g"].geojsonTypes.MULTI_PREFIX,"");c.forEach(function(r,i){var o={type:s["g"].geojsonTypes.FEATURE,properties:t.properties,geometry:{type:n,coordinates:r}};A=A.concat(a(o,e,i))})}if(u===s["g"].geojsonTypes.POINT){A.push(Object(i["a"])(l,c,n,h(n)))}else if(u===s["g"].geojsonTypes.POLYGON){c.forEach(function(t,e){p(t,n!==null?"".concat(n,".").concat(e):String(e))})}else if(u===s["g"].geojsonTypes.LINE_STRING){p(c,n)}else if(u.indexOf(s["g"].geojsonTypes.MULTI_PREFIX)===0){f()}return A}},function(t,e,n){"use strict";var r=n(990),i=n.n(r),o=n(373);e.a=function(t,e){var n=o.LAT_MIN,r=o.LAT_MAX,s=o.LAT_MIN,a=o.LAT_MAX,u=o.LNG_MAX,c=o.LNG_MIN;t.forEach(function(t){var e=i()(t),o=e[1],l=e[3],A=e[0],h=e[2];o>n&&(n=o),l<r&&(r=l),l>s&&(s=l),o<a&&(a=o),A<u&&(u=A),h>c&&(c=h)});var l=e;return n+l.lat>o.LAT_RENDERED_MAX&&(l.lat=o.LAT_RENDERED_MAX-n),s+l.lat>o.LAT_MAX&&(l.lat=o.LAT_MAX-s),r+l.lat<o.LAT_RENDERED_MIN&&(l.lat=o.LAT_RENDERED_MIN-r),a+l.lat<o.LAT_MIN&&(l.lat=o.LAT_MIN-a),u+l.lng<=o.LNG_MIN&&(l.lng+=360*Math.ceil(Math.abs(l.lng)/360)),c+l.lng>=o.LNG_MAX&&(l.lng-=360*Math.ceil(Math.abs(l.lng)/360)),l}},function(t,e,n){"use strict";var r=n(501),i=n(373);e.a=function(t,e){var n=Object(r.a)(t.map(function(t){return t.toGeoJSON()}),e);t.forEach(function(t){var e,r=t.getCoordinates(),o=function(t){var e={lng:t[0]+n.lng,lat:t[1]+n.lat};return[e.lng,e.lat]},s=function(t){return t.map(function(t){return o(t)})};t.type===i.g.geojsonTypes.POINT?e=o(r):t.type===i.g.geojsonTypes.LINE_STRING||t.type===i.g.geojsonTypes.MULTI_POINT?e=r.map(o):t.type===i.g.geojsonTypes.POLYGON||t.type===i.g.geojsonTypes.MULTI_LINE_STRING?(e=r.map(s),t.center&&(t.center=o(t.center)),t.properties.center&&(t.properties.center=o(t.properties.center))):t.type===i.g.geojsonTypes.MULTI_POLYGON&&(e=r.map(function(t){return t.map(function(t){return s(t)})})),t.incomingCoords(e)})}},function(t,e,n){"use strict";var r=n(8),i=n(173)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(174)("includes")},function(t,e,n){"use strict";var r=n(8),i=n(1001);r(r.P+r.F*n(1002)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(699),i=n.n(r),o=n(162),s=(n.n(o),n(104)),a=(n.n(s),n(30)),u=(n.n(a),n(1023)),c=(n.n(u),n(164)),l=n.n(c),A=n(74),h=n.n(A),p=n(101),f=n.n(p),g=n(1024),d={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},y=function(){function t(e){h()(this,t),this.options=b(Object.create(d),e),this.defaultCalcCountKey=null,this.trees=new Array(this.options.maxZoom+1)}return f()(t,[{key:"setReduceProps",value:function(t){return this.defaultCalcCountKey=t,this.options.initial=function(){return l()({},t,0)},this.options.map=function(e){return l()({},t,e[t])},this.options.reduce=function(e,n){e[t]+=n[t]||1},this}},{key:"loadTrees",value:function(t){this.trees=t}},{key:"load",value:function(t){var e=this.options,n=e.log,r=e.minZoom,o=e.maxZoom,s=e.nodeSize;n&&console.time("total time");var a="prepare ".concat(t.length," points");n&&console.time(a),this.points=t;for(var u,c,l,A,h,p,f,d=[],y=0;y<t.length;y++)t[y].geometry&&d.push((u=t[y],c=y,l=this.defaultCalcCountKey,void 0,void 0,void 0,void 0,A=i()(u.geometry.coordinates,2),h=A[0],p=A[1],f=u.properties[l],{x:I(h),y:_(p),zoom:1/0,index:c,parentId:-1,countValue:f}));this.trees[o+1]=new g.a(d,w,E,s,Float32Array),n&&console.timeEnd(a);for(var v=o;v>=r;v--){var m=+Date.now();d=this._cluster(d,v),this.trees[v]=new g.a(d,w,E,s,Float32Array),n&&console.log("z%d: %d clusters in %dms",v,d.length,+Date.now()-m)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var s=this.getClusters([n,r,180,o],e),a=this.getClusters([-180,r,i,o],e);return s.concat(a)}var u=this.trees[this._limitZoom(e)],c=u.range(I(n),_(o),I(i),_(r)),l=[],A=!0,h=!1,p=void 0;try{for(var f,g=c[Symbol.iterator]();!(A=(f=g.next()).done);A=!0){var d=f.value,y=u.points[d];l.push(y.numPoints?m(y):this.points[y.index])}}catch(t){h=!0,p=t}finally{try{A||null==g.return||g.return()}finally{if(h)throw p}}return l}},{key:"getClustersCached",value:function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var s=this.getClustersCached([n,r,180,o],e),a=this.getClustersCached([-180,r,i,o],e);return s.concat(a)}var u=this.trees[this._limitZoom(e)],c=this._range(u.ids,u.coords,I(n),_(o),I(i),_(r),u.nodeSize),l=[],A=!0,h=!1,p=void 0;try{for(var f,g=c[Symbol.iterator]();!(A=(f=g.next()).done);A=!0){var d=f.value,y=u.points[d];l.push(m(y))}}catch(t){h=!0,p=t}finally{try{A||null==g.return||g.return()}finally{if(h)throw p}}return l}},{key:"_range",value:function(t,e,n,r,i,o,s){for(var a,u,c=[0,t.length-1,0],l=[];c.length;){var A=c.pop(),h=c.pop(),p=c.pop();if(h-p<=s)for(var f=p;f<=h;f++)a=e[2*f],u=e[2*f+1],a>=n&&a<=i&&u>=r&&u<=o&&l.push(t[f]);else{var g=Math.floor((p+h)/2);a=e[2*g],u=e[2*g+1],a>=n&&a<=i&&u>=r&&u<=o&&l.push(t[g]);var d=(A+1)%2;(0===A?n<=a:r<=u)&&(c.push(p),c.push(g-1),c.push(d)),(0===A?i>=a:o>=u)&&(c.push(g+1),c.push(h),c.push(d))}}return l}},{key:"getChildren",value:function(t){var e=t>>5,n=t%32,r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);var s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=i.within(o.x,o.y,s),u=[],c=!0,l=!1,A=void 0;try{for(var h,p=a[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var f=h.value,g=i.points[f];g.parentId===t&&u.push(g.numPoints?m(g):this.points[g.index])}}catch(t){l=!0,A=t}finally{try{c||null==p.return||p.return()}finally{if(l)throw A}}if(0===u.length)throw new Error(r);return u}},{key:"getLeaves",value:function(t,e,n){e=e||10,n=n||0;var r=[];return this._appendLeaves(r,t,e,n,0),r}},{key:"getTile",value:function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,s=o.extent,a=o.radius/s,u=(n-a)/i,c=(n+1+a)/i,l={features:[]};return this._addTileFeatures(r.range((e-a)/i,u,(e+1+a)/i,c),r.points,e,n,i,l),0===e&&this._addTileFeatures(r.range(1-a/i,u,1,c),r.points,i,n,i,l),e===i-1&&this._addTileFeatures(r.range(0,u,a/i,c),r.points,-1,n,i,l),l.features.length?l:null}},{key:"getClusterExpansionZoom",value:function(t){for(var e=t%32-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e}},{key:"_appendLeaves",value:function(t,e,n,r,i){var o=this.getChildren(e),s=!0,a=!1,u=void 0;try{for(var c,l=o[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var A=c.value,h=A.properties;if(h&&h.cluster?i+h.point_count<=r?i+=h.point_count:i=this._appendLeaves(t,h.cluster_id,n,r,i):i<r?i++:t.push(A),t.length===n)break}}catch(t){a=!0,u=t}finally{try{s||null==l.return||l.return()}finally{if(a)throw u}}return i}},{key:"_addTileFeatures",value:function(t,e,n,r,i,o){var s=!0,a=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var A=e[c.value],h={type:1,geometry:[[Math.round(this.options.extent*(A.x*i-n)),Math.round(this.options.extent*(A.y*i-r))]],tags:A.numPoints?C(A):this.points[A.index].properties},p=A.numPoints?A.id:this.points[A.index].id;void 0!==p&&(h.id=p),o.features.push(h)}}catch(t){a=!0,u=t}finally{try{s||null==l.return||l.return()}finally{if(a)throw u}}}},{key:"_limitZoom",value:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))}},{key:"_cluster",value:function(t,e){for(var n=[],r=this.options,i=r.radius,o=r.extent,s=r.reduce,a=r.initial,u=i/(o*Math.pow(2,e)),c=0;c<t.length;c++){var l=t[c];if(!(l.zoom<=e)){l.zoom=e;var A=this.trees[e+1],h=A.within(l.x,l.y,u),p=l.numPoints||l.countValue||1,f=l.x*p,g=l.y*p,d=null;s&&(d=a(),this._accumulate(d,l));var y=(c<<5)+(e+1),m=!0,C=!1,I=void 0;try{for(var _,b=h[Symbol.iterator]();!(m=(_=b.next()).done);m=!0){var w=_.value,E=A.points[w];if(!(E.zoom<=e)){E.zoom=e;var B=E.numPoints||E.countValue||1;f+=E.x*B,g+=E.y*B,p+=B,E.parentId=y,s&&this._accumulate(d,E)}}}catch(t){C=!0,I=t}finally{try{m||null==b.return||b.return()}finally{if(C)throw I}}1===p?n.push(l):(l.parentId=y,n.push(v(f/p,g/p,y,p,d)))}}return n}},{key:"_accumulate",value:function(t,e){var n=this.options,r=n.map;(0,n.reduce)(t,e.numPoints?e.properties:r(this.points[e.index].properties))}}]),t}();function v(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function m(t){return{type:"Feature",id:t.id,properties:C(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function C(t){var e=t.numPoints,n=e>=1e4?"".concat(Math.round(e/1e3),"k"):e>=1e3?"".concat(Math.round(e/100)/10,"k"):e;return b(b({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function I(t){return t/360+.5}function _(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function b(t,e){for(var n in e)t[n]=e[n];return t}function w(t){return t.x}function E(t){return t.y}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,i=n(412),o=n(510),s=n(588);r||(r={});var a=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"===typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!==typeof e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(r.a)(n)?(t.pop(),Object(o.a)(t,n)):Object(i.a)(t)};var r=n(413),i=n(468),o=n(587)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(370),i=n(392),o=n(387),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r.a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.a)},function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.a)()(r.a.apply(void 0,t))};var r=n(510),i=n(732)},function(t,e,n){"use strict";e.a=function(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0};var r=n(396)},function(t,e,n){"use strict";e.a=function(t){void 0===t&&(t=u);return function(e){return e.lift(new s(t))}};var r=n(370),i=n(470),o=n(371);var s=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.errorFactory))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.a(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(o.a);function u(){return new i.a}},function(t,e,n){"use strict";e.a=function(t,e){if(arguments.length>=2)return function(n){return Object(s.a)(Object(r.a)(t,e),Object(i.a)(1),Object(o.a)(e))(n)};return function(e){return Object(s.a)(Object(r.a)(function(e,n,r){return t(e,n,r+1)}),Object(i.a)(1))(e)}};var r=n(596),i=n(595),o=n(473),s=n(584)},function(t,e,n){"use strict";e.b=function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)},e.a=function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},e.c=function(t){return"[object String]"===Object.prototype.toString.call(t)};var r=n(105),i=(n.n(r),n(24));n.n(i)},function(t,e,n){"use strict";e.a=function(t,e,n){void 0===n&&(n=[0,0]);return n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n},e.b=function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){t.exports=n(521)},function(t,e,n){var r=n(39),i=n(187),o=n(118),s=i(function(t,e){r(e,o(e),t)});t.exports=s},function(t,e,n){"use strict";e.a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null!=n.fineTolerance?n.fineTolerance:i,u=null!=n.grossTolerance?n.grossTolerance:o,c=null!=n.interval?n.interval:s;t.point=t.point||e.point,t.time=t.time||e.time;var l=Object(r.a)(t.point,e.point);return l<a||l<u&&e.time-t.time<c};var r=n(523),i=4,o=12,s=500},function(t,e,n){"use strict";e.a=function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}e.a=r;var i=window.document.documentElement,o=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector;r.prototype.matchesSelector=function(t,e){return o.call(t,e)},r.prototype.querySelectorAll=function(t,e){return e.querySelectorAll(t)},r.prototype.indexes=[];var s=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;r.prototype.indexes.push({name:"ID",selector:function(t){var e;if(e=t.match(s))return e[0].slice(1)},element:function(t){if(t.id)return[t.id]}});var a=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;r.prototype.indexes.push({name:"CLASS",selector:function(t){var e;if(e=t.match(a))return e[0].slice(1)},element:function(t){var e=t.className;if(e){if("string"===typeof e)return e.split(/\s/);if("object"===typeof e&&"baseVal"in e)return e.baseVal.split(/\s/)}}});var u,c=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;r.prototype.indexes.push({name:"TAG",selector:function(t){var e;if(e=t.match(c))return e[0].toUpperCase()},element:function(t){return[t.nodeName.toUpperCase()]}}),r.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},u="function"===typeof window.Map?window.Map:function(){function t(){this.map={}}return t.prototype.get=function(t){return this.map[t+" "]},t.prototype.set=function(t,e){this.map[t+" "]=e},t}();var l=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function A(t,e){var n,r,i,o,s,a,u=(t=t.slice(0).concat(t.default)).length,c=e,A=[];do{if(l.exec(""),(i=l.exec(c))&&(c=i[3],i[2]||!c))for(n=0;n<u;n++)if(s=(a=t[n]).selector(i[1])){for(r=A.length,o=!1;r--;)if(A[r].index===a&&A[r].key===s){o=!0;break}o||A.push({index:a,key:s});break}}while(i);return A}function h(t,e){var n,r,i;for(n=0,r=t.length;n<r;n++)if(i=t[n],e.isPrototypeOf(i))return i}function p(t,e){return t.id-e.id}r.prototype.logDefaultIndexUsed=function(){},r.prototype.add=function(t,e){var n,r,i,o,s,a,c,l,p=this.activeIndexes,f=this.selectors,g=this.selectorObjects;if("string"===typeof t){for(g[(n={id:this.uid++,selector:t,data:e}).id]=n,c=A(this.indexes,t),r=0;r<c.length;r++)o=(l=c[r]).key,(s=h(p,i=l.index))||((s=Object.create(i)).map=new u,p.push(s)),i===this.indexes.default&&this.logDefaultIndexUsed(n),(a=s.map.get(o))||(a=[],s.map.set(o,a)),a.push(n);this.size++,f.push(t)}},r.prototype.remove=function(t,e){if("string"===typeof t){var n,r,i,o,s,a,u,c,l=this.activeIndexes,h=this.selectors=[],p=this.selectorObjects,f={},g=1===arguments.length;for(n=A(this.indexes,t),i=0;i<n.length;i++)for(r=n[i],o=l.length;o--;)if(a=l[o],r.index.isPrototypeOf(a)){if(u=a.map.get(r.key))for(s=u.length;s--;)(c=u[s]).selector!==t||!g&&c.data!==e||(u.splice(s,1),f[c.id]=!0);break}for(i in f)delete p[i],this.size--;for(i in p)h.push(p[i].selector)}},r.prototype.queryAll=function(t){if(!this.selectors.length)return[];var e,n,r,i,o,s,a,u,c={},l=[],A=this.querySelectorAll(this.selectors.join(", "),t);for(e=0,r=A.length;e<r;e++)for(o=A[e],n=0,i=(s=this.matches(o)).length;n<i;n++)c[(u=s[n]).id]?a=c[u.id]:(a={id:u.id,selector:u.selector,data:u.data,elements:[]},c[u.id]=a,l.push(a)),a.elements.push(o);return l.sort(p)},r.prototype.matches=function(t){if(!t)return[];var e,n,r,i,o,s,a,u,c,l,A,h=this.activeIndexes,f={},g=[];for(e=0,i=h.length;e<i;e++)if(u=(a=h[e]).element(t))for(n=0,o=u.length;n<o;n++)if(c=a.map.get(u[n]))for(r=0,s=c.length;r<s;r++)!f[A=(l=c[r]).id]&&this.matchesSelector(t,l.selector)&&(f[A]=!0,g.push(l));return g.sort(p)}},function(t,e,n){"use strict";if(n(6)){var r=n(32),i=n(2),o=n(7),s=n(8),a=n(453),u=n(526),c=n(19),l=n(50),A=n(34),h=n(15),p=n(51),f=n(48),g=n(26),d=n(454),y=n(168),v=n(52),m=n(13),C=n(55),I=n(5),_=n(27),b=n(170),w=n(54),E=n(179),B=n(49).f,x=n(171),O=n(31),T=n(3),N=n(113),S=n(173),M=n(111),L=n(25),k=n(37),F=n(110),P=n(112),U=n(433),D=n(527),R=n(9),Q=n(53),j=R.f,H=Q.f,G=i.RangeError,z=i.TypeError,V=i.Uint8Array,K=Array.prototype,Y=u.ArrayBuffer,X=u.DataView,W=N(0),Z=N(2),J=N(3),q=N(4),$=N(5),tt=N(6),et=S(!0),nt=S(!1),rt=L.values,it=L.keys,ot=L.entries,st=K.lastIndexOf,at=K.reduce,ut=K.reduceRight,ct=K.join,lt=K.sort,At=K.slice,ht=K.toString,pt=K.toLocaleString,ft=T("iterator"),gt=T("toStringTag"),dt=O("typed_constructor"),yt=O("def_constructor"),vt=a.CONSTR,mt=a.TYPED,Ct=a.VIEW,It=N(1,function(t,e){return Bt(M(t,t[yt]),e)}),_t=o(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),bt=!!V&&!!V.prototype.set&&o(function(){new V(1).set({})}),wt=function(t,e){var n=f(t);if(n<0||n%e)throw G("Wrong offset!");return n},Et=function(t){if(I(t)&&mt in t)return t;throw z(t+" is not a typed array!")},Bt=function(t,e){if(!(I(t)&&dt in t))throw z("It is not a typed array constructor!");return new t(e)},xt=function(t,e){return Ot(M(t,t[yt]),e)},Ot=function(t,e){for(var n=0,r=e.length,i=Bt(t,r);r>n;)i[n]=e[n++];return i},Tt=function(t,e,n){j(t,e,{get:function(){return this._d[n]}})},Nt=function(t){var e,n,r,i,o,s,a=_(t),u=arguments.length,l=u>1?arguments[1]:void 0,A=void 0!==l,h=x(a);if(void 0!=h&&!b(h)){for(s=h.call(a),r=[],e=0;!(o=s.next()).done;e++)r.push(o.value);a=r}for(A&&u>2&&(l=c(l,arguments[2],2)),e=0,n=g(a.length),i=Bt(this,n);n>e;e++)i[e]=A?l(a[e],e):a[e];return i},St=function(){for(var t=0,e=arguments.length,n=Bt(this,e);e>t;)n[t]=arguments[t++];return n},Mt=!!V&&o(function(){pt.call(new V(1))}),Lt=function(){return pt.apply(Mt?At.call(Et(this)):Et(this),arguments)},kt={copyWithin:function(t,e){return D.call(Et(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return q(Et(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return U.apply(Et(this),arguments)},filter:function(t){return xt(this,Z(Et(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return $(Et(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Et(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){W(Et(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Et(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Et(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Et(this),arguments)},lastIndexOf:function(t){return st.apply(Et(this),arguments)},map:function(t){return It(Et(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(Et(this),arguments)},reduceRight:function(t){return ut.apply(Et(this),arguments)},reverse:function(){for(var t,e=Et(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return J(Et(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(Et(this),t)},subarray:function(t,e){var n=Et(this),r=n.length,i=y(t,r);return new(M(n,n[yt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===e?r:y(e,r))-i))}},Ft=function(t,e){return xt(this,At.call(Et(this),t,e))},Pt=function(t){Et(this);var e=wt(arguments[1],1),n=this.length,r=_(t),i=g(r.length),o=0;if(i+e>n)throw G("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Ut={entries:function(){return ot.call(Et(this))},keys:function(){return it.call(Et(this))},values:function(){return rt.call(Et(this))}},Dt=function(t,e){return I(t)&&t[mt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Rt=function(t,e){return Dt(t,e=v(e,!0))?A(2,t[e]):H(t,e)},Qt=function(t,e,n){return!(Dt(t,e=v(e,!0))&&I(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?j(t,e,n):(t[e]=n.value,t)};vt||(Q.f=Rt,R.f=Qt),s(s.S+s.F*!vt,"Object",{getOwnPropertyDescriptor:Rt,defineProperty:Qt}),o(function(){ht.call({})})&&(ht=pt=function(){return ct.call(this)});var jt=p({},kt);p(jt,Ut),h(jt,ft,Ut.values),p(jt,{slice:Ft,set:Pt,constructor:function(){},toString:ht,toLocaleString:Lt}),Tt(jt,"buffer","b"),Tt(jt,"byteOffset","o"),Tt(jt,"byteLength","l"),Tt(jt,"length","e"),j(jt,gt,{get:function(){return this[mt]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",A="get"+t,p="set"+t,f=i[c],y=f||{},v=f&&E(f),m=!f||!a.ABV,_={},b=f&&f.prototype,x=function(t,n){j(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[A](n*e+r.o,_t)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,_t)}(this,n,t)},enumerable:!0})};m?(f=n(function(t,n,r,i){l(t,f,c,"_d");var o,s,a,u,A=0,p=0;if(I(n)){if(!(n instanceof Y||"ArrayBuffer"==(u=C(n))||"SharedArrayBuffer"==u))return mt in n?Ot(f,n):Nt.call(f,n);o=n,p=wt(r,e);var y=n.byteLength;if(void 0===i){if(y%e)throw G("Wrong length!");if((s=y-p)<0)throw G("Wrong length!")}else if((s=g(i)*e)+p>y)throw G("Wrong length!");a=s/e}else a=d(n),o=new Y(s=a*e);for(h(t,"_d",{b:o,o:p,l:s,e:a,v:new X(o)});A<a;)x(t,A++)}),b=f.prototype=w(jt),h(b,"constructor",f)):o(function(){f(1)})&&o(function(){new f(-1)})&&F(function(t){new f,new f(null),new f(1.5),new f(t)},!0)||(f=n(function(t,n,r,i){var o;return l(t,f,c),I(n)?n instanceof Y||"ArrayBuffer"==(o=C(n))||"SharedArrayBuffer"==o?void 0!==i?new y(n,wt(r,e),i):void 0!==r?new y(n,wt(r,e)):new y(n):mt in n?Ot(f,n):Nt.call(f,n):new y(d(n))}),W(v!==Function.prototype?B(y).concat(B(v)):B(y),function(t){t in f||h(f,t,y[t])}),f.prototype=b,r||(b.constructor=f));var O=b[ft],T=!!O&&("values"==O.name||void 0==O.name),N=Ut.values;h(f,dt,!0),h(b,mt,c),h(b,Ct,!0),h(b,yt,f),(u?new f(1)[gt]==c:gt in b)||j(b,gt,{get:function(){return c}}),_[c]=f,s(s.G+s.W+s.F*(f!=y),_),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o(function(){y.of.call(f,1)}),c,{from:Nt,of:St}),"BYTES_PER_ELEMENT"in b||h(b,"BYTES_PER_ELEMENT",e),s(s.P,c,kt),P(c),s(s.P+s.F*bt,c,{set:Pt}),s(s.P+s.F*!T,c,Ut),r||b.toString==ht||(b.toString=ht),s(s.P+s.F*o(function(){new f(1).slice()}),c,{slice:Ft}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!o(function(){b.toLocaleString.call([1,2])})),c,{toLocaleString:Lt}),k[c]=T?O:N,r||T||h(b,ft,N)}}else t.exports=function(){}},function(t,e,n){"use strict";var r=n(2),i=n(6),o=n(32),s=n(453),a=n(15),u=n(51),c=n(7),l=n(50),A=n(48),h=n(26),p=n(454),f=n(49).f,g=n(9).f,d=n(433),y=n(36),v="prototype",m="Wrong index!",C=r.ArrayBuffer,I=r.DataView,_=r.Math,b=r.RangeError,w=r.Infinity,E=C,B=_.abs,x=_.pow,O=_.floor,T=_.log,N=_.LN2,S=i?"_b":"buffer",M=i?"_l":"byteLength",L=i?"_o":"byteOffset";function k(t,e,n){var r,i,o,s=new Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,l=23===e?x(2,-24)-x(2,-77):0,A=0,h=t<0||0===t&&1/t<0?1:0;for((t=B(t))!=t||t===w?(i=t!=t?1:0,r=u):(r=O(T(t)/N),t*(o=x(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?l/o:l*x(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*x(2,e),r+=c):(i=t*x(2,c-1)*x(2,e),r=0));e>=8;s[A++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;a>0;s[A++]=255&r,r/=256,a-=8);return s[--A]|=128*h,s}function F(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,s=o>>1,a=i-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;a>0;l=256*l+t[u],u--,a-=8);for(r=l&(1<<-a)-1,l>>=-a,a+=e;a>0;r=256*r+t[u],u--,a-=8);if(0===l)l=1-s;else{if(l===o)return r?NaN:c?-w:w;r+=x(2,e),l-=s}return(c?-1:1)*r*x(2,l-e)}function P(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function U(t){return[255&t]}function D(t){return[255&t,t>>8&255]}function R(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function Q(t){return k(t,52,8)}function j(t){return k(t,23,4)}function H(t,e,n){g(t[v],e,{get:function(){return this[n]}})}function G(t,e,n,r){var i=p(+n);if(i+e>t[M])throw b(m);var o=t[S]._b,s=i+t[L],a=o.slice(s,s+e);return r?a:a.reverse()}function z(t,e,n,r,i,o){var s=p(+n);if(s+e>t[M])throw b(m);for(var a=t[S]._b,u=s+t[L],c=r(+i),l=0;l<e;l++)a[u+l]=c[o?l:e-l-1]}if(s.ABV){if(!c(function(){C(1)})||!c(function(){new C(-1)})||c(function(){return new C,new C(1.5),new C(NaN),"ArrayBuffer"!=C.name})){for(var V,K=(C=function(t){return l(this,C),new E(p(t))})[v]=E[v],Y=f(E),X=0;Y.length>X;)(V=Y[X++])in C||a(C,V,E[V]);o||(K.constructor=C)}var W=new I(new C(2)),Z=I[v].setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||u(I[v],{setInt8:function(t,e){Z.call(this,t,e<<24>>24)},setUint8:function(t,e){Z.call(this,t,e<<24>>24)}},!0)}else C=function(t){l(this,C,"ArrayBuffer");var e=p(t);this._b=d.call(new Array(e),0),this[M]=e},I=function(t,e,n){l(this,I,"DataView"),l(t,C,"DataView");var r=t[M],i=A(e);if(i<0||i>r)throw b("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw b("Wrong length!");this[S]=t,this[L]=i,this[M]=n},i&&(H(C,"byteLength","_l"),H(I,"buffer","_b"),H(I,"byteLength","_l"),H(I,"byteOffset","_o")),u(I[v],{getInt8:function(t){return G(this,1,t)[0]<<24>>24},getUint8:function(t){return G(this,1,t)[0]},getInt16:function(t){var e=G(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=G(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return P(G(this,4,t,arguments[1]))},getUint32:function(t){return P(G(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(G(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(G(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){z(this,1,t,U,e)},setUint8:function(t,e){z(this,1,t,U,e)},setInt16:function(t,e){z(this,2,t,D,e,arguments[2])},setUint16:function(t,e){z(this,2,t,D,e,arguments[2])},setInt32:function(t,e){z(this,4,t,R,e,arguments[2])},setUint32:function(t,e){z(this,4,t,R,e,arguments[2])},setFloat32:function(t,e){z(this,4,t,j,e,arguments[2])},setFloat64:function(t,e){z(this,8,t,Q,e,arguments[2])}});y(C,"ArrayBuffer"),y(I,"DataView"),a(I[v],s.VIEW,!0),e.ArrayBuffer=C,e.DataView=I},function(t,e,n){"use strict";var r=n(27),i=n(168),o=n(26);t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),a=i(t,s),u=i(e,s),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?s:i(c,s))-u,s-a),A=1;for(u<a&&a<u+l&&(A=-1,u+=l-1,a+=l-1);l-- >0;)u in n?n[a]=n[u]:delete n[a],a+=A,u+=A;return n}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(383),i=n(401);function o(t,e,n){if(void 0===n&&(n={}),!0===n.final)return function(t,e){var n=o(e,t);return n=(n+180)%360}(t,e);var s=i.getCoord(t),a=i.getCoord(e),u=r.degreesToRadians(s[0]),c=r.degreesToRadians(a[0]),l=r.degreesToRadians(s[1]),A=r.degreesToRadians(a[1]),h=Math.sin(c-u)*Math.cos(A),p=Math.cos(l)*Math.sin(A)-Math.sin(l)*Math.cos(A)*Math.cos(c-u);return r.radiansToDegrees(Math.atan2(h,p))}e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(383),i=n(401);e.default=function(t,e,n,o){void 0===o&&(o={});var s=i.getCoord(t),a=r.degreesToRadians(s[0]),u=r.degreesToRadians(s[1]),c=r.degreesToRadians(n),l=r.lengthToRadians(e,o.units),A=Math.asin(Math.sin(u)*Math.cos(l)+Math.cos(u)*Math.sin(l)*Math.cos(c)),h=a+Math.atan2(Math.sin(c)*Math.sin(l)*Math.cos(u),Math.cos(l)-Math.sin(u)*Math.sin(A)),p=r.radiansToDegrees(h),f=r.radiansToDegrees(A);return r.point([p,f],o.properties)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(403);e.default=function(t){var e=[1/0,1/0,-1/0,-1/0];return r.coordEach(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}},function(t,e,n){"use strict";var r=n(402),i=n(377);e.a=function(t,e,n){if(n=n||{},!Object(i.g)(n))throw new Error("options is invalid");var o=n.units,s=Object(r.a)(t),a=Object(r.a)(e),u=Object(i.b)(a[1]-s[1]),c=Object(i.b)(a[0]-s[0]),l=Object(i.b)(s[1]),A=Object(i.b)(a[1]),h=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(A);return Object(i.m)(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),o)}},function(t,e,n){(function(t){"use strict";function e(){}function n(t){this.message=t||""}function r(t){this.message=t||""}function i(t){this.message=t||""}function o(){}function s(t){return null===t?kt:t.color}function a(t){return null===t?null:t.parent}function u(t,e){null!==t&&(t.color=e)}function c(t){return null===t?null:t.left}function l(t){return null===t?null:t.right}function A(){this.root_=null,this.size_=0}function h(){}function p(){this.array_=[],arguments[0]instanceof Ct&&this.addAll(arguments[0])}function f(){}function g(t){this.message=t||""}function d(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var y=function(){};y.prototype.interfaces_=function(){return[]},y.prototype.getClass=function(){return y},y.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var v=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),m=function(){},C={MAX_VALUE:{configurable:!0}};m.isNaN=function(t){return Number.isNaN(t)},m.doubleToLongBits=function(t){return t},m.longBitsToDouble=function(t){return t},m.isInfinite=function(t){return!Number.isFinite(t)},C.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(m,C);var I=function(){},_=function(){},b=function(){},w=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},E={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};w.prototype.setOrdinate=function(t,e){switch(t){case w.X:this.x=e;break;case w.Y:this.y=e;break;case w.Z:this.z=e;break;default:throw new v("Invalid ordinate index: "+t)}},w.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!y.equalsWithTolerance(this.x,e.x,n)&&!!y.equalsWithTolerance(this.y,e.y,n)}},w.prototype.getOrdinate=function(t){switch(t){case w.X:return this.x;case w.Y:return this.y;case w.Z:return this.z}throw new v("Invalid ordinate index: "+t)},w.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||m.isNaN(this.z))&&m.isNaN(t.z)},w.prototype.equals=function(t){return t instanceof w&&this.equals2D(t)},w.prototype.equalInZ=function(t,e){return y.equalsWithTolerance(this.z,t.z,e)},w.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},w.prototype.clone=function(){},w.prototype.copy=function(){return new w(this)},w.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},w.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},w.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},w.prototype.hashCode=function(){var t=17;return 37*(t=37*t+w.hashCode(this.x))+w.hashCode(this.y)},w.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},w.prototype.interfaces_=function(){return[I,_,e]},w.prototype.getClass=function(){return w},w.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=m.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},E.DimensionalComparator.get=function(){return B},E.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},E.NULL_ORDINATE.get=function(){return m.NaN},E.X.get=function(){return 0},E.Y.get=function(){return 1},E.Z.get=function(){return 2},Object.defineProperties(w,E);var B=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new v("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};B.prototype.compare=function(t,e){var n=t,r=e,i=B.compare(n.x,r.x);if(0!==i)return i;var o=B.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:B.compare(n.z,r.z)},B.prototype.interfaces_=function(){return[b]},B.prototype.getClass=function(){return B},B.compare=function(t,e){return t<e?-1:t>e?1:m.isNaN(t)?m.isNaN(e)?0:-1:m.isNaN(e)?1:0};var x=function(){};x.prototype.create=function(){},x.prototype.interfaces_=function(){return[]},x.prototype.getClass=function(){return x};var O=function(){},T={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};O.prototype.interfaces_=function(){return[]},O.prototype.getClass=function(){return O},O.toLocationSymbol=function(t){switch(t){case O.EXTERIOR:return"e";case O.BOUNDARY:return"b";case O.INTERIOR:return"i";case O.NONE:return"-"}throw new v("Unknown location value: "+t)},T.INTERIOR.get=function(){return 0},T.BOUNDARY.get=function(){return 1},T.EXTERIOR.get=function(){return 2},T.NONE.get=function(){return-1},Object.defineProperties(O,T);var N=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},S=function(){},M={LOG_10:{configurable:!0}};S.prototype.interfaces_=function(){return[]},S.prototype.getClass=function(){return S},S.log10=function(t){var e=Math.log(t);return m.isInfinite(e)?e:m.isNaN(e)?e:e/S.LOG_10},S.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},S.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},S.wrap=function(t,e){return t<0?e- -t%e:t%e},S.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=i;return o>u&&(u=o),s>u&&(u=s),a>u&&(u=a),u}},S.average=function(t,e){return(t+e)/2},M.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(S,M);var L=function(t){this.str=t};L.prototype.append=function(t){this.str+=t},L.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},L.prototype.toString=function(t){return this.str};var k=function(t){this.value=t};k.prototype.intValue=function(){return this.value},k.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},k.isNaN=function(t){return Number.isNaN(t)};var F=function(){};F.isWhitespace=function(t){return t<=32&&t>=0||127===t},F.toUpperCase=function(t){return t.toUpperCase()};var P=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];t.call(this,t.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},U={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};P.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},P.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=P.magnitude(n._hi),i=P.TEN.pow(r);(n=n.divide(i)).gt(P.TEN)?(n=n.divide(P.TEN),r+=1):n.lt(P.ONE)&&(n=n.multiply(P.TEN),r-=1);for(var o=r+1,s=new L,a=P.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var c=Math.trunc(n._hi);if(c<0)break;var l=!1,A=0;c>9?(l=!0,A="9"):A="0"+c,s.append(A),n=n.subtract(P.valueOf(c)).multiply(P.TEN),l&&n.selfAdd(P.TEN);var h=!0,p=P.magnitude(n._hi);if(p<0&&Math.abs(p)>=a-u&&(h=!1),!h)break}return e[0]=r,s.toString()},P.prototype.sqr=function(){return this.multiply(this)},P.prototype.doubleValue=function(){return this._hi+this._lo},P.prototype.subtract=function(){if(arguments[0]instanceof P){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},P.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},P.prototype.isZero=function(){return 0===this._hi&&0===this._lo},P.prototype.selfSubtract=function(){if(arguments[0]instanceof P){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},P.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},P.prototype.min=function(t){return this.le(t)?this:t},P.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n,r,i,o,s=arguments[0],a=arguments[1],u=null,c=null,l=null,A=null;return i=this._hi/s,A=(u=(l=P.SPLIT*i)-(u=l-i))*(c=(A=P.SPLIT*s)-(c=A-s))-(o=i*s)+u*(r=s-c)+(n=i-u)*c+n*r,A=i+(l=(this._hi-o-A+this._lo-i*a)/s),this._hi=A,this._lo=i-A+l,this}},P.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},P.prototype.divide=function(){if(arguments[0]instanceof P){var t,e,n,r,i=arguments[0],o=null,s=null,a=null,u=null;return t=(n=this._hi/i._hi)-(o=(a=P.SPLIT*n)-(o=a-n)),u=o*(s=(u=P.SPLIT*i._hi)-(s=u-i._hi))-(r=n*i._hi)+o*(e=i._hi-s)+t*s+t*e,a=(this._hi-r-u+this._lo-n*i._lo)/i._hi,new P(u=n+a,n-u+a)}if("number"==typeof arguments[0]){var c=arguments[0];return m.isNaN(c)?P.createNaN():P.copy(this).selfDivide(c,0)}},P.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},P.prototype.pow=function(t){if(0===t)return P.valueOf(1);var e=new P(this),n=P.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},P.prototype.ceil=function(){if(this.isNaN())return P.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new P(t,e)},P.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},P.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},P.prototype.setValue=function(){if(arguments[0]instanceof P){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},P.prototype.max=function(t){return this.ge(t)?this:t},P.prototype.sqrt=function(){if(this.isZero())return P.valueOf(0);if(this.isNegative())return P.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=P.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},P.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e,n,r,i,o,s=arguments[0],a=null;return a=(r=this._hi+s)-(i=r-this._hi),n=(o=(a=s-i+(this._hi-a))+this._lo)+(r-(e=r+o)),this._hi=e+n,this._lo=n+(e-this._hi),this}}else if(2===arguments.length){var u,c,l,A,h=arguments[0],p=arguments[1],f=null,g=null,d=null;l=this._hi+h,c=this._lo+p,g=l-(d=l-this._hi),f=c-(A=c-this._lo);var y=(u=l+(d=(g=h-d+(this._hi-g))+c))+(d=(f=p-A+(this._lo-f))+(d+(l-u))),v=d+(u-y);return this._hi=y,this._lo=v,this}},P.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n,r,i=arguments[0],o=arguments[1],s=null,a=null,u=null,c=null;s=(u=P.SPLIT*this._hi)-this._hi,c=P.SPLIT*i,s=u-s,n=this._hi-s,a=c-i;var l=(u=this._hi*i)+(c=s*(a=c-a)-u+s*(r=i-a)+n*a+n*r+(this._hi*o+this._lo*i)),A=c+(s=u-l);return this._hi=l,this._lo=A,this}},P.prototype.selfSqr=function(){return this.selfMultiply(this)},P.prototype.floor=function(){if(this.isNaN())return P.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new P(t,e)},P.prototype.negate=function(){return this.isNaN()?this:new P(-this._hi,-this._lo)},P.prototype.clone=function(){},P.prototype.multiply=function(){if(arguments[0]instanceof P){var t=arguments[0];return t.isNaN()?P.createNaN():P.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return m.isNaN(e)?P.createNaN():P.copy(this).selfMultiply(e,0)}},P.prototype.isNaN=function(){return m.isNaN(this._hi)},P.prototype.intValue=function(){return Math.trunc(this._hi)},P.prototype.toString=function(){var t=P.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},P.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+P.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+P.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},P.prototype.reciprocal=function(){var t,e,n,r,i=null,o=null,s=null,a=null;t=(n=1/this._hi)-(i=(s=P.SPLIT*n)-(i=s-n)),o=(a=P.SPLIT*this._hi)-this._hi;var u=n+(s=(1-(r=n*this._hi)-(a=i*(o=a-o)-r+i*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new P(u,n-u+s)},P.prototype.toSciNotation=function(){if(this.isZero())return P.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=P.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},P.prototype.abs=function(){return this.isNaN()?P.NaN:this.isNegative()?this.negate():new P(this)},P.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},P.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},P.prototype.add=function(){if(arguments[0]instanceof P){var t=arguments[0];return P.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return P.copy(this).selfAdd(e)}},P.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof P){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},P.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},P.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},P.prototype.trunc=function(){return this.isNaN()?P.NaN:this.isPositive()?this.floor():this.ceil()},P.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},P.prototype.interfaces_=function(){return[e,I,_]},P.prototype.getClass=function(){return P},P.sqr=function(t){return P.valueOf(t).selfMultiply(t)},P.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return P.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new P(e)}},P.sqrt=function(t){return P.valueOf(t).sqrt()},P.parse=function(t){for(var e=0,n=t.length;F.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new P,s=0,a=0,u=0;!(e>=n);){var c=t.charAt(e);if(e++,F.isDigit(c)){var l=c-"0";o.selfMultiply(P.TEN),o.selfAdd(l),s++}else{if("."!==c){if("e"===c||"E"===c){var A=t.substring(e);try{u=k.parseInt(A)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+A+" in string "+t):e}break}throw new Error("Unexpected character '"+c+"' at position "+e+" in string "+t)}a=s}}var h=o,p=s-a-u;if(0===p)h=o;else if(p>0){var f=P.TEN.pow(p);h=o.divide(f)}else if(p<0){var g=P.TEN.pow(-p);h=o.multiply(g)}return r?h.negate():h},P.createNaN=function(){return new P(m.NaN,m.NaN)},P.copy=function(t){return new P(t)},P.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},P.stringOfChar=function(t,e){for(var n=new L,r=0;r<e;r++)n.append(t);return n.toString()},U.PI.get=function(){return new P(3.141592653589793,1.2246467991473532e-16)},U.TWO_PI.get=function(){return new P(6.283185307179586,2.4492935982947064e-16)},U.PI_2.get=function(){return new P(1.5707963267948966,6.123233995736766e-17)},U.E.get=function(){return new P(2.718281828459045,1.4456468917292502e-16)},U.NaN.get=function(){return new P(m.NaN,m.NaN)},U.EPS.get=function(){return 1.23259516440783e-32},U.SPLIT.get=function(){return 134217729},U.MAX_PRINT_DIGITS.get=function(){return 32},U.TEN.get=function(){return P.valueOf(10)},U.ONE.get=function(){return P.valueOf(1)},U.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},U.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(P,U);var D=function(){},R={DP_SAFE_EPSILON:{configurable:!0}};D.prototype.interfaces_=function(){return[]},D.prototype.getClass=function(){return D},D.orientationIndex=function(t,e,n){var r=D.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=P.valueOf(e.x).selfAdd(-t.x),o=P.valueOf(e.y).selfAdd(-t.y),s=P.valueOf(n.x).selfAdd(-e.x),a=P.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},D.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},D.intersection=function(t,e,n,r){var i=P.valueOf(r.y).selfSubtract(n.y).selfMultiply(P.valueOf(e.x).selfSubtract(t.x)),o=P.valueOf(r.x).selfSubtract(n.x).selfMultiply(P.valueOf(e.y).selfSubtract(t.y)),s=i.subtract(o),a=P.valueOf(r.x).selfSubtract(n.x).selfMultiply(P.valueOf(t.y).selfSubtract(n.y)),u=P.valueOf(r.y).selfSubtract(n.y).selfMultiply(P.valueOf(t.x).selfSubtract(n.x)),c=a.subtract(u).selfDivide(s).doubleValue(),l=P.valueOf(t.x).selfAdd(P.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),A=P.valueOf(e.x).selfSubtract(t.x).selfMultiply(P.valueOf(t.y).selfSubtract(n.y)),h=P.valueOf(e.y).selfSubtract(t.y).selfMultiply(P.valueOf(t.x).selfSubtract(n.x)),p=A.subtract(h).selfDivide(s).doubleValue(),f=P.valueOf(n.y).selfAdd(P.valueOf(r.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new w(l,f)},D.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=i-o;if(i>0){if(o<=0)return D.signum(s);r=i+o}else{if(!(i<0))return D.signum(s);if(o>=0)return D.signum(s);r=-i-o}var a=D.DP_SAFE_EPSILON*r;return s>=a||-s>=a?D.signum(s):2},D.signum=function(t){return t>0?1:t<0?-1:0},R.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(D,R);var Q=function(){},j={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};j.X.get=function(){return 0},j.Y.get=function(){return 1},j.Z.get=function(){return 2},j.M.get=function(){return 3},Q.prototype.setOrdinate=function(t,e,n){},Q.prototype.size=function(){},Q.prototype.getOrdinate=function(t,e){},Q.prototype.getCoordinate=function(){},Q.prototype.getCoordinateCopy=function(t){},Q.prototype.getDimension=function(){},Q.prototype.getX=function(t){},Q.prototype.clone=function(){},Q.prototype.expandEnvelope=function(t){},Q.prototype.copy=function(){},Q.prototype.getY=function(t){},Q.prototype.toCoordinateArray=function(){},Q.prototype.interfaces_=function(){return[_]},Q.prototype.getClass=function(){return Q},Object.defineProperties(Q,j);var H=function(){},G=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(H),z=function(){};z.arraycopy=function(t,e,n,r,i){for(var o=0,s=e;s<e+i;s++)n[r+o]=t[s],o++},z.getProperty=function(t){return{"line.separator":"\n"}[t]};var V=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof w&&arguments[1]instanceof w){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],c=arguments[1],l=arguments[2];this.x=u,this.y=c,this.w=l}else if(4===arguments.length){var A=arguments[0],h=arguments[1],p=arguments[2],f=arguments[3],g=A.y-h.y,d=h.x-A.x,y=A.x*h.y-h.x*A.y,v=p.y-f.y,m=f.x-p.x,C=p.x*f.y-f.x*p.y;this.x=d*C-m*y,this.y=v*y-g*C,this.w=g*m-v*d}};V.prototype.getY=function(){var t=this.y/this.w;if(m.isNaN(t)||m.isInfinite(t))throw new G;return t},V.prototype.getX=function(){var t=this.x/this.w;if(m.isNaN(t)||m.isInfinite(t))throw new G;return t},V.prototype.getCoordinate=function(){var t=new w;return t.x=this.getX(),t.y=this.getY(),t},V.prototype.interfaces_=function(){return[]},V.prototype.getClass=function(){return V},V.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-r.y,u=r.x-n.x,c=n.x*r.y-r.x*n.y,l=i*u-a*o,A=(o*c-u*s)/l,h=(a*s-i*c)/l;if(m.isNaN(A)||m.isInfinite(A)||m.isNaN(h)||m.isInfinite(h))throw new G;return new w(A,h)};var K=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof w){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},Y={serialVersionUID:{configurable:!0}};K.prototype.getArea=function(){return this.getWidth()*this.getHeight()},K.prototype.equals=function(t){if(!(t instanceof K))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},K.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new K;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new K(e,r,n,i)},K.prototype.isNull=function(){return this._maxx<this._minx},K.prototype.getMaxX=function(){return this._maxx},K.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof K){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},K.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof K){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof w){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},K.prototype.getMinY=function(){return this._miny},K.prototype.getMinX=function(){return this._minx},K.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof K){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},K.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},K.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},K.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},K.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},K.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},K.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},K.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},K.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},K.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},K.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof K){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof w){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},K.prototype.centre=function(){return this.isNull()?null:new w((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},K.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof K){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},K.prototype.getMaxY=function(){return this._maxy},K.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},K.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+w.hashCode(this._minx))+w.hashCode(this._maxx))+w.hashCode(this._miny))+w.hashCode(this._maxy)},K.prototype.interfaces_=function(){return[I,e]},K.prototype.getClass=function(){return K},K.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),c=Math.min(r.x,i.x),l=Math.max(r.x,i.x);return!(c>u)&&!(l<a)&&(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),c=Math.min(r.y,i.y),l=Math.max(r.y,i.y),!(c>u)&&!(l<a))}},Y.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(K,Y);var X={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},W=function(t){this.geometryFactory=t||new ye};W.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=X.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=X.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],J[n]&&(e=J[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},W.prototype.write=function(t){return this.extractGeometry(t)},W.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Z[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Z[e].apply(this,[t])+")"};var Z={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Z.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Z.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Z.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Z.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Z.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Z.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Z.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Z.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},J={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(X.spaces);return this.geometryFactory.createPoint(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(X.trimParens,"$1"),r.push(J.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(X.spaces),r.push(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(X.spaces),r.push(new w(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(X.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(X.trimParens,"$1"),r.push(J.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(X.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(X.trimParens,"$1"),n=J.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===a?i=r:s.push(r);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(X.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(X.trimParens,"$1"),r.push(J.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},q=function(t){this.parser=new W(t)};q.prototype.write=function(t){return this.parser.write(t)},q.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var $=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),tt=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.shouldNeverReachHere=function(){if(0===arguments.length)et.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt("Should never reach here"+(null!==t?": "+t:""))}},et.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],et.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new tt:new tt(e)},et.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],et.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new tt("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var nt=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new w,this._intPt[1]=new w,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},rt={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};nt.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},nt.prototype.getTopologySummary=function(){var t=new L;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},nt.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},nt.prototype.getIntersectionNum=function(){return this._result},nt.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},nt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},nt.prototype.setPrecisionModel=function(t){this._precisionModel=t},nt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},nt.prototype.getIntersection=function(t){return this._intPt[t]},nt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},nt.prototype.hasIntersection=function(){return this._result!==nt.NO_INTERSECTION},nt.prototype.getEdgeDistance=function(t,e){return nt.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},nt.prototype.isCollinear=function(){return this._result===nt.COLLINEAR_INTERSECTION},nt.prototype.toString=function(){return q.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+q.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},nt.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},nt.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},nt.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt},nt.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=r>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return et.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},nt.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return et.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},rt.DONT_INTERSECT.get=function(){return 0},rt.DO_INTERSECT.get=function(){return 1},rt.COLLINEAR.get=function(){return 2},rt.NO_INTERSECTION.get=function(){return 0},rt.POINT_INTERSECTION.get=function(){return 1},rt.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(nt,rt);var it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new K(this._inputLines[0][0],this._inputLines[0][1]),n=new K(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,K.intersects(n,r,e)&&0===at.orientationIndex(n,r,e)&&0===at.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=V.intersection(t,n,r,i)}catch(s){if(!(s instanceof G))throw s;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new w(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=D.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(o);z.out.println("DD in env = "+s+"  --------------------- "+o),i.distance(o)>1e-4&&z.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new w(t),o=new w(e),s=new w(n),a=new w(r),u=new w;this.normalizeToEnvCentre(i,o,s,a,u);var c=this.safeHCoordinateIntersection(i,o,s,a);return c.x+=u.x,c.y+=u.y,c},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=K.intersects(e,n,r),s=K.intersects(e,n,i),a=K.intersects(r,i,e),u=K.intersects(r,i,n);return o&&s?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,c=n.x<r.x?n.x:r.x,l=n.y<r.y?n.y:r.y,A=n.x>r.x?n.x:r.x,h=n.y>r.y?n.y:r.y,p=((o>c?o:c)+(a<A?a:A))/2,f=((s>l?s:l)+(u<h?u:h))/2;i.x=p,i.y=f,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!K.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=at.orientationIndex(e,n,r),s=at.orientationIndex(e,n,i);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=at.orientationIndex(r,i,e),u=at.orientationIndex(r,i,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new w(r):0===s?this._intPt[0]=new w(i):0===a?this._intPt[0]=new w(e):0===u&&(this._intPt[0]=new w(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=at.distancePointLine(t,n,r),s=at.distancePointLine(e,n,r);return s<o&&(o=s,i=e),(s=at.distancePointLine(n,t,e))<o&&(o=s,i=n),(s=at.distancePointLine(r,t,e))<o&&(o=s,i=r),i},e}(nt),ot=function(){};ot.prototype.interfaces_=function(){return[]},ot.prototype.getClass=function(){return ot},ot.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ot.signOfDet2x2(r,i,o,s)},ot.signOfDet2x2=function(t,e,n,r){var i=null,o=null,s=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if(n-=(s=Math.floor(n/t))*t,(r-=s*e)<0)return-i;if(r>e)return i;if(t>n+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if(t-=(s=Math.floor(t/n))*n,(e-=s*r)<0)return i;if(e>r)return-i;if(n>t+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var st=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};st.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=ot.signOfDet2x2(i,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},st.prototype.isPointInPolygon=function(){return this.getLocation()!==O.EXTERIOR},st.prototype.getLocation=function(){return this._isPointOnSegment?O.BOUNDARY:this._crossingCount%2==1?O.INTERIOR:O.EXTERIOR},st.prototype.isOnSegment=function(){return this._isPointOnSegment},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.locatePointInRing=function(){if(arguments[0]instanceof w&&N(arguments[1],Q)){for(var t=arguments[0],e=arguments[1],n=new st(t),r=new w,i=new w,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof w&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],u=new st(s),c=1;c<a.length;c++){var l=a[c],A=a[c-1];if(u.countSegment(l,A),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var at=function(){},ut={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.orientationIndex=function(t,e,n){return D.orientationIndex(t,e,n)},at.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(N(arguments[0],Q)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new w,c=new w,l=new w;s.getCoordinate(0,c),s.getCoordinate(1,l);var A=c.x;l.x-=A;for(var h=0,p=1;p<a-1;p++)u.y=c.y,c.x=l.x,c.y=l.y,s.getCoordinate(p+1,l),l.x-=A,h+=c.x*(u.y-l.y);return h/2}},at.distanceLineLine=function(t,e,n,r){if(t.equals(e))return at.distancePointLine(t,n,r);if(n.equals(r))return at.distancePointLine(r,t,e);var i=!1;if(K.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var s=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?S.min(at.distancePointLine(t,n,r),at.distancePointLine(e,n,r),at.distancePointLine(n,t,e),at.distancePointLine(r,t,e)):0},at.isPointInRing=function(t,e){return at.locatePointInRing(t,e)!==O.EXTERIOR},at.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new w;t.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,u=r.y,c=a-i,l=u-o;n+=Math.sqrt(c*c+l*l),i=a,o=u}return n},at.isCCW=function(t){var e=t.length-1;if(e<3)throw new v("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var s=r;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==r);var a=r;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==r);var u=t[s],c=t[a];if(u.equals2D(n)||c.equals2D(n)||u.equals2D(c))return!1;var l=at.computeOrientation(u,n,c);return 0===l?u.x>c.x:l>0},at.locatePointInRing=function(t,e){return st.locatePointInRing(t,e)},at.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},at.computeOrientation=function(t,e,n){return at.orientationIndex(t,e,n)},at.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new v("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=at.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),c=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(c<=0)return o.distance(s);if(c>=1)return o.distance(a);var l=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(l)*Math.sqrt(u)}},at.isOnLine=function(t,e){for(var n=new it,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},ut.CLOCKWISE.get=function(){return-1},ut.RIGHT.get=function(){return at.CLOCKWISE},ut.COUNTERCLOCKWISE.get=function(){return 1},ut.LEFT.get=function(){return at.COUNTERCLOCKWISE},ut.COLLINEAR.get=function(){return 0},ut.STRAIGHT.get=function(){return at.COLLINEAR},Object.defineProperties(at,ut);var ct=function(){};ct.prototype.filter=function(t){},ct.prototype.interfaces_=function(){return[]},ct.prototype.getClass=function(){return ct};var lt=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},At={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};lt.prototype.isGeometryCollection=function(){return this.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION},lt.prototype.getFactory=function(){return this._factory},lt.prototype.getGeometryN=function(t){return this},lt.prototype.getArea=function(){return 0},lt.prototype.isRectangle=function(){return!1},lt.prototype.equals=function(){if(arguments[0]instanceof lt){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof lt))return!1;var n=e;return this.equalsExact(n)}},lt.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},lt.prototype.geometryChanged=function(){this.apply(lt.geometryChangedFilter)},lt.prototype.geometryChangedAction=function(){this._envelope=null},lt.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},lt.prototype.getLength=function(){return 0},lt.prototype.getNumGeometries=function(){return 1},lt.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},lt.prototype.getUserData=function(){return this._userData},lt.prototype.getSRID=function(){return this._SRID},lt.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},lt.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION)throw new v("This method does not support GeometryCollection arguments")},lt.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},lt.prototype.norm=function(){var t=this.copy();return t.normalize(),t},lt.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},lt.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new K(this._envelope)},lt.prototype.setSRID=function(t){this._SRID=t},lt.prototype.setUserData=function(t){this._userData=t},lt.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},lt.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},lt.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===lt.SORTINDEX_MULTIPOINT||this.getSortIndex()===lt.SORTINDEX_MULTILINESTRING||this.getSortIndex()===lt.SORTINDEX_MULTIPOLYGON},lt.prototype.interfaces_=function(){return[_,I,e]},lt.prototype.getClass=function(){return lt},lt.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},lt.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},At.serialVersionUID.get=function(){return 0x799ea46522854c00},At.SORTINDEX_POINT.get=function(){return 0},At.SORTINDEX_MULTIPOINT.get=function(){return 1},At.SORTINDEX_LINESTRING.get=function(){return 2},At.SORTINDEX_LINEARRING.get=function(){return 3},At.SORTINDEX_MULTILINESTRING.get=function(){return 4},At.SORTINDEX_POLYGON.get=function(){return 5},At.SORTINDEX_MULTIPOLYGON.get=function(){return 6},At.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},At.geometryChangedFilter.get=function(){return ht},Object.defineProperties(lt,At);var ht=function(){};ht.interfaces_=function(){return[ct]},ht.filter=function(t){t.geometryChangedAction()};var pt=function(){};pt.prototype.filter=function(t){},pt.prototype.interfaces_=function(){return[]},pt.prototype.getClass=function(){return pt};var ft=function(){},gt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};ft.prototype.isInBoundary=function(t){},ft.prototype.interfaces_=function(){return[]},ft.prototype.getClass=function(){return ft},gt.Mod2BoundaryNodeRule.get=function(){return dt},gt.EndPointBoundaryNodeRule.get=function(){return yt},gt.MultiValentEndPointBoundaryNodeRule.get=function(){return vt},gt.MonoValentEndPointBoundaryNodeRule.get=function(){return mt},gt.MOD2_BOUNDARY_RULE.get=function(){return new dt},gt.ENDPOINT_BOUNDARY_RULE.get=function(){return new yt},gt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vt},gt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new mt},gt.OGC_SFS_BOUNDARY_RULE.get=function(){return ft.MOD2_BOUNDARY_RULE},Object.defineProperties(ft,gt);var dt=function(){};dt.prototype.isInBoundary=function(t){return t%2==1},dt.prototype.interfaces_=function(){return[ft]},dt.prototype.getClass=function(){return dt};var yt=function(){};yt.prototype.isInBoundary=function(t){return t>0},yt.prototype.interfaces_=function(){return[ft]},yt.prototype.getClass=function(){return yt};var vt=function(){};vt.prototype.isInBoundary=function(t){return t>1},vt.prototype.interfaces_=function(){return[ft]},vt.prototype.getClass=function(){return vt};var mt=function(){};mt.prototype.isInBoundary=function(t){return 1===t},mt.prototype.interfaces_=function(){return[ft]},mt.prototype.getClass=function(){return mt};var Ct=function(){};Ct.prototype.add=function(){},Ct.prototype.addAll=function(){},Ct.prototype.isEmpty=function(){},Ct.prototype.iterator=function(){},Ct.prototype.size=function(){},Ct.prototype.toArray=function(){},Ct.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var It=function(){};It.prototype.hasNext=function(){},It.prototype.next=function(){},It.prototype.remove=function(){};var _t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Ct);(r.prototype=new Error).name="NoSuchElementException";var bt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Ct&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Ct]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new wt(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new n;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(_t),wt=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new r;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(It),Et=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=!1,i=e.iterator();i.hasNext();)this.add(i.next(),n),r=!0;return r}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof w&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],u=arguments[1];if(arguments[2])for(var c=0;c<a.length;c++)this.add(a[c],u);else for(var l=a.length-1;l>=0;l--)this.add(a[l],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof w){var A=arguments[0],h=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(A>0&&this.get(A-1).equals2D(h))return null;if(A<p&&this.get(A).equals2D(h))return null}}t.prototype.add.call(this,A,h)}}else if(4===arguments.length){var f=arguments[0],g=arguments[1],d=arguments[2],y=arguments[3],v=1;d>y&&(v=-1);for(var m=d;m!==y;m+=v)this.add(f[m],g);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new w(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(bt),Bt=function(){},xt={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};xt.ForwardComparator.get=function(){return Ot},xt.BidirectionalComparator.get=function(){return Tt},xt.coordArrayType.get=function(){return new Array(0).fill(null)},Bt.prototype.interfaces_=function(){return[]},Bt.prototype.getClass=function(){return Bt},Bt.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},Bt.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Bt.indexOf(r,e)<0)return r}return null},Bt.scroll=function(t,e){var n=Bt.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);z.arraycopy(t,n,r,0,t.length-n),z.arraycopy(t,0,r,t.length-n,n),z.arraycopy(r,0,t,0,t.length)},Bt.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(0!==o.compare(r[s],i[s]))return!1;return!0}},Bt.intersection=function(t,e){for(var n=new Et,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Bt.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Bt.removeRepeatedPoints=function(t){return Bt.hasRepeatedPoints(t)?new Et(t,!1).toCoordinateArray():t},Bt.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},Bt.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},Bt.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new w(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new w(r[i+u])},Bt.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Bt.envelope=function(t){for(var e=new K,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Bt.toCoordinateArray=function(t){return t.toArray(Bt.coordArrayType)},Bt.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Bt.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Bt.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},Bt.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Bt.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Bt.extract=function(t,e,n){e=S.clamp(e,0,t.length);var r=(n=S.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=e;s<=n;s++)i[o++]=t[s];return i},Object.defineProperties(Bt,xt);var Ot=function(){};Ot.prototype.compare=function(t,e){return Bt.compare(t,e)},Ot.prototype.interfaces_=function(){return[b]},Ot.prototype.getClass=function(){return Ot};var Tt=function(){};Tt.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Bt.compare(n,r);return Bt.isEqualReversed(n,r)?0:i},Tt.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Bt.increasingDirection(n),o=Bt.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var c=n[s].compareTo(r[a]);if(0!==c)return c;s+=i,a+=o}return 0},Tt.prototype.interfaces_=function(){return[b]},Tt.prototype.getClass=function(){return Tt};var Nt=function(){};Nt.prototype.get=function(){},Nt.prototype.put=function(){},Nt.prototype.size=function(){},Nt.prototype.values=function(){},Nt.prototype.entrySet=function(){};var St=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Nt);(i.prototype=new Error).name="OperationNotSupported",(o.prototype=new Ct).contains=function(){};var Mt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Ct&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Lt(this)},e}(o),Lt=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new r;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new i},e}(It),kt=0;(A.prototype=new St).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},A.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:kt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:n,color:kt,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},A.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(a(t)===c(a(a(t)))){var e=l(a(a(t)));1===s(e)?(u(a(t),kt),u(e,kt),u(a(a(t)),1),t=a(a(t))):(t===l(a(t))&&(t=a(t),this.rotateLeft(t)),u(a(t),kt),u(a(a(t)),1),this.rotateRight(a(a(t))))}else{var n=c(a(a(t)));1===s(n)?(u(a(t),kt),u(n,kt),u(a(a(t)),1),t=a(a(t))):(t===c(a(t))&&(t=a(t),this.rotateRight(t)),u(a(t),kt),u(a(a(t)),1),this.rotateLeft(a(a(t))))}this.root_.color=kt},A.prototype.values=function(){var t=new bt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=A.successor(e));)t.add(e.value);return t},A.prototype.entrySet=function(){var t=new Mt,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=A.successor(e));)t.add(e);return t},A.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},A.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},A.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},A.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},A.prototype.size=function(){return this.size_};var Ft=function(){};Ft.prototype.interfaces_=function(){return[]},Ft.prototype.getClass=function(){return Ft},h.prototype=new o,(p.prototype=new h).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},p.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},p.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},p.prototype.remove=function(t){throw new i},p.prototype.size=function(){return this.array_.length},p.prototype.isEmpty=function(){return 0===this.array_.length},p.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},p.prototype.iterator=function(){return new Pt(this)};var Pt=function(t){this.treeSet_=t,this.position_=0};Pt.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new r;return this.treeSet_.array_[this.position_++]},Pt.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Pt.prototype.remove=function(){throw new i};var Ut=function(){};Ut.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},Ut.asList=function(t){for(var e=new bt,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var Dt=function(){},Rt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Rt.P.get=function(){return 0},Rt.L.get=function(){return 1},Rt.A.get=function(){return 2},Rt.FALSE.get=function(){return-1},Rt.TRUE.get=function(){return-2},Rt.DONTCARE.get=function(){return-3},Rt.SYM_FALSE.get=function(){return"F"},Rt.SYM_TRUE.get=function(){return"T"},Rt.SYM_DONTCARE.get=function(){return"*"},Rt.SYM_P.get=function(){return"0"},Rt.SYM_L.get=function(){return"1"},Rt.SYM_A.get=function(){return"2"},Dt.prototype.interfaces_=function(){return[]},Dt.prototype.getClass=function(){return Dt},Dt.toDimensionSymbol=function(t){switch(t){case Dt.FALSE:return Dt.SYM_FALSE;case Dt.TRUE:return Dt.SYM_TRUE;case Dt.DONTCARE:return Dt.SYM_DONTCARE;case Dt.P:return Dt.SYM_P;case Dt.L:return Dt.SYM_L;case Dt.A:return Dt.SYM_A}throw new v("Unknown dimension value: "+t)},Dt.toDimensionValue=function(t){switch(F.toUpperCase(t)){case Dt.SYM_FALSE:return Dt.FALSE;case Dt.SYM_TRUE:return Dt.TRUE;case Dt.SYM_DONTCARE:return Dt.DONTCARE;case Dt.SYM_P:return Dt.P;case Dt.SYM_L:return Dt.L;case Dt.SYM_A:return Dt.A}throw new v("Unknown dimension symbol: "+t)},Object.defineProperties(Dt,Rt);var Qt=function(){};Qt.prototype.filter=function(t){},Qt.prototype.interfaces_=function(){return[]},Qt.prototype.getClass=function(){return Qt};var jt=function(){};jt.prototype.filter=function(t,e){},jt.prototype.isDone=function(){},jt.prototype.isGeometryChanged=function(){},jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt};var Ht=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new v("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new K,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Ut.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Dt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Dt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new p(Ut.asList(this._geometries)),n=new p(Ut.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;u<s&&u<a;){var c=this.getGeometryN(u),l=o.getGeometryN(u),A=c.compareToSameClass(l,i);if(0!==A)return A;u++}return u<s?1:u<a?-1:0}},e.prototype.apply=function(){if(N(arguments[0],pt))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(N(arguments[0],jt)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(N(arguments[0],Qt)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(N(arguments[0],ct)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),et.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(lt),Gt=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Dt.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new zt(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Ft]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(Ht),zt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=ft.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};zt.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},zt.prototype.getBoundary=function(){return this._geom instanceof Wt?this.boundaryLineString(this._geom):this._geom instanceof Gt?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},zt.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},zt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},zt.prototype.computeBoundaryCoordinates=function(t){var e=new bt;this._endpointMap=new A;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return Bt.toCoordinateArray(e)},zt.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Vt,this._endpointMap.put(t,e)),e.count++},zt.prototype.interfaces_=function(){return[]},zt.prototype.getClass=function(){return zt},zt.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new zt(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new zt(e,n).getBoundary()}};var Vt=function(){this.count=null};Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt};var Kt=function(){},Yt={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt},Kt.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Kt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",s=new function(){}(new function(){}(Kt.getStackTrace(r))),a=0;a<i;a++)try{o+=s.readLine()+Kt.NEWLINE}catch(t){if(!(t instanceof f))throw t;et.shouldNeverReachHere()}return o}},Kt.split=function(t,e){for(var n=e.length,r=new bt,i=""+t,o=i.indexOf(e);o>=0;){var s=i.substring(0,o);r.add(s),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),u=0;u<a.length;u++)a[u]=r.get(u);return a},Kt.toString=function(){if(1===arguments.length){var t=arguments[0];return Kt.SIMPLE_ORDINATE_FORMAT.format(t)}},Kt.spaces=function(t){return Kt.chars(" ",t)},Yt.NEWLINE.get=function(){return z.getProperty("line.separator")},Yt.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Kt,Yt);var Xt=function(){};Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt},Xt.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Xt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,Q.X)===t.getOrdinate(e-1,Q.X)&&t.getOrdinate(0,Q.Y)===t.getOrdinate(e-1,Q.Y)},Xt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(t.getOrdinate(i,o)!==e.getOrdinate(i,o)&&(!m.isNaN(s)||!m.isNaN(a)))return!1}return!0},Xt.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Xt.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Xt.copy(e,i-1,r,o,1);return r},Xt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Xt.swap(t,r,e-r)},Xt.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Xt.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Xt.copyCoord(t,e+o,n,r+o)},Xt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new L;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Kt.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Xt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Xt.createClosedRing(t,e,4):e.getOrdinate(0,Q.X)===e.getOrdinate(n-1,Q.X)&&e.getOrdinate(0,Q.Y)===e.getOrdinate(n-1,Q.Y)?e:Xt.createClosedRing(t,e,n+1)},Xt.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Xt.copy(e,0,r,0,i);for(var o=i;o<n;o++)Xt.copy(e,0,r,o,1);return r};var Wt=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new K:this._points.expandEnvelope(new K)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Xt.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Dt.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return at.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Xt.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(N(arguments[0],pt))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(N(arguments[0],jt)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else N(arguments[0],Qt)?arguments[0].filter(this):N(arguments[0],ct)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new zt(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new v("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Ft]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(lt),Zt=function(){};Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt};var Jt=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new K;var t=new K;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Dt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(N(arguments[0],pt)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(N(arguments[0],jt)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else N(arguments[0],Qt)?arguments[0].filter(this):N(arguments[0],ct)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),et.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(lt),qt=function(){};qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt};var $t=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new v("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new v("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(at.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(at.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),c=t.getY(a);if(u!==o===(c!==s))return!1;o=u,s=c}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(r._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Ut.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);z.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=Bt.minCoordinate(e.getCoordinates());Bt.scroll(r,i),z.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],at.isCCW(e.getCoordinates())===n&&Bt.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,s=this._shell,a=o._shell,u=s.compareToSameClass(a,i);if(0!==u)return u;for(var c=this.getNumInteriorRing(),l=o.getNumInteriorRing(),A=0;A<c&&A<l;){var h=this.getInteriorRingN(A),p=o.getInteriorRingN(A),f=h.compareToSameClass(p,i);if(0!==f)return f;A++}return A<c?1:A<l?-1:0}},e.prototype.apply=function(t){if(N(t,pt)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(N(t,jt)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(N(t,Qt))t.filter(this);else if(N(t,ct)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[qt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(lt),te=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Dt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(Ht),ee=function(t){function e(e,n){e instanceof w&&n instanceof ye&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Dt.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Xt.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new v("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new v("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Wt),ne=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new bt,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[qt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(Ht),re=function(t){this._factory=t||null,this._isUserDataCopied=!1},ie={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};re.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},re.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},re.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof Ht?this.editGeometryCollection(t,e):t instanceof $t?this.editPolygon(t,e):t instanceof Jt?e.edit(t,this._factory):t instanceof Wt?e.edit(t,this._factory):(et.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},re.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new bt,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===te?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Gt?this._factory.createMultiLineString(r.toArray([])):n.getClass()===ne?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},re.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new bt,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||i.add(s)}return this._factory.createPolygon(r,i.toArray([]))},re.prototype.interfaces_=function(){return[]},re.prototype.getClass=function(){return re},re.GeometryEditorOperation=function(){},ie.NoOpGeometryOperation.get=function(){return oe},ie.CoordinateOperation.get=function(){return se},ie.CoordinateSequenceOperation.get=function(){return ae},Object.defineProperties(re,ie);var oe=function(){};oe.prototype.edit=function(t,e){return t},oe.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},oe.prototype.getClass=function(){return oe};var se=function(){};se.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof ee?e.createLinearRing(n):t instanceof Wt?e.createLineString(n):t instanceof Jt?n.length>0?e.createPoint(n[0]):e.createPoint():t},se.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ae=function(){};ae.prototype.edit=function(t,e){return t instanceof ee?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Wt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Jt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ae.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},ae.prototype.getClass=function(){return ae};var ue=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new w}else if(N(arguments[0],Q)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new w}},ce={serialVersionUID:{configurable:!0}};ue.prototype.setOrdinate=function(t,e,n){switch(e){case Q.X:this._coordinates[t].x=n;break;case Q.Y:this._coordinates[t].y=n;break;case Q.Z:this._coordinates[t].z=n;break;default:throw new v("invalid ordinateIndex")}},ue.prototype.size=function(){return this._coordinates.length},ue.prototype.getOrdinate=function(t,e){switch(e){case Q.X:return this._coordinates[t].x;case Q.Y:return this._coordinates[t].y;case Q.Z:return this._coordinates[t].z}return m.NaN},ue.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},ue.prototype.getCoordinateCopy=function(t){return new w(this._coordinates[t])},ue.prototype.getDimension=function(){return this._dimension},ue.prototype.getX=function(t){return this._coordinates[t].x},ue.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new ue(t,this._dimension)},ue.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},ue.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new ue(t,this._dimension)},ue.prototype.toString=function(){if(this._coordinates.length>0){var t=new L(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},ue.prototype.getY=function(t){return this._coordinates[t].y},ue.prototype.toCoordinateArray=function(){return this._coordinates},ue.prototype.interfaces_=function(){return[Q,e]},ue.prototype.getClass=function(){return ue},ce.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ue,ce);var le=function(){},Ae={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};le.prototype.readResolve=function(){return le.instance()},le.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new ue(t)}if(N(arguments[0],Q)){var e=arguments[0];return new ue(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new ue(n):new ue(n,r)}},le.prototype.interfaces_=function(){return[x,e]},le.prototype.getClass=function(){return le},le.instance=function(){return le.instanceObject},Ae.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Ae.instanceObject.get=function(){return new le},Object.defineProperties(le,Ae);var he=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new bt,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Mt;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(Nt),pe=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ge){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},fe={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};pe.prototype.equals=function(t){if(!(t instanceof pe))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},pe.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new k(n).compareTo(new k(r))},pe.prototype.getScale=function(){return this._scale},pe.prototype.isFloating=function(){return this._modelType===pe.FLOATING||this._modelType===pe.FLOATING_SINGLE},pe.prototype.getType=function(){return this._modelType},pe.prototype.toString=function(){var t="UNKNOWN";return this._modelType===pe.FLOATING?t="Floating":this._modelType===pe.FLOATING_SINGLE?t="Floating-Single":this._modelType===pe.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},pe.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return m.isNaN(t)?t:this._modelType===pe.FLOATING_SINGLE?t:this._modelType===pe.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof w){var e=arguments[0];if(this._modelType===pe.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},pe.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===pe.FLOATING?t=16:this._modelType===pe.FLOATING_SINGLE?t=6:this._modelType===pe.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},pe.prototype.setScale=function(t){this._scale=Math.abs(t)},pe.prototype.interfaces_=function(){return[e,I]},pe.prototype.getClass=function(){return pe},pe.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},fe.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},fe.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(pe,fe);var ge=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},de={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ge.prototype.readResolve=function(){return ge.nameToTypeMap.get(this._name)},ge.prototype.toString=function(){return this._name},ge.prototype.interfaces_=function(){return[e]},ge.prototype.getClass=function(){return ge},de.serialVersionUID.get=function(){return-552860263173159e4},de.nameToTypeMap.get=function(){return new he},Object.defineProperties(ge,de),pe.Type=ge,pe.FIXED=new ge("FIXED"),pe.FLOATING=new ge("FLOATING"),pe.FLOATING_SINGLE=new ge("FLOATING SINGLE");var ye=function t(){this._precisionModel=new pe,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?N(arguments[0],x)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof pe&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},ve={serialVersionUID:{configurable:!0}};ye.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new w(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new w(t.getMinX(),t.getMinY()),new w(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new w(t.getMinX(),t.getMinY()),new w(t.getMinX(),t.getMaxY()),new w(t.getMaxX(),t.getMaxY()),new w(t.getMaxX(),t.getMinY()),new w(t.getMinX(),t.getMinY())]),null)},ye.prototype.createLineString=function(t){return t?t instanceof Array?new Wt(this.getCoordinateSequenceFactory().create(t),this):N(t,Q)?new Wt(t,this):void 0:new Wt(this.getCoordinateSequenceFactory().create([]),this)},ye.prototype.createMultiLineString=function(){if(0===arguments.length)return new Gt(null,this);if(1===arguments.length){var t=arguments[0];return new Gt(t,this)}},ye.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(ye.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof $t)return this.createMultiPolygon(ye.toPolygonArray(t));if(a instanceof Wt)return this.createMultiLineString(ye.toLineStringArray(t));if(a instanceof Jt)return this.createMultiPoint(ye.toPointArray(t));et.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},ye.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},ye.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(N(arguments[0],Q)){var e=arguments[0];return new Jt(e,this)}}},ye.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},ye.prototype.createPolygon=function(){if(0===arguments.length)return new $t(null,null,this);if(1===arguments.length){if(N(arguments[0],Q)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ee){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new $t(r,i,this)}},ye.prototype.getSRID=function(){return this._SRID},ye.prototype.createGeometryCollection=function(){if(0===arguments.length)return new Ht(null,this);if(1===arguments.length){var t=arguments[0];return new Ht(t,this)}},ye.prototype.createGeometry=function(t){return new re(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},ye.prototype.getPrecisionModel=function(){return this._precisionModel},ye.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(N(arguments[0],Q)){var e=arguments[0];return new ee(e,this)}}},ye.prototype.createMultiPolygon=function(){if(0===arguments.length)return new ne(null,this);if(1===arguments.length){var t=arguments[0];return new ne(t,this)}},ye.prototype.createMultiPoint=function(){if(0===arguments.length)return new te(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new te(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(N(arguments[0],Q)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Xt.copy(n,i,o,0,1),r[i]=this.createPoint(o)}return this.createMultiPoint(r)}}},ye.prototype.interfaces_=function(){return[e]},ye.prototype.getClass=function(){return ye},ye.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.getDefaultCoordinateSequenceFactory=function(){return le.instance()},ye.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ye.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},ve.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(ye,ve);var me=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Ce=function(t){this.geometryFactory=t||new ye};Ce.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!Ie[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==me.indexOf(n)?Ie[n].apply(this,[e.coordinates]):"GeometryCollection"===n?Ie[n].apply(this,[e.geometries]):Ie[n].apply(this,[e])},Ce.prototype.write=function(t){var e=t.getGeometryType();if(!_e[e])throw new Error("Geometry is not supported");return _e[e].apply(this,[t])};var Ie={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!Ie[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Ie.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new w(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new w(t[0],t[1]),new w(t[2],t[1]),new w(t[2],t[3]),new w(t[0],t[3]),new w(t[0],t[1])])},Point:function(t){var e=new w(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Ie.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Ie.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Ie.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Ie.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],s=Ie.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(Ie.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},_e={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:_e.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=_e.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(_e.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=_e.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=_e.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=_e.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=_e.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(_e[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},be=function(t){this.geometryFactory=t||new ye,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ce(this.geometryFactory)};be.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===pe.FIXED&&this.reducePrecision(e),e},be.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var we=function(){this.parser=new Ce(this.geometryFactory)};we.prototype.write=function(t){return this.parser.write(t)};var Ee=function(){},Be={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Ee.prototype.interfaces_=function(){return[]},Ee.prototype.getClass=function(){return Ee},Ee.opposite=function(t){return t===Ee.LEFT?Ee.RIGHT:t===Ee.RIGHT?Ee.LEFT:t},Be.ON.get=function(){return 0},Be.LEFT.get=function(){return 1},Be.RIGHT.get=function(){return 2},Object.defineProperties(Ee,Be),(g.prototype=new Error).name="EmptyStackException",(d.prototype=new _t).add=function(t){return this.array_.push(t),!0},d.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},d.prototype.push=function(t){return this.array_.push(t),t},d.prototype.pop=function(t){if(0===this.array_.length)throw new g;return this.array_.pop()},d.prototype.peek=function(){if(0===this.array_.length)throw new g;return this.array_[this.array_.length-1]},d.prototype.empty=function(){return 0===this.array_.length},d.prototype.isEmpty=function(){return this.empty()},d.prototype.search=function(t){return this.array_.indexOf(t)},d.prototype.size=function(){return this.array_.length},d.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var xe=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};xe.prototype.getCoordinate=function(){return this._minCoord},xe.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},xe.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();et.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=at.computeOrientation(this._minCoord,n,e),i=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===at.COUNTERCLOCKWISE?i=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===at.CLOCKWISE&&(i=!0),i&&(this._minIndex=this._minIndex-1)},xe.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Ee.LEFT;return n[e].y<n[e+1].y&&(r=Ee.RIGHT),r},xe.prototype.getEdge=function(){return this._orientedDe},xe.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},xe.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},xe.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}et.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ee.LEFT&&(this._orientedDe=this._minDe.getSym())},xe.prototype.interfaces_=function(){return[]},xe.prototype.getClass=function(){return xe};var Oe=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new w(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}($),Te=function(){this.array_=[]};Te.prototype.addLast=function(t){this.array_.push(t)},Te.prototype.removeFirst=function(){return this.array_.shift()},Te.prototype.isEmpty=function(){return 0===this.array_.length};var Ne=function(){this._finder=null,this._dirEdgeList=new bt,this._nodes=new bt,this._rightMostCoord=null,this._env=null,this._finder=new xe};Ne.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Ne.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ne.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Oe("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Ne.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Ee.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Ne.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ne.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Ee.RIGHT)>=1&&e.getDepth(Ee.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Ne.prototype.computeDepths=function(t){var e=new Mt,n=new Te,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Ne.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Ne.prototype.getEnvelope=function(){if(null===this._env){for(var t=new K,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Ne.prototype.addReachable=function(t){var e=new d;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Ne.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Ee.LEFT,t.getDepth(Ee.RIGHT)),e.setDepth(Ee.RIGHT,t.getDepth(Ee.LEFT))},Ne.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},Ne.prototype.getNodes=function(){return this._nodes},Ne.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ne.prototype.interfaces_=function(){return[I]},Ne.prototype.getClass=function(){return Ne};var Se=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Ee.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Ee.ON]=o,this.location[Ee.LEFT]=s,this.location[Ee.RIGHT]=a}};Se.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Se.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==O.NONE)return!1;return!0},Se.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===O.NONE&&(this.location[e]=t)},Se.prototype.isLine=function(){return 1===this.location.length},Se.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Ee.ON]=this.location[Ee.ON],e[Ee.LEFT]=O.NONE,e[Ee.RIGHT]=O.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===O.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Se.prototype.getLocations=function(){return this.location},Se.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Ee.LEFT];this.location[Ee.LEFT]=this.location[Ee.RIGHT],this.location[Ee.RIGHT]=t},Se.prototype.toString=function(){var t=new L;return this.location.length>1&&t.append(O.toLocationSymbol(this.location[Ee.LEFT])),t.append(O.toLocationSymbol(this.location[Ee.ON])),this.location.length>1&&t.append(O.toLocationSymbol(this.location[Ee.RIGHT])),t.toString()},Se.prototype.setLocations=function(t,e,n){this.location[Ee.ON]=t,this.location[Ee.LEFT]=e,this.location[Ee.RIGHT]=n},Se.prototype.get=function(t){return t<this.location.length?this.location[t]:O.NONE},Se.prototype.isArea=function(){return this.location.length>1},Se.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===O.NONE)return!0;return!1},Se.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Ee.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Se.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(O.NONE)},Se.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Se.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se};var Me=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Se(e),this.elt[1]=new Se(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Se(n.elt[0]),this.elt[1]=new Se(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Se(O.NONE),this.elt[1]=new Se(O.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Se(o,s,a),this.elt[1]=new Se(o,s,a)}else if(4===arguments.length){var u=arguments[0],c=arguments[1],l=arguments[2],A=arguments[3];this.elt[0]=new Se(O.NONE,O.NONE,O.NONE),this.elt[1]=new Se(O.NONE,O.NONE,O.NONE),this.elt[u].setLocations(c,l,A)}};Me.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Me.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Me.prototype.isNull=function(t){return this.elt[t].isNull()},Me.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Me.prototype.isLine=function(t){return this.elt[t].isLine()},Me.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Se(t.elt[e]):this.elt[e].merge(t.elt[e])},Me.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Me.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Ee.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Me.prototype.toString=function(){var t=new L;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Me.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Me.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Me.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Ee.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},Me.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Me.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Me.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Se(this.elt[t].location[0]))},Me.prototype.interfaces_=function(){return[]},Me.prototype.getClass=function(){return Me},Me.toLineLabel=function(t){for(var e=new Me(O.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Le=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new bt,this._pts=new bt,this._label=new Me(O.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new bt,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Le.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=at.isCCW(this._ring.getCoordinates())},Le.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Le.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Oe("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Oe("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();et.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Le.prototype.getLinearRing=function(){return this._ring},Le.prototype.getCoordinate=function(t){return this._pts.get(t)},Le.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Le.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}},Le.prototype.isHole=function(){return this._isHole},Le.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Le.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!at.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Le.prototype.addHole=function(t){this._holes.add(t)},Le.prototype.isShell=function(){return null===this._shell},Le.prototype.getLabel=function(){return this._label},Le.prototype.getEdges=function(){return this._edges},Le.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Le.prototype.getShell=function(){return this._shell},Le.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,Ee.RIGHT);if(r===O.NONE)return null;if(this._label.getLocation(n)===O.NONE)return this._label.setLocation(n,r),null}},Le.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Le.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le};var ke=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Le),Fe=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new bt,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new ke(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Le),Pe=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Pe.prototype.setVisited=function(t){this._isVisited=t},Pe.prototype.setInResult=function(t){this._isInResult=t},Pe.prototype.isCovered=function(){return this._isCovered},Pe.prototype.isCoveredSet=function(){return this._isCoveredSet},Pe.prototype.setLabel=function(t){this._label=t},Pe.prototype.getLabel=function(){return this._label},Pe.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Pe.prototype.updateIM=function(t){et.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Pe.prototype.isInResult=function(){return this._isInResult},Pe.prototype.isVisited=function(){return this._isVisited},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe};var Ue=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Me(0,O.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=O.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==O.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Me(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Me)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===O.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=O.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case O.BOUNDARY:n=O.INTERIOR;break;case O.INTERIOR:default:n=O.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Pe),De=function(){this.nodeMap=new A,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};De.prototype.find=function(t){return this.nodeMap.get(t)},De.prototype.addNode=function(){if(arguments[0]instanceof w){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Ue){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},De.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},De.prototype.iterator=function(){return this.nodeMap.values().iterator()},De.prototype.values=function(){return this.nodeMap.values()},De.prototype.getBoundaryNodes=function(t){for(var e=new bt,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===O.BOUNDARY&&e.add(r)}return e},De.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},De.prototype.interfaces_=function(){return[]},De.prototype.getClass=function(){return De};var Re=function(){},Qe={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re},Re.isNorthern=function(t){return t===Re.NE||t===Re.NW},Re.isOpposite=function(t,e){return t!==e&&2===(t-e+4)%4},Re.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Re.isInHalfPlane=function(t,e){return e===Re.SE?t===Re.SE||t===Re.SW:t===e||t===e+1},Re.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new v("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Re.NE:Re.SE:e>=0?Re.NW:Re.SW}if(arguments[0]instanceof w&&arguments[1]instanceof w){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new v("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Re.NE:Re.SE:r.y>=n.y?Re.NW:Re.SW}},Qe.NE.get=function(){return 0},Qe.NW.get=function(){return 1},Qe.SW.get=function(){return 2},Qe.SE.get=function(){return 3},Object.defineProperties(Re,Qe);var je=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=i,this.init(o,s),this._label=a}};je.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:at.computeOrientation(t._p0,t._p1,this._p1)},je.prototype.getDy=function(){return this._dy},je.prototype.getCoordinate=function(){return this._p0},je.prototype.setNode=function(t){this._node=t},je.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},je.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},je.prototype.getDirectedCoordinate=function(){return this._p1},je.prototype.getDx=function(){return this._dx},je.prototype.getLabel=function(){return this._label},je.prototype.getEdge=function(){return this._edge},je.prototype.getQuadrant=function(){return this._quadrant},je.prototype.getNode=function(){return this._node},je.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},je.prototype.computeLabel=function(t){},je.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Re.quadrant(this._dx,this._dy),et.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},je.prototype.interfaces_=function(){return[I]},je.prototype.getClass=function(){return je};var He=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Me(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Oe("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Ee.LEFT)===O.INTERIOR&&this._label.getLocation(e,Ee.RIGHT)===O.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Ee.LEFT]+"/"+this._depth[Ee.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,O.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,O.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Ee.LEFT&&(r=-1);var i=Ee.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===O.EXTERIOR&&e===O.INTERIOR?1:t===O.INTERIOR&&e===O.EXTERIOR?-1:0},e}(je),Ge=function(){};Ge.prototype.createNode=function(t){return new Ue(t,null)},Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge};var ze=function(){if(this._edges=new bt,this._nodes=null,this._edgeEndList=new bt,0===arguments.length)this._nodes=new De(new Ge);else if(1===arguments.length){var t=arguments[0];this._nodes=new De(t)}};ze.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},ze.prototype.find=function(t){return this._nodes.find(t)},ze.prototype.addNode=function(){if(arguments[0]instanceof Ue){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof w){var e=arguments[0];return this._nodes.addNode(e)}},ze.prototype.getNodeIterator=function(){return this._nodes.iterator()},ze.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},ze.prototype.debugPrintln=function(t){z.out.println(t)},ze.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===O.BOUNDARY},ze.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},ze.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&at.computeOrientation(t,e,r)===at.COLLINEAR&&Re.quadrant(t,e)===Re.quadrant(n,r)},ze.prototype.getEdgeEnds=function(){return this._edgeEndList},ze.prototype.debugPrint=function(t){z.out.print(t)},ze.prototype.getEdgeIterator=function(){return this._edges.iterator()},ze.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},ze.prototype.insertEdge=function(t){this._edges.add(t)},ze.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},ze.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new He(n,!0),i=new He(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},ze.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},ze.prototype.getNodes=function(){return this._nodes.values()},ze.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},ze.prototype.interfaces_=function(){return[]},ze.prototype.getClass=function(){return ze},ze.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Ve=function(){this._geometryFactory=null,this._shellList=new bt;var t=arguments[0];this._geometryFactory=t};Ve.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},Ve.prototype.computePolygons=function(t){for(var e=new bt,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Ve.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Oe("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Ve.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new bt,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(o)}return r},Ve.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Ve.prototype.buildMaximalEdgeRings=function(t){for(var e=new bt,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new Fe(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},Ve.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Ve.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Ve.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),c=u.getLinearRing(),l=c.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var A=!1;l.contains(r)&&at.isPointInRing(i,c.getCoordinates())&&(A=!0),A&&(null===o||s.contains(l))&&(o=u)}return o},Ve.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return et.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Ve.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];ze.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new bt,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve};var Ke=function(){};Ke.prototype.getBounds=function(){},Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke};var Ye=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Ye.prototype.getItem=function(){return this._item},Ye.prototype.getBounds=function(){return this._bounds},Ye.prototype.interfaces_=function(){return[Ke,e]},Ye.prototype.getClass=function(){return Ye};var Xe=function(){this._size=null,this._items=null,this._size=0,this._items=new bt,this._items.add(null)};Xe.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Xe.prototype.size=function(){return this._size},Xe.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Xe.prototype.clear=function(){this._size=0,this._items.clear()},Xe.prototype.isEmpty=function(){return 0===this._size},Xe.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe};var We=function(){};We.prototype.visitItem=function(t){},We.prototype.interfaces_=function(){return[]},We.prototype.getClass=function(){return We};var Ze=function(){};Ze.prototype.insert=function(t,e){},Ze.prototype.remove=function(t,e){},Ze.prototype.query=function(){},Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze};var Je=function(){if(this._childBoundables=new bt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},qe={serialVersionUID:{configurable:!0}};Je.prototype.getLevel=function(){return this._level},Je.prototype.size=function(){return this._childBoundables.size()},Je.prototype.getChildBoundables=function(){return this._childBoundables},Je.prototype.addChildBoundable=function(t){et.isTrue(null===this._bounds),this._childBoundables.add(t)},Je.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Je.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Je.prototype.interfaces_=function(){return[Ke,e]},Je.prototype.getClass=function(){return Je},qe.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Je,qe);var $e=function(){};$e.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},$e.min=function(t){return $e.sort(t),t.get(0)},$e.sort=function(t,e){var n=t.toArray();e?Ut.sort(n,e):Ut.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},$e.singletonList=function(t){var e=new bt;return e.add(t),e};var tn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tn.prototype.expandToQueue=function(t,e){var n=tn.isComposite(this._boundable1),r=tn.isComposite(this._boundable2);if(n&&r)return tn.area(this._boundable1)>tn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new v("neither boundable is composite")},tn.prototype.isLeaves=function(){return!(tn.isComposite(this._boundable1)||tn.isComposite(this._boundable2))},tn.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tn.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),s=new tn(o,e,this._itemDistance);s.getDistance()<r&&n.add(s)}},tn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tn.prototype.getDistance=function(){return this._distance},tn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tn.prototype.interfaces_=function(){return[I]},tn.prototype.getClass=function(){return tn},tn.area=function(t){return t.getBounds().getArea()},tn.isComposite=function(t){return t instanceof Je};var en=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new bt,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];et.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(t){return t.get(t.size()-1)},en.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Je?t+=this.size(n):n instanceof Ye&&(t+=1)}return t}},en.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Ye&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},en.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new bt:t}if(1===arguments.length){for(var e=arguments[0],n=new bt,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Je){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Ye?n.add(i.getItem()):et.shouldNeverReachHere()}return n.size()<=0?null:n}},en.prototype.insert=function(t,e){et.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Ye(t,e))},en.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new bt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(et.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Je?this.boundablesAtLevel(n,s,i):(et.isTrue(s instanceof Ye),-1===n&&i.add(s))}return null}},en.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new bt;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(N(arguments[2],We)&&arguments[0]instanceof Object&&arguments[1]instanceof Je)for(var i=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),u=0;u<a.size();u++){var c=a.get(u);this.getIntersectsOp().intersects(c.getBounds(),i)&&(c instanceof Je?this.query(i,c,s):c instanceof Ye?s.visitItem(c.getItem()):et.shouldNeverReachHere())}else if(N(arguments[2],_t)&&arguments[0]instanceof Object&&arguments[1]instanceof Je)for(var l=arguments[0],A=arguments[1],h=arguments[2],p=A.getChildBoundables(),f=0;f<p.size();f++){var g=p.get(f);this.getIntersectsOp().intersects(g.getBounds(),l)&&(g instanceof Je?this.query(l,g,h):g instanceof Ye?h.add(g.getItem()):et.shouldNeverReachHere())}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var s=null,a=r.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Je&&(o=this.remove(n,u,i))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),o}},en.prototype.createHigherLevels=function(t,e){et.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},en.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Je){var r=this.depth(n);r>t&&(t=r)}}return t+1}},en.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var n=new bt;n.add(this.createNode(e));var r=new bt(t);$e.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[e]},en.prototype.getClass=function(){return en},en.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,nn);var rn=function(){},on=function(){};on.prototype.distance=function(t,e){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var sn=function(t){function n(e){e=e||n.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var r={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(t,e){et.isTrue(t.length>0);for(var n=new bt,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},n.prototype.createNode=function(t){return new an(t)},n.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new bt;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r},n.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(N(arguments[2],We)&&arguments[0]instanceof Object&&arguments[1]instanceof Je){var i=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,i,o,s)}else if(N(arguments[2],_t)&&arguments[0]instanceof Object&&arguments[1]instanceof Je){var a=arguments[0],u=arguments[1],c=arguments[2];t.prototype.query.call(this,a,u,c)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},n.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new bt(t);$e.sort(i,n.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,e)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(N(arguments[0],on)){var t=arguments[0],e=new tn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof tn){var r=arguments[0];return this.nearestNeighbour(r,m.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&N(arguments[1],on)){var i=arguments[0],o=arguments[1],s=new tn(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof tn&&"number"==typeof arguments[1]){var a=arguments[0],u=arguments[1],c=null,l=new Xe;for(l.add(a);!l.isEmpty()&&u>0;){var A=l.poll(),h=A.getDistance();if(h>=u)break;A.isLeaves()?(u=h,c=A):A.expandToQueue(l,u)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[0],f=arguments[1],g=arguments[2],d=new Ye(p,f),y=new tn(this.getRoot(),d,g);return this.nearestNeighbour(y)[0]}},n.prototype.interfaces_=function(){return[Ze,e]},n.prototype.getClass=function(){return n},n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},r.STRtreeNode.get=function(){return an},r.serialVersionUID.get=function(){return 0x39920f7d5f261e0},r.xComparator.get=function(){return{interfaces_:function(){return[b]},compare:function(e,r){return t.compareDoubles(n.centreX(e.getBounds()),n.centreX(r.getBounds()))}}},r.yComparator.get=function(){return{interfaces_:function(){return[b]},compare:function(e,r){return t.compareDoubles(n.centreY(e.getBounds()),n.centreY(r.getBounds()))}}},r.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},r.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,r),n}(en),an=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new K(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Je),un=function(){};un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},un.relativeSign=function(t,e){return t<e?-1:t>e?1:0},un.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=un.relativeSign(e.x,n.x),i=un.relativeSign(e.y,n.y);switch(t){case 0:return un.compareValue(r,i);case 1:return un.compareValue(i,r);case 2:return un.compareValue(i,-r);case 3:return un.compareValue(-r,i);case 4:return un.compareValue(-r,-i);case 5:return un.compareValue(-i,-r);case 6:return un.compareValue(-i,r);case 7:return un.compareValue(r,-i)}return et.shouldNeverReachHere("invalid octant value"),0},un.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var cn=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new w(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};cn.prototype.getCoordinate=function(){return this.coord},cn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},cn.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:un.compare(this._segmentOctant,this.coord,e.coord)},cn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},cn.prototype.isInterior=function(){return this._isInterior},cn.prototype.interfaces_=function(){return[I]},cn.prototype.getClass=function(){return cn};var ln=function(){this._nodeMap=new A,this._edge=null;var t=arguments[0];this._edge=t};ln.prototype.getSplitCoordinates=function(){var t=new Et;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},ln.prototype.addCollapsedNodes=function(){var t=new bt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},ln.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},ln.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new k(e+1))}},ln.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new w(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new w(e.coord))},ln.prototype.iterator=function(){return this._nodeMap.values().iterator()},ln.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},ln.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},ln.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new k(e[0])),r=i}},ln.prototype.getEdge=function(){return this._edge},ln.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},ln.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new w(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new w(e.coord)),new fn(o,this._edge.getData())},ln.prototype.add=function(t,e){var n=new cn(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(et.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},ln.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new $("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new $("bad split edge end point at "+i)},ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln};var An=function(){};An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},An.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new v("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof w&&arguments[1]instanceof w){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(0===s&&0===a)throw new v("Cannot compute the octant for two identical points "+i);return An.octant(s,a)}};var hn=function(){};hn.prototype.getCoordinates=function(){},hn.prototype.size=function(){},hn.prototype.getCoordinate=function(t){},hn.prototype.isClosed=function(){},hn.prototype.setData=function(t){},hn.prototype.getData=function(){},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn};var pn=function(){};pn.prototype.addIntersection=function(t,e){},pn.prototype.interfaces_=function(){return[hn]},pn.prototype.getClass=function(){return pn};var fn=function(){this._nodeList=new ln(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};fn.prototype.getCoordinates=function(){return this._pts},fn.prototype.size=function(){return this._pts.length},fn.prototype.getCoordinate=function(t){return this._pts[t]},fn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},fn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},fn.prototype.setData=function(t){this._data=t},fn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:An.octant(t,e)},fn.prototype.getData=function(){return this._data},fn.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],o=new w(n.getIntersection(i));this.addIntersection(o,r)}},fn.prototype.toString=function(){return q.toLineString(new ue(this._pts))},fn.prototype.getNodeList=function(){return this._nodeList},fn.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},fn.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},fn.prototype.interfaces_=function(){return[pn]},fn.prototype.getClass=function(){return fn},fn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new bt;return fn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)};var gn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new w,this.p1=new w;else if(1===arguments.length){var t=arguments[0];this.p0=new w(t.p0),this.p1=new w(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new w(e,n),this.p1=new w(r,i)}},dn={serialVersionUID:{configurable:!0}};gn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},gn.prototype.orientationIndex=function(){if(arguments[0]instanceof gn){var t=arguments[0],e=at.orientationIndex(this.p0,this.p1,t.p0),n=at.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof w){var r=arguments[0];return at.orientationIndex(this.p0,this.p1,r)}},gn.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},gn.prototype.isVertical=function(){return this.p0.x===this.p1.x},gn.prototype.equals=function(t){if(!(t instanceof gn))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},gn.prototype.intersection=function(t){var e=new it;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},gn.prototype.project=function(){if(arguments[0]instanceof w){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new w(t);var e=this.projectionFactor(t),n=new w;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof gn){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new gn(s,a)}},gn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},gn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},gn.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},gn.prototype.distancePerpendicular=function(t){return at.distancePointLinePerpendicular(t,this.p0,this.p1)},gn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},gn.prototype.midPoint=function(){return gn.midPoint(this.p0,this.p1)},gn.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?m.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},gn.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=m.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<r&&(r=i,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},gn.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},gn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},gn.prototype.getLength=function(){return this.p0.distance(this.p1)},gn.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},gn.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},gn.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},gn.prototype.lineIntersection=function(t){try{return V.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof G))throw t}return null},gn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},gn.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*i/s,u=e*o/s}return new w(n-u,r+a)},gn.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},gn.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||m.isNaN(e))&&(e=1),e},gn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},gn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},gn.prototype.distance=function(){if(arguments[0]instanceof gn){var t=arguments[0];return at.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof w){var e=arguments[0];return at.distancePointLine(e,this.p0,this.p1)}},gn.prototype.pointAlong=function(t){var e=new w;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},gn.prototype.hashCode=function(){var t=m.doubleToLongBits(this.p0.x);t^=31*m.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=m.doubleToLongBits(this.p1.x);return n^=31*m.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},gn.prototype.interfaces_=function(){return[I,e]},gn.prototype.getClass=function(){return gn},gn.midPoint=function(t,e){return new w((t.x+e.x)/2,(t.y+e.y)/2)},dn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(gn,dn);var yn=function(){this.tempEnv1=new K,this.tempEnv2=new K,this._overlapSeg1=new gn,this._overlapSeg2=new gn};yn.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn};var vn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};vn.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},vn.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,r),s<n&&this.computeSelect(t,s,n,r)},vn.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},vn.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},vn.prototype.setId=function(t){this._id=t},vn.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},vn.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new K(t,e)}return this._env},vn.prototype.getEndIndex=function(){return this._end},vn.prototype.getStartIndex=function(){return this._start},vn.prototype.getContext=function(){return this._context},vn.prototype.getId=function(){return this._id},vn.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var s=this._pts[t],a=this._pts[e],u=n._pts[r],c=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,c),!o.tempEnv1.intersects(o.tempEnv2))return null;var l=Math.trunc((t+e)/2),A=Math.trunc((r+i)/2);t<l&&(r<A&&this.computeOverlapsInternal(t,l,n,r,A,o),A<i&&this.computeOverlapsInternal(t,l,n,A,i,o)),l<e&&(r<A&&this.computeOverlapsInternal(l,e,n,r,A,o),A<i&&this.computeOverlapsInternal(l,e,n,A,i,o))},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn};var mn=function(){};mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn},mn.getChainStartIndices=function(t){var e=0,n=new bt;n.add(new k(e));do{var r=mn.findChainEnd(t,e);n.add(new k(r)),e=r}while(e<t.length-1);return mn.toIntArray(n)},mn.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Re.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||Re.quadrant(t[i-1],t[i])===r);)i++;return i-1},mn.getChains=function(){if(1===arguments.length){var t=arguments[0];return mn.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new bt,i=mn.getChainStartIndices(e),o=0;o<i.length-1;o++){var s=new vn(e,i[o],i[o+1],n);r.add(s)}return r}},mn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Cn=function(){};Cn.prototype.computeNodes=function(t){},Cn.prototype.getNodedSubstrings=function(){},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn};var In=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};In.prototype.setSegmentIntersector=function(t){this._segInt=t},In.prototype.interfaces_=function(){return[Cn]},In.prototype.getClass=function(){return In};var _n=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new bt,this._index=new sn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return fn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=mn.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new bn(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return bn},Object.defineProperties(e,n),e}(In),bn=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=e.getContext(),s=r.getContext();this._si.processIntersections(o,n,s,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(yn),wn=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},En={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};wn.prototype.getEndCapStyle=function(){return this._endCapStyle},wn.prototype.isSingleSided=function(){return this._isSingleSided},wn.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=wn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=wn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==wn.JOIN_ROUND&&(this._quadrantSegments=wn.DEFAULT_QUADRANT_SEGMENTS)},wn.prototype.getJoinStyle=function(){return this._joinStyle},wn.prototype.setJoinStyle=function(t){this._joinStyle=t},wn.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},wn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},wn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},wn.prototype.setEndCapStyle=function(t){this._endCapStyle=t},wn.prototype.getMitreLimit=function(){return this._mitreLimit},wn.prototype.setMitreLimit=function(t){this._mitreLimit=t},wn.prototype.setSingleSided=function(t){this._isSingleSided=t},wn.prototype.interfaces_=function(){return[]},wn.prototype.getClass=function(){return wn},wn.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},En.CAP_ROUND.get=function(){return 1},En.CAP_FLAT.get=function(){return 2},En.CAP_SQUARE.get=function(){return 3},En.JOIN_ROUND.get=function(){return 1},En.JOIN_MITRE.get=function(){return 2},En.JOIN_BEVEL.get=function(){return 3},En.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},En.DEFAULT_MITRE_LIMIT.get=function(){return 5},En.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(wn,En);var Bn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=at.COUNTERCLOCKWISE,this._inputLine=t||null},xn={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Bn.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,t,n,r)},Bn.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Bn.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},Bn.prototype.isShallowConcavity=function(t,e,n,r){return at.computeOrientation(t,e,n)===this._angleOrientation&&at.distancePointLine(e,t,n)<r},Bn.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Bn.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<r;s+=o)if(!this.isShallow(t,e,this._inputLine[s],i))return!1;return!0},Bn.prototype.isConcave=function(t,e,n){return at.computeOrientation(t,e,n)===this._angleOrientation},Bn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=at.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Bn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Bn.DELETE;)e++;return e},Bn.prototype.isShallow=function(t,e,n,r){return at.distancePointLine(e,t,n)<r},Bn.prototype.collapseLine=function(){for(var t=new Et,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Bn.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Bn.simplify=function(t,e){return new Bn(t).simplify(e)},xn.INIT.get=function(){return 0},xn.DELETE.get=function(){return 1},xn.KEEP.get=function(){return 1},xn.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Bn,xn);var On=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new bt},Tn={COORDINATE_ARRAY_TYPE:{configurable:!0}};On.prototype.getCoordinates=function(){return this._ptList.toArray(On.COORDINATE_ARRAY_TYPE)},On.prototype.setPrecisionModel=function(t){this._precisionModel=t},On.prototype.addPt=function(t){var e=new w(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},On.prototype.revere=function(){},On.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},On.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},On.prototype.toString=function(){return(new ye).createLineString(this.getCoordinates()).toString()},On.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new w(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},On.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},Tn.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(On,Tn);var Nn=function(){},Sn={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Nn.toDegrees=function(t){return 180*t/Math.PI},Nn.normalize=function(t){for(;t>Math.PI;)t-=Nn.PI_TIMES_2;for(;t<=-Math.PI;)t+=Nn.PI_TIMES_2;return t},Nn.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},Nn.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},Nn.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},Nn.interiorAngle=function(t,e,n){var r=Nn.angle(e,t),i=Nn.angle(e,n);return Math.abs(i-r)},Nn.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Nn.PI_TIMES_2;t>=Nn.PI_TIMES_2&&(t=0)}else{for(;t>=Nn.PI_TIMES_2;)t-=Nn.PI_TIMES_2;t<0&&(t=0)}return t},Nn.angleBetween=function(t,e,n){var r=Nn.angle(e,t),i=Nn.angle(e,n);return Nn.diff(r,i)},Nn.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Nn.toRadians=function(t){return t*Math.PI/180},Nn.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Nn.COUNTERCLOCKWISE:n<0?Nn.CLOCKWISE:Nn.NONE},Nn.angleBetweenOriented=function(t,e,n){var r=Nn.angle(e,t),i=Nn.angle(e,n)-r;return i<=-Math.PI?i+Nn.PI_TIMES_2:i>Math.PI?i-Nn.PI_TIMES_2:i},Sn.PI_TIMES_2.get=function(){return 2*Math.PI},Sn.PI_OVER_2.get=function(){return Math.PI/2},Sn.PI_OVER_4.get=function(){return Math.PI/4},Sn.COUNTERCLOCKWISE.get=function(){return at.COUNTERCLOCKWISE},Sn.CLOCKWISE.get=function(){return at.CLOCKWISE},Sn.NONE.get=function(){return at.COLLINEAR},Object.defineProperties(Nn,Sn);var Mn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new gn,this._seg1=new gn,this._offset0=new gn,this._offset1=new gn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new it,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===wn.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Ln={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Mn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=at.computeOrientation(this._s0,this._s1,this._s2),r=n===at.CLOCKWISE&&this._side===Ee.LEFT||n===at.COUNTERCLOCKWISE&&this._side===Ee.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Mn.prototype.addLineEndCap=function(t,e){var n=new gn(t,e),r=new gn;this.computeOffsetSegment(n,Ee.LEFT,this._distance,r);var i=new gn;this.computeOffsetSegment(n,Ee.RIGHT,this._distance,i);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case wn.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,at.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case wn.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case wn.CAP_SQUARE:var u=new w;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var c=new w(r.p1.x+u.x,r.p1.y+u.y),l=new w(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(c),this._segList.addPt(l)}},Mn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Mn.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=V.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof G))throw t;o=new w(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},Mn.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,c=n.y-t.y,l=Math.atan2(c,u);r===at.CLOCKWISE?a<=l&&(a+=2*Math.PI):a>=l&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,l,r,i),this._segList.addPt(n)},Mn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Mn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===wn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===wn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Mn.prototype.createSquare=function(t){this._segList.addPt(new w(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new w(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new w(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new w(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Mn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Mn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Mn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Mn.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Mn.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=Nn.angle(i,this._seg0.p0),s=Nn.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=Nn.normalize(o+s),u=Nn.normalize(a+Math.PI),c=r*n,l=n-c*Math.abs(Math.sin(s)),A=i.x+c*Math.cos(u),h=i.y+c*Math.sin(u),p=new w(A,h),f=new gn(i,p),g=f.pointAlongOffset(1,l),d=f.pointAlongOffset(1,-l);this._side===Ee.LEFT?(this._segList.addPt(g),this._segList.addPt(d)):(this._segList.addPt(d),this._segList.addPt(g))},Mn.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===Ee.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=i*n*o/a,c=i*n*s/a;r.p0.x=t.p0.x-c,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-c,r.p1.y=t.p1.y+u},Mn.prototype.addFilletArc=function(t,e,n,r,i){var o=r===at.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,c=0,l=new w;c<s;){var A=e+o*c;l.x=t.x+i*Math.cos(A),l.y=t.y+i*Math.sin(A),this._segList.addPt(l),c+=u}},Mn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Mn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new w((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new w((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Mn.prototype.createCircle=function(t){var e=new w(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Mn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Mn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new On,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Mn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Mn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===wn.JOIN_BEVEL||this._bufParams.getJoinStyle()===wn.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,at.CLOCKWISE,this._distance))},Mn.prototype.closeRing=function(){this._segList.closeRing()},Mn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Ln.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Ln.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Ln.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Ln.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Mn,Ln);var kn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};kn.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Bt.reverse(o),o},kn.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Bn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Ee.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(t,!1);var a=Bn.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Ee.LEFT),n.addFirstSegment();for(var c=2;c<=u;c++)n.addNextSegment(a[c],!0)}n.addLastSegment(),n.closeRing()},kn.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Ee.RIGHT&&(r=-r);var i=Bn.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(i[s],a)}n.closeRing()},kn.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Bn.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Ee.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var s=Bn.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Ee.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},kn.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case wn.CAP_ROUND:e.createCircle(t);break;case wn.CAP_SQUARE:e.createSquare(t)}},kn.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},kn.prototype.getBufferParameters=function(){return this._bufParams},kn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},kn.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return kn.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},kn.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Bn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Ee.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=Bn.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Ee.LEFT),n.addFirstSegment();for(var c=2;c<=u;c++)n.addNextSegment(a[c],!0)}n.addLastSegment()},kn.prototype.getSegGen=function(t){return new Mn(this._precisionModel,this._bufParams,t)},kn.prototype.interfaces_=function(){return[]},kn.prototype.getClass=function(){return kn},kn.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new w(t[n]);return e};var Fn=function(){this._subgraphs=null,this._seg=new gn,this._cga=new at;var t=arguments[0];this._subgraphs=t},Pn={DepthSegment:{configurable:!0}};Fn.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new bt,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(N(arguments[2],_t)&&arguments[0]instanceof w&&arguments[1]instanceof He){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),c=0;c<u.length-1;c++)if(this._seg.p0=u[c],this._seg.p1=u[c+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x)&&!(this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||at.computeOrientation(this._seg.p0,this._seg.p1,o)===at.RIGHT)){var l=s.getDepth(Ee.LEFT);this._seg.p0.equals(u[c])||(l=s.getDepth(Ee.RIGHT));var A=new Un(this._seg,l);a.add(A)}}else if(N(arguments[2],_t)&&arguments[0]instanceof w&&N(arguments[1],_t))for(var h=arguments[0],p=arguments[1],f=arguments[2],g=p.iterator();g.hasNext();){var d=g.next();d.isForward()&&this.findStabbedSegments(h,d,f)}},Fn.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:$e.min(e)._leftDepth},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn},Pn.DepthSegment.get=function(){return Un},Object.defineProperties(Fn,Pn);var Un=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new gn(t),this._leftDepth=e};Un.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Un.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Un.prototype.toString=function(){return this._upwardSeg.toString()},Un.prototype.interfaces_=function(){return[I]},Un.prototype.getClass=function(){return Un};var Dn=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Dn.prototype.area=function(){return Dn.area(this.p0,this.p1,this.p2)},Dn.prototype.signedArea=function(){return Dn.signedArea(this.p0,this.p1,this.p2)},Dn.prototype.interpolateZ=function(t){if(null===t)throw new v("Supplied point is null.");return Dn.interpolateZ(t,this.p0,this.p1,this.p2)},Dn.prototype.longestSideLength=function(){return Dn.longestSideLength(this.p0,this.p1,this.p2)},Dn.prototype.isAcute=function(){return Dn.isAcute(this.p0,this.p1,this.p2)},Dn.prototype.circumcentre=function(){return Dn.circumcentre(this.p0,this.p1,this.p2)},Dn.prototype.area3D=function(){return Dn.area3D(this.p0,this.p1,this.p2)},Dn.prototype.centroid=function(){return Dn.centroid(this.p0,this.p1,this.p2)},Dn.prototype.inCentre=function(){return Dn.inCentre(this.p0,this.p1,this.p2)},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Dn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Dn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Dn.det=function(t,e,n,r){return t*r-e*n},Dn.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,s=n.x-i,a=r.x-i,u=n.y-o,c=r.y-o,l=s*c-a*u,A=t.x-i,h=t.y-o,p=(c*A-a*h)/l,f=(-u*A+s*h)/l;return e.z+p*(n.z-e.z)+f*(r.z-e.z)},Dn.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),s=r;return i>s&&(s=i),o>s&&(s=o),s},Dn.isAcute=function(t,e,n){return!!Nn.isAcute(t,e,n)&&!!Nn.isAcute(e,n,t)&&!!Nn.isAcute(n,t,e)},Dn.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,s=t.y-i,a=e.x-r,u=e.y-i,c=2*Dn.det(o,s,a,u),l=Dn.det(s,o*o+s*s,u,a*a+u*u),A=Dn.det(o,o*o+s*s,a,a*a+u*u);return new w(r-l/c,i+A/c)},Dn.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new V(t.x+n/2,t.y+r/2,1),o=new V(t.x-r+n/2,t.y+n+r/2,1);return new V(i,o)},Dn.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new w(t.x+i*o,t.y+i*s)},Dn.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,c=i*u-o*a,l=o*s-r*u,A=r*a-i*s,h=c*c+l*l+A*A;return Math.sqrt(h)/2},Dn.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new w(r,i)},Dn.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),s=r+i+o,a=(r*t.x+i*e.x+o*n.x)/s,u=(r*t.y+i*e.y+o*n.y)/s;return new w(a,u)};var Rn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new bt;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Rn.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,O.EXTERIOR,O.INTERIOR)},Rn.prototype.addPolygon=function(t){var e=this._distance,n=Ee.LEFT;this._distance<0&&(e=-this._distance,n=Ee.RIGHT);var r=t.getExteriorRing(),i=Bt.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,O.EXTERIOR,O.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Bt.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,Ee.opposite(n),O.INTERIOR,O.EXTERIOR)}},Rn.prototype.isTriangleErodedCompletely=function(t,e){var n=new Dn(t[0],t[1],t[2]),r=n.inCentre();return at.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},Rn.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Bt.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,O.EXTERIOR,O.INTERIOR)},Rn.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new fn(t,new Me(0,O.BOUNDARY,e,n));this._curveList.add(r)},Rn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Rn.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<ee.MINIMUM_VALID_SIZE)return null;var o=r,s=i;t.length>=ee.MINIMUM_VALID_SIZE&&at.isCCW(t)&&(o=i,s=r,n=Ee.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},Rn.prototype.add=function(t){if(t.isEmpty())return null;t instanceof $t?this.addPolygon(t):t instanceof Wt?this.addLineString(t):t instanceof Jt?this.addPoint(t):t instanceof te?this.addCollection(t):t instanceof Gt?this.addCollection(t):t instanceof ne?this.addCollection(t):t instanceof Ht&&this.addCollection(t)},Rn.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},Rn.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn};var Qn=function(){};Qn.prototype.locate=function(t){},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var jn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};jn.prototype.next=function(){if(this._atStart)return this._atStart=!1,jn.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new r;var t=this._parent.getGeometryN(this._index++);return t instanceof Ht?(this._subcollectionIterator=new jn(t),this._subcollectionIterator.next()):t},jn.prototype.remove=function(){throw new Error(this.getClass().getName())},jn.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},jn.prototype.interfaces_=function(){return[It]},jn.prototype.getClass=function(){return jn},jn.isAtomic=function(t){return!(t instanceof Ht)};var Hn=function(){this._geom=null;var t=arguments[0];this._geom=t};Hn.prototype.locate=function(t){return Hn.locate(t,this._geom)},Hn.prototype.interfaces_=function(){return[Qn]},Hn.prototype.getClass=function(){return Hn},Hn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&at.isPointInRing(t,e.getCoordinates())},Hn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Hn.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(Hn.isPointInRing(t,i))return!1}return!0},Hn.containsPoint=function(t,e){if(e instanceof $t)return Hn.containsPointInPolygon(t,e);if(e instanceof Ht)for(var n=new jn(e);n.hasNext();){var r=n.next();if(r!==e&&Hn.containsPoint(t,r))return!0}return!1},Hn.locate=function(t,e){return e.isEmpty()?O.EXTERIOR:Hn.containsPoint(t,e)?O.INTERIOR:O.EXTERIOR};var Gn=function(){this._edgeMap=new A,this._edgeList=null,this._ptInAreaLocation=[O.NONE,O.NONE]};Gn.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Gn.prototype.propagateSideLabels=function(t){for(var e=O.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Ee.LEFT)!==O.NONE&&(e=r.getLocation(t,Ee.LEFT))}if(e===O.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Ee.ON)===O.NONE&&a.setLocation(t,Ee.ON,i),a.isArea(t)){var u=a.getLocation(t,Ee.LEFT),c=a.getLocation(t,Ee.RIGHT);if(c!==O.NONE){if(c!==i)throw new Oe("side location conflict",s.getCoordinate());u===O.NONE&&et.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),i=u}else et.isTrue(a.getLocation(t,Ee.LEFT)===O.NONE,"found single null side"),a.setLocation(t,Ee.RIGHT,i),a.setLocation(t,Ee.LEFT,i)}}},Gn.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Gn.prototype.print=function(t){z.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Gn.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Gn.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Ee.LEFT);et.isTrue(r!==O.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var s=o.next().getLabel();et.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Ee.LEFT),u=s.getLocation(t,Ee.RIGHT);if(a===u)return!1;if(u!==i)return!1;i=a}return!0},Gn.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Gn.prototype.iterator=function(){return this.getEdges().iterator()},Gn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new bt(this._edgeMap.values())),this._edgeList},Gn.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===O.NONE&&(this._ptInAreaLocation[t]=Hn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Gn.prototype.toString=function(){var t=new L;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Gn.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Gn.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===O.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var c=O.NONE;if(e[u])c=O.EXTERIOR;else{var l=s.getCoordinate();c=this.getLocation(u,l,t)}a.setAllLocationsIfNull(u,c)}},Gn.prototype.getDegree=function(){return this._edgeMap.size()},Gn.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn};var zn=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Oe("no outgoing dirEdge found",this.getCoordinate());et.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return Re.isNorthern(i)&&Re.isNorthern(o)?n:Re.isNorthern(i)||Re.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(et.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){z.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new bt;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Ee.LEFT),r=t.getDepth(Ee.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new Oe("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=o;u<s;u++){var c=this._edgeList.get(u);c.setEdgeDepths(Ee.RIGHT,a),a=c.getDepth(Ee.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(et.isTrue(null!==e,"found null for first outgoing dirEdge"),et.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=O.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=O.INTERIOR;break}if(r.isInResult()){t=O.EXTERIOR;break}}}if(t===O.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===O.INTERIOR):(s.isInResult()&&(i=O.EXTERIOR),a.isInResult()&&(i=O.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Me(O.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==O.INTERIOR&&o!==O.BOUNDARY||this._label.setLocation(i,O.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Gn),Vn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Ue(t,new zn)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ge),Kn=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Kn.prototype.compareTo=function(t){var e=t;return Kn.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Kn.prototype.interfaces_=function(){return[I]},Kn.prototype.getClass=function(){return Kn},Kn.orientation=function(t){return 1===Bt.increasingDirection(t)},Kn.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,u=e?0:t.length-1,c=r?0:n.length-1;;){var l=t[u].compareTo(n[c]);if(0!==l)return l;var A=(u+=i)===s,h=(c+=o)===a;if(A&&!h)return-1;if(!A&&h)return 1;if(A&&h)return 0}};var Yn=function(){this._edges=new bt,this._ocaMap=new A};Yn.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Yn.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Yn.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Yn.prototype.iterator=function(){return this._edges.iterator()},Yn.prototype.getEdges=function(){return this._edges},Yn.prototype.get=function(t){return this._edges.get(t)},Yn.prototype.findEqualEdge=function(t){var e=new Kn(t.getCoordinates());return this._ocaMap.get(e)},Yn.prototype.add=function(t){this._edges.add(t);var e=new Kn(t.getCoordinates());this._ocaMap.put(e,t)},Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn};var Xn=function(){};Xn.prototype.processIntersections=function(t,e,n,r){},Xn.prototype.isDone=function(){},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn};var Wn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Wn.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Wn.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Wn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Wn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Wn.prototype.getLineIntersector=function(){return this._li},Wn.prototype.hasProperIntersection=function(){return this._hasProper},Wn.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Wn.prototype.hasIntersection=function(){return this._hasIntersection},Wn.prototype.isDone=function(){return!1},Wn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Wn.prototype.interfaces_=function(){return[Xn]},Wn.prototype.getClass=function(){return Wn},Wn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Zn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new w(t),this.segmentIndex=e,this.dist=n};Zn.prototype.getSegmentIndex=function(){return this.segmentIndex},Zn.prototype.getCoordinate=function(){return this.coord},Zn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Zn.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Zn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Zn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Zn.prototype.getDistance=function(){return this.dist},Zn.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Zn.prototype.interfaces_=function(){return[I]},Zn.prototype.getClass=function(){return Zn};var Jn=function(){this._nodeMap=new A,this.edge=null;var t=arguments[0];this.edge=t};Jn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Jn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Jn.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Jn.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Jn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new w(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return i&&(o[s]=e.coord),new nr(o,new Me(this.edge._label))},Jn.prototype.add=function(t,e,n){var r=new Zn(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Jn.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn};var qn=function(){};qn.prototype.getChainStartIndices=function(t){var e=0,n=new bt;n.add(new k(e));do{var r=this.findChainEnd(t,e);n.add(new k(r)),e=r}while(e<t.length-1);return qn.toIntArray(n)},qn.prototype.findChainEnd=function(t,e){for(var n=Re.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&Re.quadrant(t[r-1],t[r])===n;)r++;return r-1},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn},qn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var $n=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new K,this.env2=new K;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new qn;this.startIndex=e.getChainStartIndices(this.pts)};$n.prototype.getCoordinates=function(){return this.pts},$n.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},$n.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},$n.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],c=arguments[5],l=this.pts[i],A=this.pts[o],h=s.pts[a],p=s.pts[u];if(o-i==1&&u-a==1)return c.addIntersections(this.e,i,s.e,a),null;if(this.env1.init(l,A),this.env2.init(h,p),!this.env1.intersects(this.env2))return null;var f=Math.trunc((i+o)/2),g=Math.trunc((a+u)/2);i<f&&(a<g&&this.computeIntersectsForChain(i,f,s,a,g,c),g<u&&this.computeIntersectsForChain(i,f,s,g,u,c)),f<o&&(a<g&&this.computeIntersectsForChain(f,o,s,a,g,c),g<u&&this.computeIntersectsForChain(f,o,s,g,u,c))}},$n.prototype.getStartIndexes=function(){return this.startIndex},$n.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var tr=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},er={NULL_VALUE:{configurable:!0}};tr.prototype.getDepth=function(t,e){return this._depth[t][e]},tr.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},tr.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==tr.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===tr.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===tr.NULL_VALUE}},tr.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},tr.prototype.getDelta=function(t){return this._depth[t][Ee.RIGHT]-this._depth[t][Ee.LEFT]},tr.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?O.EXTERIOR:O.INTERIOR},tr.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},tr.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==O.EXTERIOR&&r!==O.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=tr.depthAtLocation(r):this._depth[e][n]+=tr.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===O.INTERIOR&&this._depth[i][o]++}},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},tr.depthAtLocation=function(t){return t===O.EXTERIOR?0:t===O.INTERIOR?1:tr.NULL_VALUE},er.NULL_VALUE.get=function(){return-1},Object.defineProperties(tr,er);var nr=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Jn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new tr,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Me.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(r=!1),this.pts[s].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $n(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new K;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new w(t.getIntersection(r)),o=e,s=t.getEdgeDistance(n,r),a=o+1;if(a<this.pts.length){var u=this.pts[a];i.equals2D(u)&&(o=a,s=0)}this.eiList.add(i,o,s)},e.prototype.toString=function(){var t=new L;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Ee.ON),e.getLocation(1,Ee.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Ee.LEFT),e.getLocation(1,Ee.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Ee.RIGHT),e.getLocation(1,Ee.RIGHT),2))},e}(Pe),rr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Yn,this._bufParams=t||null};rr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},rr.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Me(t.getLabel())).flip(),n.merge(r);var i=rr.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(rr.depthDelta(t.getLabel()))},rr.prototype.buildSubgraphs=function(t,e){for(var n=new bt,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new Fn(n).getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},rr.prototype.createSubgraphs=function(t){for(var e=new bt,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Ne;i.create(r),e.add(i)}}return $e.sort(e,$e.reverseOrder()),e},rr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},rr.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new _n,n=new it;return n.setPrecisionModel(t),e.setSegmentIntersector(new Wn(n)),e},rr.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new kn(n,this._bufParams),i=new Rn(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new ze(new Vn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Ve(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},rr.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new nr(i.getCoordinates(),new Me(s));this.insertUniqueEdge(a)}}},rr.prototype.setNoder=function(t){this._workingNoder=t},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.depthDelta=function(t){var e=t.getLocation(0,Ee.LEFT),n=t.getLocation(0,Ee.RIGHT);return e===O.INTERIOR&&n===O.EXTERIOR?1:e===O.EXTERIOR&&n===O.INTERIOR?-1:0},rr.convertSegStrings=function(t){for(var e=new ye,n=new bt;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var ir=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ir.prototype.rescale=function(){if(N(arguments[0],Ct))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&z.out.println(n)}},ir.prototype.scale=function(){if(N(arguments[0],Ct)){for(var t=arguments[0],e=new bt,n=t.iterator();n.hasNext();){var r=n.next();e.add(new fn(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),s=0;s<i.length;s++)o[s]=new w(Math.round((i[s].x-this._offsetX)*this._scaleFactor),Math.round((i[s].y-this._offsetY)*this._scaleFactor),i[s].z);return Bt.removeRepeatedPoints(o)}},ir.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ir.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ir.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ir.prototype.interfaces_=function(){return[Cn]},ir.prototype.getClass=function(){return ir};var or=function(){this._li=new it,this._segStrings=null;var t=arguments[0];this._segStrings=t},sr={fact:{configurable:!0}};or.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new $("found endpt/interior pt intersection at index "+o+" :pt "+n)},or.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var c=0;c<a.length-1;c++)this.checkInteriorIntersections(i,u,o,c);else if(4===arguments.length){var l=arguments[0],A=arguments[1],h=arguments[2],p=arguments[3];if(l===h&&A===p)return null;var f=l.getCoordinates()[A],g=l.getCoordinates()[A+1],d=h.getCoordinates()[p],y=h.getCoordinates()[p+1];if(this._li.computeIntersection(f,g,d,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,f,g)||this.hasInteriorIntersection(this._li,d,y)))throw new $("found non-noded intersection at "+f+"-"+g+" and "+d+"-"+y)}},or.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},or.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},or.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},or.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new $("found non-noded collapse at "+or.fact.createLineString([t,e,n]))},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},sr.fact.get=function(){return new ye},Object.defineProperties(or,sr);var ar=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new v("Scale factor must be non-zero");1!==e&&(this._pt=new w(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new w,this._p1Scaled=new w),this.initCorners(this._pt)},ur={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ar.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return et.isTrue(!(s&&a),"Found bad envelope test"),a},ar.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new w(this._maxx,this._maxy),this._corner[1]=new w(this._minx,this._maxy),this._corner[2]=new w(this._minx,this._miny),this._corner[3]=new w(this._maxx,this._miny)},ar.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ar.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ar.prototype.getCoordinate=function(){return this._originalPt},ar.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},ar.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ar.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new K(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ar.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},ar.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!r)||!!t.equals(this._pt)||!!e.equals(this._pt))))},ar.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar},ur.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ar,ur);var cr=function(){this.tempEnv1=new K,this.selectedSegment=new gn};cr.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr};var lr=function(){this._index=null;var t=arguments[0];this._index=t},Ar={HotPixelSnapAction:{configurable:!0}};lr.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new hr(e,n,r);return this._index.query(i,{interfaces_:function(){return[We]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr},Ar.HotPixelSnapAction.get=function(){return hr},Object.defineProperties(lr,Ar);var hr=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],r=e.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(cr),pr=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new bt};pr.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},pr.prototype.isDone=function(){return!1},pr.prototype.getInteriorIntersections=function(){return this._interiorIntersections},pr.prototype.interfaces_=function(){return[Xn]},pr.prototype.getClass=function(){return pr};var fr=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new it,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};fr.prototype.checkCorrectness=function(t){var e=fn.getNodedSubstrings(t),n=new or(e);try{n.checkValid()}catch(t){if(!(t instanceof H))throw t;t.printStackTrace()}},fr.prototype.getNodedSubstrings=function(){return fn.getNodedSubstrings(this._nodedSegStrings)},fr.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},fr.prototype.findInteriorIntersections=function(t,e){var n=new pr(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},fr.prototype.computeVertexSnaps=function(){if(N(arguments[0],Ct))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof fn)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new ar(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},fr.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new _n,this._pointSnapper=new lr(this._noder.getIndex()),this.snapRound(t,this._li)},fr.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new ar(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},fr.prototype.interfaces_=function(){return[Cn]},fr.prototype.getClass=function(){return fr};var gr=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new wn,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},dr={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};gr.prototype.bufferFixedPrecision=function(t){var e=new ir(new fr(new pe(1)),t.getScale()),n=new rr(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},gr.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=gr.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Oe))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=gr.precisionScaleFactor(this._argGeom,this._distance,n),i=new pe(r);this.bufferFixedPrecision(i)}},gr.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===pe.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},gr.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},gr.prototype.bufferOriginalPrecision=function(){try{var t=new rr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof $))throw t;this._saveException=t}},gr.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},gr.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr},gr.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new gr(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof lt&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=arguments[2],o=new gr(n);return o.setQuadrantSegments(i),o.getResultGeometry(r)}if(arguments[2]instanceof wn&&arguments[0]instanceof lt&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],u=arguments[2];return new gr(s,u).getResultGeometry(a)}}else if(4===arguments.length){var c=arguments[0],l=arguments[1],A=arguments[2],h=arguments[3],p=new gr(c);return p.setQuadrantSegments(A),p.setEndCapStyle(h),p.getResultGeometry(l)}},gr.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=S.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},dr.CAP_ROUND.get=function(){return wn.CAP_ROUND},dr.CAP_BUTT.get=function(){return wn.CAP_FLAT},dr.CAP_FLAT.get=function(){return wn.CAP_FLAT},dr.CAP_SQUARE.get=function(){return wn.CAP_SQUARE},dr.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(gr,dr);var yr=function(){this._pt=[new w,new w],this._distance=m.NaN,this._isNull=!0};yr.prototype.getCoordinates=function(){return this._pt},yr.prototype.getCoordinate=function(t){return this._pt[t]},yr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},yr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},yr.prototype.getDistance=function(){return this._distance},yr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr};var vr=function(){};vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.computeDistance=function(){if(arguments[2]instanceof yr&&arguments[0]instanceof Wt&&arguments[1]instanceof w)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getCoordinates(),i=new gn,o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof yr&&arguments[0]instanceof $t&&arguments[1]instanceof w){var a=arguments[0],u=arguments[1],c=arguments[2];vr.computeDistance(a.getExteriorRing(),u,c);for(var l=0;l<a.getNumInteriorRing();l++)vr.computeDistance(a.getInteriorRingN(l),u,c)}else if(arguments[2]instanceof yr&&arguments[0]instanceof lt&&arguments[1]instanceof w){var A=arguments[0],h=arguments[1],p=arguments[2];if(A instanceof Wt)vr.computeDistance(A,h,p);else if(A instanceof $t)vr.computeDistance(A,h,p);else if(A instanceof Ht)for(var f=A,g=0;g<f.getNumGeometries();g++){var d=f.getGeometryN(g);vr.computeDistance(d,h,p)}else p.setMinimum(A.getCoordinate(),h)}else if(arguments[2]instanceof yr&&arguments[0]instanceof gn&&arguments[1]instanceof w){var y=arguments[0],v=arguments[1],m=arguments[2],C=y.closestPoint(v);m.setMinimum(C,v)}};var mr=function(t){this._maxPtDist=new yr,this._inputGeom=t||null},Cr={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};mr.prototype.computeMaxMidpointDistance=function(t){var e=new _r(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},mr.prototype.computeMaxVertexDistance=function(t){var e=new Ir(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},mr.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},mr.prototype.getDistancePoints=function(){return this._maxPtDist},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},Cr.MaxPointDistanceFilter.get=function(){return Ir},Cr.MaxMidpointDistanceFilter.get=function(){return _r},Object.defineProperties(mr,Cr);var Ir=function(t){this._maxPtDist=new yr,this._minPtDist=new yr,this._geom=t||null};Ir.prototype.filter=function(t){this._minPtDist.initialize(),vr.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ir.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ir.prototype.interfaces_=function(){return[pt]},Ir.prototype.getClass=function(){return Ir};var _r=function(t){this._maxPtDist=new yr,this._minPtDist=new yr,this._geom=t||null};_r.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new w((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),vr.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},_r.prototype.isDone=function(){return!1},_r.prototype.isGeometryChanged=function(){return!1},_r.prototype.getMaxPointDistance=function(){return this._maxPtDist},_r.prototype.interfaces_=function(){return[jt]},_r.prototype.getClass=function(){return _r};var br=function(t){this._comps=t||null};br.prototype.filter=function(t){t instanceof $t&&this._comps.add(t)},br.prototype.interfaces_=function(){return[Qt]},br.prototype.getClass=function(){return br},br.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return br.getPolygons(t,new bt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof $t?n.add(e):e instanceof Ht&&e.apply(new br(n)),n}};var wr=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};wr.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ee){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Wt&&this._lines.add(t)},wr.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},wr.prototype.interfaces_=function(){return[ct]},wr.prototype.getClass=function(){return wr},wr.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(wr.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(wr.getLines(e,n))}},wr.getLines=function(){if(1===arguments.length){var t=arguments[0];return wr.getLines(t,!1)}if(2===arguments.length){if(N(arguments[0],Ct)&&N(arguments[1],Ct)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var i=r.next();wr.getLines(i,n)}return n}if(arguments[0]instanceof lt&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new bt;return o.apply(new wr(a,s)),a}if(arguments[0]instanceof lt&&N(arguments[1],Ct)){var u=arguments[0],c=arguments[1];return u instanceof Wt?c.add(u):u.apply(new wr(c)),c}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&N(arguments[0],Ct)&&N(arguments[1],Ct)){for(var l=arguments[0],A=arguments[1],h=arguments[2],p=l.iterator();p.hasNext();){var f=p.next();wr.getLines(f,A,h)}return A}if("boolean"==typeof arguments[2]&&arguments[0]instanceof lt&&N(arguments[1],Ct)){var g=arguments[0],d=arguments[1],y=arguments[2];return g.apply(new wr(d,y)),d}}};var Er=function(){if(this._boundaryRule=ft.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new v("Rule must be non-null");this._boundaryRule=t}};Er.prototype.locateInternal=function(){if(arguments[0]instanceof w&&arguments[1]instanceof $t){var t=arguments[0],e=arguments[1];if(e.isEmpty())return O.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===O.EXTERIOR)return O.EXTERIOR;if(r===O.BOUNDARY)return O.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),s=this.locateInPolygonRing(t,o);if(s===O.INTERIOR)return O.EXTERIOR;if(s===O.BOUNDARY)return O.BOUNDARY}return O.INTERIOR}if(arguments[0]instanceof w&&arguments[1]instanceof Wt){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return O.EXTERIOR;var c=u.getCoordinates();return u.isClosed()||!a.equals(c[0])&&!a.equals(c[c.length-1])?at.isOnLine(a,c)?O.INTERIOR:O.EXTERIOR:O.BOUNDARY}if(arguments[0]instanceof w&&arguments[1]instanceof Jt){var l=arguments[0];return arguments[1].getCoordinate().equals2D(l)?O.INTERIOR:O.EXTERIOR}},Er.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?at.locatePointInRing(t,e.getCoordinates()):O.EXTERIOR},Er.prototype.intersects=function(t,e){return this.locate(t,e)!==O.EXTERIOR},Er.prototype.updateLocationInfo=function(t){t===O.INTERIOR&&(this._isIn=!0),t===O.BOUNDARY&&this._numBoundaries++},Er.prototype.computeLocation=function(t,e){if(e instanceof Jt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Wt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof $t)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Gt)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof ne)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof Ht)for(var u=new jn(e);u.hasNext();){var c=u.next();c!==e&&this.computeLocation(t,c)}},Er.prototype.locate=function(t,e){return e.isEmpty()?O.EXTERIOR:e instanceof Wt?this.locateInternal(t,e):e instanceof $t?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?O.BOUNDARY:this._numBoundaries>0||this._isIn?O.INTERIOR:O.EXTERIOR)},Er.prototype.interfaces_=function(){return[]},Er.prototype.getClass=function(){return Er};var Br=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},xr={INSIDE_AREA:{configurable:!0}};Br.prototype.isInsideArea=function(){return this._segIndex===Br.INSIDE_AREA},Br.prototype.getCoordinate=function(){return this._pt},Br.prototype.getGeometryComponent=function(){return this._component},Br.prototype.getSegmentIndex=function(){return this._segIndex},Br.prototype.interfaces_=function(){return[]},Br.prototype.getClass=function(){return Br},xr.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Br,xr);var Or=function(t){this._pts=t||null};Or.prototype.filter=function(t){t instanceof Jt&&this._pts.add(t)},Or.prototype.interfaces_=function(){return[Qt]},Or.prototype.getClass=function(){return Or},Or.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Jt?$e.singletonList(t):Or.getPoints(t,new bt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Jt?n.add(e):e instanceof Ht&&e.apply(new Or(n)),n}};var Tr=function(){this._locations=null;var t=arguments[0];this._locations=t};Tr.prototype.filter=function(t){(t instanceof Jt||t instanceof Wt||t instanceof $t)&&this._locations.add(new Br(t,0,t.getCoordinate()))},Tr.prototype.interfaces_=function(){return[Qt]},Tr.prototype.getClass=function(){return Tr},Tr.getLocations=function(t){var e=new bt;return t.apply(new Tr(e)),e};var Nr=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Er,this._minDistanceLocation=null,this._minDistance=m.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Nr.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=br.getPolygons(this._geom[e]);if(i.size()>0){var o=Tr.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&N(arguments[0],_t)&&N(arguments[1],_t)){for(var s=arguments[0],a=arguments[1],u=arguments[2],c=0;c<s.size();c++)for(var l=s.get(c),A=0;A<a.size();A++)if(this.computeContainmentDistance(l,a.get(A),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Br&&arguments[1]instanceof $t){var h=arguments[0],p=arguments[1],f=arguments[2],g=h.getCoordinate();if(O.EXTERIOR!==this._ptLocator.locate(g,p))return this._minDistance=0,f[0]=h,f[1]=new Br(p,g),null}},Nr.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Nr.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=wr.getLines(this._geom[0]),n=wr.getLines(this._geom[1]),r=Or.getPoints(this._geom[0]),i=Or.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Nr.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Nr.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Nr.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Nr.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Wt&&arguments[1]instanceof Jt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var s=at.distancePointLine(i,r[o],r[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new gn(r[o],r[o+1]).closestPoint(i);n[0]=new Br(t,o,a),n[1]=new Br(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Wt&&arguments[1]instanceof Wt){var u=arguments[0],c=arguments[1],l=arguments[2];if(u.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this._minDistance)return null;for(var A=u.getCoordinates(),h=c.getCoordinates(),p=0;p<A.length-1;p++)for(var f=0;f<h.length-1;f++){var g=at.distanceLineLine(A[p],A[p+1],h[f],h[f+1]);if(g<this._minDistance){this._minDistance=g;var d=new gn(A[p],A[p+1]),y=new gn(h[f],h[f+1]),v=d.closestPoints(y);l[0]=new Br(u,p,v[0]),l[1]=new Br(c,f,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},Nr.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o),a=i.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Br(i,0,i.getCoordinate()),n[1]=new Br(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Nr.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new v("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Nr.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Nr.prototype.interfaces_=function(){return[]},Nr.prototype.getClass=function(){return Nr},Nr.distance=function(t,e){return new Nr(t,e).distance()},Nr.isWithinDistance=function(t,e,n){return new Nr(t,e,n).distance()<=n},Nr.nearestPoints=function(t,e){return new Nr(t,e).nearestPoints()};var Sr=function(){this._pt=[new w,new w],this._distance=m.NaN,this._isNull=!0};Sr.prototype.getCoordinates=function(){return this._pt},Sr.prototype.getCoordinate=function(t){return this._pt[t]},Sr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Sr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Sr.prototype.toString=function(){return q.toLineString(this._pt[0],this._pt[1])},Sr.prototype.getDistance=function(){return this._distance},Sr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr};var Mr=function(){};Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr},Mr.computeDistance=function(){if(arguments[2]instanceof Sr&&arguments[0]instanceof Wt&&arguments[1]instanceof w)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new gn,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Sr&&arguments[0]instanceof $t&&arguments[1]instanceof w){var a=arguments[0],u=arguments[1],c=arguments[2];Mr.computeDistance(a.getExteriorRing(),u,c);for(var l=0;l<a.getNumInteriorRing();l++)Mr.computeDistance(a.getInteriorRingN(l),u,c)}else if(arguments[2]instanceof Sr&&arguments[0]instanceof lt&&arguments[1]instanceof w){var A=arguments[0],h=arguments[1],p=arguments[2];if(A instanceof Wt)Mr.computeDistance(A,h,p);else if(A instanceof $t)Mr.computeDistance(A,h,p);else if(A instanceof Ht)for(var f=A,g=0;g<f.getNumGeometries();g++){var d=f.getGeometryN(g);Mr.computeDistance(d,h,p)}else p.setMinimum(A.getCoordinate(),h)}else if(arguments[2]instanceof Sr&&arguments[0]instanceof gn&&arguments[1]instanceof w){var y=arguments[0],v=arguments[1],m=arguments[2],C=y.closestPoint(v);m.setMinimum(C,v)}};var Lr=function(){this._g0=null,this._g1=null,this._ptDist=new Sr,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},kr={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Lr.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Lr.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new v("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Lr.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Lr.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Lr.prototype.computeOrientedDistance=function(t,e,n){var r=new Fr(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Pr(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},Lr.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr},Lr.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Lr(t,e).distance()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Lr(n,r);return o.setDensifyFraction(i),o.distance()}},kr.MaxPointDistanceFilter.get=function(){return Fr},kr.MaxDensifiedByFractionDistanceFilter.get=function(){return Pr},Object.defineProperties(Lr,kr);var Fr=function(){this._maxPtDist=new Sr,this._minPtDist=new Sr,this._euclideanDist=new Mr,this._geom=null;var t=arguments[0];this._geom=t};Fr.prototype.filter=function(t){this._minPtDist.initialize(),Mr.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Fr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Fr.prototype.interfaces_=function(){return[pt]},Fr.prototype.getClass=function(){return Fr};var Pr=function(){this._maxPtDist=new Sr,this._minPtDist=new Sr,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Pr.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*i,u=n.y+s*o,c=new w(a,u);this._minPtDist.initialize(),Mr.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Pr.prototype.isDone=function(){return!1},Pr.prototype.isGeometryChanged=function(){return!1},Pr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Pr.prototype.interfaces_=function(){return[jt]},Pr.prototype.getClass=function(){return Pr};var Ur=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Dr={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Ur.prototype.checkMaximumDistance=function(t,e,n){var r=new Lr(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+q.toLineString(i[0],i[1])+")"}},Ur.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Ur.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Ur.VERBOSE&&z.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Ur.prototype.checkNegativeValid=function(){if(!(this._input instanceof $t||this._input instanceof ne||this._input instanceof Ht))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Ur.prototype.getErrorIndicator=function(){return this._errorIndicator},Ur.prototype.checkMinimumDistance=function(t,e,n){var r=new Nr(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+q.toLineString(i[0],i[1])+" )"}},Ur.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Ur.prototype.getErrorLocation=function(){return this._errorLocation},Ur.prototype.getPolygonLines=function(t){for(var e=new bt,n=new wr(e),r=br.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},Ur.prototype.getErrorMessage=function(){return this._errMsg},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Dr.VERBOSE.get=function(){return!1},Dr.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Ur,Dr);var Rr=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Qr={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Rr.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Rr.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Rr.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new K(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new K(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Rr.prototype.checkDistance=function(){var t=new Ur(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Rr.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Rr.prototype.checkPolygonal=function(){this._result instanceof $t||this._result instanceof ne||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Rr.prototype.getErrorIndicator=function(){return this._errorIndicator},Rr.prototype.getErrorLocation=function(){return this._errorLocation},Rr.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2?null:this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Rr.prototype.report=function(t){if(!Rr.VERBOSE)return null;z.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Rr.prototype.getErrorMessage=function(){return this._errorMsg},Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr},Rr.isValidMsg=function(t,e,n){var r=new Rr(t,e,n);return r.isValid()?null:r.getErrorMessage()},Rr.isValid=function(t,e,n){return!!new Rr(t,e,n).isValid()},Qr.VERBOSE.get=function(){return!1},Qr.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Rr,Qr);var jr=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};jr.prototype.getCoordinates=function(){return this._pts},jr.prototype.size=function(){return this._pts.length},jr.prototype.getCoordinate=function(t){return this._pts[t]},jr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},jr.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:An.octant(this.getCoordinate(t),this.getCoordinate(t+1))},jr.prototype.setData=function(t){this._data=t},jr.prototype.getData=function(){return this._data},jr.prototype.toString=function(){return q.toLineString(new ue(this._pts))},jr.prototype.interfaces_=function(){return[hn]},jr.prototype.getClass=function(){return jr};var Hr=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new bt,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Hr.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Hr.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Hr.prototype.getIntersectionSegments=function(){return this._intSegments},Hr.prototype.count=function(){return this._intersectionCount},Hr.prototype.getIntersections=function(){return this._intersections},Hr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Hr.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Hr.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Hr.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Hr.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Hr.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Hr.prototype.interfaces_=function(){return[Xn]},Hr.prototype.getClass=function(){return Hr},Hr.createAllIntersectionsFinder=function(t){var e=new Hr(t);return e.setFindAllIntersections(!0),e},Hr.createAnyIntersectionFinder=function(t){return new Hr(t)},Hr.createIntersectionCounter=function(t){var e=new Hr(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Gr=function(){this._li=new it,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Gr.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Gr.prototype.getIntersections=function(){return this._segInt.getIntersections()},Gr.prototype.isValid=function(){return this.execute(),this._isValid},Gr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Gr.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Hr(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new _n;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Gr.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Oe(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Gr.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+q.toLineString(t[0],t[1])+" and "+q.toLineString(t[2],t[3])},Gr.prototype.interfaces_=function(){return[]},Gr.prototype.getClass=function(){return Gr},Gr.computeIntersections=function(t){var e=new Gr(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var zr=function t(){this._nv=null;var e=arguments[0];this._nv=new Gr(t.toSegmentStrings(e))};zr.prototype.checkValid=function(){this._nv.checkValid()},zr.prototype.interfaces_=function(){return[]},zr.prototype.getClass=function(){return zr},zr.toSegmentStrings=function(t){for(var e=new bt,n=t.iterator();n.hasNext();){var r=n.next();e.add(new jr(r.getCoordinates(),r))}return e},zr.checkValid=function(t){new zr(t).checkValid()};var Vr=function(t){this._mapOp=t};Vr.prototype.map=function(t){for(var e=new bt,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(ye.toGeometryArray(e))},Vr.prototype.interfaces_=function(){return[]},Vr.prototype.getClass=function(){return Vr},Vr.map=function(t,e){return new Vr(e).map(t)};var Kr=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new bt,this._resultLineList=new bt;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Kr.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Kr.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Kr.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Kr.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Bi.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},Kr.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Kr.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Kr.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Kr.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(et.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Bi.isResultOfOp(r,e)&&e===Bi.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr};var Yr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new bt;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Yr.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Yr.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===Bi.INTERSECTION)){var r=n.getLabel();Bi.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Yr.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr};var Xr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Xr.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Xr.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof ee&&!r.isEmpty()||(n=!1);for(var i=new bt,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof ee||(n=!1),i.add(s))}if(n)return this._factory.createPolygon(r,i.toArray([]));var a=new bt;return null!==r&&a.add(r),a.addAll(i),this._factory.buildGeometry(a)},Xr.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Xr.prototype.getInputGeometry=function(){return this._inputGeom},Xr.prototype.transformMultiLineString=function(t,e){for(var n=new bt,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xr.prototype.transformCoordinates=function(t,e){return this.copy(t)},Xr.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Xr.prototype.transformMultiPoint=function(t,e){for(var n=new bt,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xr.prototype.transformMultiPolygon=function(t,e){for(var n=new bt,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xr.prototype.copy=function(t){return t.copy()},Xr.prototype.transformGeometryCollection=function(t,e){for(var n=new bt,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(ye.toGeometryArray(n)):this._factory.buildGeometry(n)},Xr.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Jt)return this.transformPoint(t,null);if(t instanceof te)return this.transformMultiPoint(t,null);if(t instanceof ee)return this.transformLinearRing(t,null);if(t instanceof Wt)return this.transformLineString(t,null);if(t instanceof Gt)return this.transformMultiLineString(t,null);if(t instanceof $t)return this.transformPolygon(t,null);if(t instanceof ne)return this.transformMultiPolygon(t,null);if(t instanceof Ht)return this.transformGeometryCollection(t,null);throw new v("Unknown Geometry subtype: "+t.getClass().getName())},Xr.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr};var Wr=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new gn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Wt&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=t.isClosed(r),this._snapTolerance=i}};Wr.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new w(o)),0===r&&this._isClosed&&t.set(t.size()-1,new w(o)))}},Wr.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Wr.prototype.snapTo=function(t){var e=new Et(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Wr.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new w(i),!1)}},Wr.prototype.findSegmentIndexToSnap=function(t,e){for(var n=m.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Wr.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Wr.prototype.interfaces_=function(){return[]},Wr.prototype.getClass=function(){return Wr},Wr.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Zr=function(t){this._srcGeom=t||null},Jr={SNAP_PRECISION_FACTOR:{configurable:!0}};Zr.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new qr(e,n).transform(this._srcGeom)},Zr.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new qr(t,n,!0).transform(this._srcGeom),i=r;return e&&N(i,qt)&&(i=r.buffer(0)),i},Zr.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Zr.prototype.extractTargetCoordinates=function(t){for(var e=new p,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Zr.prototype.computeMinimumSegmentLength=function(t){for(var e=m.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Zr.prototype.interfaces_=function(){return[]},Zr.prototype.getClass=function(){return Zr},Zr.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Zr(t);r[0]=i.snapTo(e,n);var o=new Zr(e);return r[1]=o.snapTo(r[0],n),r},Zr.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Zr.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===pe.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(Zr.computeOverlaySnapTolerance(i),Zr.computeOverlaySnapTolerance(o))}},Zr.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Zr.SNAP_PRECISION_FACTOR},Zr.snapToSelf=function(t,e,n){return new Zr(t).snapToSelf(e,n)},Jr.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Zr,Jr);var qr=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Wr(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xr),$r=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};$r.prototype.getCommon=function(){return m.longBitsToDouble(this._commonBits)},$r.prototype.add=function(t){var e=m.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=$r.signExpBits(this._commonBits),this._isFirst=!1,null):$r.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=$r.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=$r.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},$r.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=m.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+m.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.getBit=function(t,e){return 0!=(t&1<<e)?1:0},$r.signExpBits=function(t){return t>>52},$r.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},$r.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if($r.getBit(t,r)!==$r.getBit(e,r))return n;n++}return 52};var ti=function(){this._commonCoord=null,this._ccFilter=new ni},ei={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ti.prototype.addCommonBits=function(t){var e=new ri(this._commonCoord);t.apply(e),t.geometryChanged()},ti.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new w(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new ri(e);return t.apply(n),t.geometryChanged(),t},ti.prototype.getCommonCoordinate=function(){return this._commonCoord},ti.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ei.CommonCoordinateFilter.get=function(){return ni},ei.Translater.get=function(){return ri},Object.defineProperties(ti,ei);var ni=function(){this._commonBitsX=new $r,this._commonBitsY=new $r};ni.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},ni.prototype.getCommonCoordinate=function(){return new w(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ni.prototype.interfaces_=function(){return[pt]},ni.prototype.getClass=function(){return ni};var ri=function(){this.trans=null;var t=arguments[0];this.trans=t};ri.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},ri.prototype.isDone=function(){return!1},ri.prototype.isGeometryChanged=function(){return!0},ri.prototype.interfaces_=function(){return[jt]},ri.prototype.getClass=function(){return ri};var ii=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};ii.prototype.selfSnap=function(t){return new Zr(t).snapTo(t,this._snapTolerance)},ii.prototype.removeCommonBits=function(t){this._cbr=new ti,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},ii.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},ii.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Bi.overlayOp(e[0],e[1],t);return this.prepareResult(n)},ii.prototype.checkValid=function(t){t.isValid()||z.out.println("Snapped geometry is invalid")},ii.prototype.computeSnapTolerance=function(){this._snapTolerance=Zr.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},ii.prototype.snap=function(t){var e=this.removeCommonBits(t);return Zr.snap(e[0],e[1],this._snapTolerance)},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.overlayOp=function(t,e,n){return new ii(t,e).getResultGeometry(n)},ii.union=function(t,e){return ii.overlayOp(t,e,Bi.UNION)},ii.intersection=function(t,e){return ii.overlayOp(t,e,Bi.INTERSECTION)},ii.symDifference=function(t,e){return ii.overlayOp(t,e,Bi.SYMDIFFERENCE)},ii.difference=function(t,e){return ii.overlayOp(t,e,Bi.DIFFERENCE)};var oi=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};oi.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Bi.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof $))throw t;r=t}if(!n)try{e=ii.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof $?r:t}return e},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.overlayOp=function(t,e,n){return new oi(t,e).getResultGeometry(n)},oi.union=function(t,e){return oi.overlayOp(t,e,Bi.UNION)},oi.intersection=function(t,e){return oi.overlayOp(t,e,Bi.INTERSECTION)},oi.symDifference=function(t,e){return oi.overlayOp(t,e,Bi.SYMDIFFERENCE)},oi.difference=function(t,e){return oi.overlayOp(t,e,Bi.DIFFERENCE)};var si=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};si.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si};var ai=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},ui={INSERT:{configurable:!0},DELETE:{configurable:!0}};ai.prototype.isDelete=function(){return this._eventType===ai.DELETE},ai.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ai.prototype.getObject=function(){return this._obj},ai.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},ai.prototype.getInsertEvent=function(){return this._insertEvent},ai.prototype.isInsert=function(){return this._eventType===ai.INSERT},ai.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ai.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ai.prototype.interfaces_=function(){return[I]},ai.prototype.getClass=function(){return ai},ui.INSERT.get=function(){return 1},ui.DELETE.get=function(){return 2},Object.defineProperties(ai,ui);var ci=function(){};ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci};var li=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};li.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(li.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},li.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},li.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},li.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},li.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},li.prototype.hasProperIntersection=function(){return this._hasProper},li.prototype.hasIntersection=function(){return this._hasIntersection},li.prototype.isDone=function(){return this._isDone},li.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},li.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},li.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li},li.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Ai=function(t){function e(){t.call(this),this.events=new bt,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){$e.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof li&&N(arguments[0],_t)&&N(arguments[1],_t)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&N(arguments[0],_t)&&arguments[1]instanceof li){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new si(n,i),s=new ai(e,n.getMinX(i),o);this.events.add(s),this.events.add(new ai(n.getMaxX(i),s))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(i.computeIntersections(a,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();this.addEdge(o,r)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ci),hi=function(){this._min=m.POSITIVE_INFINITY,this._max=m.NEGATIVE_INFINITY},pi={NodeComparator:{configurable:!0}};hi.prototype.getMin=function(){return this._min},hi.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},hi.prototype.getMax=function(){return this._max},hi.prototype.toString=function(){return q.toLineString(new w(this._min,0),new w(this._max,0))},hi.prototype.interfaces_=function(){return[]},hi.prototype.getClass=function(){return hi},pi.NodeComparator.get=function(){return fi},Object.defineProperties(hi,pi);var fi=function(){};fi.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},fi.prototype.interfaces_=function(){return[b]},fi.prototype.getClass=function(){return fi};var gi=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hi),di=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hi),yi=function(){this._leaves=new bt,this._root=null,this._level=0};yi.prototype.buildTree=function(){$e.sort(this._leaves,new hi.NodeComparator);for(var t=this._leaves,e=null,n=new bt;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},yi.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new gi(t,e,n))},yi.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},yi.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},yi.prototype.printNode=function(t){z.out.println(q.toLineString(new w(t._min,this._level),new w(t._max,this._level)))},yi.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},yi.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new di(t.get(n),t.get(n+1));e.add(i)}}},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi};var vi=function(){this._items=new bt};vi.prototype.visitItem=function(t){this._items.add(t)},vi.prototype.getItems=function(){return this._items},vi.prototype.interfaces_=function(){return[We]},vi.prototype.getClass=function(){return vi};var mi=function(){this._index=null;var t=arguments[0];if(!N(t,qt))throw new v("Argument must be Polygonal");this._index=new _i(t)},Ci={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};mi.prototype.locate=function(t){var e=new st(t),n=new Ii(e);return this._index.query(t.y,t.y,n),e.getLocation()},mi.prototype.interfaces_=function(){return[Qn]},mi.prototype.getClass=function(){return mi},Ci.SegmentVisitor.get=function(){return Ii},Ci.IntervalIndexedGeometry.get=function(){return _i},Object.defineProperties(mi,Ci);var Ii=function(){this._counter=null;var t=arguments[0];this._counter=t};Ii.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Ii.prototype.interfaces_=function(){return[We]},Ii.prototype.getClass=function(){return Ii};var _i=function(){this._index=new yi;var t=arguments[0];this.init(t)};_i.prototype.init=function(t){for(var e=wr.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},_i.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new gn(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},_i.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new vi;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i};var bi=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new he,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Er,2===arguments.length){var e=arguments[0],n=arguments[1],r=ft.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;O.NONE,r.getLocation(t,Ee.ON)===O.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new li(n,!0,!1);o.setIsDoneIfProperInt(i);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof ee||this._parentGeom instanceof $t||this._parentGeom instanceof ne,u=r||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new li(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Jt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,O.INTERIOR)}else if(arguments[0]instanceof w){var e=arguments[0];this.insertPoint(this._argIndex,e,O.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),O.EXTERIOR,O.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,O.INTERIOR,O.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],O.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],O.BOUNDARY)},e.prototype.addLineString=function(t){var e=Bt.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new nr(e,new Me(this._argIndex,O.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),et.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===O.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Bt.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;at.isCCW(r)&&(i=n,o=e);var s=new nr(r,new Me(this._argIndex,O.BOUNDARY,i,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,r[0],O.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new Me(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new Ai},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ne&&(this._useBoundaryDeterminationRule=!1),e instanceof $t)this.addPolygon(e);else if(e instanceof Wt)this.addLineString(e);else if(e instanceof Jt)this.addPoint(e);else if(e instanceof te)this.addCollection(e);else if(e instanceof Gt)this.addCollection(e);else if(e instanceof ne)this.addCollection(e);else{if(!(e instanceof Ht))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return N(this._parentGeom,qt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new mi(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?O.BOUNDARY:O.INTERIOR},e}(ze),wi=function(){if(this._li=new it,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new bi(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=ft.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new bi(0,e,r),this._arg[1]=new bi(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new bi(0,i,s),this._arg[1]=new bi(1,o,s)}};wi.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},wi.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},wi.prototype.interfaces_=function(){return[]},wi.prototype.getClass=function(){return wi};var Ei=function(){};Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},Ei.map=function(){if(arguments[0]instanceof lt&&N(arguments[1],Ei.MapOp)){for(var t=arguments[0],e=arguments[1],n=new bt,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(N(arguments[0],Ct)&&N(arguments[1],Ei.MapOp)){for(var o=arguments[0],s=arguments[1],a=new bt,u=o.iterator();u.hasNext();){var c=u.next(),l=s.map(c);null!==l&&a.add(l)}return a}},Ei.MapOp=function(){};var Bi=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Er,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Yn,this._resultPolyList=new bt,this._resultLineList=new bt,this._resultPointList=new bt,this._graph=new ze(new Vn),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Me(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new bt;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==O.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new bt,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new bt;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),zr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Ve(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Kr(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Yr(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Ee.RIGHT),i.getLocation(1,Ee.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(et.isTrue(!r.isNull(i,Ee.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Ee.LEFT,r.getLocation(i,Ee.LEFT)),et.isTrue(!r.isNull(i,Ee.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Ee.RIGHT,r.getLocation(i,Ee.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(wi);Bi.overlayOp=function(t,e,n){return new Bi(t,e).getResultGeometry(n)},Bi.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Bi.createEmptyResult(Bi.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Vr.map(t,{interfaces_:function(){return[Ei.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Bi.INTERSECTION)},Bi.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Bi.createEmptyResult(Bi.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Bi.SYMDIFFERENCE)},Bi.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Bi.INTERSECTION:o=Math.min(r,i);break;case Bi.UNION:o=Math.max(r,i);break;case Bi.DIFFERENCE:o=r;break;case Bi.SYMDIFFERENCE:o=Math.max(r,i)}return o},Bi.createEmptyResult=function(t,e,n,r){var i=null;switch(Bi.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Bi.difference=function(t,e){return t.isEmpty()?Bi.createEmptyResult(Bi.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Bi.DIFFERENCE))},Bi.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Bi.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===O.BOUNDARY&&(i=O.INTERIOR),o===O.BOUNDARY&&(o=O.INTERIOR),s){case Bi.INTERSECTION:return i===O.INTERIOR&&o===O.INTERIOR;case Bi.UNION:return i===O.INTERIOR||o===O.INTERIOR;case Bi.DIFFERENCE:return i===O.INTERIOR&&o!==O.INTERIOR;case Bi.SYMDIFFERENCE:return i===O.INTERIOR&&o!==O.INTERIOR||i!==O.INTERIOR&&o===O.INTERIOR}return!1}},Bi.INTERSECTION=1,Bi.UNION=2,Bi.DIFFERENCE=3,Bi.SYMDIFFERENCE=4;var xi=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Er,this._seg=new gn;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};xi.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},xi.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?O.BOUNDARY:this._ptLocator.locate(t,this._g)},xi.prototype.extractLinework=function(t){var e=new Oi;t.apply(e);var n=e.getLinework(),r=ye.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi};var Oi=function(){this._linework=null,this._linework=new bt};Oi.prototype.getLinework=function(){return this._linework},Oi.prototype.filter=function(t){if(t instanceof $t){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Oi.prototype.interfaces_=function(){return[Qt]},Oi.prototype.getClass=function(){return Oi};var Ti=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Ti.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Ti.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Ti.prototype.getPoints=function(t){for(var e=new bt,n=wr.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Ti.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=Math.sqrt(i*i+o*o),a=n*i/s,u=n*o/s,c=(e.x+t.x)/2,l=(e.y+t.y)/2;if(this._doLeft){var A=new w(c-u,l+a);r.add(A)}if(this._doRight){var h=new w(c+u,l-a);r.add(h)}},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti};var Ni=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new bt;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new xi(this._geom[0],this._boundaryDistanceTolerance),new xi(this._geom[1],this._boundaryDistanceTolerance),new xi(this._geom[2],this._boundaryDistanceTolerance)]},Si={TOLERANCE:{configurable:!0}};Ni.prototype.reportResult=function(t,e,n){z.out.println("Overlay result invalid - A:"+O.toLocationSymbol(e[0])+" B:"+O.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+O.toLocationSymbol(e[2]))},Ni.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Ni.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Ni.hasLocation(this._location,O.BOUNDARY)||this.isValidResult(r,this._location)}},Ni.prototype.addTestPts=function(t){var e=new Ti(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Ni.prototype.isValidResult=function(t,e){var n=Bi.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===O.INTERIOR);return r||this.reportResult(t,e,n),r},Ni.prototype.getInvalidLocation=function(){return this._invalidLocation},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni},Ni.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Ni.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Zr.computeSizeBasedSnapTolerance(t),Zr.computeSizeBasedSnapTolerance(e))},Ni.isValid=function(t,e,n,r){return new Ni(t,e,r).isValid(n)},Si.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Ni,Si);var Mi=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Mi.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},Mi.prototype.combine=function(){for(var t=new bt,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Mi.prototype.interfaces_=function(){return[]},Mi.prototype.getClass=function(){return Mi},Mi.combine=function(){if(1===arguments.length){var t=arguments[0];return new Mi(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Mi(Mi.createList(e,n)).combine()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return new Mi(Mi.createList(r,i,o)).combine()}},Mi.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Mi.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new bt;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=new bt;return s.add(r),s.add(i),s.add(o),s}};var Li=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new bt)},ki={STRTREE_NODE_CAPACITY:{configurable:!0}};Li.prototype.reduceToGeometries=function(t){for(var e=new bt,n=t.iterator();n.hasNext();){var r=n.next(),i=null;N(r,_t)?i=this.unionTree(r):r instanceof lt&&(i=r),e.add(i)}return e},Li.prototype.extractByEnvelope=function(t,e,n){for(var r=new bt,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},Li.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return Mi.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},Li.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new sn(Li.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},Li.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Li.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Li.getGeometry(e,n),Li.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,r);return this.unionSafe(s,a)}},Li.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},Li.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Li.prototype.unionActual=function(t,e){return Li.restrictToPolygons(t.union(e))},Li.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Li.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new bt,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),s=this.unionActual(i,o);return r.add(s),Mi.combine(r)},Li.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.restrictToPolygons=function(t){if(N(t,qt))return t;var e=br.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(ye.toPolygonArray(e))},Li.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Li.union=function(t){return new Li(t).union()},ki.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Li,ki);var Fi=function(){};Fi.prototype.interfaces_=function(){return[]},Fi.prototype.getClass=function(){return Fi},Fi.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Bi.createEmptyResult(Bi.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Bi.UNION)},t.GeoJSONReader=be,t.GeoJSONWriter=we,t.OverlayOp=Bi,t.UnionOp=Fi,t.BufferOp=gr,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){"use strict";e.a=l;var r=n(372),i=n(618),o=n(860),s=n(619),a=n(536),u=1e9,c=-u;function l(t,e,n,l){function A(r,i){return t<=r&&r<=n&&e<=i&&i<=l}function h(r,i,o,s){var a=0,u=0;if(null==r||(a=p(r,o))!==(u=p(i,o))||g(r,i)<0^o>0)do{s.point(0===a||3===a?t:n,a>1?l:e)}while((a=(a+o+4)%4)!==u);else s.point(i[0],i[1])}function p(i,o){return Object(r.a)(i[0]-t)<r.i?o>0?0:3:Object(r.a)(i[0]-n)<r.i?o>0?2:1:Object(r.a)(i[1]-e)<r.i?o>0?1:0:o>0?3:2}function f(t,e){return g(t.x,e.x)}function g(t,e){var n=p(t,1),r=p(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var p,g,d,y,v,m,C,I,_,b,w,E=r,B=Object(i.a)(),x={point:O,lineStart:function(){x.point=T,g&&g.push(d=[]);b=!0,_=!1,C=I=NaN},lineEnd:function(){p&&(T(y,v),m&&_&&B.rejoin(),p.push(B.result()));x.point=O,_&&E.lineEnd()},polygonStart:function(){E=B,p=[],g=[],w=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=g.length;n<r;++n)for(var i,o,s=g[n],a=1,u=s.length,c=s[0],A=c[0],h=c[1];a<u;++a)i=A,o=h,c=s[a],A=c[0],h=c[1],o<=l?h>l&&(A-i)*(l-o)>(h-o)*(t-i)&&++e:h<=l&&(A-i)*(l-o)<(h-o)*(t-i)&&--e;return e}(),n=w&&e,i=(p=Object(a.a)(p)).length;(n||i)&&(r.polygonStart(),n&&(r.lineStart(),h(null,null,1,r),r.lineEnd()),i&&Object(s.a)(p,f,e,h,r),r.polygonEnd());E=r,p=g=d=null}};function O(t,e){A(t,e)&&E.point(t,e)}function T(r,i){var s=A(r,i);if(g&&d.push([r,i]),b)y=r,v=i,m=s,b=!1,s&&(E.lineStart(),E.point(r,i));else if(s&&_)E.point(r,i);else{var a=[C=Math.max(c,Math.min(u,C)),I=Math.max(c,Math.min(u,I))],h=[r=Math.max(c,Math.min(u,r)),i=Math.max(c,Math.min(u,i))];Object(o.a)(a,h,t,e,n,l)?(_||(E.lineStart(),E.point(a[0],a[1])),E.point(h[0],h[1]),s||E.lineEnd(),w=!1):s&&(E.lineStart(),E.point(r,i),w=!1)}C=r,I=i,_=s}return x}}},function(t,e,n){"use strict";n(621),n(437),n(622),n(861),n(862),n(624),n(626),n(863),n(866),n(867),n(630),n(868),n(869),n(870);var r=n(871);n.d(e,"a",function(){return r.a});n(631),n(623),n(872),n(537);var i=n(628);n.d(e,"b",function(){return i.a});n(873),n(874),n(875),n(629),n(632),n(625),n(876)},function(t,e,n){"use strict";var r=n(456);e.a=function(t,e,n){if(null==n&&(n=r.a),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,s=Math.floor(o),a=+n(t[s],s,t);return a+(+n(t[s+1],s+1,t)-a)*(o-s)}}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(372),i=n(540),o=n(889);function s(t,e){var n=Object(r.t)(t),i=(n+Object(r.t)(e))/2;if(Object(r.a)(i)<r.i)return Object(o.a)(t);var s=1+n*(2*i-n),a=Object(r.u)(s)/i;function u(t,e){var n=Object(r.u)(s-2*i*Object(r.t)(e))/i;return[n*Object(r.t)(t*=i),a-n*Object(r.g)(t)]}return u.invert=function(t,e){var n=a-e;return[Object(r.e)(t,Object(r.a)(n))/i*Object(r.s)(n),Object(r.c)((s-(t*t+n*n)*i*i)/(2*i))]},u}e.a=function(){return Object(i.a)(s).scale(155.424).center([0,33.6442])}},function(t,e,n){"use strict";e.a=function(t){var e=0,n=r.o/3,o=Object(i.b)(t),s=o(e,n);return s.parallels=function(t){return arguments.length?o(e=t[0]*r.r,n=t[1]*r.r):[e*r.h,n*r.h]},s};var r=n(372),i=n(409)},function(t,e,n){"use strict";e.a=o,e.b=function(t,e,n){return o(t,[[0,0],e],n)};var r=n(425),i=n(636);function o(t,e,n){var o=e[1][0]-e[0][0],s=e[1][1]-e[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=a&&t.clipExtent(null),Object(r.a)(n,t.stream(i.a));var u=i.a.result(),c=Math.min(o/(u[1][0]-u[0][0]),s/(u[1][1]-u[0][1])),l=+e[0][0]+(o-c*(u[1][0]+u[0][0]))/2,A=+e[0][1]+(s-c*(u[1][1]+u[0][1]))/2;return null!=a&&t.clipExtent(a),t.scale(150*c).translate([l,A])}},function(t,e,n){"use strict";e.b=s,e.a=a;var r=n(372),i=n(482),o=n(409);function s(t,e){return[t,Object(r.n)(Object(r.v)((r.l+e)/2))]}s.invert=function(t,e){return[t,2*Object(r.d)(Object(r.k)(e))-r.l]};function a(t){var e,n,a,u=Object(o.a)(t),c=u.center,l=u.scale,A=u.translate,h=u.clipExtent,p=null;function f(){var o=r.o*l(),c=u(Object(i.a)(u.rotate()).invert([0,0]));return h(null==p?[[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]]:t===s?[[Math.max(c[0]-o,p),e],[Math.min(c[0]+o,n),a]]:[[p,Math.max(c[1]-o,e)],[n,Math.min(c[1]+o,a)]])}return u.scale=function(t){return arguments.length?(l(t),f()):l()},u.translate=function(t){return arguments.length?(A(t),f()):A()},u.center=function(t){return arguments.length?(c(t),f()):c()},u.clipExtent=function(t){return arguments.length?(null==t?p=e=n=a=null:(p=+t[0][0],e=+t[0][1],n=+t[1][0],a=+t[1][1]),f()):null==p?null:[[p,e],[n,a]]},f()}},function(t,e,n){"use strict";var r=n(480),i=n.n(r),o=n(641),s=n.n(o),a=n(377),u=n(481),c=n(398);function l(t){if(t.features.length<=1)return t;var e=function(t){var e=i()(),n=[];return Object(c.c)(t,function(t,e){var r=Object(u.a)(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})}),e.load(n),e}(t),n=[],r={};return Object(c.c)(t,function(t,i){if(r[i])return!0;for(e.remove({index:i},A),r[i]=!0;;){var o=Object(u.a)(t),a=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(a.length>0){var c=a.map(function(t){return r[t.index]=!0,e.remove({index:t.index},A),t.geojson});c.push(t),t=s.a.apply(this,c)}if(0===a.length)break}n.push(t)}),Object(a.e)(n)}function A(t,e){return t.index===e.index}e.a=function(t,e){var n,r,i,o=function(t){var e=t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return Object(a.k)(e)}(e),s=(n=t,r=[],i=[],Object(c.c)(n,function(t){var e=t.geometry.coordinates,n=e[0],o=e.slice(1);r.push(Object(a.k)([n])),o.forEach(function(t){i.push(Object(a.k)([t]))})}),[Object(a.e)(r),Object(a.e)(i)]),u=s[0],A=s[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),Object(c.c)(e,function(t){r.push(t.geometry.coordinates[0])}),Object(c.c)(n,function(t){r.push(t.geometry.coordinates[0])}),Object(a.k)(r)}(o,u=l(u),A=l(A))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){switch(t.draw.ctx.helpToolTip.removeTooltip(),t.draw.ctx.helpToolTip.updateTooltip("单击开始进行绘制"),t.draw.ctx.helpToolTip.addTooltip(),e){case"point":t.draw.changeMode(r.g.modes.DRAW_POINT);break;case"line":t.draw.changeMode(r.g.modes.DRAW_LINE_STRING);break;case"polygon":t.draw.changeMode(r.g.modes.DRAW_POLYGON);break;case"rectangle":t.draw.changeMode(r.g.modes.DRAW_RECTANGLE);break;case"triangle":t.draw.changeMode(r.g.modes.DRAW_TRIANGLE);break;case"circle":t.draw.changeMode(r.g.modes.DRAW_CIRCLE);break;case"sector":t.draw.changeMode(r.g.modes.DRAW_SECTOR);break;case"arrow":t.draw.changeMode(r.g.modes.DRAW_ARROW);break;case"trash":t.draw.trash();break;case"combine":t.draw.combineFeatures();break;case"uncombine":t.draw.uncombineFeatures();break;case"union_polygon":t.draw.unionPolygon();break;case"split_polygon":t.draw.changeMode(r.g.modes.SPLIT_POLYGON);break;case"union_line":t.draw.unionLine();break;case"split_line":t.draw.splitLine();break;case"curve_line":t.draw.curveLine();break;case"undo":t.undoOperation();break;case"redo":t.redoOperation();break;case"static":t.draw.changeMode(r.g.modes.STATIC)}};var r=n(373)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),i=(n.n(r),n(25)),o=(n.n(i),n(24)),s=(n.n(o),n(103)),a=(n.n(s),n(546));e.default=function(t){var e=Object.keys(t);return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.editableInit=n.options.editableInit,r.featureDraggable=n.options.featureDraggable;var i={},o=e.reduce(function(e,n){return e[n]=t[n],e},new a.default(n));function s(t){return function(e){o[t](i,e)}}return{start:function(){i=o.onSetup(r),this.on("drag",function(){return!0},s("onDrag")),this.on("click",function(){return!0},s("onClick")),this.on("mousemove",function(){return!0},s("onMouseMove")),this.on("mousedown",function(){return!0},s("onMouseDown")),this.on("mouseup",function(){return!0},s("onMouseUp")),this.on("mouseout",function(){return!0},s("onMouseOut")),this.on("keyup",function(){return!0},s("onKeyUp")),this.on("keydown",function(){return!0},s("onKeyDown")),this.on("touchstart",function(){return!0},s("onTouchStart")),this.on("touchmove",function(){return!0},s("onTouchMove")),this.on("touchend",function(){return!0},s("onTouchEnd")),this.on("tap",function(){return!0},s("onTap"))},stop:function(){o.onStop(i)},trash:function(){o.onTrash(i)},combineFeatures:function(){o.onCombineFeatures(i)},uncombineFeatures:function(){o.onUncombineFeatures(i)},render:function(t,e){o.toDisplayFeatures(i,t,e)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return p});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(159),h=n.n(A),p=function(t){function e(){return i()(this,e),u()(this,l()(e).apply(this,arguments))}return h()(e,t),s()(e,[{key:"onSetup",value:function(){}},{key:"onDrag",value:function(){}},{key:"onClick",value:function(){}},{key:"onMouseMove",value:function(){}},{key:"onMouseDown",value:function(){}},{key:"onMouseUp",value:function(){}},{key:"onMouseOut",value:function(){}},{key:"onKeyUp",value:function(){}},{key:"onKeyDown",value:function(){}},{key:"onTouchStart",value:function(){}},{key:"onTouchMove",value:function(){}},{key:"onTouchEnd",value:function(){}},{key:"onTap",value:function(){}},{key:"onStop",value:function(){}},{key:"onTrash",value:function(){}},{key:"onCombineFeature",value:function(){}},{key:"onUncombineFeature",value:function(){}},{key:"toDisplayFeatures",value:function(){throw new Error("You must overwrite toDisplayFeatures")}}]),e}(n(547).default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return f});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(373),u=n(484),c=n(548),l=n(550),A=n(551),h=n(486),p=n(932),f=function(){function t(e){i()(this,t),this.map=e.map,this.drawConfig=JSON.parse(JSON.stringify(e.options||{})),this._ctx=e}return s()(t,[{key:"setSelected",value:function(t){return this._ctx.store.setSelected(t)}},{key:"setSelectedCoordinates",value:function(t){var e=this;this._ctx.store.setSelectedCoordinates(t),t.reduce(function(t,n){return void 0===t[n.feature_id]&&(t[n.feature_id]=!0,e._ctx.store.get(n.feature_id).changed()),t},{})}},{key:"getSelected",value:function(){return this._ctx.store.getSelected()}},{key:"getSelectedIds",value:function(){return this._ctx.store.getSelectedIds()}},{key:"isSelected",value:function(t){return this._ctx.store.isSelected(t)}},{key:"getFeature",value:function(t){return this._ctx.store.get(t)}},{key:"select",value:function(t){return this._ctx.store.select(t)}},{key:"deselect",value:function(t){return this._ctx.store.deselect(t)}},{key:"deleteFeature",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._ctx.store.delete(t,e)}},{key:"addFeature",value:function(t){return this._ctx.store.add(t)}},{key:"clearSelectedFeatures",value:function(){return this._ctx.store.clearSelected()}},{key:"clearSelectedCoordinates",value:function(){return this._ctx.store.clearSelectedCoordinates()}},{key:"setActionableState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={trash:t.trash||!1,combineFeatures:t.combineFeatures||!1,uncombineFeatures:t.uncombineFeatures||!1};return this._ctx.events.actionable(e)}},{key:"changeMode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._ctx.events.changeMode(t,e,n)}},{key:"updateUIClasses",value:function(t){return this._ctx.ui.queueMapClasses(t)}},{key:"activateUIButton",value:function(t){return this._ctx.ui.setActiveButton(t)}},{key:"featuresAt",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click";if("click"!==n&&"touch"!==n)throw new Error("invalid buffer type");return u.a[n](t,e,this._ctx)}},{key:"newFeature",value:function(t){var e=t.geometry.type;return e===a.g.geojsonTypes.POINT?new c.a(this._ctx,t):e===a.g.geojsonTypes.LINE_STRING?new l.a(this._ctx,t):e===a.g.geojsonTypes.POLYGON?new A.a(this._ctx,t):new h.a(this._ctx,t)}},{key:"newRectangle",value:function(){}},{key:"newTriangle",value:function(){}},{key:"newSector",value:function(t){return new p.a(this._ctx,t)}},{key:"newEllipse",value:function(){}},{key:"newArc",value:function(){}},{key:"isInstanceOf",value:function(t,e){if(t===a.g.geojsonTypes.POINT)return e instanceof c.a;if(t===a.g.geojsonTypes.LINE_STRING)return e instanceof l.a;if(t===a.g.geojsonTypes.POLYGON)return e instanceof A.a;if("MultiFeature"===t)return e instanceof h.a;throw new Error("Unknown feature class: ".concat(t))}},{key:"doRender",value:function(t){return this._ctx.store.featureChanged(t)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(159),h=n.n(A),p=function(t){function e(){return i()(this,e),u()(this,l()(e).apply(this,arguments))}return h()(e,t),s()(e,[{key:"isValid",value:function(){return"number"===typeof this.coordinates[0]&&"number"===typeof this.coordinates[1]}},{key:"updateCoordinate",value:function(t,e,n){3===arguments.length?this.coordinates=[e,n]:this.coordinates=[t,e],this.changed()}},{key:"getCoordinate",value:function(){return this.getCoordinates()}}]),e}(n(458).a)},function(t,e){var n=t.exports=function(t,e){if(e||(e=16),void 0===t&&(t=128),t<=0)return"0";for(var r=Math.log(Math.pow(2,t))/Math.log(e),i=2;r===1/0;i*=2)r=Math.log(Math.pow(2,t/i))/Math.log(e)*i;var o=r-Math.floor(r),s="";for(i=0;i<Math.floor(r);i++){s=Math.floor(Math.random()*e).toString(e)+s}if(o){var a=Math.pow(e,o);s=Math.floor(Math.random()*a).toString(e)+s}var u=parseInt(s,e);return u!==1/0&&u>=Math.pow(2,t)?n(t,e):s};n.rack=function(t,e,r){var i=function(i){var s=0;do{if(s++>10){if(!r)throw new Error("too many ID collisions, use more bits");t+=r}var a=n(t,e)}while(Object.hasOwnProperty.call(o,a));return o[a]=i,a},o=i.hats={};return i.get=function(t){return i.hats[t]},i.set=function(t,e){return i.hats[t]=e,i},i.bits=t||128,i.base=e||16,i}},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(159),h=n.n(A),p=function(t){function e(){return i()(this,e),u()(this,l()(e).apply(this,arguments))}return h()(e,t),s()(e,[{key:"isValid",value:function(){return this.coordinates.length>1}},{key:"addCoordinate",value:function(t,e,n){this.changed();var r=parseInt(t,10);this.coordinates.splice(r,0,[e,n])}},{key:"getCoordinate",value:function(t){var e=parseInt(t,10);return JSON.parse(JSON.stringify(this.coordinates[e]))}},{key:"removeCoordinate",value:function(t){this.changed(),this.coordinates.splice(parseInt(t,10),1)}},{key:"updateCoordinate",value:function(t,e,n){var r=parseInt(t,10);this.coordinates[r]=[e,n],this.changed()}}]),e}(n(458).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(160),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(158),c=n.n(u),l=n(157),A=n.n(l),h=n(159),p=n.n(h),f=function(t){function e(t,n){var r;return o()(this,e),(r=c()(this,A()(e).call(this,t,n))).coordinates=r.coordinates.map(function(t){return t.slice(0,-1)}),r}return p()(e,t),a()(e,[{key:"isValid",value:function(){return 0!==this.coordinates.length&&this.coordinates.every(function(t){return t.length>2})}},{key:"incomingCoords",value:function(t){this.coordinates=t.map(function(t){return t.slice(0,-1)}),this.changed()}},{key:"setCoordinates",value:function(t){this.coordinates=t,this.changed()}},{key:"addCoordinate",value:function(t,e,n){this.changed();var r=t.split(".").map(function(t){return parseInt(t,10)});this.coordinates[r[0]].splice(r[1],0,[e,n])}},{key:"removeCoordinate",value:function(t){this.changed();var e=t.split(".").map(function(t){return parseInt(t,10)}),n=this.coordinates[e[0]];n&&(n.splice(e[1],1),n.length<3&&this.coordinates.splice(e[0],1))}},{key:"getCoordinate",value:function(t){var e=t.split(".").map(function(t){return parseInt(t,10)}),n=this.coordinates[e[0]];return JSON.parse(JSON.stringify(n[e[1]]))}},{key:"getCoordinates",value:function(){return this.coordinates.map(function(t){return t.concat([t[0]])})}},{key:"updateCoordinate",value:function(t,e,n){this.changed();var r=t.split("."),i=parseInt(r[0],10),o=parseInt(r[1],10);void 0===this.coordinates[i]&&(this.coordinates[i]=[]),this.coordinates[i][o]=[e,n]}}]),e}(n(458).a)},function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},function(t,e,n){"use strict";e.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,n){"use strict";n(948),n(949),n(957),n(491),n(958);var r=n(556);n.d(e,"a",function(){return r.a});n(663)},function(t,e,n){"use strict";var r=n(490),i=n(491),o=n(950),s=n(384),a=n(558),u="renderOrder",c=function(t){function e(e){var n=e||{},i=Object(s.a)({},n);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,t.call(this,i),this.declutter_=void 0!==n.declutter&&n.declutter,this.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(n.style),this.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,this.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,this.renderMode_=n.renderMode||o.a.VECTOR,this.type=r.a.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(u)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(u,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:a.a,this.styleFunction_=null===t?void 0:Object(a.c)(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(i.a);c.prototype.getSource,e.a=c},function(t,e,n){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},function(t,e,n){"use strict";e.c=function(t){var e;if("function"===typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else{Object(r.a)("function"===typeof t.getZIndex,41);var i=t;n=[i]}e=function(){return n}}return e},e.a=function(t,e){if(!u){var n=new o.a({color:"rgba(255,255,255,0.4)"}),r=new s.a({color:"#3399CC",width:1.25});u=[new a({image:new i.a({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return u};var r=n(389),i=(n(393),n(655)),o=n(563),s=n(659),a=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=c,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};a.prototype.clone=function(){var t=this.getGeometry();return t&&"object"===typeof t&&(t=t.clone()),new a({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},a.prototype.getRenderer=function(){return this.renderer_},a.prototype.setRenderer=function(t){this.renderer_=t},a.prototype.getGeometry=function(){return this.geometry_},a.prototype.getGeometryFunction=function(){return this.geometryFunction_},a.prototype.getFill=function(){return this.fill_},a.prototype.setFill=function(t){this.fill_=t},a.prototype.getImage=function(){return this.image_},a.prototype.setImage=function(t){this.image_=t},a.prototype.getStroke=function(){return this.stroke_},a.prototype.setStroke=function(t){this.stroke_=t},a.prototype.getText=function(){return this.text_},a.prototype.setText=function(t){this.text_=t},a.prototype.getZIndex=function(){return this.zIndex_},a.prototype.setGeometry=function(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=c,this.geometry_=t},a.prototype.setZIndex=function(t){this.zIndex_=t};var u=null;function c(t){return t.getGeometry()}e.b=a},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});n(657);var r="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",i=-1!==r.indexOf("firefox"),o=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom"),s=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge"),a=-1!==r.indexOf("macintosh"),u=window.devicePixelRatio||1,c=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}();navigator,window,window,navigator.msPointerEnabled},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(t,e,n){"use strict";e.b=function(){return[1,0,0,1,0,0]},e.a=function(t,e,n,r,i,o,s,a){var u=Math.sin(o),c=Math.cos(o);return t[0]=r*c,t[1]=i*u,t[2]=-r*u,t[3]=i*c,t[4]=s*r*c-a*r*u+e,t[5]=s*i*u+a*i*c+n,t};n(389),new Array(6)},function(t,e,n){"use strict";var r=n(382),i=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};i.prototype.clone=function(){return new i({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},i.prototype.getOpacity=function(){return this.opacity_},i.prototype.getRotateWithView=function(){return this.rotateWithView_},i.prototype.getRotation=function(){return this.rotation_},i.prototype.getScale=function(){return this.scale_},i.prototype.getSnapToPixel=function(){return!1},i.prototype.getAnchor=function(){return Object(r.b)()},i.prototype.getImage=function(t){return Object(r.b)()},i.prototype.getHitDetectionImage=function(t){return Object(r.b)()},i.prototype.getImageState=function(){return Object(r.b)()},i.prototype.getImageSize=function(){return Object(r.b)()},i.prototype.getHitDetectionImageSize=function(){return Object(r.b)()},i.prototype.getOrigin=function(){return Object(r.b)()},i.prototype.getSize=function(){return Object(r.b)()},i.prototype.setOpacity=function(t){this.opacity_=t},i.prototype.setRotateWithView=function(t){this.rotateWithView_=t},i.prototype.setRotation=function(t){this.rotation_=t},i.prototype.setScale=function(t){this.scale_=t},i.prototype.setSnapToPixel=function(t){},i.prototype.listenImageChange=function(t,e){return Object(r.b)()},i.prototype.load=function(){Object(r.b)()},i.prototype.unlistenImageChange=function(t,e){Object(r.b)()},e.a=i},function(t,e,n){"use strict";var r=n(382),i=n(459),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+Object(i.b)(t):this.checksum_=Object(r.c)(this.color_):this.checksum_="f-"}return this.checksum_},e.a=o},function(t,e,n){"use strict";var r=n(391);e.a={SINGLECLICK:"singleclick",CLICK:r.a.CLICK,DBLCLICK:r.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,n){"use strict";e.a=function(t,e){return t[0]+=e[0],t[1]+=e[1],t},e.b=function(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t},e.c=function(t,e){return t[0]*=e,t[1]*=e,t},e.d=r;n(385),n(964);function r(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}},function(t,e,n){"use strict";e.c=function(t,e,n,r,i,o){for(var s=o||[],a=0,u=e;u<n;u+=r){var c=t[u],l=t[u+1];s[a++]=i[0]*c+i[2]*l+i[4],s[a++]=i[1]*c+i[3]*l+i[5]}o&&s.length!=a&&(s.length=a);return s},e.a=function(t,e,n,r,i,o,s){for(var a=s||[],u=Math.cos(i),c=Math.sin(i),l=o[0],A=o[1],h=0,p=e;p<n;p+=r){var f=t[p]-l,g=t[p+1]-A;a[h++]=l+f*u-g*c,a[h++]=A+f*c+g*u;for(var d=p+2;d<p+r;++d)a[h++]=t[d]}s&&a.length!=h&&(a.length=h);return a},e.b=function(t,e,n,r,i,o,s,a){for(var u=a||[],c=s[0],l=s[1],A=0,h=e;h<n;h+=r){var p=t[h]-c,f=t[h+1]-l;u[A++]=c+i*p,u[A++]=l+o*f;for(var g=h+2;g<h+r;++g)u[A++]=t[g]}a&&u.length!=A&&(u.length=A);return u},e.d=function(t,e,n,r,i,o,s){for(var a=s||[],u=0,c=e;c<n;c+=r){a[u++]=t[c]+i,a[u++]=t[c+1]+o;for(var l=c+2;l<c+r;++l)a[u++]=t[l]}s&&a.length!=u&&(a.length=u);return a}},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=0,o=t[n-r],s=t[n-r+1];e<n;e+=r){var a=t[e],u=t[e+1];i+=s*a-o*u,o=a,s=u}return i/2}function i(t,e,n,i){for(var o=0,s=0,a=n.length;s<a;++s){var u=n[s];o+=r(t,e,u,i),e=u}return o}e.a=r,e.b=i,e.c=function(t,e,n,r){for(var o=0,s=0,a=n.length;s<a;++s){var u=n[s];o+=i(t,e,u,r),e=u[u.length-1]}return o}},function(t,e,n){"use strict";e.a=o,e.b=function(t,e,n,r,i){for(var s=[],a=0,u=n.length;a<u;++a){var c=n[a];s=o(t,e,c,r,i,2*a,s),e=c[c.length-1]}return s};var r=n(411),i=n(496);function o(t,e,n,o,s,a,u){for(var c,l,A,h,p,f,g,d=s[a+1],y=[],v=0,m=n.length;v<m;++v){var C=n[v];for(h=t[C-o],f=t[C-o+1],c=e;c<C;c+=o)p=t[c],g=t[c+1],(d<=f&&g<=d||f<=d&&d<=g)&&(A=(d-f)/(g-f)*(p-h)+h,y.push(A)),h=p,f=g}var I=NaN,_=-1/0;for(y.sort(r.e),h=y[0],c=1,l=y.length;c<l;++c){p=y[c];var b=Math.abs(p-h);b>_&&(A=(h+p)/2,Object(i.c)(t,e,n,o,A,d)&&(I=A,_=b)),h=p}return isNaN(I)&&(I=s[a]),u?(u.push(I,d,_),u):[I,d,_]}},function(t,e,n){"use strict";e.a=i,e.b=o,e.c=function(t,e,n,r,i){for(var s=0,a=n.length;s<a;++s)if(!o(t,e,n[s],r,i))return!1;return!0},e.d=s,e.e=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o)e=s(t,e,n[o],r,i);return e};var r=n(974);function i(t,e,n,r){for(var i=0,o=t[n-r],s=t[n-r+1];e<n;e+=r){var a=t[e],u=t[e+1];i+=(a-o)*(u+s),o=a,s=u}return i>0}function o(t,e,n,r,o){for(var s=void 0!==o&&o,a=0,u=n.length;a<u;++a){var c=n[a],l=i(t,e,c,r);if(0===a){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;e=c}return!0}function s(t,e,n,o,s){for(var a=void 0!==s&&s,u=0,c=n.length;u<c;++u){var l=n[u],A=i(t,e,l,o);(0===u?a&&A||!a&&!A:a&&!A||!a&&A)&&Object(r.a)(t,e,l,o),e=l}return e}},function(t,e,n){"use strict";e.b=function(t,e,n){var r,i=n?Object(o.d)(n.featureProjection):null,s=n?Object(o.d)(n.dataProjection):null;r=i&&s&&!Object(o.b)(i,s)?Array.isArray(t)?Object(o.h)(t,s,i):(e?t.clone():t).transform(e?i:s,e?s:i):t;if(e&&n&&void 0!==n.decimals&&!Array.isArray(r)){var a=Math.pow(10,n.decimals);r===t&&(r=t.clone()),r.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t})}return r};var r=n(384),i=n(382),o=n(405),s=function(){this.dataProjection=null,this.defaultFeatureProjection=null};s.prototype.getReadOptions=function(t,e){var n;return e&&(n={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(n)},s.prototype.adaptOptions=function(t){return Object(r.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},s.prototype.getLastExtent=function(){return null},s.prototype.getType=function(){return Object(i.b)()},s.prototype.readFeature=function(t,e){return Object(i.b)()},s.prototype.readFeatures=function(t,e){return Object(i.b)()},s.prototype.readGeometry=function(t,e){return Object(i.b)()},s.prototype.readProjection=function(t){return Object(i.b)()},s.prototype.writeFeature=function(t,e){return Object(i.b)()},s.prototype.writeFeatures=function(t,e){return Object(i.b)()},s.prototype.writeGeometry=function(t,e){return Object(i.b)()},e.a=s},function(t,e,n){"use strict";var r=n(411),i=n(381),o=n(430),s=n(393),a=n(418),u=n(461),c=n(419),l=n(439),A=n(572),h=n(497),p=n(979),f=n(666),g=n(462),d=function(t){function e(e,n){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(r.b)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<Object(i.b)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o.a.XYM&&this.layout!=o.a.XYZM)return null;var n=void 0!==e&&e;return Object(A.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(A.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o.a.XY)},e.prototype.getType=function(){return s.a.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a);e.a=d},function(t,e,n){"use strict";e.a=function(t,e,n,o,s,a){var u=NaN,c=NaN,l=(n-e)/o;if(1===l)u=t[e],c=t[e+1];else if(2==l)u=(1-s)*t[e]+s*t[e+o],c=(1-s)*t[e+1]+s*t[e+o+1];else if(0!==l){for(var A=t[e],h=t[e+1],p=0,f=[0],g=e+o;g<n;g+=o){var d=t[g],y=t[g+1];p+=Math.sqrt((d-A)*(d-A)+(y-h)*(y-h)),f.push(p),A=d,h=y}var v=s*p,m=Object(r.a)(f,v);if(m<0){var C=(v-f[-m-2])/(f[-m-1]-f[-m-2]),I=e+(-m-2)*o;u=Object(i.c)(t[I],t[I+o],C),c=Object(i.c)(t[I+1],t[I+o+1],C)}else u=t[e+m*o],c=t[e+m*o+1]}return a?(a[0]=u,a[1]=c,a):[u,c]},e.b=o,e.c=function(t,e,n,r,i,s,a){if(a)return o(t,e,n[n.length-1],r,i,s);var u;if(i<t[r-1])return s?((u=t.slice(0,r))[r-1]=i,u):null;if(t[t.length-1]<i)return s?((u=t.slice(t.length-r))[r-1]=i,u):null;for(var c=0,l=n.length;c<l;++c){var A=n[c];if(e!=A){if(i<t[e+r-1])return null;if(i<=t[A-1])return o(t,e,A,r,i,!1);e=A}}return null};var r=n(411),i=n(385);function o(t,e,n,r,o,s){if(n==e)return null;var a;if(o<t[e+r-1])return s?((a=t.slice(e,e+r))[r-1]=o,a):null;if(t[n-1]<o)return s?((a=t.slice(n-r,n))[r-1]=o,a):null;if(o==t[e+r-1])return t.slice(e,e+r);for(var u=e/r,c=n/r;u<c;){var l=u+c>>1;o<t[(l+1)*r-1]?c=l:u=l+1}var A=t[u*r-1];if(o==A)return t.slice((u-1)*r,(u-1)*r+r);var h=(o-A)/(t[(u+1)*r-1]-A);a=[];for(var p=0;p<r-1;++p)a.push(Object(i.c)(t[(u-1)*r+p],t[u*r+p],h));return a.push(o),a}},function(t,e,n){"use strict";var r=n(411),i=n(381),o=n(393),s=n(495),a=n(418),u=n(419),c=n(439),l=n(385),A=function(t){function e(e,n){t.call(this),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?Object(r.b)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){if(r<Object(i.b)(this.getExtent(),t,e))return r;for(var o=this.flatCoordinates,s=this.stride,a=0,u=o.length;a<u;a+=s){var c=Object(l.e)(t,e,o[a],o[a+1]);if(c<r){r=c;for(var A=0;A<s;++A)n[A]=o[a+A];n.length=s}}return r},e.prototype.getCoordinates=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new s.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],i=0,o=t.length;i<o;i+=n){var a=new s.a(t.slice(i,i+n),e);r.push(a)}return r},e.prototype.getType=function(){return o.a.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,r=0,o=e.length;r<o;r+=n){var s=e[r],a=e[r+1];if(Object(i.e)(t,s,a))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(u.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a);e.a=A},function(t,e,n){"use strict";function r(t){return t*(Math.PI/180)}e.a=function(t,e,n,i){var o=r(n-t),s=r(i-e),a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(r(t))*Math.cos(r(n))*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}},function(t,e,n){"use strict";e.a=function(t,e){return!!t.lngLat&&t.lngLat.lng===e[0]&&t.lngLat.lat===e[1]}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=function(){function t(){i()(this,t),this.layerObj={},this.order=[]}return s()(t,[{key:"isExit",value:function(t){return!(!t||!this.layerObj[t])}},{key:"add",value:function(t){if(!this.layerObj[t.layerId]){this.layerObj[t.layerId]=t;var e=t.packagedBefore;if(e){var n=this.order.indexOf(e);n>=0?this.order.splice(n,0,e):this.order.push(t.layerId)}else this.order.push(t.layerId)}}},{key:"remove",value:function(t){if(this.layerObj[t]){delete this.layerObj[t];var e=this.order.indexOf(t);e>=0&&this.order.splice(e,1)}}},{key:"clear",value:function(){this.removeAllLayer(),this.layerObj={},this.order=[]}},{key:"removeAllLayer",value:function(){for(var t in this.layerObj)this.layerObj.hasOwnProperty(t)&&this.layerObj[t].removeLayer()}},{key:"get",value:function(t){return this.layerObj[t]}},{key:"getFirst",value:function(){var t=this.order[0];return t?this.layerObj[t]:null}}]),t}()},function(t,e,n){var r=n(578),i=n(464);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(18),i=n(579),o=n(1048),s=n(1051);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(s(t))}},function(t,e,n){var r=n(18),i=n(463),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){"use strict";e.a=function(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0};var r=n(371)},function(t,e,n){"use strict";e.a=function(t){setTimeout(function(){throw t},0)}},function(t,e,n){"use strict";e.a=function(t){return null!==t&&"object"===typeof t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},e.b=i;var r=n(507);function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},function(t,e,n){"use strict";e.a=function(){return function(t){return t.lift(new o(t))}};var r=n(370),i=n(371);var o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(370),i=n(392),o=n(724),s=n(387),a=n(726),u=n(508),c=n(721),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.a(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new A(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new u.a;if(this.isStopped||this.hasError?e=s.a.EMPTY:(this.observers.push(t),e=new c.a(this,t)),i&&t.add(t=new a.a(t,i)),n)for(var l=0;l<o&&!t.closed;l++)t.next(r[l]);else for(l=0;l<o&&!t.closed;l++)t.next(r[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.a),A=function(){return function(t,e){this.time=t,this.value=e}}()},function(t,e,n){"use strict";e.a=function(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})};var r=n(374),i=n(387)},function(t,e,n){"use strict";e.a=function(t,e){return e?new r.a(function(n){return e.schedule(i,0,{error:t,subscriber:n})}):new r.a(function(e){return e.error(t)})};var r=n(374);function i(t){var e=t.error;t.subscriber.error(e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(370),i=(n(413),n(396),n(375)),o=n(376),s=(n(468),{});var a=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.resultSelector))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(e,t),e.prototype._next=function(t){this.values.push(s),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(o.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0===(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=o[n],u=this.toRespond?a===s?--this.toRespond:this.toRespond:0;o[n]=e,0===u&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(727),i=n(1083),o=n(1084),s=n(1085),a=n(730),u=n(731),c=n(582),l=n(471),A=n(441),h=function(t){if(t&&"function"===typeof t[A.a])return Object(s.a)(t);if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(t&&"function"===typeof t[l.a])return Object(o.a)(t);var e=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(t,e,n){"use strict";e.a=function(t){void 0===t&&(t=Number.POSITIVE_INFINITY);return Object(r.a)(i.a,t)};var r=n(472),i=n(442)},function(t,e,n){"use strict";e.a=function(t){return new r.a(function(e){var n;try{n=t()}catch(t){return void e.error(t)}var r=n?Object(i.a)(n):Object(o.b)();return r.subscribe(e)})};var r=n(374),i=n(414),o=n(412)},function(t,e,n){"use strict";e.b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];"function"===typeof n&&t.pop();return Object(i.a)(t,void 0).lift(new l(n))},n.d(e,"a",function(){return l});var r=n(370),i=n(468),o=n(396),s=n(371),a=n(375),u=n(376),c=n(471);var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new A(t,this.resultSelector))},t}(),A=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.iterators=[],i.active=0,i.resultSelector="function"===typeof n?n:null,i.values=r,i}return r.a(e,t),e.prototype._next=function(t){var e=this.iterators;Object(o.a)(t)?e.push(new p(t)):"function"===typeof t[c.a]?e.push(new h(t[c.a]())):e.push(new f(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"===typeof(s=t[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var s,a=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.a),h=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),p=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[c.a]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),f=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.a(e,t),e.prototype[c.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(u.a)(this,this.observable,this,e)},e}(a.a)},function(t,e,n){"use strict";e.a=function(t){return function(e){return 0===t?Object(s.b)():e.lift(new a(t))}};var r=n(370),i=n(371),o=n(469),s=n(412);var a=function(){function t(t){if(this.total=t,this.total<0)throw new o.a}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.a)},function(t,e,n){"use strict";e.a=function(t){return function(e){return 0===t?Object(s.b)():e.lift(new a(t))}};var r=n(370),i=n(371),o=n(469),s=n(412);var a=function(){function t(t){if(this.total=t,this.total<0)throw new o.a}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(i.a)},function(t,e,n){"use strict";e.a=function(t,e){var n=!1;arguments.length>=2&&(n=!0);return function(r){return r.lift(new o(t,e,n))}};var r=n(370),i=n(371);var o=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";e.a=function t(e,n){if("function"===typeof n)return function(r){return r.pipe(t(function(t,r){return Object(u.a)(e(t,r)).pipe(Object(a.a)(function(e,i){return n(t,e,r,i)}))}))};return function(t){return t.lift(new c(e))}};var r=n(370),i=n(375),o=n(421),s=n(376),a=n(406),u=n(414);var c=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project))},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(s.a)(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.a)},function(t,e){t.exports=function(t){return"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){"use strict";var r=3.141592653589793,i=6378245,o=.006693421622965943;e.a={outOfChina:function(t){var e=t[0]<72.004||t[0]>137.8347,n=t[1]<.8293||t[1]>55.8271||!1;return e||n},transformlng:function(t,e){var n=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*r)+20*Math.sin(2*t*r))/3,n+=2*(20*Math.sin(t*r)+40*Math.sin(t/3*r))/3,n+=2*(150*Math.sin(t/12*r)+300*Math.sin(t/30*r))/3},transformlat:function(t,e){var n=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*r)+20*Math.sin(2*t*r))/3,n+=2*(20*Math.sin(e*r)+40*Math.sin(e/3*r))/3,n+=2*(160*Math.sin(e/12*r)+320*Math.sin(e*r/30))/3},wgs84togcj02:function(t){var e=t[0],n=t[1];if(this.outOfChina(t))return t;var s=this.transformlat(e-105,n-35),a=this.transformlng(e-105,n-35),u=n/180*r,c=Math.sin(u);c=1-o*c*c;var l=Math.sqrt(c);return s=180*s/(i*(1-o)/(c*l)*r),[e+(a=180*a/(i/l*Math.cos(u)*r)),n+s]},gcj02towgs84:function(t){var e=t[0],n=t[1];if(this.outOfChina(t))return t;var s=this.transformlat(e-105,n-35),a=this.transformlng(e-105,n-35),u=n/180*r,c=Math.sin(u);c=1-o*c*c;var l=Math.sqrt(c);return s=180*s/(i*(1-o)/(c*l)*r),[2*e-(e+(a=180*a/(i/l*Math.cos(u)*r))),2*n-(n+s)]}}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWAAAAAsCAYAAABbjGLvAAAL8UlEQVR4Xu1dQXbbyBGtgkNpNpmRd3kvliNtYmk11glMn8DNE0S+gXQCSyewfALJJ0DrBJZOIGklJ5uRqcl7WdL2LCbECJVXYDcFgCCJbgAEXl5hMxqzG/j4LHxWV1UXEOQQBoQBYUAYaIUBbOWqclFhQBgQBoQBEAEWIxAGhAFhoCUGRIBbIl4uKwwIA8KACLDYgDAgDAgDLTEgAtwS8XJZYUAYEAZEgMUGhAFhQBhoiQER4JaIl8sKA8KAMCACLDYgDAgDwkBLDIgAt0S8XFYYEAaEARFgsQFhQBholAGl1BYAvAGAPgBsIeJLviARXQPAHQBcAMC51pr/bv24/Qts4VrvDRD2AWkLYIIXgK6B8A6QLmgcne/+J8Fe6RABrkSfTBYGhIF5DBjhfYeI+2VYIqIzADhuS4hZeINe7x2VxItEZ3EUHVcRYhHgMpbRgTEpL0Ll4LAX8VFrzf/tzPHoRcAM3iCGj3//d9QpvJ0h7v8EiFKKv/dTRNwwt3RDRNp4u+m77CMij/3ZeMUjAHirteaxKzv+uflEEQanAAYv0Q0haohj9s4fjyDoI5ECxAQvAI2Q4rcv7h+88NYiwEopJjkEgMOuCUHRN/jLBmz898+9MIjhsOtCkPMiLomIDYKXPmyovDTiJZ0ioivjPWQNZmUmPLlQ2osgoktAvACiuwDiUYxPXgLRFiIoILgiouPdX/9oFW8ZepRSfa1153Hae7l99qd+m7wqpfYR8dTgYZvdX+bVKqVeIuIJALwyQswizB5x48ftZm+KN7HZKNpf5tX+66+9lw8BnCDiFO/ufeSMt7IAG/H9xHEdImJReN1lEU7E98fep0lch0bBA7zuqghbL4LjYwBwNM+IzXdwgIgHRPRea33cuNUWXMB6EURwDlF0NM+I+Tv4/ce1AwQ6QMD3L4bjVvCW4UgpdYaI/yCilQlCGVzzxtxu9qZ4fQShyrV5LtssIrIzxjFedshYVEsfSqkjRHxn5g+a9oQnNvskwQtAhzvDyAnv7fO1IwRI8CI9DFw94coCbEhPvnRDWudF2BqpIb2TImwN2eXBN17EBcfStNYHpa2+hoHWkBlv2QefvYj4CVxADGc7v0YrxVvmlq34mrFfiWhLa8323ckjZ9df179FW9ujZKW0ksOs1q447OAjvhakFWHj0G03xbkJk11Nwg7u4mvxPoowjda/RdsunNciwCLC9dq3NWQT0nFa1qREmJd9XnEp17uxhkwEh2XF117DijBSvO/qPbjidBlfIL4chuhs3DovvsED9Fe9sktxdhmGIVc8TA+lFP/A/gQAlzacw6EdE3IYaa0/pMcPBgMO+bwiIs5vlEriuXy/PDa1WrjcvY8yeD8/7/Hq7Kc4ji9tOIdDO0EQvCKg0c4wyuC93exdcDiC8e7eR6Xx1ibAIsKuX//88YPBQPOvv6/hcQwOJsuivaa8hzT6z5trmo3SxfDS800M7t36t/Gei/dQH+PZM4n4ujPLTgMi/sIziYi91mmJFgstIn4yn91prbf578FgwGP+Zv6dQ5fTOHtuTuZ87uhmZ0ychrUJ3vF4Ox0uY6HFIEjwcr5lZzhO8N4+X7tDizeOX6fj7Ok5+fMtwlurAIsIVzcNa8h5IzbccraYDXipJ8bGTUQcN3byoF3vwBpykdFxWALj4K6MJ8bGDURHrh60K95l40V8lzFU/Dl7uIj4HgBuwjA0dbOTsWkx5f8PwzDRncFgQPZsRJQRYPM52/nPLmG4sujZwwXA90B0s3MfZfDmBBh2huME7+fna494cwKcfL7Zu+bqCJcwXO0CLCJc1gQWGnI/DMN8+RYbcpKgICJOFHC95Nz4nnkgCs9TDWF2dmLIhP2d+/EM3mlsjOhk/Xt0vMi7XXSeOvEuOldOfNmT4xXE0h+7VeHLXycbdgAIHmivzI9dE3h51cabLYpiv74CnErInRc9D1Xug1dtgLw5ZDb26yvAj/YO50XPQxHeRgRYRNjfNDj2xaVmWuuj/FlyGeIRVz2EYfix6GrW6K234Y9o8UyOfXGp2e5wPIM3nSFO6iUBDl4Mo0K81uitt9EU3nnnLRDfTlc95MXXxetqgtvBYGC91RlPtoIAJ6EL3jGntd6rE/fUWy3wZL0FeBq6oOudYVQKb2MCbJYQSSCd/zYZTfYoKm/fq/OLSJ/LBtIn/0YjGkd7y+oB68ZiBJhDBzN1p2kBttc12zm53GdmPC/xViLAHDooqOfNCvAU8TXFdFg0npd4bQiwiG91K7bhhKJQQlUBZnR127ENJ1AjAgzTsMUyZhsT4FwxNgtwY9nMZTdZ5vN0Mbb5wXDKZpa5RpkxrgIMAFweVVjxwA8FET1tMhGXeMBuAvx1XsUDPxTr38ZPV5mIMzF39t44Q892yquP12W+qzbGmIqTawBM8ALRxc591DpeEWCAtOdc1pFoRIBFfP0fTSPAXEE2UxCe94CJiEth2FueiQWbcrSruj2H/J1NVg2giwrYZzzgmD6s/xYdFQnspBwNr8oarj/DszNt6V5KhLmO+m2d16jzXNP6aSPC3JPgxX3UKt4mQxBFib2qfDYagihI7M3DW7sAi/hWMw2lFAvvRlEJWkqAeV/9waLtseZ74BhxJsNbDd3s7M/PeieEsFFUgpZKwiV4F22PTVYgAAf5jHTdeOedT0S4GtOpJBwnhzP5gAohCLsrrrEkHAEc5/MX3jFguyuOWkrC5YnufNghW++XhEl8a1mrme/jbFOcHmqtn+bPaYrZWZxnEl75saaWmJMXS8dWwT4xVgx3htEMXq5sIMCNogRd/ppJLTHCdZmxVfAumisi7M+sLUMrSpj5CnDKq649ITotQ4PZhJmvALdahsbGCwDcEyLpftR18TXLOO4JMcXbtvha8zc1vLwM9hJPa/BFtcT+j9j8mUkNL8CZr3hag3cpYG/iPvicIsJ+zOY2YmTK93IC/CUMQ+4P3JmNGPnyvcymCoAvu8NxgrezGzFEfP2MdsFymMtveDec8/ZX2xzJNLj2EnDXuzFesPbZ/mqbIxHgua+Au+JdNl5EeBlDxZ+nGhfNJDLt6o3bUea2IvMWYN71mcl5rHIrclEi067euB1leisycDvKyVbkDN7WtiLzA4+I7AHZLHKnqx3MA39ns8hdCDsUmbOJBXMJH3eEKlW6Z8SXe7BuNx37nQkhPOudQACvaBwNypbuTdqCrp0C0HZbsV+JCfuJ7Ryb5e3ISUVJHc14TIVPYw2QshUltTTjcW6AVEsSzibeuh52sEZjS866Kr4WJ3sU5lUuSxtUm1UIiy8az3llXbBSvJ4hwpsyDapNCOgUCHD9e9RfZelZWcnJecKcSOQVycp5LYs3Ux1BdNMGr7l2lFyh49RqtM12lAhw5NoatRPtKE3sTJpWl31SHMaZH7cT03Cdt3tyN6lke6yJu3EHJg5Z7HNZ2qrbUOZvZfLjBifccB0QOCxxabfHJs3a13qvgKCfvPYlpg9dbEOZvifbKJyIVJfF12K2jcJ/+B6ptn7U0pVQ5gUCS1/UYJLP/PqipCtZE/0f5j12mT0ARBdlXtSQhN24b3EKr08fk1o8YAc9kaEeDJjQAnft5y5n5lUo0xN9Ma96OSkbqvCA4DTFhHn2gWD/8dUtk1MQwBeMSdMf0UnZUIXTxWVwJxgwnjCv4Gxokp0GjfyGlNTBzgP7EvZFnYs2FjV5Y+ZlAmfTDS5A1wiog9wrieIg6BOQSr2oc+7GojJ4RYDLsNSxMUaQuRytVGy4bfjJGzB+gA0R3La/idVe3/S15lre5GUNyw4OCS5688uy+VU/5xUa9HpueBe8+aUMHhHgMizJGGFAGPBmwAgxe7nJa+lTq7gbbq9qwhS8+7MTDoVJzqnktfRAW9NVHNENwPS19LoOh0IE2NusZKIwIAwIA9UYEAGuxp/MFgaEAWHAmwERYG/qZKIwIAwIA9UYEAGuxp/MFgaEAWHAmwERYG/qZKIwIAwIA9UYEAGuxp/MFgaEAWHAmwERYG/qZKIwIAwIA9UYEAGuxp/MFgaEAWHAmwERYG/qZKIwIAwIA9UYEAGuxp/MFgaEAWHAm4H/AQ6xp6VLCfp+AAAAAElFTkSuQmCC"},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=function(){function t(e,n,r,o){i()(this,t),this._st=void 0,this._et=void 0,this._sr=void 0,this._animationFillMode=void 0,this._passed=void 0,this._running=void 0,this._st=e,this._et=n,this._sr=r,this._animationFillMode=o||"BACKWARDS",this._passed=0,this._running=!1}return s()(t,[{key:"getRenderOptions",value:function(){return{st:this._st,et:this._et,sr:this._sr,passed:this._passed,running:this._running}}},{key:"destroy",value:function(){}},{key:"st",get:function(){return this._st},set:function(t){this._st=t}},{key:"et",get:function(){return this._et},set:function(t){this._et=t}},{key:"sr",get:function(){return this._sr},set:function(t){this._sr=t}},{key:"passed",get:function(){return this._passed},set:function(t){if(t<0)this._passed=0;else{var e=this._et-this._st;if(t>e)return this.running=!1,void(this._passed="FORWARDS"===this._animationFillMode?e:0);this._passed=t}}},{key:"running",get:function(){return this._running},set:function(t){this._running=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(162),i=(n.n(r),n(104)),o=(n.n(i),n(30)),s=(n.n(o),n(74)),a=n.n(s),u=n(101),c=n.n(u),l=n(156),A=n(769),h=function(){function t(e){a()(this,t),this.model=void 0,this.viewers=void 0,this.nextFrame=void 0,this.prevFrameTime=void 0,this.perspectiveCallback=void 0,this.model=e,this.viewers=[],l.a.bindAll(["_onframe"],this)}return c()(t,[{key:"destroy",value:function(){this.nextFrame&&this.nextFrame.cancel(),this.viewers=null,this.model=null}},{key:"setPerspective",value:function(t){this.perspectiveCallback=t}},{key:"removePerspective",value:function(){this.perspectiveCallback=null}},{key:"run",value:function(){this.prevFrameTime=Date.now(),this.model.running=!0,this._modifyFrame()}},{key:"pause",value:function(){this.model.running=!1,this._modifyFrame()}},{key:"toggleStatus",value:function(){!0===this.getModel().running?this.pause():this.run()}},{key:"rerun",value:function(){this.model.passed=0,this.model.running=!0,this._modifyFrame()}},{key:"setSpeedRate",value:function(t){var e=parseInt(Math.abs(t));t>=1&&(this.model.sr=e),t<=-1&&(this.model.sr=1/e),this._modifyFrame()}},{key:"setBy",value:function(t){var e=this.model.passed+t;this.model.passed=e,this._modifyFrame()}},{key:"setTo",value:function(t){this.model.passed=t,this._modifyFrame()}},{key:"setByPercent",value:function(t){var e=this.model.st,n=this.model.et;this.model.passed=(n-e)*t,this._modifyFrame()}},{key:"addViewer",value:function(t){if(-1===this.viewers.indexOf(t)){this.viewers.push(t);var e=this.getModel().getRenderOptions();t.render.call(t,e)}}},{key:"removeViewer",value:function(t){var e=this.viewers.indexOf(t);-1!==e&&this.viewers.splice(e,1)}},{key:"getModel",value:function(){return this.model}},{key:"_emitRender",value:function(){var t=this.getModel().getRenderOptions(),e=!0,n=!1,r=void 0;try{for(var i,o=this.viewers[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){i.value.render(t)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"_onframe",value:function(){var t=this.getModel(),e=Date.now(),n=(e-(this.prevFrameTime||e))*t.sr,r=t.passed;t.passed=r+n,this.prevFrameTime=e,this._emitRender(),this.perspectiveCallback&&this.perspectiveCallback(),this._modifyFrame()}},{key:"_modifyFrame",value:function(){this.nextFrame&&(this.nextFrame.cancel(),this.nextFrame=null),this.getModel().running?this.nextFrame=Object(A.a)(this._onframe):this._emitRender()}}]),t}()},function(t,e,n){"use strict";e.a={create:function(t,e,n){var r=document.createElement(t);return r.classList.add(e),n&&n.appendChild(r),r}}},function(t,e,n){"use strict";e.a=function(t){var e=parseInt(t/s),n=t%s,r=parseInt(n/a),i=parseInt(n%a/u);return[c(e),c(r),c(i)].join(":")},e.b=function(t){var e=new Date(t),n=[e.getFullYear(),c(e.getMonth()+1),c(e.getDate())],r=[c(e.getHours()),c(e.getMinutes()),c(e.getSeconds())];return[n.join("-"),r.join(":")].join(" ")};var r=n(161),i=(n.n(r),n(105)),o=(n.n(i),n(24)),s=(n.n(o),36e5),a=6e4,u=1e3;function c(t){var e=Number.prototype.toString.call(t);return e.length>1?e:"0"+e}},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(162),i=(n.n(r),n(104)),o=(n.n(i),n(30)),s=(n.n(o),n(74)),a=n.n(s),u=n(101),c=n.n(u),l=n(773),A=n(606),h=n(447),p=function(){function t(e){a()(this,t);var n=e.actorProps,r=e.routeProps,i=e.node,o=e.segments,s=e.segmentStore;this.node=i,this.segmentStore=s,this.actor=new l.a(n,i),this.route=new A.a(o,Object(h.a)(r)),this.slots=[],this.draggables=[]}return c()(t,[{key:"showActor",value:function(){this.actor&&this.actor.show();var t=!0,e=!1,n=void 0;try{for(var r,i=this.slots[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.show()}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}var o=!0,s=!1,a=void 0;try{for(var u,c=this.draggables[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){u.value.show()}}catch(t){s=!0,a=t}finally{try{o||null==c.return||c.return()}finally{if(s)throw a}}}},{key:"hideActor",value:function(){this.actor&&this.actor.hide();var t=!0,e=!1,n=void 0;try{for(var r,i=this.slots[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.hide()}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}var o=!0,s=!1,a=void 0;try{for(var u,c=this.draggables[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){u.value.hide()}}catch(t){s=!0,a=t}finally{try{o||null==c.return||c.return()}finally{if(s)throw a}}}},{key:"showRoute",value:function(){this.route&&this.route.show()}},{key:"hideRoute",value:function(){this.route&&this.route.hide()}},{key:"addActorEvent",value:function(t,e){this.actor&&this.actor.on(t,e)}},{key:"removeActorEvent",value:function(t){this.actor&&this.actor.off(t)}},{key:"addRouteEvent",value:function(t,e){this.route&&this.route.addEvent(t,e)}},{key:"removeRouteEvent",value:function(t){this.route&&this.route.removeEvent(t)}},{key:"render",value:function(t){var e=t.node,n=t.segments,r=t.rotation;this.actor&&(this.node=e,this.actor.setLngLat(e),this.autoDirection&&this.actor.setRotation(r));var i=!0,o=!1,s=void 0;try{for(var a,u=this.slots[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){a.value.setLngLat(e)}}catch(t){o=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}var c=!0,l=!1,A=void 0;try{for(var h,p=this.draggables[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){h.value.setLngLat(e)}}catch(t){l=!0,A=t}finally{try{c||null==p.return||p.return()}finally{if(l)throw A}}this.route&&this.route.setLayerFeature(n)}},{key:"destroy",value:function(){this.actor&&(this.actor.destroy(),this.actor=null),this.route&&(this.route.destroy(),this.route=null),this.segmentStore&&(this.segmentStore.destroy(),this.segmentStore=null);var t=!0,e=!1,n=void 0;try{for(var r,i=this.slots[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.destroy()}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}this.slots=null;var o=!0,s=!1,a=void 0;try{for(var u,c=this.draggables[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){u.value.destroy()}}catch(t){s=!0,a=t}finally{try{o||null==c.return||c.return()}finally{if(s)throw a}}this.draggables=null}}]),t}()},function(t,e,n){"use strict";var r=n(1228),i=n(1229),o={mm:r.a,kd:r.a,ol:i.a};e.a=o.kd},function(t,e,n){"use strict";var r=n(8),i=n(113)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(174)("find")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Base",function(){return _});var r=n(30),i=(n.n(r),n(25)),o=(n.n(i),n(24)),s=(n.n(o),n(103)),a=(n.n(s),n(75)),u=(n.n(a),n(74)),c=n.n(u),l=n(101),A=n.n(l),h=n(156),p=n(102),f=n(390),g=n(830),d=n.n(g),y=n(400),v=n(543),m=n(166),C=["icon-size","icon-image","icon-offset","icon-anchor","text-field","text-size","text-anchor","text-offset"],I=["icon-opacity","icon-color","icon-halo-color","icon-halo-width","icon-halo-blur","text-opacity","text-color","text-halo-color","text-halo-width","text-halo-blur"],_=function(){function t(){c()(this,t),this.baseVectorLayer=null,this.vectorMapZoom=null,this.mapStatus=!1,this.mapVaule=0,this.mapStyleIndex=0,this.inputStyle={}}return A()(t,[{key:"addImgToMap",value:function(t,e){p.a.map.map.addImage(t,e)}},{key:"removeImage",value:function(t){p.a.map.map.removeImage(t)}},{key:"setMapHand",value:function(t,e){var n=p.a.map.map.getCanvasContainer();switch(t){case"move":n.style.cursor="move";break;case"crosshair":n.style.cursor="crosshair";break;case"common":n.style.cursor="default";break;case"pointer":n.style.cursor="pointer";break;case"default":n.style.cursor="";break;case"custom":n.style.cursor="url("+e+"),default"}}},{key:"mapDragDisable",value:function(){p.a.map.map.dragPan.disable()}},{key:"mapDragEnable",value:function(){p.a.map.map.dragPan.enable()}},{key:"getCenterZoom",value:function(){return{center:this.getCenter(),zoom:this.getZoom()}}},{key:"getCenter",value:function(){var t=p.a.map.map.getCenter();return[t.lng,t.lat]}},{key:"getZoom",value:function(){return p.a.map.map.getZoom()}},{key:"setCenter",value:function(t){p.a.map.map.setCenter(t)}},{key:"fitBounds",value:function(t){p.a.map.map.fitBounds(t.lngLatBounds,{easing:function(e){return 1===e&&(t.res="Success"),e}})}},{key:"jumpTo",value:function(t){var e=p.a.map.map;t&&e.jumpTo({center:t.center,zoom:t.zoom,pitch:0,bearing:0})}},{key:"panBy",value:function(t){p.a.map.map.panBy(t)}},{key:"panTo",value:function(t){p.a.map.map.panTo(t)}},{key:"panToMulti",value:function(t){var e=p.a.modules.calculation(),n=p.a.map.map,r=t.points,i=!1,o=!0,s=setInterval(function(){if(!i)if(r.length>=1){i=!0;var a={center:r[0].center,easing:function(t){return 1==t?(setTimeout(function(){i=!1,r.splice(0,1)},r[0].stay||5e3),t):(i=!0,t)}},u=e.distanceOfP2P(r[0].center,[n.getCenter().lng,n.getCenter().lat],"kilometers");a.duration=r[0].duration?r[0].duration:u/(t.speed||1)*1e3,r[0].pitch&&(a.pitch=r[0].pitch),r[0].zoom&&(a.zoom=r[0].zoom),r[0].bearing&&(a.bearing=r[0].bearing),o?(o=!1,n.flyTo({curve:1,minZoom:9,zoom:r[0].zoom||12,center:r[0].center,easing:function(t){return i=1!=t,t}})):n.easeTo(a)}else clearInterval(s)},100)}},{key:"zoomIn",value:function(){p.a.map.map.zoomIn()}},{key:"zoomOut",value:function(){p.a.map.map.zoomOut()}},{key:"zoomTo",value:function(t){var e=p.a.map.map,n=t.zoom||e.getZoom();e.zoomTo(n,{easing:function(e){return 1===e&&(t.res="Sucess"),e}})}},{key:"resetNorth",value:function(){p.a.map.map.resetNorth()}},{key:"eagle",value:function(t){var e=p.a.modules.eagleControl(),n=p.a.config.SATELLITE_STYLE,r=this.eagles,i=p.a.map.map;t?r?h.a.setErrorMessage("鹰眼已经存在"):(e.addEagle(i,n),this.eagles=e):r?(e.removeEagle(i,n),this.eagles=null):h.a.setErrorMessage("鹰眼不存在")}},{key:"scale",value:function(t,e){var n,r=p.a.map.map,i=this.scales;t?i?h.a.setErrorMessage("比例尺已经存在"):(n=new p.a.kedamap.ScaleControl,r.addControl(n,e),this.scales=n):i?(r.removeControl(i),this.scales=null):h.a.setErrorMessage("比例尺不存在")}},{key:"screenshot",value:function(t){var e=p.a.map.map,n=e.getContainer();d()(n,{useCORS:!0}).then(function(n){if(e.overviewMap){var r=e.overviewMapInstance.getContainer();d()(r,{useCORS:!0}).then(function(e){var r=document.createElement("canvas");r.style.background="white",r.width=n.width,r.height=n.height;var i=r.getContext("2d");i.drawImage(n,0,0),i.drawImage(e,r.width-e.width,r.height-e.height);var o=r.toDataURL();t.res=o})}else{var i=n.toDataURL();t.res=i}})}},{key:"customScreenshot",value:function(t){var e=p.a.modules.conversion();d()(p.a.map.map.getContainer(),{useCORS:!0}).then(function(n){var r=document.createElement("img"),i=n.toDataURL();r.src=i,r.onload=function(){var n=e.getPixelByGeoPoint(t.nwPoint).x,i=e.getPixelByGeoPoint(t.nwPoint).y,o=parseFloat(e.getPixelByGeoPoint(t.sePoint).x)-parseFloat(n),s=parseFloat(e.getPixelByGeoPoint(t.sePoint).y)-parseFloat(i),a=document.createElement("canvas");a.width=o,a.height=s,a.getContext("2d").drawImage(r,n,i,o,s,0,0,o,s),t.res=a.toDataURL()}})}},{key:"flyTo",value:function(t){var e=p.a.map.map,n=t.curve||1,r=t.minZoom||9,i=t.zoom||e.getZoom(),o=t.speed||1.2,s=t.screenSpeed||1.2,a=t.point;e.flyTo({curve:n,minZoom:r,zoom:i,speed:o,screenSpeed:s,center:a,easing:function(e){return 1===e&&m.a.isFunction(t.ended)&&t.ended("Success"),e}})}},{key:"flyToMulti",value:function(t){var e=p.a.map.map,n=t.points,r=!1,i={curve:t.curve||1,minZoom:t.minZoom||9,speed:t.speed||1.2,screenSpeed:t.screenSpeed||1.2},o=setInterval(function(){if(!r)if(n.length>=1){r=!0;var t=Object.assign(i,n[0]);t.easing=function(t){return 1==t?(setTimeout(function(){r=!1,n.splice(0,1)},n[0].stay),t):(r=!0,t)},e.flyTo(t)}else clearInterval(o)},100)}},{key:"moveBy",value:function(t){var e=t.value||50;"bottom"==t.skewing?this.panBy([0,e]):"top"==t.skewing?this.panBy([0,-e]):"right"==t.skewing?this.panBy([e,0]):"left"==t.skewing&&this.panBy([-e,0])}},{key:"fullScreen",value:function(t){var e=p.a.map.map;function n(){e.getContainer().requestFullscreen?e.getContainer().requestFullscreen():e.getContainer().mozRequestFullScreen?e.getContainer().mozRequestFullScreen():e.getContainer().msRequestFullscreen?e.getContainer().msRequestFullscreen():e.getContainer().webkitRequestFullscreen&&e.getContainer().webkitRequestFullscreen()}t?n():window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen()}},{key:"setMapStyle",value:function(t){var e=this,n=p.a.map.map;p.a.userConfig.style&&h.a.xhr({noAuth:!0,type:"GET",url:t,headers:{Accept:"application/json"},success:function(t){e.mapStyleIndex=e.mapStyleIndex+1;var r=e.mapStyleIndex>1?e.inputStyle:Object.assign({},p.a.userConfig.style);e.inputStyle=t;var i=r.layers,o=r.sources,s=e.inputStyle.layers,a=e.inputStyle.sources;for(var u in i.forEach(function(t){n.getLayer(t.id)&&n.removeLayer(t.id)}),o)n.getSource(u)&&n.removeSource(u);for(var c in a)n.addSource(c,a[c]);var l=Object.assign([],n.style._order);s.forEach(function(t){l?n.addLayer(t,l[1]):n.addLayer(t)})},error:function(t){console.error(t)}})}},{key:"getMapZoom",value:function(){var t=p.a.map.map.getZoom();return!0===this.mapStatus?t+1.5<17.5?t:t>=17.5?t+1.5:t:!1===this.mapStatus?(this.mapVaule=t-17.5,p.a.map.map.getZoom()):void 0}},{key:"setImgZoom",value:function(t){var e=p.a.map.map;if(!0===t&&!1===this.mapStatus)if(this.mapStatus=!0,e.setMaxZoom(17.5),this.mapVaule>=0){var n=e.getZoom();e.setZoom(n)}else e.setZoom(e.getZoom());!1===t&&!0===this.mapStatus&&(this.mapStatus=!1,e.setMaxZoom(p.a.config.MAX_ZOOM),e.getZoom()>=17.5?e.setZoom(e.getZoom()+1.5):e.setZoom(e.getZoom()))}},{key:"setImageLayer",value:function(t){var e=p.a.map.map,n=e.style,r=p.a.config;if(this.setImgZoom(t.display),!0===t.display){if(r.STYLE&&0===r.DEFAULT_MAP_SERVICE_TYPE){for(var i=r.STYLE.layers,o=0,s=i.length;o<s;o++){var a=i[o].id;e.style._layers[a]&&e.setLayoutProperty(a,"visibility","none")}if(!0===!!r.SATELLITE_STYLE){for(var u=n._order.length-1,c=r.SATELLITE_STYLE.layers,l=r.SATELLITE_STYLE.sources,A=0,h=c.length;A<h;A++)e.style._layers[c[A].id]&&(e.removeLayer(c[A].id),e.removeSource(c[A].source));for(var f in l)e.getSource(f)||e.addSource(f,l[f]);for(var g in c)e.addLayer(c[g],n._order[u])}this.addImageLayer(t.display)}r.STYLE&&1===r.DEFAULT_MAP_SERVICE_TYPE&&e.setStyle(r.SATELLITE_STYLE)}if(!1===t.display&&r.STYLE&&0===r.DEFAULT_MAP_SERVICE_TYPE){var d=n._layers,y=r.SATELLITE_STYLE.layers;for(var v in d)e.setLayoutProperty(v,"visibility","visible");for(var m in y)d[y[m].id]&&e.setLayoutProperty(y[m].id,"visibility","none");this.addImageLayer(t.display)}}},{key:"addImageLayer",value:function(t){var e=this.eagles,n=p.a.config.SATELLITE_STYLE,r=p.a.config.STYLE;e&&!1===t&&e._miniMap.setStyle(r),e&&!0===t&&e._miniMap.setStyle(n)}},{key:"getMapCenter",value:function(){var t=p.a.map.map.getCenter().wrap();return[t.lng,t.lat]}},{key:"getMapBounds",value:function(){var t=p.a.map.map.getBounds(),e=t.getSouthWest().wrap(),n=t.getNorthEast().wrap();return[[e.lng,e.lat],[n.lng,n.lat]]}},{key:"setMapOperationProperty",value:function(t){var e=p.a.map.map;if(e){if(t)for(var n in t)t.hasOwnProperty(n)&&e[n]&&(!0===t[n]?e[n].enable():!1===t[n]&&e[n].disable())}else h.a.setErrorMessage(f.a.message.unExitMap)}},{key:"getMapBearing",value:function(){return p.a.map.map.getBearing()}},{key:"setMapBearing",value:function(t){p.a.map.map.setBearing(t)}},{key:"getMapPitch",value:function(){return p.a.map.map.getPitch()}},{key:"setMapPitch",value:function(t){p.a.map.map.setPitch(t)}},{key:"setMapMaxBounds",value:function(t){p.a.map.map.setMaxBounds(t)}},{key:"resize",value:function(){p.a.map.map.resize()}},{key:"getPoiFiltersByKindCode",value:function(t){return p.a.poiLayers.getPoiFiltersByKindCode(t)}},{key:"setPoiLayerVisible",value:function(t,e){var n=p.a.map.map;e?(n.setLayoutProperty(t,"visibility","visible"),p.a.poiLayers.fetchData()):n.setLayoutProperty(t,"visibility","none")}},{key:"setPoiLayerFilter",value:function(t,e){p.a.map.map.setFilter(t,e)}},{key:"hideMap",value:function(){if(p.a.map.map.getLayer("__kmap-layer__"))p.a.map.map.setLayoutProperty("__kmap-layer__","visibility","none");else{h.a.setErrorMessage("请使用satellite_url属性配置影像图")}}},{key:"showMap",value:function(){if(p.a.map.map.getLayer("__kmap-layer__"))p.a.map().map.setLayoutProperty("__kmap-layer__","visibility","visible");else{h.a.setErrorMessage("请使用satellite_url属性配置影像图")}}},{key:"setPoiLayout",value:function(t){var e=t.id,n=p.a.map.map,r=Object.keys(t),i=r.indexOf("id");i>-1&&r.splice(i,1),r.forEach(function(r){if(C.indexOf(r)>-1)n.setLayoutProperty(e,r,t[r]);else{var i="layout不能设置".concat(r,"属性");h.a.setErrorMessage(i)}})}},{key:"setPoiPaint",value:function(t){var e=t.id,n=p.a.map.map,r=Object.keys(t),i=r.indexOf("id");i>-1&&r.splice(i,1),r.forEach(function(r){if(I.indexOf(r)>-1)n.setPaintProperty(e,r,t[r]);else{var i="paint不能设置".concat(r,"属性");h.a.setErrorMessage(i)}})}},{key:"getBufferFeatures",value:function(t){var e=[];t.layers&&t.layers.length>0&&t.layers.map(function(t){var n=p.a.layerCollect.get(t).getChildLayerIds();n=n.filter(function(t){return t.indexOf("icon")>-1}),e=e.concat(n)});var n=[[t.point.x-t.radius/2,t.point.y-t.radius/2],[t.point.x+t.radius/2,t.point.y+t.radius/2]];return p.a.map.map.queryRenderedFeatures(n,{layers:e})}},{key:"getFirstLayerId",value:function(){var t=p.a.layerCollect&&p.a.layerCollect.getFirst();return t&&t._getBasicLayer()}},{key:"drawIsogram",value:function(t){var e={type:"FeatureCollection",features:[]};return e.features=t.coordinates.map(function(e,n){return{geometry:{coordinates:e,type:"Polygon"},type:"Feature",properties:{id:"isogram"+n,"fill-opacity":.1+n*(.1/t.coordinates.length),"fill-color":t.color||"red","fill-outline-color":"transparent"}}}),new(p.a.modules.GeometryLayer())({data:e}).layerId}},{key:"highlightPolygon",value:function(t){var e=y.a.polygon([[[-180,-85],[180,-85],[180,85],[-180,85],[-180,-85]]]);return e=Object(v.a)(t.area,e),new(p.a.modules.GeometryLayer())({data:e,defaultStyles:{"fill-color":t.color||"rgba(0, 0, 0, 0.5)","fill-outline-color":"rgba(255, 255, 255, 0.4)"}}).layerId}},{key:"addAirpatrol",value:function(t){var e=this,n=0,r=0,i="",o="",s=t.speed/60,a=t.pitch/100,u=t.maxDegree||1/0,c=function r(){e.setMapBearing(n+=s),e.setCenter(t.center),Math.abs(n)<u&&(i=window.requestAnimationFrame(r))},l=function n(){r>=t.pitch?(i=window.requestAnimationFrame(c),m.a.isFunction(t.ended)&&t.ended()):(e.setMapPitch(r+=a),o=window.requestAnimationFrame(n))};return this.flyTo({zoom:t.zoom||12,point:t.center,ended:function(){o=window.requestAnimationFrame(l)}}),{remove:function(){window.cancelAnimationFrame(i),window.cancelAnimationFrame(o),r=0,n=0,e.setMapPitch(r),e.setMapBearing(n),e.setCenter(t.center)},update:function(t){e.setMapPitch(t.pitch),s=t.speed/60},pause:function(){window.cancelAnimationFrame(i)},continue:function(){Math.abs(n)<u&&(i=window.requestAnimationFrame(c))}}}}]),t}()},function(t,e,n){"use strict";var r=n(479),i=n(377);e.a=function(t,e,n){var o=(n=n||{}).steps||64,s=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!==typeof n)throw new Error("options must be an object");if("number"!==typeof o)throw new Error("steps must be a number");o=o||64,s=s||t.properties||{};for(var a=[],u=0;u<o;u++)a.push(Object(r.a)(t,e,-360*u/o,n).geometry.coordinates);return a.push(a[0]),Object(i.k)([a],s)}},function(t,e,n){"use strict";var r=n(611),i=n(845),o=n(846),s=n(848),a=5;function u(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(i[s++]=t[r][o]);return n}function c(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",c(t.slice(0,e)),",",c(t.slice(e)),")"].join("")}function l(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",c(l(u(t,n))),",",(r=n,1&r?"-":""),t[0][n],")"].join(""));return e;var r}function A(t){for(var e=[],n=[],a=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),A=[],h=0;h<t;++h)0===(1&h)?e.push.apply(e,l(u(a,h))):n.push.apply(n,l(u(a,h))),A.push("m"+h);var p=c(e),f=c(n),g="orientation"+t+"Exact",d=["function ",g,"(",A.join(),"){var p=",p,",n=",f,",d=sub(p,n);return d[d.length-1];};return ",g].join("");return new Function("sum","prod","scale","sub",d)(i,r,o,s)}var h=A(3),p=A(4),f=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=i-o;if(i>0){if(o<=0)return s;r=i+o}else{if(!(i<0))return s;if(o>=0)return s;r=-(i+o)}var a=3.3306690738754716e-16*r;return s>=a||s<=-a?s:h(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],s=n[0]-r[0],a=t[1]-r[1],u=e[1]-r[1],c=n[1]-r[1],l=t[2]-r[2],A=e[2]-r[2],h=n[2]-r[2],f=o*c,g=s*u,d=s*a,y=i*c,v=i*u,m=o*a,C=l*(f-g)+A*(d-y)+h*(v-m),I=7.771561172376103e-16*((Math.abs(f)+Math.abs(g))*Math.abs(l)+(Math.abs(d)+Math.abs(y))*Math.abs(A)+(Math.abs(v)+Math.abs(m))*Math.abs(h));return C>I||-C>I?C:p(t,e,n,r)}];!function(){for(;f.length<=a;)f.push(A(f.length));for(var e=[],n=["slow"],r=0;r<=a;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=a;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);for(t.exports=o.apply(void 0,[function(t){var e=f[t.length];return e||(e=f[t.length]=A(t.length)),e.apply(void 0,t)}].concat(f)),r=0;r<=a;++r)t.exports[r]=f[r]}()},function(t,e,n){"use strict";t.exports=function(t,e,n){var i=t*e,o=r*t,s=o-(o-t),a=t-s,u=r*e,c=u-(u-e),l=e-c,A=a*l-(i-s*c-a*c-s*l);if(n)return n[0]=A,n[1]=i,n;return[A,i]};var r=+(Math.pow(2,27)+1)},function(t,e,n){"use strict";var r=n(402),i=n(377);function o(t,e,n){if(n=n||{},!Object(i.g)(n))throw new Error("options is invalid");if(!0===n.final)return function(t,e){var n=o(e,t);return n=(n+180)%360}(t,e);var s=Object(r.a)(t),a=Object(r.a)(e),u=Object(i.b)(s[0]),c=Object(i.b)(a[0]),l=Object(i.b)(s[1]),A=Object(i.b)(a[1]),h=Math.sin(c-u)*Math.cos(A),p=Math.cos(l)*Math.sin(A)-Math.sin(l)*Math.cos(A)*Math.cos(c-u);return Object(i.l)(Math.atan2(h,p))}e.a=o},function(t,e,n){"use strict";var r=n(481),i=n(377);e.a=function(t,e){if(e=e||{},!Object(i.g)(e))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var o=Object(r.a)(t),s=(o[0]+o[2])/2,a=(o[1]+o[3])/2;return Object(i.j)([s,a],n)}},function(t,e,n){"use strict";function r(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=function t(e){var n={};if(!e)return n;Object.keys(e).forEach(function(r){var i=e[r];"object"===typeof i?null===i?n[r]=null:i.length?n[r]=i.map(function(t){return t}):n[r]=t(i):n[r]=i});return n}(t.properties),e.geometry=i(t.geometry),e}function i(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return i(t)}),e):(e.coordinates=function t(e){if("object"!==typeof e[0])return e.slice();return e.map(function(e){return t(e)})}(t.coordinates),e)}e.a=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return r(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return r(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return i(t);default:throw new Error("unknown GeoJSON type")}}},function(t,e,n){"use strict";n.d(e,"a",function(){return A}),n.d(e,"b",function(){return p});var r,i,o,s,a,u=n(436),c=n(372),l=n(416),A=(n(425),Object(u.a)()),h=Object(u.a)(),p={point:l.a,lineStart:l.a,lineEnd:l.a,polygonStart:function(){A.reset(),p.lineStart=f,p.lineEnd=g},polygonEnd:function(){var t=+A;h.add(t<0?c.w+t:t),this.lineStart=this.lineEnd=this.point=l.a},sphere:function(){h.add(c.w)}};function f(){p.point=d}function g(){y(r,i)}function d(t,e){p.point=y,r=t,i=e,t*=c.r,e*=c.r,o=t,s=Object(c.g)(e=e/2+c.q),a=Object(c.t)(e)}function y(t,e){t*=c.r,e=(e*=c.r)/2+c.q;var n=t-o,r=n>=0?1:-1,i=r*n,u=Object(c.g)(e),l=Object(c.t)(e),h=a*l,p=s*u+h*Object(c.g)(i),f=h*r*Object(c.t)(i);A.add(Object(c.e)(f,p)),o=t,s=u,a=l}},function(t,e,n){"use strict";e.a=o;var r=n(455),i=(n(859),n(372));n(482);function o(t,e,n,o,a,u){if(n){var c=Object(i.g)(e),l=Object(i.t)(e),A=o*n;null==a?(a=e+o*i.w,u=e-A/2):(a=s(c,a),u=s(c,u),(o>0?a<u:a>u)&&(a+=o*i.w));for(var h,p=a;o>0?p>u:p<u;p-=A)h=Object(r.g)([c,-l*Object(i.g)(p),-l*Object(i.t)(p)]),t.point(h[0],h[1])}}function s(t,e){(e=Object(r.a)(e))[0]-=t,Object(r.e)(e);var n=Object(i.b)(-e[1]);return((-e[2]<0?-n:n)+i.w-i.i)%i.w}},function(t,e,n){"use strict";e.a=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}},function(t,e,n){"use strict";var r=n(416);e.a=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:r.a,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}},function(t,e,n){"use strict";var r=n(620);function i(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function o(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}e.a=function(t,e,n,s,a){var u,c,l=[],A=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,o=t[0],s=t[e];if(Object(r.a)(o,s)){for(a.lineStart(),u=0;u<e;++u)a.point((o=t[u])[0],o[1]);a.lineEnd()}else l.push(n=new i(o,t,null,!0)),A.push(n.o=new i(o,null,n,!1)),l.push(n=new i(s,t,null,!1)),A.push(n.o=new i(s,null,n,!0))}}),l.length){for(A.sort(e),o(l),o(A),u=0,c=A.length;u<c;++u)A[u].e=n=!n;for(var h,p,f=l[0];;){for(var g=f,d=!0;g.v;)if((g=g.n)===f)return;h=g.z,a.lineStart();do{if(g.v=g.o.v=!0,g.e){if(d)for(u=0,c=h.length;u<c;++u)a.point((p=h[u])[0],p[1]);else s(g.x,g.n.x,1,a);g=g.n}else{if(d)for(h=g.p.z,u=h.length-1;u>=0;--u)a.point((p=h[u])[0],p[1]);else s(g.x,g.p.x,-1,a);g=g.p}h=(g=g.o).z,d=!d}while(!g.v);a.lineEnd()}}}},function(t,e,n){"use strict";var r=n(372);e.a=function(t,e){return Object(r.a)(t[0]-e[0])<r.i&&Object(r.a)(t[1]-e[1])<r.i}},function(t,e,n){"use strict";var r=n(437),i=n(622),o=Object(i.a)(r.a),s=o.right;o.left;e.a=s},function(t,e,n){"use strict";var r=n(437);e.a=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Object(r.a)(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}},function(t,e,n){"use strict";e.a=r;function r(t,e){return[t,e]}},function(t,e,n){"use strict";var r=n(625);e.a=function(t,e){var n=Object(r.a)(t,e);return n?Math.sqrt(n):n}},function(t,e,n){"use strict";var r=n(456);e.a=function(t,e){var n,i,o=t.length,s=0,a=-1,u=0,c=0;if(null==e)for(;++a<o;)isNaN(n=Object(r.a)(t[a]))||(c+=(i=n-u)*(n-(u+=i/++s)));else for(;++a<o;)isNaN(n=Object(r.a)(e(t[a],a,t)))||(c+=(i=n-u)*(n-(u+=i/++s)));if(s>1)return c/(s-1)}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i,o=t.length,s=-1;if(null==e){for(;++s<o;)if(null!=(n=t[s])&&n>=n)for(r=i=n;++s<o;)null!=(n=t[s])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++s<o;)if(null!=(n=e(t[s],s,t))&&n>=n)for(r=i=n;++s<o;)null!=(n=e(t[s],s,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=Array.prototype,i=r.slice,o=r.map},function(t,e,n){"use strict";e.a=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}},function(t,e,n){"use strict";e.a=function(t,e,n){var s=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=s/a;u>=r?a*=10:u>=i?a*=5:u>=o&&(a*=2);return e<t?-a:a};var r=Math.sqrt(50),i=Math.sqrt(10),o=Math.sqrt(2)},function(t,e,n){"use strict";e.a=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}},function(t,e,n){"use strict";var r=n(631);function i(t){return t.length}e.a=function(t){if(!(s=t.length))return[];for(var e=-1,n=Object(r.a)(t,i),o=new Array(n);++e<n;)for(var s,a=-1,u=o[e]=new Array(s);++a<s;)u[a]=t[a][e];return o}},function(t,e,n){"use strict";var r=n(436),i=n(455),o=n(372),s=Object(r.a)();e.a=function(t,e){var n=e[0],r=e[1],a=[Object(o.t)(n),-Object(o.g)(n),0],u=0,c=0;s.reset();for(var l=0,A=t.length;l<A;++l)if(p=(h=t[l]).length)for(var h,p,f=h[p-1],g=f[0],d=f[1]/2+o.q,y=Object(o.t)(d),v=Object(o.g)(d),m=0;m<p;++m,g=I,y=b,v=w,f=C){var C=h[m],I=C[0],_=C[1]/2+o.q,b=Object(o.t)(_),w=Object(o.g)(_),E=I-g,B=E>=0?1:-1,x=B*E,O=x>o.o,T=y*b;if(s.add(Object(o.e)(T*B*Object(o.t)(x),v*w+T*Object(o.g)(x))),u+=O?E+B*o.w:E,O^g>=n^I>=n){var N=Object(i.c)(Object(i.a)(f),Object(i.a)(C));Object(i.e)(N);var S=Object(i.c)(a,N);Object(i.e)(S);var M=(O^E>=0?-1:1)*Object(o.c)(S[2]);(r>M||r===M&&(N[0]||N[1]))&&(c+=O^E>=0?1:-1)}}return(u<-o.i||u<o.i&&s<-o.i)^1&c}},function(t,e,n){"use strict";var r=n(635),i=[null,null],o={type:"LineString",coordinates:i};e.a=function(t,e){return i[0]=t,i[1]=e,Object(r.a)(o)}},function(t,e,n){"use strict";var r,i,o,s=n(436),a=n(372),u=n(416),c=n(425),l=Object(s.a)(),A={sphere:u.a,point:u.a,lineStart:function(){A.point=p,A.lineEnd=h},lineEnd:u.a,polygonStart:u.a,polygonEnd:u.a};function h(){A.point=A.lineEnd=u.a}function p(t,e){t*=a.r,e*=a.r,r=t,i=Object(a.t)(e),o=Object(a.g)(e),A.point=f}function f(t,e){t*=a.r,e*=a.r;var n=Object(a.t)(e),s=Object(a.g)(e),u=Object(a.a)(t-r),c=Object(a.g)(u),A=s*Object(a.t)(u),h=o*n-i*s*c,p=i*n+o*s*c;l.add(Object(a.e)(Object(a.u)(A*A+h*h),p)),r=t,i=n,o=s}e.a=function(t){return l.reset(),Object(c.a)(t,A),+l}},function(t,e,n){"use strict";var r=n(416),i=1/0,o=i,s=-i,a=s,u={point:function(t,e){t<i&&(i=t);t>s&&(s=t);e<o&&(o=e);e>a&&(a=e)},lineStart:r.a,lineEnd:r.a,polygonStart:r.a,polygonEnd:r.a,result:function(){var t=[[i,o],[s,a]];return s=a=-(o=i=1/0),t}};e.a=u},function(t,e,n){"use strict";var r=n(539);e.a=function(){return Object(r.a)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(t,e,n){"use strict";var r=n(618),i=n(619),o=n(372),s=n(633),a=n(536);function u(t){return t.length>1}function c(t,e){return((t=t.x)[0]<0?t[1]-o.l-o.i:o.l-t[1])-((e=e.x)[0]<0?e[1]-o.l-o.i:o.l-e[1])}e.a=function(t,e,n,o){return function(l,A){var h,p,f,g=e(A),d=l.invert(o[0],o[1]),y=Object(r.a)(),v=e(y),m=!1,C={point:I,lineStart:b,lineEnd:w,polygonStart:function(){C.point=E,C.lineStart=B,C.lineEnd=x,p=[],h=[]},polygonEnd:function(){C.point=I,C.lineStart=b,C.lineEnd=w,p=Object(a.a)(p);var t=Object(s.a)(h,d);p.length?(m||(A.polygonStart(),m=!0),Object(i.a)(p,c,t,n,A)):t&&(m||(A.polygonStart(),m=!0),A.lineStart(),n(null,null,1,A),A.lineEnd()),m&&(A.polygonEnd(),m=!1),p=h=null},sphere:function(){A.polygonStart(),A.lineStart(),n(null,null,1,A),A.lineEnd(),A.polygonEnd()}};function I(e,n){var r=l(e,n);t(e=r[0],n=r[1])&&A.point(e,n)}function _(t,e){var n=l(t,e);g.point(n[0],n[1])}function b(){C.point=_,g.lineStart()}function w(){C.point=I,g.lineEnd()}function E(t,e){f.push([t,e]);var n=l(t,e);v.point(n[0],n[1])}function B(){v.lineStart(),f=[]}function x(){E(f[0][0],f[0][1]),v.lineEnd();var t,e,n,r,i=v.clean(),o=y.result(),s=o.length;if(f.pop(),h.push(f),f=null,s)if(1&i){if((e=(n=o[0]).length-1)>0){for(m||(A.polygonStart(),m=!0),A.lineStart(),t=0;t<e;++t)A.point((r=n[t])[0],r[1]);A.lineEnd()}}else s>1&&2&i&&o.push(o.pop().concat(o.shift())),p.push(o.filter(u))}return C}}},function(t,e,n){"use strict";e.a=r;n(409);function r(t,e){return[t,e]}r.invert=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(401);function i(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],u=e[o][0],c=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+c*(t[0]-s)===0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(c-t[1])<=0)return!n;a>t[1]!==c>t[1]&&t[0]<(u-s)*(t[1]-a)/(c-a)+s&&(r=!r)}return r}e.default=function(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var o=r.getCoord(t),s=r.getGeom(e),a=s.type,u=e.bbox,c=s.coordinates;if(u&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(o,u))return!1;"Polygon"===a&&(c=[c]);for(var l=!1,A=0;A<c.length&&!l;A++)if(i(o,c[A][0],n.ignoreBoundary)){for(var h=!1,p=1;p<c[A].length&&!h;)i(o,c[A][p],!n.ignoreBoundary)&&(h=!0),p++;h||(l=!0)}return l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(910),i=n(401),o=n(383);e.default=function(t,e,n){void 0===n&&(n={});var s=i.getGeom(t).coordinates,a=i.getGeom(e).coordinates,u=r.union(s,a);return 0===u.length?null:1===u.length?o.polygon(u[0],n.properties):o.multiPolygon(u,n.properties)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return _});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(163),h=n.n(A),p=n(159),f=n.n(p),g=n(102),d=n(918),y=n(156),v=n(166),m=n(390),C=n(422),I=n(1014),_=function(t){function e(){var t;return i()(this,e),(t=u()(this,l()(e).call(this))).type="draw",t.static=!1,t.feature=null,t.drawCreateHandler=function(e){return t._drawCreateHandler(e,h()(t))},t}return f()(e,t),s()(e,[{key:"translateType",value:function(t){var e={rectangle:I.a.geojsonTypes.RECTANGLE,circle:I.a.geojsonTypes.CIRCLE,triangle:I.a.geojsonTypes.TRIANGLE,sector:I.a.geojsonTypes.SECTOR,arrow:I.a.geojsonTypes.ARROW};return{geoType:{point:"Point",line:"LineString",polygon:"Polygon"}[t]||"Polygon",customPropsType:e[t]}}},{key:"_drawCreateHandler",value:function(t,e){e.dataToGeometry?v.a.isFunction(e.callback)&&(this.callback(e.callbackData),delete e.dataToGeometry,delete e.callbackData):e.setFeature(t)}},{key:"handler",value:function(t,e){var n=this;this.on("draw.create",this.drawCreateHandler),this.once("draw.modechange",function(t){n.edit&&n.edit.draw&&n.edit.draw.ctx.helpToolTip.removeTooltip(),v.a.isFunction(n.ended)&&n.ended()})}},{key:"cleanHandler",value:function(){this.off("draw.create")}},{key:"addEventOnDraw",value:function(t){var e=this,n=t.event,r=t.handler;this.on(n,function(t){v.a.isFunction(r)&&(t&&t.features?(t.features[0]=e.removeRepeatCirclePoint(t.features[0]),r(t)):r(t))})}},{key:"removeEventOnDraw",value:function(t){var e=t.event;this.off(e)}},{key:"drawPoint",value:function(t,e,n){this.callback=t,this.draw("point",n),v.a.isFunction(e)&&(this.ended=e)}},{key:"drawLine",value:function(t,e,n){this.callback=t,this.draw("line",n),v.a.isFunction(e)&&(this.ended=e)}},{key:"drawTriangle",value:function(t,e,n){this.callback=t,this.draw("triangle",n),v.a.isFunction(e)&&(this.ended=e)}},{key:"drawRectangle",value:function(t,e,n){this.callback=t,this.draw("rectangle",n),v.a.isFunction(e)&&(this.ended=e)}},{key:"drawCircular",value:function(t,e,n){this.callback=t,this.draw("circle",n),v.a.isFunction(e)&&(this.ended=e)}},{key:"drawSector",value:function(t,e,n){this.callback=t,this.draw("sector",n),v.a.isFunction(e)&&(this.ended=e)}},{key:"drawPolygon",value:function(t,e,n){this.callback=t,this.draw("polygon",n),v.a.isFunction(e)&&(this.ended=e)}},{key:"drawArrow",value:function(t,e,n){this.callback=t,this.draw("arrow",n),v.a.isFunction(e)&&(this.ended=e)}},{key:"getAllGeometric",value:function(t){this.edit?t(this.removeRepeatCirclePoint(this.edit.draw.getAll())):y.a.setErrorMessage(m.a.message.errorDrawNull)}},{key:"getSelected",value:function(t){this.edit?t(this.removeRepeatCirclePoint(this.edit.draw.getSelected())):y.a.setErrorMessage(m.a.message.errorDrawNull)}},{key:"cancelDraw",value:function(){this.cleanHandler(),this.edit&&this.edit.draw&&this.edit.draw.cancelDraw(),this.edit&&this.edit.draw&&this.edit.draw.ctx.helpToolTip.removeTooltip()}},{key:"renderGeometricDraw",value:function(t,e){var n=this;this.callback=e,this.createDraw(t.styles,t);var r=this.translateType(t.type),i={_type_:r.customPropsType};r.customPropsType!==I.a.geojsonTypes.CIRCLE&&r.customPropsType!==I.a.geojsonTypes.SECTOR||(i.center=t.center);var o=this.edit.draw.add({type:"Feature",properties:i,geometry:{type:r.geoType,coordinates:t.coordinates}}),s=I.a.modes.SIMPLE_SELECT;t.editableInit&&(s=I.a.modes.DIRECT_SELECT),this.edit.draw.changeMode(s,{featureId:o[0]}),this.dataToGeometry=!0,this.callbackData={id:o[0],type:r.geoType,coordinates:t.coordinates},this.handler(),setTimeout(function(){g.a.map.map.fire(I.a.events.CREATE),n.emit(I.a.events.CREATE)},300)}},{key:"draw",value:function(t,e){this.createDraw(e),this.static?y.a.setErrorMessage(m.a.message.errorDrawDisable):(this.edit.onBtnCtrlActive(t),this.handler())}},{key:"createDraw",value:function(t,e){if(this.edit)for(var n in e?this.edit.draw.setEditableInit(e.editableInit,e.featureDraggable):this.edit.draw.setEditableInit(),t)for(var r in t[n]){var i=I.a.drawStyles[n].id+".cold";g.a.map.map.setPaintProperty(i,r,t[n][r]);var o=I.a.drawStyles[n].id+".hot";g.a.map.map.setPaintProperty(o,r,t[n][r])}else{var s=this._toDrawStyles(t),a={boxSelect:!0,touchEnabled:!1,displayControlsDefault:!1,showButtons:!1};e&&(a.editableInit=e.editableInit,a.featureDraggable=e.featureDraggable),t&&(a.styles=s),g.a.map.map.engineType="mapbox",this.edit=new d.a.init(g.a.map.map,a,void 0)}}},{key:"_toDrawStyles",value:function(t){var e=[];for(var n in t){var r=I.a.drawStyles[n];if(!r)throw new Error("styles type is illegal");for(var i in t[n])r.paint[i]=t[n][i];e.push(r)}return e}},{key:"updateGeometryStyle",value:function(t){for(var e in t)for(var n in t[e]){var r=I.a.drawStyles[e].id+".cold";g.a.map.map.getLayer(r)&&g.a.map.map.setPaintProperty(r,n,t[e][n]);var i=I.a.drawStyles[e].id+".hot";g.a.map.map.getLayer(i)&&g.a.map.map.setPaintProperty(i,n,t[e][n])}}},{key:"deleteSelect",value:function(){var t=this;this.edit?this.edit.draw.getSelectedIds().map(function(e){return t.edit.draw.delete(e)}):y.a.setErrorMessage(m.a.message.errorDrawNull)}},{key:"deleteAll",value:function(){this.edit&&(this.edit.draw.deleteAll(),this.edit&&this.edit.draw&&this.edit.draw.ctx.helpToolTip.removeTooltip())}},{key:"getById",value:function(t){return this.edit?this.removeRepeatCirclePoint(this.edit.draw.get(t)):null}},{key:"deleteById",value:function(t){this.edit&&this.edit.draw.delete([t])}},{key:"enable",value:function(){this.static=!0,this.edit.draw.changeMode(this.edit.draw.modes.STATIC)}},{key:"clear",value:function(){this.edit=null}},{key:"disable",value:function(){this.static=!1,this.edit.draw.changeMode(this.edit.draw.modes.STATIC)}},{key:"removeRepeatCirclePoint",value:function(t){var e=this;if(!t)return t;switch(t.type){case"FeatureCollection":t.features.forEach(function(t,n,r){r[n]=e.removeRepeatPoint(t)});break;case"Feature":t=this.removeRepeatPoint(t)}return t}},{key:"removeRepeatPoint",value:function(t){return"Polygon"===t.geometry.type&&t.geometry.coordinates.forEach(function(t){var e=t.length,n=t[e-1],r=t[e-2];n[0]===r[0]&&n[1]===r[1]&&t.splice(e-1,1)}),t}},{key:"setFeature",value:function(t){if(t.features){var e=t.features[0];if(v.a.isFunction(this.callback)){var n={id:(e=this.removeRepeatCirclePoint(e)).id,type:e.geometry.type,coordinates:e.geometry.coordinates};t.center&&(n.center=t.center),t.radius&&(n.radius=t.radius),this.callback(n)}}}}]),e}(C.a);g.a.modules.geometry=function(){var t=g.b.get(window.__currentCtx__)||{};return t.geometry=t.geometry||new _,g.b.set(window.__currentCtx__,t),t.geometry}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}},function(t,e,n){"use strict";n.d(e,"a",function(){return T});var r=n(75),i=(n.n(r),n(30)),o=(n.n(i),n(25)),s=(n.n(o),n(24)),a=(n.n(s),n(106)),u=(n.n(a),n(175)),c=(n.n(u),n(74)),l=n.n(c),A=n(101),h=n.n(A),p=n(102),f=n(645),g=n(555),d=n(960),y=n(962),v=n(664),m=n(965),C=n(967),I=n(968),_=n(969),b=n(970),w=n(405),E=n(975),B=n(667),x=(n(557),n(449)),O=(n(498),n(983)),T=function(){function t(e,n){l()(this,t),this.type=e,this.ctx=n,this.doubleClickZoom=this.getDoubleClickZoom(),this.scrollZoom=this.getScrollZoom(),this.boxZoom=this.getBoxZoom(),this.dragRotate=this.getDragRotate(),this.dragPan=this.getDragPan(),this.keyboard=this.getKeyboard(),this.touchZoomRotate=this.getTouchZoomRotate(),this.olSources=new Map,this.olLayers=new Map,this.featureStyle={point:{inactiveColor:"rgba(210,12,12,1)",activeColor:"rgba(210,12,12,1)",inactiveRadius:3,activeRadius:7},line:{inactiveColor:"rgba(59,178,208,1)",inactiveWidth:1,activeColor:"rgba(210,12,12,1)",activeWidth:1},polygon:{inactiveColor:"rgba(59,178,208,0.01)",activeColor:"rgba(251,176,59,0.01)",inactiveLineColor:"rgba(59,178,208,1)",activeLineColor:"rgba(210,12,12,1)",inactiveLineWidth:2,activeLineWidth:1}}}return h()(t,[{key:"getContainer",value:function(){switch(this.type){case"mapbox":return this.ctx.getContainer();case"ol":return this.ctx.getTargetElement();case"dom":break;default:return}}},{key:"getCanvasContainer",value:function(){switch(this.type){case"mapbox":return this.ctx.getCanvasContainer();case"ol":return this.ctx.getTargetElement();case"dom":break;default:return}}},{key:"addControl",value:function(t,e){switch(this.type){case"mapbox":this.ctx.addControl(t,e);break;case"ol":var n=t.onAdd(this.ctx);this.control=new E.a({element:n}),this.ctx.addControl(this.control);break;case"dom":break;default:return}}},{key:"removeControl",value:function(t){switch(this.type){case"mapbox":this.ctx.removeControl(t);break;case"ol":t.onRemove(),this.ctx.removeControl(this.control);break;case"dom":break;default:return}}},{key:"fire",value:function(t,e){switch(this.type){case"mapbox":case"ol":p.a.modules.geometry().emit(t,e);break;case"dom":break;default:return}}},{key:"queryRenderedFeatures",value:function(t,e){switch(this.type){case"mapbox":return this.ctx.queryRenderedFeatures(t,e);case"ol":var n=Object(w.c)(e.point,"EPSG:".concat(p.a.config.EPSG)),r=this.ctx.getPixelFromCoordinate(n);return this.ctx.getFeaturesAtPixel(r)||[];case"dom":break;default:return}}},{key:"project",value:function(t){switch(this.type){case"mapbox":return this.ctx.project(t);case"ol":if(t){var e=Object(w.c)(t,"EPSG:".concat(p.a.config.EPSG)),n=this.ctx.getPixelFromCoordinate(e);return{x:n[0],y:n[1]}}break;case"dom":break;default:return}}},{key:"unproject",value:function(t){switch(this.type){case"mapbox":return this.ctx.unproject(t);case"ol":if(t){var e=this.ctx.getCoordinateFromPixel(t);if(e){var n=Object(w.g)(e,"EPSG:3857","EPSG:4326");return{lng:n[0],lat:n[1]}}}break;case"dom":break;default:return}}},{key:"getDoubleClickZoom",value:function(){switch(this.type){case"mapbox":return this.ctx.doubleClickZoom;case"ol":var t="";return this.ctx.getInteractions().forEach(function(e){e instanceof d.a&&(t=e)}),t.isEnabled=function(){return this.getActive()},t.enable=function(){this.setActive(!0)},t.disable=function(){this.setActive(!1)},t;case"dom":break;default:return}}},{key:"getScrollZoom",value:function(){switch(this.type){case"mapbox":return this.ctx.scrollZoom;case"ol":var t="";return this.ctx.getInteractions().forEach(function(e){e instanceof _.a&&(t=e)}),t.isEnabled=function(){return this.getActive()},t.enable=function(){this.setActive(!0)},t.disable=function(){this.setActive(!1)},t;case"dom":break;default:return}}},{key:"getBoxZoom",value:function(){switch(this.type){case"mapbox":return this.ctx.boxZoom;case"ol":var t="";return this.ctx.getInteractions().forEach(function(e){e instanceof b.a&&(t=e)}),t.isEnabled=function(){return this.getActive()},t.enable=function(){this.setActive(!0)},t.disable=function(){this.setActive(!1)},t;case"dom":break;default:return}}},{key:"getDragRotate",value:function(){switch(this.type){case"mapbox":return this.ctx.dragRotate;case"ol":var t="";return this.ctx.getInteractions().forEach(function(e){e instanceof y.a&&(t=e)}),t.isEnabled=function(){return this.getActive()},t.enable=function(){this.setActive(!0)},t.disable=function(){this.setActive(!1)},t;case"dom":break;default:return}}},{key:"getDragPan",value:function(){switch(this.type){case"mapbox":return this.ctx.dragPan;case"ol":var t=[];return this.ctx.getInteractions().forEach(function(e){e instanceof v.a&&(e.isEnabled=function(){return this.getActive()},e.enable=function(){this.setActive(!0)},e.disable=function(){this.setActive(!1)},t.push(e))}),{isEnabled:function(){return!t.some(function(t){return!1===t.getActive()})},enable:function(){t.forEach(function(t){t.setActive(!0)})},disable:function(){t.forEach(function(t){t.setActive(!1)})}};case"dom":break;default:return}}},{key:"getKeyboard",value:function(){switch(this.type){case"mapbox":return this.ctx.keyboard;case"ol":var t="",e="";return this.ctx.getInteractions().forEach(function(n){n instanceof m.a&&(t=n),n instanceof C.a&&(e=n)}),t.isEnabled=function(){this.getActive()},t.enable=function(){this.setActive(!0),e.setActive(!0)},t.disable=function(){this.setActive(!1),e.setActive(!1)},t;case"dom":break;default:return}}},{key:"getTouchZoomRotate",value:function(){switch(this.type){case"mapbox":return this.ctx.touchZoomRotate;case"ol":var t="";return this.ctx.getInteractions().forEach(function(e){e instanceof I.a&&(t=e)}),t.isEnabled=function(){return this.getActive()},t.enable=function(){this.setActive(!0)},t.disable=function(){this.setActive(!1)},t;case"dom":break;default:return}}},{key:"on",value:function(t,e){switch(this.type){case"mapbox":if(~t.indexOf("draw")){p.a.modules.geometry().on(t,e);break}this.ctx.on(t,e);break;case"ol":if(~t.indexOf("draw")){p.a.modules.geometry().on(t,e);break}"data"!==t&&"touchmove"!==t&&"touchstart"!==t&&"touchend"!==t&&x.a.on(this.ctx)(t,e);break;case"dom":break;default:return}}},{key:"off",value:function(t,e){switch(this.type){case"mapbox":this.ctx.off(t,e);break;case"ol":if(~t.indexOf("draw")){p.a.modules.geometry().off(t,e);break}"data"!==t&&"touchmove"!==t&&"touchstart"!==t&&"touchend"!==t&&x.a.off(this.ctx)(t,e);break;case"dom":break;default:return}}},{key:"getSource",value:function(t){switch(this.type){case"mapbox":return this.ctx.getSource(t);case"ol":return this.olSources.get(t);case"dom":break;default:return}}},{key:"addSource",value:function(t,e){switch(this.type){case"mapbox":e.maxzoom=20,this.ctx.addSource(t,e);break;case"ol":var n=(new B.a).readFeatures(e.data,{dataProjection:"EPSG:4326",featureProjection:"EPSG:"+p.a.config.EPSG}),r=new f.a({features:n}),i=this;r.setData=function(t){var e=this;this.clear();var n=(new B.a).readFeatures(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:"+p.a.config.EPSG});n.length>0&&n.forEach(function(t){"Polygon"===t.getProperties()["meta:type"]?"false"===t.getProperties().active?t.setProperties(Object.assign({},t.getProperties(),{inactiveColor:i.featureStyle.polygon.inactiveColor,inactiveLineColor:i.featureStyle.polygon.inactiveLineColor,inactiveLineWidth:i.featureStyle.polygon.inactiveLineWidth})):t.setProperties(Object.assign({},t.getProperties(),{activeColor:i.featureStyle.polygon.activeColor,activeLineColor:i.featureStyle.polygon.activeLineColor,activeLineWidth:i.featureStyle.polygon.activeLineWidth})):"LineString"===t.getProperties()["meta:type"]?"false"===t.getProperties().active?t.setProperties(Object.assign({},t.getProperties(),{inactiveColor:i.featureStyle.line.inactiveColor,inactiveWidth:i.featureStyle.line.inactiveWidth})):t.setProperties(Object.assign({},t.getProperties(),{activeColor:i.featureStyle.line.activeColor,activeWidth:i.featureStyle.line.activeWidth})):"Point"!==t.getProperties()["meta:type"]&&"vertex"!==t.getProperties().meta||("false"===t.getProperties().active?t.setProperties(Object.assign({},t.getProperties(),{inactiveColor:i.featureStyle.point.inactiveColor,inactiveRadius:i.featureStyle.point.inactiveRadius})):t.setProperties(Object.assign({},t.getProperties(),{activeColor:i.featureStyle.point.activeColor,activeRadius:i.featureStyle.point.activeRadius}))),e.addFeature(t)})},this.olSources.set(t,r);break;case"dom":break;default:return}}},{key:"addLayer",value:function(t){switch(this.type){case"mapbox":this.ctx.addLayer(t);break;case"ol":var e=t.id;t=new g.a({source:this.getSource(t.source),style:O.a.generateStyle}),this.ctx.addLayer(t),this.olLayers.set(e,t);break;case"dom":break;default:return}}},{key:"getLayer",value:function(t){switch(this.type){case"mapbox":return this.ctx.getLayer(t);case"ol":return this.olLayers.get(t);case"dom":break;default:return}}}]),t}()},function(t,e,n){"use strict";var r=n(382),i=n(646),o=n(552),s=n(553),a=n(411),u=n(389),c=n(404),l=n(438),A=n(391),h=n(381),p=n(650),f=n(407),g=n(941),d=n(384),y=n(651),v=n(489),m=n(946),C=n(947),I=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l.a),_=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:void 0,state:v.a.READY,wrapX:void 0===n.wrapX||n.wrapX}),this.loader_=f.c,this.format_=n.format,this.overlaps_=void 0==n.overlaps||n.overlaps,this.url_=n.url,void 0!==n.loader?this.loader_=n.loader:void 0!==this.url_&&(Object(u.a)(this.format_,7),this.loader_=Object(p.b)(this.url_,this.format_)),this.strategy_=void 0!==n.strategy?n.strategy:g.a;var r,o,s=void 0===n.useSpatialIndex||n.useSpatialIndex;this.featuresRtree_=s?new C.a:null,this.loadedExtentsRtree_=new C.a,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(n.features)?o=n.features:n.features&&(o=(r=n.features).getArray()),s||void 0!==r||(r=new i.a(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==r&&this.bindFeaturesCollection_(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(r.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new I(m.a.ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(c.a)(e,A.a.CHANGE,this.handleFeatureChange_,this),Object(c.a)(e,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r?r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e:(Object(u.a)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=Object(r.c)(a);this.addToIndex_(u,a)&&n.push(a)}for(var c=0,l=n.length;c<l;c++){var A=n[c],h=Object(r.c)(A);this.setupChangeEvents_(h,A);var p=A.getGeometry();if(p){var f=p.getExtent();e.push(f),i.push(A)}else this.nullGeometryFeatures_[h]=A}this.featuresRtree_&&this.featuresRtree_.load(e,i);for(var g=0,d=n.length;g<d;g++)this.dispatchEvent(new I(m.a.ADDFEATURE,n[g]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Object(c.a)(this,m.a.ADDFEATURE,function(n){e||(e=!0,t.push(n.feature),e=!1)}),Object(c.a)(this,m.a.REMOVEFEATURE,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),Object(c.a)(t,o.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),Object(c.a)(t,o.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(c.e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var r=new I(m.a.CLEAR);this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(d.d)(this.nullGeometryFeatures_)||Object(a.b)(t,Object(d.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],u=e||f.b;return this.featuresRtree_.forEachInExtent(a,function(t){if(u(t)){var e=t.getGeometry(),c=s;if((s=e.closestPointXY(n,r,o,s))<c){i=t;var l=Math.sqrt(s);a[0]=n-l,a[1]=r-l,a[2]=n+l,a[3]=r+l}}}),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Object(r.c)(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var s=e.getId();if(void 0!==s){var a=s.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[a]=e):this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new I(m.a.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(r.c)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(d.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var r=this,i=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var s=function(t,s){var a=o[t];i.forEachInExtent(a,function(t){return Object(h.d)(t.extent,a)})||(r.loader_.call(r,a,e,n),i.insert(a,{extent:a.slice()}),r.loading=r.loader_!==f.c)},a=0,u=o.length;a<u;++a)s(a)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(Object(h.l)(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Object(r.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(r.c)(t);this.featureChangeKeys_[e].forEach(c.e),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new I(m.a.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(y.a);e.a=_},function(t,e,n){"use strict";var r=n(647),i=n(552),o=n(410),s="length",a=function(t){function e(e,n){t.call(this,e),this.element=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n(438).a),u=function(t){function e(e,n){t.call(this);var r=n||{};if(this.unique_=!!r.unique,this.array_=e||[],this.unique_)for(var i=0,o=this.array_.length;i<o;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(s)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new a(i.a.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new a(i.a.REMOVE,e)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new a(i.a.REMOVE,r)),this.dispatchEvent(new a(i.a.ADD,e))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(s,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new r.a(58)},e}(o.a);e.a=u},function(t,e,n){"use strict";var r=n(382),i=function(t){function e(e){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===r.a?r.a:"v"+r.a.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.a=i},function(t,e,n){"use strict";var r=function(){this.disposed_=!1};r.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},r.prototype.disposeInternal=function(){},e.a=r},function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";e.a=o,e.b=function(t,e){return o(t,e,function(t,e){"function"===typeof this.addFeatures&&this.addFeatures(t)},r.c)};var r=n(407),i=n(554);function o(t,e,n,r){return function(o,s,a){var u=new XMLHttpRequest;u.open("GET","function"===typeof t?t(o,s,a):t,!0),e.getType()==i.a.ARRAY_BUFFER&&(u.responseType="arraybuffer"),u.onload=function(t){if(!u.status||u.status>=200&&u.status<300){var o,s=e.getType();s==i.a.JSON||s==i.a.TEXT?o=u.responseText:s==i.a.XML?(o=u.responseXML)||(o=(new DOMParser).parseFromString(u.responseText,"application/xml")):s==i.a.ARRAY_BUFFER&&(o=u.response),o?n.call(this,e.readFeatures(o,{featureProjection:a}),e.readProjection(o),e.getLastExtent()):r.call(this)}else r.call(this)}.bind(this),u.onerror=function(){r.call(this)}.bind(this),u.send()}}},function(t,e,n){"use strict";var r=n(382),i=n(410),o=n(405),s=n(489),a=function(t){function e(e){t.call(this),this.projection_=Object(o.d)(e.projection),this.attributions_=u(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:s.a.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(r.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=u(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(i.a);function u(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}e.a=a},function(t,e,n){"use strict";e.a=o,e.b=function(t,e,n,o){var s=o||i,a=Object(r.h)(t[1]),u=Object(r.h)(t[0]),c=e/s,l=Math.asin(Math.sin(a)*Math.cos(c)+Math.cos(a)*Math.sin(c)*Math.cos(n)),A=u+Math.atan2(Math.sin(n)*Math.sin(c)*Math.cos(a),Math.cos(c)-Math.sin(a)*Math.sin(l));return[Object(r.g)(A),Object(r.g)(l)]};var r=n(385),i=(n(393),6371008.8);function o(t,e,n){var o=n||i,s=Object(r.h)(t[1]),a=Object(r.h)(e[1]),u=(a-s)/2,c=Object(r.h)(e[0]-t[0])/2,l=Math.sin(u)*Math.sin(u)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(a);return 2*o*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}},function(t,e,n){"use strict";var r=n(382),i=n(410),o=n(654),s=n(385),a=n(384),u=function(t){function e(e){t.call(this);var n=Object(a.a)({},e);n[o.a.OPACITY]=void 0!==e.opacity?e.opacity:1,n[o.a.VISIBLE]=void 0===e.visible||e.visible,n[o.a.Z_INDEX]=e.zIndex,n[o.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[o.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(n),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(s.a)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(r.b)()},e.prototype.getLayerStatesArray=function(t){return Object(r.b)()},e.prototype.getExtent=function(){return this.get(o.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o.a.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(o.a.OPACITY)},e.prototype.getSourceState=function(){return Object(r.b)()},e.prototype.getVisible=function(){return this.get(o.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(o.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(o.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o.a.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(o.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(o.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o.a.Z_INDEX,t)},e}(i.a);e.a=u},function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(t,e,n){"use strict";var r=function(t){function e(e){var n=e||{};t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,atlasManager:n.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(n(656).a);e.a=r},function(t,e,n){"use strict";var r=n(459),i=n(951),o=n(427),s=n(559),a=n(560),u=n(952),c=function(t){function e(e){var n=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return a.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,n,r="",a="",c=0,l=null,A=0,h=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=u.f),n=Object(i.a)(n),void 0===(h=this.stroke_.getWidth())&&(h=u.d),l=this.stroke_.getLineDash(),A=this.stroke_.getLineDashOffset(),s.a||(l=null,A=0),void 0===(a=this.stroke_.getLineJoin())&&(a=u.c),void 0===(r=this.stroke_.getLineCap())&&(r=u.b),void 0===(c=this.stroke_.getMiterLimit())&&(c=u.e));var p=2*(this.radius_+h)+1,f={strokeStyle:n,strokeWidth:h,size:p,lineCap:r,lineDash:l,lineDashOffset:A,lineJoin:a,miterLimit:c};if(void 0===t){var g=Object(o.a)(p,p);this.canvas_=g.canvas,e=p=this.canvas_.width,this.draw_(f,g,0,0),this.createHitDetectionCanvas_(f)}else{p=Math.round(p);var d,y=!this.fill_;y&&(d=this.drawHitDetectionCanvas_.bind(this,f));var v=this.getChecksum(),m=t.add(v,p,p,this.draw_.bind(this,f),d);this.canvas_=m.image,this.origin_=[m.offsetX,m.offsetY],e=m.image.width,y?(this.hitDetectionCanvas_=m.hitImage,this.hitDetectionImageSize_=[m.hitImage.width,m.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,n,r){var o,s,a;e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var c=this.points_;if(c===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(c*=2),o=0;o<=c;o++)s=2*o*Math.PI/c-Math.PI/2+this.angle_,a=o%2===0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}if(this.fill_){var A=this.fill_.getColor();null===A&&(A=u.a),e.fillStyle=Object(i.a)(A),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Object(o.a)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var s,a,c,l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(o*=2),s=0;s<=o;s++)c=2*s*Math.PI/o-Math.PI/2+this.angle_,a=s%2===0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(c),t.size/2+a*Math.sin(c))}e.fillStyle=Object(r.b)(u.a),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(n(562).a);e.a=c},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=["experimental-webgl","webgl","webkit-3d","moz-webgl"];var i;if("undefined"!==typeof window&&"WebGLRenderingContext"in window)try{var o=function(t,e){for(var n=r.length,i=0;i<n;++i)try{var o=t.getContext(r[i],e);if(o)return o}catch(t){}return null}(document.createElement("canvas"),{failIfMajorPerformanceCaveat:!0});o&&(!0,i=o.getParameter(o.MAX_TEXTURE_SIZE),o.getSupportedExtensions())}catch(t){}},function(t,e,n){"use strict";var r=n(389),i=n(487),o=n(391),s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(r.a)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Object(r.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(r.a)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(i.a);e.a=s},function(t,e,n){"use strict";var r=n(382),i=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};i.prototype.clone=function(){var t=this.getColor();return new i({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},i.prototype.getColor=function(){return this.color_},i.prototype.getLineCap=function(){return this.lineCap_},i.prototype.getLineDash=function(){return this.lineDash_},i.prototype.getLineDashOffset=function(){return this.lineDashOffset_},i.prototype.getLineJoin=function(){return this.lineJoin_},i.prototype.getMiterLimit=function(){return this.miterLimit_},i.prototype.getWidth=function(){return this.width_},i.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},i.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},i.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},i.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},i.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},i.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},i.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},i.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"===typeof this.color_?this.checksum_+=this.color_:this.checksum_+=Object(r.c)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e.a=i},function(t,e,n){"use strict";var r=n(382),i=n(560),o=n(389),s=n(459),a=n(404),u=n(391),c=n(954),l=n(661),A=n(956),h=function(t){function e(e){var n=e||{},a=void 0!==n.opacity?n.opacity:1,u=void 0!==n.rotation?n.rotation:0,h=void 0!==n.scale?n.scale:1,p=void 0!==n.rotateWithView&&n.rotateWithView;t.call(this,{opacity:a,rotation:u,scale:h,rotateWithView:p}),this.anchor_=void 0!==n.anchor?n.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:A.a.TOP_LEFT,this.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:c.a.FRACTION,this.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:c.a.FRACTION,this.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var f=void 0!==n.img?n.img:null,g=void 0!==n.imgSize?n.imgSize:null,d=n.src;Object(o.a)(!(void 0!==d&&f),4),Object(o.a)(!f||f&&g,5),void 0!==d&&0!==d.length||!f||(d=f.src||Object(r.c)(f)),Object(o.a)(void 0!==d&&d.length>0,6);var y=void 0!==n.src?i.a.IDLE:i.a.LOADED;this.color_=void 0!==n.color?Object(s.a)(n.color):null,this.iconImage_=Object(l.a)(f,d,g,this.crossOrigin_,y,this.color_),this.offset_=void 0!==n.offset?n.offset:[0,0],this.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:A.a.TOP_LEFT,this.origin_=null,this.size_=void 0!==n.size?n.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==c.a.FRACTION||this.anchorYUnits_==c.a.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==c.a.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==c.a.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=A.a.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=A.a.TOP_RIGHT&&this.anchorOrigin_!=A.a.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=A.a.BOTTOM_LEFT&&this.anchorOrigin_!=A.a.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=A.a.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=A.a.TOP_RIGHT&&this.offsetOrigin_!=A.a.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=A.a.BOTTOM_LEFT&&this.offsetOrigin_!=A.a.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return Object(a.a)(this.iconImage_,u.a.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){Object(a.c)(this.iconImage_,u.a.CHANGE,t,e)},e}(n(562).a);e.a=h},function(t,e,n){"use strict";e.a=function(t,e,n,r,i,o){var s=u.a.get(e,r,o);s||(s=new c(t,e,n,r,i,o),u.a.set(e,r,o,s));return s};var r=n(427),i=n(404),o=n(487),s=n(391),a=n(560),u=n(955),c=function(t){function e(e,n,r,i,o,s){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==i&&(this.image_.crossOrigin=i),this.canvas_=s?document.createElement("canvas"):null,this.color_=s,this.imageListenerKeys_=null,this.imageState_=o,this.size_=r,this.src_=n,this.tainted_}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===a.a.LOADED){this.tainted_=!1;var t=Object(r.a)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(s.a.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=a.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=a.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=Object(r.a)(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==a.a.IDLE){this.imageState_=a.a.LOADING,this.imageListenerKeys_=[Object(i.b)(this.image_,s.a.ERROR,this.handleImageError_,this),Object(i.b)(this.image_,s.a.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,r=this.color_[0]/255,i=this.color_[1]/255,o=this.color_[2]/255,s=0,a=n.length;s<a;s+=4)n[s]*=r,n[s+1]*=i,n[s+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(i.e),this.imageListenerKeys_=null},e}(o.a)},function(t,e,n){"use strict";e.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},function(t,e,n){"use strict";var r=n(490),i=n(389),o=n(662),s=n(556),a=n(959),u=n(384),c=function(t){function e(e){var n=e||{},o=n.renderMode||a.a.HYBRID;Object(i.a)(void 0==o||o==a.a.IMAGE||o==a.a.HYBRID||o==a.a.VECTOR,28),n.declutter&&o==a.a.IMAGE&&(o=a.a.HYBRID),n.renderMode=o;var s=Object(u.a)({},n);delete s.preload,delete s.useInterimTilesOnError,t.call(this,s),this.setPreload(n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=r.a.VECTOR_TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o.a.PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(o.a.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(o.a.PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(o.a.USE_INTERIM_TILES_ON_ERROR,t)},e}(s.a);c.prototype.getSource,e.a=c},function(t,e,n){"use strict";var r=n(492),i=n(565),o=n(460),s=n(429),a=n(407),u=n(493),c=function(t){function e(e){t.call(this,{stopDown:a.a});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=n.condition?n.condition:s.e,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(r.a.INTERACTING,1));var e=this.targetPointers,n=Object(u.a)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var o=this.lastCentroid[0]-n[0],s=n[1]-this.lastCentroid[1],a=t.map.getView(),c=[o,s];Object(i.c)(c,a.getResolution()),Object(i.b)(c,a.getRotation()),Object(i.a)(c,a.getCenter()),c=a.constrainCenter(c),a.setCenter(c)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=n.getCenter(),u=e.getPixelFromCoordinate(a),c=e.getCoordinateFromPixel([u[0]-i*Math.cos(s),u[1]-i*Math.sin(s)]);n.animate({center:n.constrainCenter(c),duration:500,easing:o.b})}return this.panning_&&(this.panning_=!1,n.setHint(r.a.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(u.b);e.a=c},function(t,e,n){"use strict";var r=n(382),i=n(410),o=n(381),s=n(566),a=n(405),u=n(426),c=n(561),l=Object(c.b)(),A=function(t){function e(){t.call(this),this.extent_=Object(o.f)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return Object(r.b)()},e.prototype.closestPointXY=function(t,e,n,i){return Object(r.b)()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(r.b)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(o.z)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(r.b)()},e.prototype.scale=function(t,e,n){Object(r.b)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(r.b)()},e.prototype.getType=function(){return Object(r.b)()},e.prototype.applyTransform=function(t){Object(r.b)()},e.prototype.intersectsExtent=function(t){return Object(r.b)()},e.prototype.translate=function(t,e){Object(r.b)()},e.prototype.transform=function(t,e){var n=Object(a.d)(t),r=n.getUnits()==u.b.TILE_PIXELS?function(t,r,i){var u=n.getExtent(),A=n.getWorldExtent(),h=Object(o.s)(A)/Object(o.s)(u);return Object(c.a)(l,A[0],A[3],h,-h,0,0,0),Object(s.c)(t,0,t.length,i,l,r),Object(a.e)(n,e)(t,r,i)}:Object(a.e)(n,e);return this.applyTransform(r),this},e}(i.a);e.a=A},function(t,e,n){"use strict";e.a=function(t,e,n,r,i,o){for(var s,a=[t[e],t[e+1]],u=[];e+r<n;e+=r){if(u[0]=t[e+r],u[1]=t[e+r+1],s=i.call(o,a,u))return s;a[0]=u[0],a[1]=u[1]}return!1}},function(t,e,n){"use strict";var r=n(389),i=n(668),o=n(570),s=n(977),a=n(978),u=n(571),c=n(669),l=n(573),A=n(670),h=n(495),p=n(494),f=n(384),g=n(405),d=n(393),y=function(t){function e(e){var n=e||{};t.call(this),this.dataProjection=Object(g.d)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(this.defaultFeatureProjection=Object(g.d)(n.featureProjection)),this.geometryName_=n.geometryName,this.extractGeometryName_=n.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var n=null,r=v((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new i.a;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n.geometry_name),o.setGeometry(r),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties),o},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var r=t.features,i=0,o=r.length;i<o;++i)n.push(this.readFeatureFromObject(r[i],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return v(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=Object(g.d)(n.properties.name):Object(r.a)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},r=t.getId();void 0!==r&&(n.id=r);var i=t.getGeometry();i&&(n.geometry=m(i,e));var o=t.getProperties();return delete o[t.getGeometryName()],Object(f.d)(o)||(n.properties=o),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return m(t,this.adaptOptions(e))},e}(s.a);function v(t,e){if(!t)return null;var n;switch(t.type){case d.a.POINT:n=function(t){return new h.a(t.coordinates)}(t);break;case d.a.LINE_STRING:n=function(t){return new u.a(t.coordinates)}(t);break;case d.a.POLYGON:n=function(t){return new p.a(t.coordinates)}(t);break;case d.a.MULTI_POINT:n=function(t){return new l.a(t.coordinates)}(t);break;case d.a.MULTI_LINE_STRING:n=function(t){return new c.a(t.coordinates)}(t);break;case d.a.MULTI_POLYGON:n=function(t){return new A.a(t.coordinates)}(t);break;case d.a.GEOMETRY_COLLECTION:n=function(t,e){var n=t.geometries.map(function(t){return v(t,e)});return new a.a(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Object(o.b)(n,!1,e)}function m(t,e){var n,r=(t=Object(o.b)(t,!0,e)).getType();switch(r){case d.a.POINT:n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case d.a.LINE_STRING:n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case d.a.POLYGON:n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case d.a.MULTI_POINT:n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case d.a.MULTI_LINE_STRING:n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case d.a.MULTI_POLYGON:n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case d.a.GEOMETRY_COLLECTION:n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=Object(f.a)({},e);return delete n.featureProjection,m(t,n)})}}(t,e);break;case d.a.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}e.a=y},function(t,e,n){"use strict";var r=n(389),i=n(404),o=n(391),s=n(410),a=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(i.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"===typeof e.getSimplifiedGeometry){var n=e;this.setGeometry(n)}else{var r=e;this.setProperties(r)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(i.e)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(i.a)(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{Object(r.a)("function"===typeof t.getZIndex,41);var n=t;e=[n]}return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(i.c)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(i.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(s.a);e.a=a},function(t,e,n){"use strict";var r=n(411),i=n(381),o=n(430),s=n(393),a=n(571),u=n(418),c=n(461),l=n(419),A=n(439),h=n(572),p=n(497),f=n(462),g=function(t){function e(e,n,i){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(void 0!==n&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{for(var o=this.getLayout(),s=e,a=[],u=[],c=0,l=s.length;c<l;++c){var A=s[c];0===c&&(o=A.getLayout()),Object(r.b)(a,A.getFlatCoordinates()),u.push(a.length)}this.setFlatCoordinates(o,a),this.ends_=u}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?Object(r.b)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,r){return r<Object(i.b)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=o.a.XYM&&this.layout!=o.a.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,i=void 0!==n&&n;return Object(h.c)(this.flatCoordinates,0,this.ends_,this.stride,t,r,i)},e.prototype.getCoordinates=function(){return Object(A.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new a.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],i=0,o=0,s=e.length;o<s;++o){var u=e[o],c=new a.a(t.slice(i,u),n);r.push(c),i=u}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,o=this.stride,s=0,a=i.length;s<a;++s){var u=i[s],c=Object(h.a)(e,n,u,o,.5);Object(r.b)(t,c),n=u}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Object(f.b)(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,o.a.XY,r)},e.prototype.getType=function(){return s.a.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(p.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(l.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(u.a);e.a=g},function(t,e,n){"use strict";var r=n(411),i=n(381),o=n(430),s=n(393),a=n(573),u=n(494),c=n(418),l=n(567),A=n(671),h=n(461),p=n(496),f=n(419),g=n(439),d=n(568),y=n(497),v=n(569),m=n(462),C=function(t){function e(e,n,i){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var o=this.getLayout(),s=e,a=[],u=[],c=0,l=s.length;c<l;++c){var A=s[c];0===c&&(o=A.getLayout());for(var h=a.length,p=A.getEnds(),f=0,g=p.length;f<g;++f)p[f]+=h;Object(r.b)(a,A.getFlatCoordinates()),u.push(p)}n=o,e=a,i=u}void 0!==n&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Object(r.b)(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,o=(e=t.getEnds().slice()).length;i<o;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),r=0;r<t;++r)n[r]=this.endss_[r].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,r){return r<Object(i.b)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(h.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(h.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return Object(p.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(l.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(v.e)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(g.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=Object(A.a)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(d.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new a.a(this.getFlatInteriorPoints().slice(),o.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(v.c)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(v.e)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Object(m.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,o.a.XY,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),i=r[r.length-1];if(0!==e)for(var o=0,s=r.length;o<s;++o)r[o]-=e;return new u.a(this.flatCoordinates.slice(e,i),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],i=0,o=0,s=n.length;o<s;++o){var a=n[o].slice(),c=a[a.length-1];if(0!==i)for(var l=0,A=a.length;l<A;++l)a[l]-=i;var h=new u.a(e.slice(i,c),t,a);r.push(h),i=c}return r},e.prototype.getType=function(){return s.a.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(y.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(f.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(c.a);e.a=C},function(t,e,n){"use strict";e.a=function(t,e,n,i){for(var o=[],s=Object(r.f)(),a=0,u=n.length;a<u;++a){var c=n[a];s=Object(r.k)(t,e,c[0],i),o.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=c[c.length-1]}return o};var r=n(381)},function(t,e,n){"use strict";var r=n(427),i=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=Object(r.a)(t,t),this.canvas_=this.context_.canvas};i.prototype.get=function(t){return this.entries_[t]||null},i.prototype.add=function(t,e,n,r,i){for(var o=0,s=this.emptyBlocks_.length;o<s;++o){var a=this.emptyBlocks_[o];if(a.width>=e+this.space_&&a.height>=n+this.space_){var u={offsetX:a.x+this.space_,offsetY:a.y+this.space_,image:this.canvas_};return this.entries_[t]=u,r.call(i,this.context_,a.x+this.space_,a.y+this.space_),this.split_(o,a,e+this.space_,n+this.space_),u}}return null},i.prototype.split_=function(t,e,n,r){var i,o;e.width-n>e.height-r?(i={x:e.x+n,y:e.y,width:e.width-n,height:e.height},o={x:e.x,y:e.y+r,width:n,height:e.height-r},this.updateBlocks_(t,i,o)):(i={x:e.x+n,y:e.y,width:e.width-n,height:r},o={x:e.x,y:e.y+r,width:e.width,height:e.height-r},this.updateBlocks_(t,i,o))},i.prototype.updateBlocks_=function(t,e,n){var r=[t,1];e.width>0&&e.height>0&&r.push(e),n.width>0&&n.height>0&&r.push(n),this.emptyBlocks_.splice.apply(this.emptyBlocks_,r)},e.a=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(417),o=(n.n(i),n(160)),s=(n.n(o),n(164)),a=n.n(s),u=n(500),c=n(501),l=n(399),A=n(373),h=n(394),p=n(502),f=n(675),g=n(676),d=n(574),y=n(400),v=h.a.noTarget,m=h.a.isOfMetaType,C=h.a.isInactiveFeature,I=h.a.isShiftDown,_=m(A.g.meta.VERTEX),b=m(A.g.meta.MIDPOINT),w=A.g.geojsonTypes,E=(r={},a()(r,w.CIRCLE,"dragCircle"),a()(r,w.TRIANGLE,"dragVertex"),a()(r,w.RECTANGLE,"dragRectangle"),a()(r,w.SECTOR,"dragSector"),a()(r,w.ARROW,"dragVertex"),a()(r,w.BEZIERARROW,"dragVertex"),a()(r,w.FEATURE,"dragVertex"),a()(r,w.POLYGON,"dragVertex"),a()(r,w.LINE_STRING,"dragVertex"),a()(r,w.POINT,"dragVertex"),a()(r,w.FEATURE_COLLECTION,"dragVertex"),a()(r,w.MULTI_PREFIX,"dragVertex"),a()(r,w.MULTI_POINT,"dragVertex"),a()(r,w.MULTI_LINE_STRING,"dragVertex"),a()(r,w.MULTI_POLYGON,"dragVertex"),r),B={fireUpdate:function(){this.map.fire(A.g.events.UPDATE,{action:A.g.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(t){return t.toGeoJSON()})})},fireActionable:function(t){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:t.selectedCoordPaths.length>0})},startDragging:function(t,e){var n=t.feature.properties._type_;if(this.map.dragPan.disable(),t.canDragMove=!0,t.dragMoveLocation=e.lngLat,"Rectangle"===n){if(t.editableInit){var r=e.featureTarget.properties;t.selectedCoordPaths=[r.coord_path]}if(!t.selectedCoordPaths[0])return;var i=+t.selectedCoordPaths[0].split(".")[1],o=i>=2?i-2:i+2;t.feature.onePoint=t.feature.coordinates[0][o]}},stopDragging:function(t){this.map.dragPan.enable();t.feature;t.dragMoving=!1,t.canDragMove=!1,t.dragMoveLocation=null},onVertex:function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties,r=t.selectedCoordPaths.indexOf(n.coord_path);I(e)||-1!==r?I(e)&&-1===r&&t.selectedCoordPaths.push(n.coord_path):t.selectedCoordPaths=[n.coord_path];var i=this.pathsToCoordinates(t.featureId,t.selectedCoordPaths);this.setSelectedCoordinates(i)},onMidpoint:function(t,e){var n=t.feature.properties._type_;if(n!==w.RECTANGLE&&n!==w.TRIANGLE&&n!=w.SECTOR){this.startDragging(t,e);var r=e.featureTarget.properties;t.feature.addCoordinate(r.coord_path,r.lng,r.lat),this.fireUpdate(),t.selectedCoordPaths=[r.coord_path]}},pathsToCoordinates:function(t,e){return e.map(function(e){return{feature_id:t,coord_path:e}})},onFeature:function(t,e){0===t.selectedCoordPaths.length?this.startDragging(t,e):this.stopDragging(t)},dragFeature:function(t,e,n){Object(p.a)(this.getSelected(),n),t.dragMoveLocation=e.lngLat;t.feature},dragVertex:function(t,e,n){for(var r=t.selectedCoordPaths.map(function(e){return t.feature.getCoordinate(e)}),i=r.map(function(t){return{type:A.g.geojsonTypes.FEATURE,properties:{},geometry:{type:A.g.geojsonTypes.POINT,coordinates:t}}}),o=Object(c.a)(i,n),s=0;s<r.length;s++){var a=r[s];t.feature.updateCoordinate(t.selectedCoordPaths[s],a[0]+o.lng,a[1]+o.lat)}},dragCircle:function(t,e){var n=t.feature;if(n){var r=n.center||n.properties.center,i=Object(d.a)(r[1],r[0],e.lngLat.lat,e.lngLat.lng),o=Object(f.a)(r,i);n.properties.radius=i,n.setCoordinates([o])}},dragRectangle:function(t,e){var n=t.feature;if(n){var r=n.onePoint;if(r){var i=[e.lngLat.lng,e.lngLat.lat],o=Object(g.a)(r,i);n.setCoordinates([o]),t.feature.coordinates[0].forEach(function(e,n){e[0]===i[0]&&e[1]===i[1]&&(t.selectedCoordPaths=0===n||4===n?["0.0"]:["0."+n])})}}},dragSector:function(t,e){var n=t.feature;if(n){var r=t.selectedCoordPaths[0].split(".")[1],i=n.center||n.coordinates[0][0],o=n.start||n.coordinates[0][1];n.radius||(n.radius=y.a.distance(i,o));var s=n.radius,a=1==r;a?(o=n.pos||n.coordinates[0][n.coordinates[0].length-1],n.start=[e.lngLat.lng,e.lngLat.lat]):n.pos=[e.lngLat.lng,e.lngLat.lat];var u=y.a.bearing(i,o,!0),c=y.a.bearing(i,[e.lngLat.lng,e.lngLat.lat],!0),l=a?[i,s,c,u]:[i,s,u,c],A=!1;+t.selectedCoordPaths[0].split(".")[1]<t.feature.coordinates[0].length-1&&+t.selectedCoordPaths[0].split(".")[1]>1&&(t.selectedCoordPaths[0]="0."+(t.feature.coordinates[0].length-1)),+t.selectedCoordPaths[0].split(".")[1]===t.feature.coordinates[0].length-1&&(A=!0);var h=y.a.sector.apply(this,l).geometry.coordinates[0].slice(0,-1);A&&(t.selectedCoordPaths[0]="0."+(h.length-1)),n.setCoordinates([h])}},clickNoTarget:function(t){this.changeMode(A.g.modes.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(A.g.modes.SIMPLE_SELECT)},clickActiveFeature:function(t){t.selectedCoordPaths=[],this.clearSelectedCoordinates(),t.feature.changed()},onSetup:function(t){var e=t.featureId,n=this.getFeature(e);if(n){var r={featureId:e,feature:n,dragMoveLocation:t.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:t.coordPath?[t.coordPath]:[],editableInit:t.editableInit,featureDraggable:t.featureDraggable};return this.setSelectedCoordinates(this.pathsToCoordinates(e,r.selectedCoordPaths)),this.setSelected(e),l.a.disable(this),this.setActionableState({trash:!0}),r}},onStop:function(t,e){l.a.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(t,e,n){t.featureId===e.properties.id?(e.properties.active=A.g.activeStates.ACTIVE,n(e),Object(u.a)(e,{map:this.map,midpoints:!1,selectedPaths:t.selectedCoordPaths}).forEach(n)):(e.properties.active=A.g.activeStates.INACTIVE,n(e)),this.fireActionable(t)},onTrash:function(t){t.selectedCoordPaths.sort().reverse().forEach(function(e){return t.feature.removeCoordinate(e)}),this.map.fire(A.g.events.UPDATE,{action:A.g.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(t){return t.toGeoJSON()})}),t.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(t),!1===t.feature.isValid()&&(this.deleteFeature([t.featureId]),this.changeMode(A.g.modes.SIMPLE_SELECT,{}))}},x=!1;B.onMouseMove=function(t,e){var n=h.a.isActiveFeature(e),r=_(e);if(t){var i=0===t.selectedCoordPaths.length;e.featureTarget&&r||!x||(t.selectedCoordPaths=[],this.clearSelectedCoordinates(),t.feature.onlyUpdateVertex=!0,t.feature.changed(),x=!1),t.feature.ctx.map.getCanvasContainer().style.cursor="",r&&(x=!0,t.feature.ctx.map.getCanvasContainer().style.cursor="pointer",this.changeMode(A.g.modes.DIRECT_SELECT,{featureId:e.featureTarget.properties.parent,coordPath:e.featureTarget.properties.coord_path,startPos:e.lngLat}),this.updateUIClasses({mouse:A.g.cursors.MOVE})),n&&i?this.updateUIClasses({mouse:A.g.cursors.MOVE}):r&&!i?this.updateUIClasses({mouse:A.g.cursors.MOVE}):this.updateUIClasses({mouse:A.g.cursors.NONE}),this.stopDragging(t)}},B.onMouseOut=function(t){t&&t.dragMoving&&this.fireUpdate()},B.onTouchStart=B.onMouseDown=function(t,e){return _(e)?this.onVertex(t,e):h.a.isActiveFeature(e)?this.onFeature(t,e):b(e)?this.onMidpoint(t,e):void 0},B.onDrag=function(t,e){if(!0===t.canDragMove){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat},r=t.feature.properties._type_||t.feature.type;t.selectedCoordPaths.length>0?this[E[r]](t,e,n):(t.featureDraggable||void 0===t.featureDraggable)&&this.dragFeature(t,e,n),t.dragMoveLocation=e.lngLat}},B.onClick=function(t,e){return v(e)?this.clickNoTarget(t,e):h.a.isActiveFeature(e)?this.clickActiveFeature(t,e):C(e)?this.clickInactive(t,e):void this.stopDragging(t)},B.onTap=function(t,e){return v(e)?this.clickNoTarget(t,e):h.a.isActiveFeature(e)?this.clickActiveFeature(t,e):C(e)?this.clickInactive(t,e):void 0},B.onTouchEnd=B.onMouseUp=function(t){t.dragMoving&&this.fireUpdate(),this.stopDragging(t)},e.default=B},function(t,e){t.exports=function(t){if(!t||!t.type)return null;var e=n[t.type];if(!e)return null;if("geometry"===e)return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if("feature"===e)return{type:"FeatureCollection",features:[t]};if("featurecollection"===e)return t};var n={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=Math.floor(128),r=e/6250,i=t[1]*Math.PI/180,o=t[0]*Math.PI/180,s=[],a=0;a<n;a++){var u=2.8125*a*Math.PI/180,c=Math.asin(Math.sin(i)*Math.cos(r)+Math.cos(i)*Math.sin(r)*Math.cos(u)),l=o+Math.atan2(Math.sin(u)*Math.sin(r)*Math.cos(i),Math.cos(r)-Math.sin(i)*Math.sin(c)),A=180*c/Math.PI,h=[180*l/Math.PI,A];s.push(h)}return s.push(s[0]),s}},function(t,e,n){"use strict";e.a=function(t,e){var n=[],r=[],i=[],o=[],s=t[0]<=e[0]?t[0]:e[0],a=t[1]>=e[1]?t[1]:e[1],u=t[0]>=e[0]?t[0]:e[0],c=t[1]<=e[1]?t[1]:e[1],l=u,A=a,h=s,p=c;return n.push(s,a),r.push(h,p),i.push(l,A),o.push(u,c),[].concat([r,n,i,o,r])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(417),i=(n.n(r),n(500)),o=n(501),s=n(399),a=n(373),u=n(394),c=n(502),l=u.a.noTarget,A=u.a.isOfMetaType,h=u.a.isInactiveFeature,p=u.a.isShiftDown,f=A(a.g.meta.VERTEX),g=A(a.g.meta.MIDPOINT),d={fireUpdate:function(){this.map.fire(a.g.events.UPDATE,{action:a.g.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(t){return t.toGeoJSON()})})},fireActionable:function(t){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:t.selectedCoordPaths.length>0})},startDragging:function(t,e){this.map.dragPan.disable(),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},stopDragging:function(t){this.map.dragPan.enable(),t.dragMoving=!1,t.canDragMove=!1,t.dragMoveLocation=null},onVertex:function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties,r=t.selectedCoordPaths.indexOf(n.coord_path);p(e)||-1!==r?p(e)&&-1===r&&t.selectedCoordPaths.push(n.coord_path):t.selectedCoordPaths=[n.coord_path];var i=this.pathsToCoordinates(t.featureId,t.selectedCoordPaths);this.setSelectedCoordinates(i)},onMidpoint:function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties;t.feature.addCoordinate(n.coord_path,n.lng,n.lat),this.fireUpdate(),t.selectedCoordPaths=[n.coord_path]},pathsToCoordinates:function(t,e){return e.map(function(e){return{feature_id:t,coord_path:e}})},onFeature:function(t,e){0===t.selectedCoordPaths.length?this.startDragging(t,e):this.stopDragging(t)},dragFeature:function(t,e,n){Object(c.a)(this.getSelected(),n),t.dragMoveLocation=e.lngLat},dragVertex:function(t,e,n){for(var r=t.selectedCoordPaths.map(function(e){return t.feature.getCoordinate(e)}),i=r.map(function(t){return{type:a.g.geojsonTypes.FEATURE,properties:{},geometry:{type:a.g.geojsonTypes.POINT,coordinates:t}}}),s=Object(o.a)(i,n),u=0;u<r.length;u++){var c=r[u];t.feature.updateCoordinate(t.selectedCoordPaths[u],c[0]+s.lng,c[1]+s.lat)}},clickNoTarget:function(){this.changeMode(a.g.modes.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(a.g.modes.SIMPLE_SELECT)},clickActiveFeature:function(t){t.selectedCoordPaths=[],this.clearSelectedCoordinates(),t.feature.changed()},onSetup:function(t){var e=t.featureId,n=this.getFeature(e);if(!n)throw new Error("You must provide a featureId to enter direct_select mode");if(n.type===a.g.geojsonTypes.POINT)throw new TypeError("direct_select mode doesn't handle point features");var r={featureId:e,feature:n,dragMoveLocation:t.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:t.coordPath?[t.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(e,r.selectedCoordPaths)),this.setSelected(e),s.a.disable(this),this.setActionableState({trash:!0}),r},onStop:function(){s.a.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(t,e,n){t.featureId===e.properties.id?(e.properties.active=a.g.activeStates.ACTIVE,n(e),Object(i.a)(e,{map:this.map,midpoints:!0,selectedPaths:t.selectedCoordPaths}).forEach(n)):(e.properties.active=a.g.activeStates.INACTIVE,n(e)),this.fireActionable(t)},onTrash:function(t){t.selectedCoordPaths.sort().reverse().forEach(function(e){return t.feature.removeCoordinate(e)}),this.map.fire(a.g.events.UPDATE,{action:a.g.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(t){return t.toGeoJSON()})}),t.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(t),!1===t.feature.isValid()&&(this.deleteFeature([t.featureId]),this.changeMode(a.g.modes.SIMPLE_SELECT,{}))},onMouseMove:function(t,e){var n=u.a.isActiveFeature(e),r=f(e),i=0===t.selectedCoordPaths.length;n&&i?this.updateUIClasses({mouse:a.g.cursors.MOVE}):r&&!i?this.updateUIClasses({mouse:a.g.cursors.MOVE}):this.updateUIClasses({mouse:a.g.cursors.NONE}),this.stopDragging(t)},onMouseOut:function(t){t.dragMoving&&this.fireUpdate()}};d.onTouchStart=d.onMouseDown=function(t,e){return f(e)?this.onVertex(t,e):u.a.isActiveFeature(e)?this.onFeature(t,e):g(e)?this.onMidpoint(t,e):void 0},d.onDrag=function(t,e){if(!0===t.canDragMove){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};t.selectedCoordPaths.length>0?this.dragVertex(t,e,n):this.dragFeature(t,e,n),t.dragMoveLocation=e.lngLat}},d.onClick=function(t,e){return l(e)?this.clickNoTarget(t,e):u.a.isActiveFeature(e)?this.clickActiveFeature(t,e):h(e)?this.clickInactive(t,e):void this.stopDragging(t)},d.onTap=function(t,e){return l(e)?this.clickNoTarget(t,e):u.a.isActiveFeature(e)?this.clickActiveFeature(t,e):h(e)?this.clickInactive(t,e):void 0},d.onTouchEnd=d.onMouseUp=function(t){t.dragMoving&&this.fireUpdate(),this.stopDragging(t)},e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(417),i=(n.n(r),n(500)),o=n(501),s=n(399),a=n(373),u=n(394),c=n(502),l=u.a.noTarget,A=u.a.isOfMetaType,h=u.a.isInactiveFeature,p=u.a.isShiftDown,f=A(a.g.meta.VERTEX),g=A(a.g.meta.MIDPOINT),d={fireUpdate:function(){this.map.fire(a.g.events.UPDATE,{action:a.g.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(t){return t.toGeoJSON()})})},fireActionable:function(t){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:t.selectedCoordPaths.length>0})},startDragging:function(t,e){this.map.dragPan.disable(),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},stopDragging:function(t){this.map.dragPan.enable(),t.dragMoving=!1,t.canDragMove=!1,t.dragMoveLocation=null},onVertex:function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties,r=t.selectedCoordPaths.indexOf(n.coord_path);p(e)||-1!==r?p(e)&&-1===r&&t.selectedCoordPaths.push(n.coord_path):t.selectedCoordPaths=[n.coord_path];var i=this.pathsToCoordinates(t.featureId,t.selectedCoordPaths);this.setSelectedCoordinates(i)},onMidpoint:function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties;t.feature.addCoordinate(n.coord_path,n.lng,n.lat),this.fireUpdate(),t.selectedCoordPaths=[n.coord_path]},pathsToCoordinates:function(t,e){return e.map(function(e){return{feature_id:t,coord_path:e}})},onFeature:function(t,e){0===t.selectedCoordPaths.length?this.startDragging(t,e):this.stopDragging(t)},dragFeature:function(t,e,n){Object(c.a)(this.getSelected(),n),t.dragMoveLocation=e.lngLat},dragVertex:function(t,e,n){for(var r=t.selectedCoordPaths.map(function(e){return t.feature.getCoordinate(e)}),i=r.map(function(t){return{type:a.g.geojsonTypes.FEATURE,properties:{},geometry:{type:a.g.geojsonTypes.POINT,coordinates:t}}}),s=Object(o.a)(i,n),u=0;u<r.length;u++){var c=r[u];t.feature.updateCoordinate(t.selectedCoordPaths[u],c[0]+s.lng,c[1]+s.lat)}},clickNoTarget:function(){this.changeMode(a.g.modes.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(a.g.modes.SIMPLE_SELECT)},clickActiveFeature:function(t){t.selectedCoordPaths=[],this.clearSelectedCoordinates(),t.feature.changed()},onSetup:function(t){var e=t.featureId,n=this.getFeature(e);if(!n)throw new Error("You must provide a featureId to enter direct_select mode");if(n.type===a.g.geojsonTypes.POINT)throw new TypeError("direct_select mode doesn't handle point features");var r={featureId:e,feature:n,dragMoveLocation:t.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:t.coordPath?[t.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(e,r.selectedCoordPaths)),this.setSelected(e),s.a.disable(this),this.setActionableState({trash:!0}),r},onStop:function(){s.a.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(t,e,n){t.featureId===e.properties.id?(e.properties.active=a.g.activeStates.ACTIVE,n(e),Object(i.a)(e,{map:this.map,midpoints:!0,selectedPaths:t.selectedCoordPaths}).forEach(n)):(e.properties.active=a.g.activeStates.INACTIVE,n(e)),this.fireActionable(t)},onTrash:function(t){t.selectedCoordPaths.sort().reverse().forEach(function(e){return t.feature.removeCoordinate(e)}),this.map.fire(a.g.events.UPDATE,{action:a.g.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(t){return t.toGeoJSON()})}),t.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(t),!1===t.feature.isValid()&&(this.deleteFeature([t.featureId]),this.changeMode(a.g.modes.SIMPLE_SELECT,{}))},onMouseMove:function(t,e){var n=u.a.isActiveFeature(e),r=f(e),i=0===t.selectedCoordPaths.length;n&&i?this.updateUIClasses({mouse:a.g.cursors.MOVE}):r&&!i?this.updateUIClasses({mouse:a.g.cursors.MOVE}):this.updateUIClasses({mouse:a.g.cursors.NONE}),this.stopDragging(t)},onMouseOut:function(t){t.dragMoving&&this.fireUpdate()}};d.onTouchStart=d.onMouseDown=function(t,e){return f(e)?this.onVertex(t,e):u.a.isActiveFeature(e)?this.onFeature(t,e):g(e)?this.onMidpoint(t,e):void 0},d.onDrag=function(t,e){if(!0===t.canDragMove){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};t.selectedCoordPaths.length>0?this.dragVertex(t,e,n):this.dragFeature(t,e,n),t.dragMoveLocation=e.lngLat}},d.onClick=function(t,e){return l(e)?this.clickNoTarget(t,e):u.a.isActiveFeature(e)?this.clickActiveFeature(t,e):h(e)?this.clickInactive(t,e):void this.stopDragging(t)},d.onTap=function(t,e){return l(e)?this.clickNoTarget(t,e):u.a.isActiveFeature(e)?this.clickActiveFeature(t,e):h(e)?this.clickInactive(t,e):void 0},d.onTouchEnd=d.onMouseUp=function(t){t.dragMoving&&this.fireUpdate(),this.stopDragging(t)},e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i=(n.n(r),n(394)),o=n(399),s=n(373),a=n(996),u={},c={x:0,y:0};u.onSetup=function(){var t=this.newFeature({type:s.g.geojsonTypes.FEATURE,properties:{_type_:s.g.geojsonTypes.ARROW},geometry:{type:s.g.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),o.a.disable(this),this.updateUIClasses({mouse:s.g.cursors.ADD}),this.activateUIButton(s.g.types.ARROW),this.setActionableState({trash:!0}),{arrow:t,currentClickNum:0}},u.onMouseMove=function(t,e){var n=t,r=n.arrow,o=n.currentClickNum;if(1===o){var u=Object(a.a)(this,c,this.map.project(e.lngLat));u&&r.setCoordinates([u])}i.a.isVertex(e)&&this.updateUIClasses({mouse:s.g.cursors.POINTER}),t=Object.assign(t,{currentClickNum:o,arrow:r})},u.onClick=function(t,e){var n=t,r=n.arrow,o=n.currentClickNum;this.updateUIClasses({mouse:s.g.cursors.ADD}),0===o?(c=this.map.project(e.lngLat),o++):1===o&&o++,i.a.isVertex(e)&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[r.id]}),this.map.fire(s.g.events.CLICK,Object.assign(e,{features:[t.arrow.toGeoJSON()]})),t=Object.assign(t,{currentClickNum:o,arrow:r}),2===o&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[r.id]})},u.onKeyUp=function(t){var e=t.arrow;i.a.isEscapeKey&&(this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)),i.a.isEnterKey&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[e.id]})},u.onStop=function(t){var e=t.arrow;this.updateUIClasses({mouse:s.g.cursors.NONE}),(!this.map||this.map.doubleClickZoom.isEnabled())&&o.a.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.id)&&(e.isValid()?this.map.fire(s.g.events.CREATE,{features:[e.toGeoJSON()]}):(this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT,{},{silent:!0})))},u.toDisplayFeatures=function(t,e,n){var r=t.arrow,i=e.properties.id===r.id;if(e.properties.active=i?s.g.activeStates.ACTIVE:s.g.activeStates.INACTIVE,!i)return n(e);if(0!==e.geometry.coordinates.length){var o=e.geometry.coordinates[0].length;if(!(o<3)){if(e.properties.meta=s.g.meta.FEATURE,o>3)return n(e);var a=[[e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]],[e.geometry.coordinates[0][1][0],e.geometry.coordinates[0][1][1]]];return n({type:s.g.geojsonTypes.FEATURE,properties:e.properties,geometry:{coordinates:a,type:s.g.geojsonTypes.LINE_STRING}})}}},u.onTrash=function(t){var e=t.arrow;this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)},e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i=(n.n(r),n(394)),o=n(399),s=n(373),a=n(997),u={},c=[];u.onSetup=function(){var t=this.newFeature({type:s.g.geojsonTypes.FEATURE,properties:{_type_:s.g.geojsonTypes.BEZIERARROW},geometry:{type:s.g.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),o.a.disable(this),this.updateUIClasses({mouse:s.g.cursors.ADD}),this.activateUIButton(s.g.types.BEZIERARROW),this.setActionableState({trash:!0}),{bezierArrow:t,currentClickNum:0}},u.onMouseMove=function(t,e){var n=t,r=n.bezierArrow,o=n.currentClickNum;if(1===o){var u=Object(a.a)(this,c[0],this.map.project(e.lngLat));u&&r.setCoordinates([u])}else if(2===o){var l=Object(a.a)(this,c[0],c[1],this.map.project(e.lngLat));l&&r.setCoordinates([l])}else 3===o&&(this.map.fire(s.g.events.CREATE,{features:[r.toGeoJSON()]}),this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[r.id]}));i.a.isVertex(e)&&this.updateUIClasses({mouse:s.g.cursors.POINTER}),t=Object.assign(t,{currentClickNum:o,bezierArrow:r})},u.onClick=function(t,e){var n=t,r=n.bezierArrow,o=n.currentClickNum;this.updateUIClasses({mouse:s.g.cursors.ADD}),o<2?(c.push(this.map.project(e.lngLat)),o++):2===o&&o++,i.a.isVertex(e)&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[r.id]}),this.map.fire(s.g.events.CLICK,Object.assign(e,{features:[t.bezierArrow.toGeoJSON()]})),t=Object.assign(t,{currentClickNum:o,bezierArrow:r})},u.onKeyUp=function(t){var e=t.bezierArrow;i.a.isEscapeKey&&(this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)),i.a.isEnterKey&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[e.id]})},u.onStop=function(t){var e=t.bezierArrow;this.updateUIClasses({mouse:s.g.cursors.NONE}),(!this.map||this.map.doubleClickZoom.isEnabled())&&o.a.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.id)&&(e.isValid()?this.map.fire(s.g.events.CREATE,{features:[e.toGeoJSON()]}):(this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT,{},{silent:!0})),c=[])},u.toDisplayFeatures=function(t,e,n){var r=t.bezierArrow,i=e.properties.id===r.id;if(e.properties.active=i?s.g.activeStates.ACTIVE:s.g.activeStates.INACTIVE,!i)return n(e);if(0!==e.geometry.coordinates.length){var o=e.geometry.coordinates[0].length;if(!(o<3)){if(e.properties.meta=s.g.meta.FEATURE,o>3)return n(e);var a=[[e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]],[e.geometry.coordinates[0][1][0],e.geometry.coordinates[0][1][1]]];return n({type:s.g.geojsonTypes.FEATURE,properties:e.properties,geometry:{coordinates:a,type:s.g.geojsonTypes.LINE_STRING}})}}},u.onTrash=function(t){var e=t.bezierArrow;this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)},e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i=(n.n(r),n(394)),o=n(399),s=n(373),a=n(574),u=n(675),c={onSetup:function(){var t=this.newFeature({type:s.g.geojsonTypes.FEATURE,properties:{_type_:s.g.geojsonTypes.CIRCLE},geometry:{type:s.g.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),o.a.disable(this),this.updateUIClasses({mouse:s.g.cursors.ADD}),this.activateUIButton(s.g.types.CIRCLE),this.activateUIButton(s.g.types.LINE),this.setActionableState({trash:!0}),{circle:t,currentVertexPosition:0}},onMouseMove:function(t,e){var n=t,r=n.currentVertexPosition,o=n.circle;if(0!==r){var c=Object(a.a)(o.center[1],o.center[0],e.lngLat.lat,e.lngLat.lng),l=Object(u.a)(o.center,c);o.setCoordinates([l]),o.radius=c,t.line.updateCoordinate(2,e.lngLat.lng,e.lngLat.lat),r=l.length,i.a.isVertex(e)&&this.updateUIClasses({mouse:s.g.cursors.POINTER}),t=Object.assign(t,{currentVertexPosition:r,circle:o})}},onMouseDown:function(t,e){if(!t.line){var n=this.newFeature({type:s.g.geojsonTypes.FEATURE,properties:{_type_:s.g.geojsonTypes.LINE_STRING},geometry:{type:s.g.geojsonTypes.LINE_STRING,coordinates:[]}});this.addFeature(n),t.line=n}this.map.dragPan.disable();var r=t,o=r.circle,a=r.currentVertexPosition;if(a>0)return this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[o.id]});i.a.isVertex(e)&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[o.id]}),this.updateUIClasses({mouse:s.g.cursors.ADD}),o.center=[e.lngLat.lng,e.lngLat.lat];var c=Object(u.a)([e.lngLat.lng,e.lngLat.lat],0);o.setCoordinates([c]),a=c.length,this.map.fire(s.g.events.CLICK,Object.assign(e,{features:[t.circle.toGeoJSON()],center:o.center,radius:o.radius})),t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),"forward"===t.direction?t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat):t.line.addCoordinate(0,e.lngLat.lng,e.lngLat.lat),t=Object.assign(t,{currentVertexPosition:a,circle:o})},onDrag:function(t,e){c.onMouseMove(t,e)},onMouseUp:function(t,e){this.map.dragPan.enable();var n=t.circle;if(t.currentVertexPosition>0)return this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[n.id]})},onKeyUp:function(t){var e=t.circle;i.a.isEscapeKey&&(this.deleteFeature(e.id,{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)),i.a.isEnterKey&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[e.id]})},onStop:function(t){var e=t.circle,n=t.currentVertexPosition,r=t.line;r&&(this.deleteFeature(r.id,{silent:!0}),delete t.line),this.updateUIClasses({mouse:s.g.cursors.NONE}),o.a.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.id)&&(e.removeCoordinate("0.".concat(n)),e.isValid()?this.map.fire(s.g.events.CREATE,{features:[e.toGeoJSON()],center:e.center,radius:e.radius}):(this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT,{},{silent:!0})))},toDisplayFeatures:function(t,e,n){var r=t.circle,i=e.properties.id===r.id;if(e.properties.active=i?s.g.activeStates.ACTIVE:s.g.activeStates.INACTIVE,!i)return n(e);if(0!==e.geometry.coordinates.length){var o=e.geometry.coordinates[0].length;if(!(o<3))return e.properties.meta=s.g.meta.FEATURE,o>3?n(e):void 0}},onTrash:function(t){var e=t.circle;this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)}};e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i=(n.n(r),n(423)),o=n.n(i),s=n(394),a=n(575),u=n(399),c=n(373),l=n(440),A={onSetup:function(t){var e,n,r=(t=t||{}).featureId,i="forward";if(r){if(!(e=this.getFeature(r)))throw new Error("Could not find a feature with the provided featureId");var s=t.from;if(s&&"Feature"===s.type&&s.geometry&&"Point"===s.geometry.type&&(s=s.geometry),s&&"Point"===s.type&&s.coordinates&&2===s.coordinates.length&&(s=s.coordinates),!s||!Array.isArray(s))throw new Error("Please use the `from` property to indicate which point to continue the line from");var a=e.coordinates.length-1;if(e.coordinates[a][0]===s[0]&&e.coordinates[a][1]===s[1]){var l;n=a+1,(l=e).addCoordinate.apply(l,[n].concat(o()(e.coordinates[a])))}else{if(e.coordinates[0][0]!==s[0]||e.coordinates[0][1]!==s[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");var A;i="backwards",n=0,(A=e).addCoordinate.apply(A,[n].concat(o()(e.coordinates[0])))}}else e=this.newFeature({type:c.g.geojsonTypes.FEATURE,properties:{_type_:c.g.geojsonTypes.LINE_STRING},geometry:{type:c.g.geojsonTypes.LINE_STRING,coordinates:[]}}),n=0,this.addFeature(e);return this.clearSelectedFeatures(),u.a.disable(this),this.updateUIClasses({mouse:c.g.cursors.ADD}),this.activateUIButton(c.g.types.LINE),this.setActionableState({trash:!0}),{line:e,currentVertexPosition:n,direction:i}},clickAnywhere:function(t,e){if(t.currentVertexPosition>0&&Object(a.a)(e,t.line.coordinates[t.currentVertexPosition-1])||"backwards"===t.direction&&Object(a.a)(e,t.line.coordinates[t.currentVertexPosition+1]))return this.changeMode(c.g.modes.SIMPLE_SELECT,{featureIds:[t.line.id]});this.updateUIClasses({mouse:c.g.cursors.ADD}),t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),"forward"===t.direction?(t.currentVertexPosition++,t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat)):t.line.addCoordinate(0,e.lngLat.lng,e.lngLat.lat)},clickOnVertex:function(t){return this.changeMode(c.g.modes.SIMPLE_SELECT,{featureIds:[t.line.id]})},onMouseMove:function(t,e){t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),s.a.isVertex(e)&&this.updateUIClasses({mouse:c.g.cursors.POINTER})}};A.onTap=A.onClick=function(t,e){if(s.a.isVertex(e))return this.clickOnVertex(t,e);this.clickAnywhere(t,e),this.map.fire(c.g.events.CLICK,Object.assign(e,{features:[t.line.toGeoJSON()]}))},A.onKeyUp=function(t,e){s.a.isEnterKey(e)?this.changeMode(c.g.modes.SIMPLE_SELECT,{featureIds:[t.line.id]}):s.a.isEscapeKey(e)&&(this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(c.g.modes.SIMPLE_SELECT))},A.onStop=function(t){u.a.enable(this),this.activateUIButton(),void 0!==this.getFeature(t.line.id)&&(t.line.removeCoordinate("".concat(t.currentVertexPosition)),t.line.isValid()?this.map.fire(c.g.events.CREATE,{features:[t.line.toGeoJSON()]}):(this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(c.g.modes.SIMPLE_SELECT,{},{silent:!0})))},A.onTrash=function(t){this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(c.g.modes.SIMPLE_SELECT)},A.toDisplayFeatures=function(t,e,n){var r=e.properties.id===t.line.id;if(e.properties.active=r?c.g.activeStates.ACTIVE:c.g.activeStates.INACTIVE,!r)return n(e);e.geometry.coordinates.length<2||(e.properties.meta=c.g.meta.FEATURE,n(Object(l.a)(t.line.id,e.geometry.coordinates["forward"===t.direction?e.geometry.coordinates.length-2:1],"".concat("forward"===t.direction?e.geometry.coordinates.length-2:1),!1)),n(e))},e.default=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(394),i=n(373),o={onSetup:function(){var t=this.newFeature({type:i.g.geojsonTypes.FEATURE,properties:{_type_:i.g.geojsonTypes.POINT},geometry:{type:i.g.geojsonTypes.POINT,coordinates:[]}});return this.addFeature(t),this.clearSelectedFeatures(),this.updateUIClasses({mouse:i.g.cursors.ADD}),this.activateUIButton(i.g.types.POINT),this.setActionableState({trash:!0}),{point:t}},stopDrawingAndRemove:function(t){this.deleteFeature([t.point.id],{silent:!0}),this.changeMode(i.g.modes.SIMPLE_SELECT)}};o.onTap=o.onClick=function(t,e){this.updateUIClasses({mouse:i.g.cursors.MOVE}),t.point.updateCoordinate("",e.lngLat.lng,e.lngLat.lat),this.map.fire(i.g.events.CREATE,{features:[t.point.toGeoJSON()]}),this.changeMode(i.g.modes.SIMPLE_SELECT,{featureIds:[t.point.id]})},o.onStop=function(t){this.activateUIButton(),t.point.getCoordinate().length||this.deleteFeature([t.point.id],{silent:!0})},o.toDisplayFeatures=function(t,e,n){var r=e.properties.id===t.point.id;if(e.properties.active=r?i.g.activeStates.ACTIVE:i.g.activeStates.INACTIVE,!r)return n(e)},o.onTrash=o.stopDrawingAndRemove,o.onKeyUp=function(t,e){if(r.a.isEscapeKey(e)||r.a.isEnterKey(e))return this.stopDrawingAndRemove(t,e)},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i=(n.n(r),n(394)),o=n(399),s=n(373),a=n(575),u=n(440),c={onSetup:function(){var t=this.newFeature({type:s.g.geojsonTypes.FEATURE,properties:{_type_:s.g.geojsonTypes.POLYGON},geometry:{type:s.g.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),o.a.disable(this),this.updateUIClasses({mouse:s.g.cursors.ADD}),this.activateUIButton(s.g.types.POLYGON),this.setActionableState({trash:!0}),{polygon:t,currentVertexPosition:0}},clickAnywhere:function(t,e){if(t.currentVertexPosition>0&&Object(a.a)(e,t.polygon.coordinates[0][t.currentVertexPosition-1]))return this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[t.polygon.id]});this.updateUIClasses({mouse:s.g.cursors.ADD}),t.polygon.updateCoordinate("0.".concat(t.currentVertexPosition),e.lngLat.lng,e.lngLat.lat),t.currentVertexPosition++,t.polygon.updateCoordinate("0.".concat(t.currentVertexPosition),e.lngLat.lng,e.lngLat.lat)},clickOnVertex:function(t){return this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[t.polygon.id]})},onMouseMove:function(t,e){t.polygon.updateCoordinate("0.".concat(t.currentVertexPosition),e.lngLat.lng,e.lngLat.lat),i.a.isVertex(e)&&this.updateUIClasses({mouse:s.g.cursors.POINTER})}};c.onTap=c.onClick=function(t,e){return i.a.isVertex(e)?this.clickOnVertex(t,e):(this.map.fire(s.g.events.CLICK,Object.assign(e,{features:[t.polygon.toGeoJSON()]})),this.clickAnywhere(t,e))},c.onKeyUp=function(t,e){i.a.isEscapeKey(e)?(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)):i.a.isEnterKey(e)&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[t.polygon.id]})},c.onStop=function(t){this.updateUIClasses({mouse:s.g.cursors.NONE}),o.a.enable(this),this.activateUIButton(),void 0!==this.getFeature(t.polygon.id)&&(t.polygon.removeCoordinate("0.".concat(t.currentVertexPosition)),t.polygon.isValid()?this.map.fire(s.g.events.CREATE,{features:[t.polygon.toGeoJSON()]}):(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT,{},{silent:!0})))},c.toDisplayFeatures=function(t,e,n){var r=e.properties.id===t.polygon.id;if(e.properties.active=r?s.g.activeStates.ACTIVE:s.g.activeStates.INACTIVE,!r)return n(e);if(0!==e.geometry.coordinates.length){var i=e.geometry.coordinates[0].length;if(!(i<3)){if(e.properties.meta=s.g.meta.FEATURE,n(Object(u.a)(t.polygon.id,e.geometry.coordinates[0][0],"0.0",!1)),i>3){var o=e.geometry.coordinates[0].length-3;n(Object(u.a)(t.polygon.id,e.geometry.coordinates[0][o],"0.".concat(o),!1))}if(i<=4){var a=[[e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]],[e.geometry.coordinates[0][1][0],e.geometry.coordinates[0][1][1]]];if(n({type:s.g.geojsonTypes.FEATURE,properties:e.properties,geometry:{coordinates:a,type:s.g.geojsonTypes.LINE_STRING}}),3===i)return}return n(e)}}},c.onTrash=function(t){this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)},e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i=(n.n(r),n(394)),o=n(399),s=n(373),a=(n(440),n(676)),u={onSetup:function(){var t=this.newFeature({type:s.g.geojsonTypes.FEATURE,properties:{_type_:s.g.geojsonTypes.RECTANGLE},geometry:{type:s.g.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),o.a.disable(this),this.updateUIClasses({mouse:s.g.cursors.ADD}),this.activateUIButton(s.g.types.RECTANGLE),this.setActionableState({trash:!0}),{rectangle:t,currentVertexPosition:0}},onMouseDown:function(t,e){this.map.dragPan.disable();var n=t,r=n.rectangle,o=n.currentVertexPosition;if(o>0)return this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[r.id]});i.a.isVertex(e)&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[r.id]}),this.updateUIClasses({mouse:s.g.cursors.ADD}),r.onePoint=[e.lngLat.lng,e.lngLat.lat];var u=Object(a.a)(r.onePoint,r.onePoint);r.setCoordinates([u]),o=u.length,this.map.fire(s.g.events.CLICK,Object.assign(e,{features:[t.rectangle.toGeoJSON()]})),t=Object.assign(t,{rectangle:r,currentVertexPosition:o})},onDrag:function(t,e){u.onMouseMove(t,e)},onMouseUp:function(t,e){this.map.dragPan.enable();var n=t.rectangle;if(t.currentVertexPosition>0)return this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[n.id]})},onMouseMove:function(t,e){var n=t,r=n.rectangle,o=n.currentVertexPosition;if(0!==o){var u=[e.lngLat.lng,e.lngLat.lat];r.threePoint=u;var c=Object(a.a)(r.onePoint,u);r.setCoordinates([c]),o=c.length,i.a.isVertex(e)&&this.updateUIClasses({mouse:s.g.cursors.POINTER}),t=Object.assign(t,{currentVertexPosition:o,rectangle:r})}},onKeyUp:function(t){var e=t.rectangle;i.a.isEscapeKey&&(this.deleteFeature(e.id,{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)),i.a.isEnterKey&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[e.id]})},onStop:function(t){var e=t.rectangle,n=t.currentVertexPosition;this.updateUIClasses({mouse:s.g.cursors.NONE}),o.a.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.id)&&(e.removeCoordinate("0.".concat(n)),e.isValid()?this.map.fire(s.g.events.CREATE,{features:[e.toGeoJSON()]}):(this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT,{},{silent:!0})))},onTrash:function(t){this.deleteFeature([t.rectangle.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)},toDisplayFeatures:function(t,e,n){var r=t.rectangle,i=e.properties.id===r.id;if(e.properties.active=i?s.g.activeStates.ACTIVE:s.g.activeStates.INACTIVE,!i)return n(e);if(0!==e.geometry.coordinates.length&&!(e.geometry.coordinates[0].length<4))return e.properties.meta=s.g.meta.FEATURE,n(e)}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i=(n.n(r),n(394)),o=n(399),s=n(373),a=n(574),u=n(1e3),c={onSetup:function(){var t=this.newFeature({type:s.g.geojsonTypes.FEATURE,properties:{_type_:s.g.geojsonTypes.CIRCLE},geometry:{type:s.g.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),o.a.disable(this),this.updateUIClasses({mouse:s.g.cursors.ADD}),this.activateUIButton(s.g.types.CIRCLE),this.activateUIButton(s.g.types.LINE),this.setActionableState({trash:!0}),{circle:t,currentVertexPosition:0}},onMouseMove:function(t,e){var n=t,r=n.currentVertexPosition,o=n.circle;if(0!==r){var c=Object(a.a)(o.center[1],o.center[0],e.lngLat.lat,e.lngLat.lng),l=Object(u.a)(o.center,c);o.setCoordinates(l),o.radius=c,t.line.updateCoordinate(2,e.lngLat.lng,e.lngLat.lat),r=l.length,i.a.isVertex(e)&&this.updateUIClasses({mouse:s.g.cursors.POINTER}),t=Object.assign(t,{currentVertexPosition:r,circle:o})}},onMouseDown:function(t,e){if(!t.line){var n=this.newFeature({type:s.g.geojsonTypes.FEATURE,properties:{_type_:s.g.geojsonTypes.LINE_STRING},geometry:{type:s.g.geojsonTypes.LINE_STRING,coordinates:[]}});this.addFeature(n),t.line=n}this.map.dragPan.disable();var r=t,o=r.circle,a=r.currentVertexPosition;if(a>0)return this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[o.id]});i.a.isVertex(e)&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[o.id]}),this.updateUIClasses({mouse:s.g.cursors.ADD}),o.center=[e.lngLat.lng,e.lngLat.lat];var c=Object(u.a)([e.lngLat.lng,e.lngLat.lat],0);o.setCoordinates(c),a=c.length,this.map.fire(s.g.events.CLICK,Object.assign(e,{features:[t.circle.toGeoJSON()],center:o.center,radius:o.radius})),t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),"forward"===t.direction?t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat):t.line.addCoordinate(0,e.lngLat.lng,e.lngLat.lat),t=Object.assign(t,{currentVertexPosition:a,circle:o})},onDrag:function(t,e){c.onMouseMove(t,e)},onMouseUp:function(t,e){this.map.dragPan.enable();var n=t.circle;if(t.currentVertexPosition>0)return this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[n.id]})},onKeyUp:function(t){var e=t.circle;i.a.isEscapeKey&&(this.deleteFeature(e.id,{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)),i.a.isEnterKey&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[e.id]})},onStop:function(t){var e=t.circle,n=t.currentVertexPosition,r=t.line;r&&(this.deleteFeature(r.id,{silent:!0}),delete t.line),this.updateUIClasses({mouse:s.g.cursors.NONE}),o.a.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.id)&&(e.removeCoordinate("0.".concat(n)),e.isValid()?this.map.fire(s.g.events.CREATE,{features:[e.toGeoJSON()],center:e.center,radius:e.radius}):(this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT,{},{silent:!0})))},toDisplayFeatures:function(t,e,n){var r=t.circle,i=e.properties.id===r.id;if(e.properties.active=i?s.g.activeStates.ACTIVE:s.g.activeStates.INACTIVE,!i)return n(e);if(0!==e.geometry.coordinates.length){var o=e.geometry.coordinates[0].length;if(!(o<3))return e.properties.meta=s.g.meta.FEATURE,o>3?n(e):void 0}},onTrash:function(t){var e=t.circle;this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)}};e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i=(n.n(r),n(394)),o=n(399),s=n(373),a=n(440),u={onSetup:function(){var t=this.newSector({type:s.g.geojsonTypes.FEATURE,properties:{_type_:s.g.geojsonTypes.SECTOR},geometry:{type:s.g.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),o.a.disable(this),this.updateUIClasses({mouse:s.g.cursors.ADD}),this.activateUIButton(s.g.types.SECTOR),this.setActionableState({trash:!0}),{sector:t,currentVertexPosition:0}},onClick:function(t,e){var n=t,r=n.sector,o=n.currentVertexPosition;return o>1?this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[r.id]}):i.a.isVertex(e)?this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[r.id]}):(this.updateUIClasses({mouse:s.g.cursors.ADD}),r.updateCoordinate("0."+o,e.lngLat.lng,e.lngLat.lat),o++,this.map.fire(s.g.events.CLICK,Object.assign(e,{features:[t.sector.toGeoJSON()]})),void(t=Object.assign(t,{currentVertexPosition:o,sector:r})))},onMouseMove:function(t,e){var n=t,r=n.sector,o=n.currentVertexPosition;0!==o&&(r.updateCoordinate("0."+o,e.lngLat.lng,e.lngLat.lat),i.a.isVertex(e)&&this.updateUIClasses({mouse:s.g.cursors.POINTER}),t=Object.assign(t,{sector:r,currentVertexPosition:o}))},onStop:function(t){var e=t.sector,n=t.currentVertexPosition;this.updateUIClasses({mouse:s.g.cursors.NONE}),o.a.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.id)&&(e.removeCoordinate("0.".concat(n)),e.isValid()?this.map.fire(s.g.events.CREATE,{features:[e.toGeoJSON()],center:e.center}):(this.deleteFeature([e.id],{slient:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT,{},{slient:!0})))},toDisplayFeatures:function(t,e,n){var r=t.sector,i=t.currentVertexPosition,o=e.properties.id===r.id;if(e.properties.active=o?s.g.activeStates.ACTIVE:s.g.activeStates.INACTIVE,!o)return n(e);if(0!==e.geometry.coordinates.length){var u=e.geometry.coordinates[0].length;if(!(u<3)){if(e.properties.meta=s.g.meta.FEATURE,n(Object(a.a)(r.id,e.geometry.coordinates[0][0],"0.0",!1)),u>4){var c=e.geometry.coordinates[0].length-1;n(Object(a.a)(r.id,e.geometry.coordinates[0][c],"0."+c,!1))}if(2===i&&n(Object(a.a)(r.id,e.geometry.coordinates[0][1],"0.1",!1)),u<=4){var l=[[e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]],[e.geometry.coordinates[0][1][0],e.geometry.coordinates[0][1][1]]];if(n({type:s.g.geojsonTypes.FEATURE,properties:e.properties,geometry:{coordinates:l,type:s.g.geojsonTypes.LINE_STRING}}),3===u)return}return n(e)}}},onTrash:function(t){var e=t.sector;this.deleteFeature([e.id],{silent:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i=(n.n(r),n(394)),o=n(399),s=n(373),a=n(575),u=n(440),c={onSetup:function(){var t=this.newFeature({type:s.g.geojsonTypes.FEATURE,properties:{_type_:s.g.geojsonTypes.TRIANGLE},geometry:{type:s.g.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),o.a.disable(this),this.updateUIClasses({mouse:s.g.cursors.ADD}),this.activateUIButton(s.g.types.TRIANGLE),this.setActionableState({trash:!0}),{triangle:t,currentVertexPosition:0}},clickAnywhere:function(t,e){var n=t,r=n.triangle,i=n.currentVertexPosition;return i>0&&Object(a.a)(e,r.coordinates[0][i-1])?this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[r.id]}):(this.updateUIClasses({mouse:s.g.cursors.ADD}),r.updateCoordinate("0.".concat(i),e.lngLat.lng,e.lngLat.lat),i++,r.updateCoordinate("0.".concat(i),e.lngLat.lng,e.lngLat.lat),t=Object.assign(t,{triangle:r,currentVertexPosition:i}),i>=3?this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[r.id]}):void 0)},clickOnVertex:function(t){var e=t.triangle;return this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[e.id]})}};c.onTap=c.onClick=function(t,e){return i.a.isVertex(e)?this.clickOnVertex(t,e):(this.map.fire(s.g.events.CLICK,Object.assign(e,{features:[t.triangle.toGeoJSON()]})),this.clickAnywhere(t,e))},c.onKeyUp=function(t,e){var n=t.triangle;i.a.isEscapeKey(e)?(this.deleteFeature([n.id],{slient:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)):i.a.isEnterKey(e)&&this.changeMode(s.g.modes.SIMPLE_SELECT,{featureIds:[n.id]})},c.onMouseMove=function(t,e){var n=t.triangle,r=t.currentVertexPosition;n.updateCoordinate("0.".concat(r),e.lngLat.lng,e.lngLat.lat),i.a.isVertex(e)&&this.updateUIClasses({mouse:s.g.cursors.POINTER})},c.onStop=function(t){var e=t.triangle,n=t.currentVertexPosition;this.updateUIClasses({mouse:s.g.cursors.NONE}),o.a.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.id)&&(e.removeCoordinate("0.".concat(n)),e.isValid()?this.map.fire(s.g.events.CREATE,{features:[e.toGeoJSON()]}):(this.deleteFeature([e.id],{slient:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT,{},{slient:!0})))},c.toDisplayFeatures=function(t,e,n){var r=t.triangle,i=e.properties.id===r.id;if(e.properties.active=i?s.g.activeStates.ACTIVE:s.g.activeStates.INACTIVE,!i)return n(e);if(0!==e.geometry.coordinates.length){var o=e.geometry.coordinates[0].length;if(!(o<3)){if(e.properties.meta=s.g.meta.FEATURE,n(Object(u.a)(r.id,e.geometry.coordinates[0][0],"0.0",!1)),o>3){var a=e.geometry.coordinates[0].length-3;n(Object(u.a)(r.id,e.geometry.coordinates[0][a],"0.".concat(a),!1))}if(o<=4){var c=[[e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]],[e.geometry.coordinates[0][1][0],e.geometry.coordinates[0][1][1]]];if(n({type:s.g.geojsonTypes.FEATURE,properties:e.properties,geometry:{coordinates:c,type:s.g.geojsonTypes.LINE_STRING}}),3===o)return}return n(e)}}},c.onTrash=function(t){var e=t.triangle;this.deleteFeature([e.id],{slient:!0}),this.changeMode(s.g.modes.SIMPLE_SELECT)},e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(503),i=(n.n(r),n(504)),o=(n.n(i),n(30)),s=(n.n(o),n(25)),a=(n.n(s),n(24)),u=(n.n(a),n(165)),c=(n.n(u),n(394)),l=n(1003),A=n(500),h=n(485),p=n(399),f=n(502),g=n(373),d={onSetup:function(t){var e=this,n={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoveing:!1,canDragMove:!1,initiallySelectedFeatureIds:t.featureIds||[],editableInit:t.editableInit};return this.setSelected(n.initiallySelectedFeatureIds.filter(function(t){return void 0!==e.getFeature(t)})),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),n},fireUpdate:function(){this.map.fire(g.g.events.UPDATE,{action:g.g.updateActions.MOVE,features:this.getSelected().map(function(t){return t.toGeoJSON()})})},fireActionable:function(){var t=this,e=this.getSelected(),n=e.filter(function(e){return t.isInstanceOf("MultiFeature",e)}),r=!1;if(e.length>1){r=!0;var i=e[0].type.replace("Multi","");e.forEach(function(t){t.type.replace("Multi","")!==i&&(r=!1)})}var o=n.length>0,s=e.length>0;this.setActionableState({combineFeatures:r,uncombineFeatures:o,trash:s})},getUniqueIds:function(t){return t.length?t.map(function(t){return t.properties.id}).filter(function(t){return void 0!==t}).reduce(function(t,e){return t.add(e),t},new h.a).values():[]},stopExtendedInteractions:function(t){t.boxSelectElement&&(t.boxSelectElement.parentNode&&t.boxSelectElement.parentNode.removeChild(t.boxSelectElement),t.boxSelectElement=null),this.map.dragPan.enable(),t.boxSelecting=!1,t.canBoxSelect=!1,t.dragMoving=!1,t.canDragMove=!1},onStop:function(){p.a.enable(this)},onMouseUp:function(t,e){if(c.a.true(e))return this.stopExtendedInteractions(t)},onMouseMove:function(t,e){if(e.featureTarget)return c.a.isOfMetaType(g.g.meta.VERTEX)(e)&&this.changeMode(g.g.modes.DIRECT_SELECT,{featureId:e.featureTarget.properties.parent,coordPath:e.featureTarget.properties.coord_path,startPos:e.lngLat}),this.stopExtendedInteractions(t)},onMouseOut:function(t){if(t.dragMoving)return this.fireUpdate()}};d.onTap=d.onClick=function(t,e){return c.a.noTarget(e)?this.clickAnywhere(t,e):c.a.isOfMetaType(g.g.meta.VERTEX)(e)?this.clickOnVertex(t,e):c.a.isFeature(e)?this.clickOnFeature(t,e):void 0},d.clickAnywhere=function(t){var e=this,n=this.getSelectedIds();n.length&&(this.clearSelectedFeatures(),n.forEach(function(t){return e.doRender(t)})),p.a.enable(this),this.stopExtendedInteractions(t)},d.clickOnVertex=function(t,e){this.changeMode(g.g.modes.DIRECT_SELECT,{featureId:e.featureTarget.properties.parent,coordPath:e.featureTarget.properties.coord_path,startPos:e.lngLat}),this.updateUIClasses({mouse:g.g.cursors.MOVE})},d.startOnActiveFeature=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),this.doRender(e.featureTarget.properties.id),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},d.clickOnFeature=function(t,e){var n=this;p.a.disable(this),this.stopExtendedInteractions(t);var r=c.a.isShiftDown(e),i=this.getSelectedIds(),o=e.featureTarget.properties.id,s=this.isSelected(o);if(this.getFeature(o).type!==g.g.geojsonTypes.POINT){this.getFeature(o);return this.changeMode(g.g.modes.DIRECT_SELECT,{featureId:o})}s&&r?(this.deselect(o),this.updateUIClasses({mouse:g.g.cursors.POINTER}),1===i.length&&p.a.enable(this)):!s&&r?(this.select(o),this.updateUIClasses({mouse:g.g.cursors.MOVE})):s||r||(i.forEach(function(t){return n.doRender(t)}),this.setSelected(o),this.updateUIClasses({mouse:g.g.cursors.MOVE})),this.doRender(o)},d.onMouseDown=function(t,e){return c.a.isActiveFeature(e)?this.startOnActiveFeature(t,e):this.drawConfig.boxSelect&&c.a.isShiftMousedown(e)?this.startBoxSelect(t,e):void 0},d.startBoxSelect=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),t.boxSelectStartLocation=Object(l.a)(e.originalEvent,this.map.getContainer()),t.canBoxSelect=!0},d.onTouchStart=function(t,e){if(c.a.isActiveFeature(e))return this.startOnActiveFeature(t,e)},d.onDrag=function(t,e){return t.canDragMove?this.dragMove(t,e):this.drawConfig.boxSelect&&t.canBoxSelect?this.whileBoxSelect(t,e):void 0},d.whileBoxSelect=function(t,e){t.boxSelecting=!0,this.updateUIClasses({mouse:g.g.cursors.ADD}),t.boxSelectElement||(t.boxSelectElement=document.createElement("div"),t.boxSelectElement.classList.add(g.g.classes.BOX_SELECT),this.map.getContainer().appendChild(t.boxSelectElement));var n=Object(l.a)(e.originalEvent,this.map.getContainer()),r=Math.min(t.boxSelectStartLocation.x,n.x),i=Math.max(t.boxSelectStartLocation.x,n.x),o=Math.min(t.boxSelectStartLocation.y,n.y),s=Math.max(t.boxSelectStartLocation.y,n.y),a="translate(".concat(r,"px, ").concat(o,"px)");t.boxSelectElement.style.transform=a,t.boxSelectElement.style.WebkitTransform=a,t.boxSelectElement.style.width="".concat(i-r,"px"),t.boxSelectElement.style.height="".concat(s-o,"px")},d.dragMove=function(t,e){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};Object(f.a)(this.getSelected(),n),t.dragMoveLocation=e.lngLat},d.onMouseUp=function(t,e){var n=this;if(t.dragMoving)this.fireUpdate();else if(t.boxSelecting){var r=[t.boxSelectStartLocation,Object(l.a)(e.originalEvent,this.map.getContainer())],i=this.featuresAt(null,r,"click"),o=this.getUniqueIds(i).filter(function(t){return!n.isSelected(t)});o.length&&(this.select(o),o.forEach(function(t){return n.doRender(t)}),this.updateUIClasses({mouse:g.g.cursors.MOVE}))}this.stopExtendedInteractions(t)},d.toDisplayFeatures=function(t,e,n){e.properties.active=this.isSelected(e.properties.id)?g.g.activeStates.ACTIVE:g.g.activeStates.INACTIVE,n(e),this.fireActionable(),e.properties.active===g.g.activeStates.ACTIVE&&e.geometry.type!==g.g.geojsonTypes.POINT&&Object(A.a)(e).forEach(n)},d.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},d.onCombineFeatures=function(){var t=this.getSelected();if(!(0===t.length||t.length<2)){for(var e=[],n=[],r=t[0].type.replace("Multi",""),i=0;i<t.length;i++){var o=t[i];if(o.type.replace("Multi","")!==r)return;o.type.includes("Multi")?o.getCoordinates().forEach(function(t){e.push(t)}):e.push(o.getCoordinates()),n.push(o.toGeoJSON())}if(n.length>1){var s=this.newFeature({type:g.g.geojsonTypes.FEATURE,properties:n[0].properties,geometry:{type:"Multi".concat(r),coordinates:e}});this.addFeature(s),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([s.id]),this.map.fire(g.g.events.COMBINE_FEATURES,{createdFeatures:[s.toGeoJSON()],deletedFeatures:n})}this.fireActionable()}},d.onUncombineFeatures=function(){var t=this,e=this.getSelected();if(0!==e.length){for(var n=[],r=[],i=function(i){var o=e[i];t.isInstanceOf("MultiFeature",o)&&(o.getFeatures().forEach(function(e){t.addFeature(e),e.properties=o.properties,n.push(e.toGeoJSON()),t.select([e.id])}),t.deleteFeature(o.id,{silent:!0}),r.push(o.toGeoJSON()))},o=0;o<e.length;o++)i(o);n.length>1&&this.map.fire(g.g.events.UNCOMBINE_FEATURES,{createdFeatures:n,deletedFeatures:r}),this.fireActionable()}},e.default=d},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,A=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):A=-1,c.length&&p())}function p(){if(!l){var t=a(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++A<e;)u&&u[A].run();A=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"CustomLayer",function(){return b});var r=n(160),i=(n.n(r),n(417)),o=(n.n(i),n(74)),s=n.n(o),a=n(101),u=n.n(a),c=n(158),l=n.n(c),A=n(163),h=n.n(A),p=n(157),f=n.n(p),g=n(388),d=n.n(g),y=n(159),v=n.n(y),m=n(102),C=n(395),I=n(156),_=n(390),b=function(t){function e(t){var n;s()(this,e),n=l()(this,f()(e).call(this,t.before));var r=h()(n);if(n.opts=t,n.textOffset=t.textOffset?t.textOffset:[0,6],n.textSize=t.textSize?t.textSize:10,n.showText=t.isShowText?"{name}":"",n.textAnchor=t.textAnchor?t.textAnchor:"top",n.iconAllowOverlap=t.iconAllowOverlap||!0,n.textAllowOverlap=t.textAllowOverlap||!0,n.icons=t.icons,n.clustered=!0===t.clustered&&t.clustered,n.clustered){n.clusterRadius=t.clusterRadius||50,n.clusteredFilters=t.clusteredFilters,n.enableGetInfo=t.enableGetInfo||!1,n.clusterCircle={circleRadius:t.circleRadius||18,circleColor:t.circleColor||"#000000",circleBlur:t.circleBlur||0,circleOpacity:t.circleOpacity||.8,circleTranslate:t.circleTranslate||[0,0],circleStrokeWidth:t.circleStrokeWidth||0,circleStrokeColor:t.circleStrokeColor||"#000000",circleStrokeOpacity:t.circleStrokeOpacity||1},n.clusterCount={countTextSize:t.countTextSize||14,countTextLetterSpacing:t.countTextLetterSpacing||0,countTextOffset:t.countTextOffset||[0,0],countTextOpacity:t.countTextOpacity||1,countTextColor:t.countTextColor||"#ffffff",countTextHaloWidth:t.countTextHaloWidth||0,countTextHaloColor:t.countTextHaloColor||"#ffffff",countTextHaloBlur:t.countTextHaloBlur||0},n.clusteredLayers={circle:[],count:null};var i=h()(n);n._updateCluster=function(){return i.updateCluster(h()(n))}}return(new(m.a.modules.CustomService())).customQuery(r.opts,function(t){if(t.data&&t.data.length>0){var e={features:t.data,type:"FeatureCollection"};r.opts.data=e,r.opts.res=t,r.clusterType="frontend",r.setLayerFeature(r.opts.data),r.clustered&&r.map.on("moveend",r._updateCluster)}else t.data&&0===t.data.length&&(r.opts.res=t)}),n}return v()(e,t),u()(e,[{key:"addClusterCountLayer",value:function(){var t="custom-cluster-count-"+this.makeId(10),e={id:t,type:"symbol",source:this.sourceId,layout:{"text-field":"{point_count}","text-size":this.clusterCount.countTextSize,"text-letter-spacing":this.clusterCount.countTextLetterSpacing,"text-offset":this.clusterCount.countTextOffset},paint:{"text-opacity":this.clusterCount.countTextOpacity,"text-color":this.clusterCount.countTextColor,"text-halo-color":this.clusterCount.countTextHaloColor,"text-halo-width":this.clusterCount.countTextHaloWidth,"text-halo-blur":this.clusterCount.countTextHaloBlur},filter:["has","point_count"]};this.before?this.map.addLayer(e,this.before):this.map.addLayer(e),this.clusteredLayers.count=t}},{key:"sortClusteredFilters",value:function(t){var e=t.sort(function(t,e){return e.count-t.count});return 0!==e[e.length-1].count&&e.push({count:0}),e}},{key:"makeId",value:function(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=e.length,r=t||8,i="",o=0;o<r;o++)i+=e[parseInt(Math.random()*n)];return i}},{key:"removeLayer",value:function(){this.map.off("moveend",this._updateCluster),d()(f()(e.prototype),"remove",this).call(this)}},{key:"setPaintProperty",value:function(t,e){switch(t.split("-")[0]){case"icon":case"text":m.a.map.map.setPaintProperty(this.layerId,t,e);break;default:I.a.setErrorMessage(_.a.message.paintPropertyError)}}},{key:"_getBasicLayer",value:function(){return this.layerId}},{key:"moveLayer",value:function(t){var e=m.a.map.map,n=m.a.layerCollect.get(t),r=n&&n._getBasicLayer();r&&(e.moveLayer(this.layerId,r),this.clustered&&(this.clusteredLayers.circle.forEach(function(t){e.moveLayer(t,r)}),e.moveLayer(this.clusteredLayers.count,r)))}},{key:"getUnclusteredLayerIds",value:function(){return this.layerId}},{key:"getClusteredLayerIds",value:function(){return this.clustered?this.clusteredLayers.circle.join(","):null}}]),e}(C.a)},function(t,e,n){var r=n(8);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(1017),i=n(56);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(114);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},function(t,e,n){var r=n(1020);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},function(t,e,n){"use strict";var r=n(105),i=(n.n(r),n(24)),o=(n.n(i),n(74)),s=n.n(o),a=n(101),u=n.n(a),c=n(102),l=function(){function t(){s()(this,t),this.list={},this.interval=null,this.timer=c.a.config.DEFAULT_INTERVAL_TIMER}return u()(t,[{key:"add",value:function(t,e,n){this.list[t]||(this.list[t]={id:t,timer:e,timerCount:0,notice:n},this.interval||this.setInterval())}},{key:"remove",value:function(t){this.list[t]&&delete this.list[t],this.isEmpty(this.list)&&this.interval&&this.clearInterval()}},{key:"clear",value:function(){this.interval&&(this.clearInterval(),this.list={})}},{key:"setInterval",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=this;t.interval=setInterval(function(){for(var e in t.list)if(t.list.hasOwnProperty(e)){var n=t.list[e];n.timerCount++,n.timerCount%parseInt(n.timer/t.timer)===0&&n.notice()}},t.timer)})},{key:"clearInterval",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){clearInterval(this.interval),this.interval=null})},{key:"isEmpty",value:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}}]),t}();e.a=l},function(t,e,n){var r=n(700),i=n(1022),o=n(701);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"GeometryLayer",function(){return y});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(388),h=n.n(A),p=n(159),f=n.n(p),g=n(102),d=n(395),y=(n(156),n(390),function(t){function e(t){var n;return i()(this,e),(n=u()(this,l()(e).call(this,t.before))).layerType="geometry",n.defaultColor="rgba(151,235,241,0.3)",n.defaultOpacity=1,n.data=t.data,n.showPolygonOutline=t.showPolygonOutline,n.minzoom=t.minzoom||0,n.maxzoom=t.maxzoom||24,n.callback=t.end,n.defaultStyles=t.defaultStyles,n.layerLineId=n.layerId+"-line",n.layerPointId=n.layerId+"-circle",n.layerPolygonId=n.layerId+"-polygon",n.init(),n}return f()(e,t),s()(e,[{key:"init",value:function(){this.data&&"Feature"===this.data.type&&(this.data={type:"FeatureCollection",features:[this.data]}),this.setLayerFeature(this.data)}},{key:"show",value:function(){this.map.setLayoutProperty(this.layerLineId,"visibility","visible"),this.map.setLayoutProperty(this.layerPointId,"visibility","visible"),this.map.setLayoutProperty(this.layerPolygonId,"visibility","visible")}},{key:"hide",value:function(){this.map.setLayoutProperty(this.layerLineId,"visibility","none"),this.map.setLayoutProperty(this.layerPointId,"visibility","none"),this.map.setLayoutProperty(this.layerPolygonId,"visibility","none")}},{key:"transformPaint",value:function(t){var e={},n=[];switch(t){case"Polygon":n=["fill-color","fill-outline-color","fill-opacity","fill-pattern","fill-antialias","fill-translate","fill-translate-anchor"];break;case"LineString":case"MultiLineString":n=["line-color","line-opacity","line-pattern","line-translate","line-translate-anchor","line-width","line-gap-width","line-offset","line-blur","line-dasharray"];break;case"Point":n=["circle-radius","circle-color","circle-blur","circle-opacity","circle-translate","circle-translate-anchor","circle-pitch-scale","circle-stroke-width","circle-stroke-color","circle-stroke-opacity"]}for(var r in this.defaultStyles)n.indexOf(r)>-1&&(e[r]=this.defaultStyles[r]);if("FeatureCollection"==this.data.type)this.data.features.forEach(function(r){if(r.properties&&r.geometry.type===t||r.geometry.type==="Multi"+t)for(var i in r.properties)n.indexOf(i)>-1&&(e[i]={type:"identity",property:i})});else for(var i in this.data.properties)n.indexOf(i)>-1&&(e[i]={type:"identity",property:i});return e}},{key:"removeLayer",value:function(){h()(l()(e.prototype),"remove",this).call(this)}},{key:"setLayerZoomRange",value:function(){this.map.setLayerZoomRange(this.layerLineId,this.minzoom,this.maxzoom),this.map.setLayerZoomRange(this.layerPointId,this.minzoom,this.maxzoom),this.map.setLayerZoomRange(this.layerPolygonId,this.minzoom,this.maxzoom)}},{key:"_getBasicLayer",value:function(){return this.layerLineId}},{key:"moveLayer",value:function(t){var e=g.a.map.map,n=g.a.layerCollect.get(t),r=n&&n._getBasicLayer();r&&(e.moveLayer(this.layerLineId,r),e.moveLayer(this.layerPointId,r),e.moveLayer(this.layerPolygonId,r))}},{key:"getUnclusteredLayerIds",value:function(){return[this.layerLineId,this.layerPointId,this.layerPolygonId].join(",")}}]),e}(d.a))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SpecificLayer",function(){return w});var r=n(161),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(158),c=n.n(u),l=n(163),A=n.n(l),h=n(157),p=n.n(h),f=n(388),g=n.n(f),d=n(159),y=n.n(d),v=n(395),m=n(102),C=n(156),I=n(420),_=n(386),b=n(415),w=function(t){function e(t,n){var r;if(o()(this,e),(r=c()(this,p()(e).call(this)))._callback=n,C.a.bindAll(["_loadData","_onmoveend","_onxhrerror","_onfrontsuccess","_onLoadSuccess"],A()(r)),C.a.objectAssign(A()(r),t),r.map=m.a.map.map,r.requestPolygon=_.a.getCurrentBoundsByScreen(r.map,b.a.REQUEST_POLYGON_BUFFER).geometry,r.opts=t,r.cachedUpdatedFeatures={},r._zoom=Math.floor(r.map.getZoom()),r.aggTag="",r.request=null,r.layerRemoved=!1,r.userTerms=t.mixTerms||[],r.clustered?I.a.loadData(A()(r),r._onLoadSuccess):I.a.loadUnClusterData(A()(r),r._onLoadSuccess),r.dynamic){var i=null;i=r.clustered?function(){I.a.loadData(A()(r),r._onLoadSuccess)}:function(){I.a.loadUnClusterData(A()(r),r._onLoadSuccess)},r._addTimerDevice(i)}return r.map.on("moveend",r._onmoveend),r.addCollect(),r}return y()(e,t),a()(e,[{key:"_onLoadSuccess",value:function(t){var e=this;if(!this.layerRemoved&&t&&t.result){var n=t.code,r=t.result.data;if(100==n?(this.clusterType="frontend",r=r.map(function(t){return e._toGeojson(t)})):101==n&&(this.clusterType="backend"),this.enableUpdateFeature){this.clusteredFeatures=[],this.unClusteredFeatures=[];for(var i=0;i<r.length;i++){var o=r[i].properties;if(o&&o.aggsCount&&o.aggsCount>1)this.clusteredFeatures.push(r[i]);else{var s=r[i].properties.dataId||r[i].properties.id;this.cachedUpdatedFeatures[s]&&(r[i]=this.cachedUpdatedFeatures[s]),this.unClusteredFeatures.push(r[i])}}}this.setLayerData(r),this._callback&&this._callback(this.layerId),delete this._callback,this.resetRequest(),this.showRegions&&!this.regionLayer&&(this.regionLayer=new(m.a.modules.RegionLayer())(this.opts,this.symbolLayerId))}}},{key:"_onxhrerror",value:function(t){console.error(t.message),this.resetRequest()}},{key:"_onmoveend",value:function(){var t=Number(this.map.getZoom().toFixed(1)),e=_.a.getCurrentBoundsByScreen(this.map);if(!(this._zoom&&this.requestPolygon&&Math.abs(10*t-10*this._zoom)<3&&_.a.booleanWithin(e,this.requestPolygon))){var n=null;n=this.clustered?I.a.loadData:I.a.loadUnClusterData,this.request?this.nextRequest=function(){n(this,this._onLoadSuccess)}:(this.requestPolygon=_.a.getCurrentBoundsByScreen(this.map,b.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Math.floor(this.map.getZoom().toFixed(1)),n(this,this._onLoadSuccess))}}},{key:"getClusterData",value:function(t,e){var n=[];if(e)n=_.a.bbox(e);else{var r=this.map.getBounds();n=[r.getWest(),r.getSouth(),r.getEast(),r.getNorth()]}return m.a.superclusterCache[this.layerId].getClustersCached(n,t)}},{key:"resetRequest",value:function(){this.request=null,this.nextRequest&&(this.requestPolygon=_.a.getCurrentBoundsByScreen(this.map,b.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Math.floor(this.map.getZoom()),this.nextRequest(),this.nextRequest=null)}},{key:"removeLayer",value:function(){this.layerRemoved=!0,this.request&&(this.request.abort(),this.request=null),this.map.off("moveend",this._onmoveend),this.map.off("move",this._onmove),this._removeTimerDevice(),g()(p()(e.prototype),"remove",this).call(this),this.regionLayer&&this.regionLayer.removeRegionLayer()}},{key:"_getBasicLayer",value:function(){return this.clustered?this.layerId+"circle":this.symbolLayerId}},{key:"reloadData",value:function(){this.clustered?I.a.loadData(this,this._onLoadSuccess):I.a.loadUnClusterData(this,this._onLoadSuccess)}},{key:"updateFeature",value:function(t){var e=this;if(this.enableUpdateFeature&&this.unClusteredFeatures&&0!==this.unClusteredFeatures.length&&(!this.cachedUpdatedFeatures[t.featureId]||this.cachedUpdatedFeatures[t.featureId].properties[t.propName]!==t.propValue)){this.unClusteredFeatures.forEach(function(n,r){(n.properties.dataId||n.properties.id)===t.featureId&&(n.properties[t.propName]=t.propValue,e.cachedUpdatedFeatures[t.featureId]=n)});var n=this.clusteredFeatures.concat(this.unClusteredFeatures);this.setLayerData(n)}}}]),e}(v.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ExtrusionLayer",function(){return C});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(388),h=n.n(A),p=n(159),f=n.n(p),g=n(395),d=n(102),y=n(156),v=n(1029),m=n(408),C=function(t){function e(t){var n;return i()(this,e),(n=u()(this,l()(e).call(this,t.before))).opts=y.a.objectAssign({},v.a,t),n.before=t.before,n.map=d.a.map.map,n.layerType="extrusion",n.init(),n}return f()(e,t),s()(e,[{key:"init",value:function(){this.addSource(),this.addLayer()}},{key:"addLayer",value:function(){var t=this.opts,e={id:this.layerId,type:"fill-extrusion",source:this.sourceId,minzoom:t.minZoom,maxzoom:t.maxZoom},n={};n["fill-extrusion-opacity"]=t.opacity,!0===t.colorIsFromFeature?null!==t.colorField&&(n["fill-extrusion-color"]=["get",t.colorField]):null!==t.color&&(n["fill-extrusion-color"]=t.color),n["fill-extrusion-translate"]=t.translate,n["fill-extrusion-translate-anchor"]="map",!0===t.patternIsFromFeature?null!==t.patternField&&(n["fill-extrusion-pattern"]=["get",t.patternField]):null!==t.pattern&&(n["fill-extrusion-pattern"]=t.pattern),!0===t.heightIsFromFeature?null!==t.heightField&&(n["fill-extrusion-height"]=["get",t.heightField]):null!==t.height&&(n["fill-extrusion-height"]=t.height),!0===t.baseIsFromFeature?null!==t.baseField&&(n["fill-extrusion-base"]=["get",t.baseField]):null!==t.base&&(n["fill-extrusion-base"]=t.base),e.paint=n,this.before?this.map.addLayer(e,this.before):this.map.addLayer(e),m.a.setIdDepts(this.layerId,this.layerId)}},{key:"addSource",value:function(){this.map.addSource(this.sourceId,{type:"geojson",data:this.opts.data})}},{key:"show",value:function(){this.map.setLayoutProperty(this.layerId,"visibility","visible")}},{key:"hide",value:function(){this.map.setLayoutProperty(this.layerId,"visibility","none")}},{key:"setPaintProperty",value:function(){}},{key:"_getBasicLayer",value:function(){return this.layerId}},{key:"moveLayer",value:function(t){var e=this.map,n=d.a.layerCollect.get(t),r=n&&n._getBasicLayer();r&&e.moveLayer(this.layerId,r)}},{key:"getUnclusteredLayerIds",value:function(){return this.layerId}},{key:"removeLayer",value:function(){h()(l()(e.prototype),"remove",this).call(this)}}]),e}(g.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return U});var r=n(167),i=(n.n(r),n(104)),o=(n.n(i),n(30)),s=(n.n(o),n(25)),a=(n.n(s),n(24)),u=(n.n(a),n(103)),c=(n.n(u),n(164)),l=n.n(c),A=n(423),h=n.n(A),p=n(160),f=(n.n(p),n(417)),g=(n.n(f),n(74)),d=n.n(g),y=n(101),v=n.n(y),m=n(158),C=n.n(m),I=n(163),_=n.n(I),b=n(157),w=n.n(b),E=n(388),B=n.n(E),x=n(159),O=n.n(x),T=n(395),N=n(102),S=n(156),M=n(386),L=n(166),k=n(390),F=n(420);function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var U=function(t){function e(t,n){var r;return d()(this,e),(r=C()(this,w()(e).call(this))).layerType="poiLayer",r._callback=n,S.a.bindAll(["_onmoveend","_onupdateCluster","_onimageloaded","_onxhrerror","_onfrontsuccess"],_()(r)),S.a.objectAssign(_()(r),t),r.map=N.a.map.map,r.opts=t,r.request=null,r.imgOpts=[],r._zoom=parseFloat(r.map.getZoom()),r.addCollect(),t.polygon||(t.onlyScreen=!0),r.unclusterLayerRemoved||(t.isStatic?((!t.maxCount||t.maxCount>1e3)&&(t.maxCount=1e3),F.a.loadUnClusterData(_()(r),r._onfrontsuccess)):F.a.loadPoiData(t,r._onfrontsuccess)),!t.isStatic&&t.onlyScreen?r.map.on("moveend",r._onmoveend):!t.isStatic&&t.polygon&&t.clustered&&r.map.on("moveend",r._onupdateCluster),C()(r,r.layerId)}return O()(e,t),v()(e,[{key:"addSource",value:function(){this._frontSourceId=S.a.createRandomId(16),this._frontData=this._frontData||[];var t={type:"geojson",data:this._arrayToGeojson(this._frontData)};this.clustered&&(t.maxzoom=24,t.cluster=!0,t.clusterMaxZoom=this.maxClusteredZoom||16,t.clusterRadius=this.clusteredRadius||60,t.clusterProperties={commonUnClusterLayerId:[["accumulated"],["get","commonUnClusterLayerId"]]}),this.map.addSource(this._frontSourceId,t)}},{key:"setData",value:function(t){var e=this.map.getSource(this._frontSourceId);e&&e.setData(this._arrayToGeojson(t))}},{key:"_checkValue",value:function(){for(var t=arguments.length,e=0;e<t;e++)if(void 0!==arguments[e])return arguments[e]}},{key:"_sortClusteredFilters",value:function(t){var e=t.sort(function(t,e){return e.count-t.count});return 0!==e[e.length-1].count&&e.push({count:0}),e}},{key:"removeLayer",value:function(){this.unclusterLayerRemoved=!0,this.request&&(this.request.abort(),this.request=null),this.map.off("moveend",this._onmoveend),this.map.off("moveend",this._onupdateCluster),B()(w()(e.prototype),"remove",this).call(this)}},{key:"getUnclusteredLayerIds",value:function(){var t=[];return this.imgOpts.forEach(function(e){t.push(e.layerId)}),t.join(",")}},{key:"_getBasicLayer",value:function(){return this.getUnclusteredLayerIds().split(",")[0]}},{key:"setPaintProperty",value:function(t,e){var n=t.split("-"),r=this.imgOpts;switch(n[0]){case"icon":for(var i=0,o=r.length;i<o;i++)N.a.map().map.setPaintProperty(r[i].layerId,t,e);break;case"text":for(var s=0,a=r.length;s<a;s++)N.a.map().map.setPaintProperty(r[s].layerId,t,e);break;default:S.a.setErrorMessage(k.a.message.paintPropertyError)}}},{key:"_addUnclusteredLayers",value:function(){var t=this;this.imgOpts.forEach(function(e){var n={id:e.layerId,type:"symbol",source:t._frontSourceId,layout:{"icon-image":e.icon,"icon-offset":t.iconOffset||[0,0],"text-size":t.textSize||12,"text-field":t.showText?"{name}":"","text-offset":t.textOffset||[0,1.5],"text-anchor":"top","icon-allow-overlap":!0,"text-allow-overlap":!0},filter:["all",["all",["!has","point_count"]]]},r=[];e.filter&&(e.filter.forEach(function(t){t.expression&&"in"===t.expression?r.push(["in",t.key].concat(h()(t.value))):r.push(["==",t.key,t.value])}),n.filter=n.filter[1].concat(r)),t.before?t.map.addLayer(n,t.before):t.map.addLayer(n)})}},{key:"_onupdateCluster",value:function(){this.updateCluster()}},{key:"_onmoveend",value:function(){var t=parseFloat(this.map.getZoom()),e=M.a.getCurrentBoundsByScreen(this.map);this._zoom&&this._polygon&&t===this._zoom&&M.a.booleanWithin(e,this._polygon)||(this.request?this.nextRequest=function(){F.a.loadPoiData(this.opts,this._onfrontsuccess,this)}:F.a.loadPoiData(this.opts,this._onfrontsuccess,this))}},{key:"_onimageloaded",value:function(t){var e=this;this.unclusterLayerRemoved||(t.forEach(function(t,n){var r=e.urls[n];L.a.isNum(r.width)&&(t.width=r.width),L.a.isNum(r.height)&&(t.height=r.height)}),t.forEach(function(t,n){var r={icon:S.a.createRandomId(16),layerId:S.a.createRandomId(16),show:!0};e.map.addImage(r.icon,t),r.filter=e.urls[n].filter,e.imgOpts.push(r)}),this.addLayer())}},{key:"resetRequest",value:function(){this.request=null,this.nextRequest&&(this.nextRequest(),this.nextRequest=null)}},{key:"_onxhrerror",value:function(t){console.error(t),this.resetRequest()}},{key:"_onfrontsuccess",value:function(t){var e=this;if(!this.unclusterLayerRemoved){this._frontData=[];var n=[];n=this.opts.isStatic?t.result.data:t.records,this._frontData=n.map(function(t){return e._toGeojson(t)}),this.clusterType="frontend",this.setLayerData(this._frontData),this._callback&&this._callback(this.layerId),delete this._callback,this.resetRequest()}}},{key:"_toGeojson",value:function(t){return t.type&&"Feature"===t.type?(t.properties.commonUnClusterLayerId=this.layerId,t):(t.commonUnClusterLayerId=this.layerId,{geometry:{coordinates:t.geometry.coordinates,type:"Point"},type:"Feature",properties:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(n,!0).forEach(function(e){l()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t)})}},{key:"_arrayToGeojson",value:function(t){return{type:"FeatureCollection",features:t}}}]),e}(T.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"MixedClusterLayer",function(){return k});var r=n(165),i=(n.n(r),n(160)),o=(n.n(i),n(161)),s=(n.n(o),n(74)),a=n.n(s),u=n(101),c=n.n(u),l=n(158),A=n.n(l),h=n(163),p=n.n(h),f=n(157),g=n.n(f),d=n(388),y=n.n(d),v=n(159),m=n.n(v),C=n(395),I=n(102),_=n(156),b=n(420),w=n(386),E=n(415),B=n(505),x=n(707),O=n(708),T=n(431),N=n(432),S=n(408),M=n(452),L=n(746),k=(n.n(L),function(t){function e(t,n){var r;if(a()(this,e),console.time("总时间："),(r=A()(this,g()(e).call(this)))._callback=n,_.a.bindAll(["_loadData","_onmoveend","_onxhrerror","_onfrontsuccess","_onLoadSuccess","_clusterItemMouseoverCb"],p()(r)),_.a.objectAssign(p()(r),t),r.mixClusterRadius=60,r.spriteIconConf=I.a.spriteManager.getSpriteImg(r.clusterIcon,1),r.spriteIconConf||console.error("找不到"+r.clusterIcon+"对应的雪碧图"),r.clustered=!1,r.map=I.a.map.map,r.layerVisible=!0,r.OverlayGroup=new T.b("marker",[],r.layerId),r.requestPolygon=w.a.getCurrentBoundsByScreen(r.map,E.a.REQUEST_POLYGON_BUFFER).geometry,r._zoom=Number(r.map.getZoom().toFixed(1)),r.request=null,r.layerRemoved=!1,r.userTerms=t.mixTerms||[],b.a.loadData(p()(r),r._onLoadSuccess),r.dynamic){r._addTimerDevice(function(){b.a.loadData(p()(r),r._onLoadSuccess)})}return r.map.on("moveend",r._onmoveend),r.addCollect(),r}return m()(e,t),c()(e,[{key:"getFrontClusterSource",value:function(t){I.a.mixClusterSuperIndex||(I.a.mixClusterSuperIndex={});var e=this.map.getMaxZoom(),n=I.a.config.AGGS_CONFIG;n&&n.kfront&&(e=Number(n.kfront.split(",")[1]));var r=I.a.mixClusterSuperIndex[this.layerId]?I.a.mixClusterSuperIndex[this.layerId]:null;r||(r=new B.a({log:!1,radius:I.a.config.CLUSTERED_RADIUS||40,extent:256,maxZoom:e,initial:function(){return{imgUrl:"",aggsCount:0}},map:function(t){return{imgUrl:t.imgUrl,aggsCount:t.aggsCount||1}},reduce:function(t,e){t.imgUrl=e.imgUrl,t.aggsCount+=e.aggsCount}})),r.load(t),I.a.mixClusterSuperIndex[this.layerId]=r;var i=Math.floor(this.map.getZoom()),o=w.a.bbox(this.requestPolygon);return r.getClusters(o,i)}},{key:"_onLoadSuccess",value:function(t){var e=this;if(!this.layerRemoved&&t&&t.result){var n=t.code,r=t.result.data;100==n&&(r=r.map(function(t){return e._toGeojson(t)}),r=this.getFrontClusterSource(r));for(var i=[],o=[],s=0;s<r.length;s++){var a=r[s].properties;a&&a.aggsCount&&a.aggsCount>1?i.push(r[s]):o.push(r[s])}this.renderMarkers(i,n),this.setLayerData(o),this._callback&&this._callback(this.layerId),delete this._callback,this.resetRequest(),console.time("总时间：")}}},{key:"renderMarkers",value:function(t,e){var n=this;if(this._removeBounds(),0!==t.length){var r=parseInt(this.map.getZoom());if(t=t.map(function(t){return n._createMarker(t,e),t}),this.completed&&(this.completed(this.layerId),delete this.completed),this.customMarkerType){var i={clusterLayer:this,type:this.customMarkerType,mapCache:I.a};this.clusterSpreadMouseoverHandler&&(i.clusterSpreadMouseoverHandler=this._clusterItemMouseoverCb),this.clusterSpreadMouseleaveHandler&&(i.clusterSpreadMouseleaveHandler=this.clusterSpreadMouseleaveHandler),i.DOMDelegateEvent=M.a,Object(O.a)(i)}this.bindUpdate&&r<this.maxzoom&&this.emitClusterLayerUpdateEvent({clusteredFeatures:t})}}},{key:"_clusterItemMouseoverCb",value:function(t){var e=t.currentTarget,n=JSON.parse(e.getAttribute("_info_"));this.clusterSpreadMouseoverHandler(t,n)}},{key:"_removeBounds",value:function(){T.a.getGroupDepts("marker",this.layerId).clearOverlays()}},{key:"_createMarker",value:function(t,e){var n=t.geometry.coordinates,r=t.properties,i=document.createElement("div"),o="";this.customMarkerType&&x.a[this.customMarkerType]&&(o=x.a[this.customMarkerType]),o=o.replace("{{COUNT}}",r.sum||r.aggsCount||1),i.innerHTML=o,i.setAttribute("_anchor","translate(-50%,-50%)"),i.style.pointerEvents="none",r.layerId=this.layerId,r.clusterType=e,r.coordinates=n,r.bbox=this.requestPolygon,r.userTerms=this.mixTerms||[];var s=i.getElementsByClassName("sprite-icon");this.spriteIconConf&&(s[0].setAttribute("src",this.spriteIconConf.spriteURL),s[0].style.width=this.spriteIconConf.width/this.spriteIconConf.pixelRatio+"px",s[0].style.height=this.spriteIconConf.height/this.spriteIconConf.pixelRatio+"px");var a=new N.a({element:i});return this.layerVisible||(i.style.display="none"),a.setProperty(JSON.stringify(r)),a.setLngLat(n),this.OverlayGroup.addOverlay(a),a}},{key:"_onxhrerror",value:function(t){console.error(t.message),this.resetRequest()}},{key:"_onmoveend",value:function(){var t=Number(this.map.getZoom().toFixed(1)),e=w.a.getCurrentBoundsByScreen(this.map);this._zoom&&this.requestPolygon&&Math.abs(10*t-10*this._zoom)<3&&w.a.booleanWithin(e,this.requestPolygon)||(this.request?this.nextRequest=function(){b.a.loadData(this,this._onLoadSuccess)}:(this.requestPolygon=w.a.getCurrentBoundsByScreen(this.map,E.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Number(this.map.getZoom().toFixed(1)),b.a.loadData(this,this._onLoadSuccess)))}},{key:"addEvent",value:function(t,n,r){y()(g()(e.prototype),"addEvent",this).call(this,t,n),this.addMarkerLayerEvent(r,t,n)}},{key:"addMarkerLayerEvent",value:function(t,e,n){var r=this,i=T.a.getGroupDepts("marker",t);i&&i.addEvent(e,function(e){var i=e.currentTarget;if(e.target.matches(".cluster-img")){var o=i.getAttribute("__customProps__"),s=JSON.parse(o),a=s.coordinates,u=s.bbox,c=s.userTerms,l=s.clusterType,A={type:"aggs",data:[],location:a,bbox:u,userTerms:c||[],isPublic:r.isPublic},h=s.cluster_id;if("101"===l)s.aggsValue.indexOf("[")>-1&&(s.aggsValue=JSON.parse(s.aggsValue)),A.data=[{aggsName:s.aggsName,aggsValue:s.aggsValue}];else if("100"===l){var p=I.a.mixClusterSuperIndex[t].getLeaves(+h,1/0);A.type="details",delete A.bbox,A.data=p.map(function(t){return t.properties})}n(e,A)}})}},{key:"resetRequest",value:function(){this.request=null,this.nextRequest&&(this.requestPolygon=w.a.getCurrentBoundsByScreen(this.map,E.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Number(this.map.getZoom().toFixed(1)),this.nextRequest(),this.nextRequest=null)}},{key:"removeEvent",value:function(t){S.b.off(this.map)(t,this.layerId),this.removeMarkerLayerEvent(t)}},{key:"removeMarkerLayerEvent",value:function(t){var e=T.a.getGroupDepts("marker",this.layerId);e&&e.removeEvent(t)}},{key:"removeLayer",value:function(){this.layerRemoved=!0,this.request&&(this.request.abort(),this.request=null),this.map.off("moveend",this._onmoveend);var t=T.a.getGroupDepts("marker",this.layerId);t.clearOverlays(),t.clearEvents(),Object(O.b)(this.layerId,this.customMarkerType,M.a),this._removeTimerDevice(),y()(g()(e.prototype),"remove",this).call(this)}},{key:"_getBasicLayer",value:function(){return this.clustered?this.layerId+"circle":this.symbolLayerId}},{key:"reloadData",value:function(){this.clustered?b.a.loadData(this,this._onLoadSuccess):b.a.loadUnClusterData(this,this._onLoadSuccess)}},{key:"show",value:function(){y()(g()(e.prototype),"show",this).call(this);var t=T.a.getGroupDepts("marker",this.layerId);if(t)for(var n in t._overlays)t._overlays[n].getElement().style.display="block";this.layerVisible=!0}},{key:"hide",value:function(){y()(g()(e.prototype),"hide",this).call(this);var t=T.a.getGroupDepts("marker",this.layerId);if(t)for(var n in t._overlays)t._overlays[n].getElement().style.display="none";this.layerVisible=!1}}]),e}(C.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={"dark-blue":'<div class="dark-blue" style="width: 100px;height: 100px;border-radius: 50%;position: relative;"><div class="cluster-img img-dark-blue"><img class="sprite-icon"/></div><div class="count-box dark-blue-count-color">{{COUNT}}</div></div>',"dark-blue-circle":'<div class="dark-blue-circle" style="width: 100px;height: 100px;border-radius: 50%;position: relative;"><div class="cluster-img dark-blue-circle-target"><img class="sprite-icon"/></div><div class="count-box-circle count-color">{{COUNT}}</div></div>'}},function(t,e,n){"use strict";e.a=function(t){A[t.clusterLayer.layerId]=t.clusterLayer,document.querySelectorAll("."+t.clusterLayer.layerId+" ."+r[t.type].target).forEach(function(e){var n=parseInt(e.nextSibling.innerHTML);if(t.clusterLayer.expandable&&n<=10&&n>1){var i=document.createElement("ul");i.classList.add("thumbnails"),i.classList.add("thumbnails-rotate-out");for(var o=360/n,s=0;s<n;s++){var a=document.createElement("li"),u=document.createElement("div");a.classList.add("thumbnail-li"),u.classList.add("thumbnail"),u.classList.add(r[t.type].singleClass),u.classList.add("custom-hide"),a.appendChild(u),a.style.transform="rotate("+o*s+"deg)",u.style.transform="rotate("+(-o*s-45)+"deg)",i.appendChild(a)}e.parentNode.appendChild(i)}}),t.clusterLayer.expandable&&!l&&(t.DOMDelegateEvent.on("mouseover","."+t.clusterLayer.layerId+" ."+r[t.type].target,function(e){var n,l,h,p=e.target,f=p.parentNode,g=parseInt(p.nextSibling.innerHTML);if(g<=10&&g>1){f.classList.add(r[t.type].container),p.classList.add(r[t.type].active),f.childNodes[1].classList.add("custom-hide");for(var d=f.parentNode.getElementsByClassName("thumbnail"),y=0;y<d.length;y++)d[y].classList.remove("custom-hide"),u||(t.clusterSpreadMouseoverHandler&&d[y].addEventListener("mouseover",t.clusterSpreadMouseoverHandler),t.clusterSpreadMouseleaveHandler&&d[y].addEventListener("mouseleave",t.clusterSpreadMouseleaveHandler));if(u=!0,o(i(f,"UL",[]),"thumbnails-rotate"),s(i(f,"UL",[]),"thumbnails-rotate-out"),!c){var v=e.currentTarget,m=v.parentNode.parentNode.getAttribute("__customProps__"),C=JSON.parse(m),I=A[C.layerId],_=function(t,e,n){var r=t.coordinates,i=t.bbox,o=t.userTerms,s=t.clusterType,a={type:"aggs",data:[],location:r,bbox:i,userTerms:o||[]},u=t.cluster_id;if("101"===s||"backend"===s)t.aggsValue.indexOf("[")>-1&&(t.aggsValue=JSON.parse(t.aggsValue)),a.data=[{aggsName:t.aggsName,aggsValue:t.aggsValue}];else if("100"===s||"frontend"===s){var c=e.mixClusterSuperIndex[n].getLeaves(+u,1/0);a.type="details",delete a.bbox,a.data=c.map(function(t){return t.properties})}return a}(C,t.mapCache,I.layerId);"aggs"===_.type?function(t,e,n,r,i){(new(n.modules.CustomService())).queryClusterDetail({queryOptions:e,serviceName:r.serviceName,serviceNames:r.serviceNames,isPublic:r.isPublic},i)}(0,_,t.mapCache,I,function(t){a(t.data,d,"backend")}):a(_.data,d)}c=!0,p.parentNode.style.pointerEvents="auto",p.parentNode.parentNode.style.zIndex="999";var b=p.parentNode.getAttribute("mouseLeaveBound");b||(n=[p.parentNode],l="mouseleave",h=function(e){e.target.classList.remove(r[t.type].container),e.target.childNodes[0].classList.remove(r[t.type].active),e.target.childNodes[1].classList.remove("custom-hide");for(var n=e.target.getElementsByClassName("thumbnail"),a=0;a<n.length;a++)n[a].classList.add("custom-hide"),t.clusterSpreadMouseoverHandler&&n[a].removeEventListener("mouseover",t.clusterSpreadMouseoverHandler),t.clusterSpreadMouseleaveHandler&&n[a].removeEventListener("mouseleave",t.clusterSpreadMouseleaveHandler);u=!1,s(i(e.target,"UL",[]),"thumbnails-rotate"),o(i(e.target,"UL",[]),"thumbnails-rotate-out"),c=!1,p.parentNode.style.pointerEvents="none",p.parentNode.parentNode.style.zIndex="auto"},Array.prototype.slice.call(n).forEach(function(t){t.addEventListener(l,h)}),p.parentNode.setAttribute("mouseLeaveBound",!0))}}),l=!0)},e.b=function(t,e,n){u=!1,c=!1,l=!1,delete A[t],n.off("mouseover","."+t+" ."+r[e].target)};var r={"dark-blue":{target:"img-dark-blue",container:"police-container",active:"police-active",singleClass:"thumbnail-spread"},"dark-blue-circle":{target:"dark-blue-circle-target",container:"police-container",active:"police-active",singleClass:"thumbnail-spread"}};function i(t,e,n){for(var r=0;r<t.children.length;r++)t.children[r].tagName===e&&n.push(t.children[r]),i(t.children[r],e,n);return n}function o(t,e){t.forEach(function(t){t.classList.add(e)})}function s(t,e){t.forEach(function(t){t.classList.remove(e)})}function a(t,e,n){t&&t.length>0&&t.forEach(function(t,r){var i=e[r],o=n?t.properties:t;i.setAttribute("_info_",JSON.stringify(o))})}var u=!1,c=!1,l=!1,A={}},function(t,e,n){var r=n(193),i=n(710),o=n(695),s=n(18);t.exports=function(t,e){return(s(t)?r:i)(t,o(e))}},function(t,e,n){var r=n(694),i=n(1031)(r);t.exports=i},function(t,e,n){"use strict";n.d(e,"a",function(){return T});var r=n(169),i=(n.n(r),n(75)),o=(n.n(i),n(105)),s=(n.n(o),n(30)),a=(n.n(s),n(25)),u=(n.n(a),n(24)),c=(n.n(u),n(106)),l=(n.n(c),n(451)),A=(n.n(l),n(74)),h=n.n(A),p=n(101),f=n.n(p),g=n(1032),d=n.n(g),y=n(172),v=n.n(y),m=n(185),C=n.n(m),I=n(709),_=n.n(I),b=n(1063),w=n.n(b),E=n(452),B=["click","dblclick","mousedown","mouseup","contextmenu"],x=["mouseenter","mouseover","mousemove","mouseout","mouseleave"],O=["dragstart","dragging","dragend"],T=function(){function t(){h()(this,t)}return f()(t,null,[{key:"on",value:function(e,n,r){if(t.off(e,n),-1!==w()(B,e))E.a.on(e,n,r,{capture:!0});else if(-1!==w()(x,e))t.registerDirectlyEvent(e,n,r);else{if(-1===w()(O,e))throw new Error("Do not support this event type ".concat(e," for overlay"));var i=document.querySelectorAll(n);_()(i,function(n){t.registerDragEvent(n,e,r)})}t.registeredEventTypes[n]=t.registeredEventTypes[n]||new Set,t.registeredEventTypes[n].add(e)}},{key:"clear",value:function(e){var n=t.registeredEventTypes[e]||new Set;0!==n.size&&n.forEach(function(n){return t.off(n,e)})}},{key:"off",value:function(e,n){if(-1!==w()(B,e))E.a.off(e,n,{capture:!0});else if(-1!==w()(x,e))t.unRegisterDirectlyEvent(e,n);else{if(-1===w()(O,e))throw new Error('Overlay event system do not support "'.concat(e,'" event, \n                please use one of these : [').concat(B.concat(x,O).toString(),"]"));var r=document.querySelectorAll(n);_()(r,function(n){t.unRegisterDragEvent(n,e)})}}},{key:"registerDirectlyEvent",value:function(e,n,r){var i=document.querySelectorAll(n);_()(i,function(n){t._on(n,e,r)})}},{key:"unRegisterDirectlyEvent",value:function(e,n){var r=document.querySelectorAll(n);_()(r,function(n){t._off(n,e)})}},{key:"registerDragEvent",value:function(e,n,r){var i=t.dragEventList.get(e)||{};i[n]=r,t.dragEventList.set(e,i)}},{key:"unRegisterDragEvent",value:function(e,n){var r=t.dragEventList.get(e);C()(r)||(delete r[n],v()(r)&&t.dragEventList.delete(e))}},{key:"fireDragEvent",value:function(e,n,r){var i=t.dragEventList.get(n);if(!C()(i)){var o=i[r];if(!C()(o)){var s=Object.assign({},e,{type:r});o.call(n,s)}}}},{key:"_on",value:function(e,n,r){var i=t.directlyEventList.get(e)||{};i[n]=i[n]||[],-1===w()(i[n],r)&&(i[n].push(r),e.addEventListener(n,r),t.directlyEventList.set(e,i))}},{key:"_off",value:function(e,n,r){var i=t.directlyEventList.get(e)||{};if(!v()(i)&&(i[n]=i[n]||[],0!==i[n].length)){if(C()(r)){var o=i[n];_()(o,function(t){return e.removeEventListener(n,t)}),i[n]=[]}else e.removeEventListener(n,r),d()(i[n],function(t){return t===r});t.directlyEventList.set(e,i)}}}]),t}();T.directlyEventList=new WeakMap,T.dragEventList=new WeakMap,T.registeredEventTypes={}},function(t,e,n){var r=n(1033),i=n(1046),o=n(114),s=n(18),a=n(1056);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?i(t[0],t[1]):r(t):a(t)}},function(t,e,n){var r=n(1035),i=n(10);t.exports=function t(e,n,o,s,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,s,t,a))}},function(t,e,n){var r=n(1036),i=n(1039),o=n(1040),s=1,a=2;t.exports=function(t,e,n,u,c,l){var A=n&s,h=t.length,p=e.length;if(h!=p&&!(A&&p>h))return!1;var f=l.get(t);if(f&&l.get(e))return f==e;var g=-1,d=!0,y=n&a?new r:void 0;for(l.set(t,e),l.set(e,t);++g<h;){var v=t[g],m=e[g];if(u)var C=A?u(m,v,g,e,t,l):u(v,m,g,t,e,l);if(void 0!==C){if(C)continue;d=!1;break}if(y){if(!i(e,function(t,e){if(!o(y,e)&&(v===t||c(v,t,n,u,l)))return y.push(e)})){d=!1;break}}else if(v!==m&&!c(v,m,n,u,l)){d=!1;break}}return l.delete(t),l.delete(e),d}},function(t,e,n){var r=n(16);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(506),i=n(581),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(370),i=n(392),o=n(374),s=n(371),a=n(387),u=n(585),c=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new A(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t},e.prototype.refCount=function(){return Object(u.a)()(this)},e}(o.a),l=function(){var t=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),A=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);s.a},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(370),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(387).a)},function(t,e,n){"use strict";var r=n(370),i=n(371),o=n(387),s=n(374),a=n(392);i.a;var u=function(t){function e(e,n,r){var i=t.call(this,n)||this;return i.key=e,i.group=n,i.parent=r,i}return r.a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.a),c=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return r.a(e,t),e.prototype._subscribe=function(t){var e=new o.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new l(n)),e.add(r.subscribe(t)),e},e}(s.a),l=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return r.a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(370),i=n(392),o=n(508),s=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1070),i=new(n(1072).a)(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(370),i=n(371),o=n(509);var s=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return r.a(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.a.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},e}(i.a),a=function(){return function(t,e){this.notification=t,this.destination=e}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1073),i=new(n(1075).a)(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"===typeof t.length&&"function"!==typeof t}},function(t,e,n){"use strict";e.a=function(t){return!!t&&"function"!==typeof t.subscribe&&"function"===typeof t.then}},function(t,e,n){"use strict";e.a=function(){return Object(r.a)(1)};var r=n(591)},function(t,e,n){"use strict";e.a=function(t,e){if(null!=t){if(Object(a.a)(t))return Object(r.a)(t,e);if(Object(u.a)(t))return Object(i.a)(t,e);if(Object(c.a)(t))return Object(o.a)(t,e);if(Object(l.a)(t)||"string"===typeof t)return Object(s.a)(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")};var r=n(1086),i=n(1087),o=n(587),s=n(1088),a=n(1089),u=n(731),c=n(730),l=n(1090)},function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,u=t[t.length-1];Object(i.a)(u)?(a=t.pop(),t.length>1&&"number"===typeof t[t.length-1]&&(n=t.pop())):"number"===typeof u&&(n=t.pop());if(null===a&&1===t.length&&t[0]instanceof r.a)return t[0];return Object(o.a)(n)(Object(s.a)(t,a))};var r=n(374),i=n(413),o=n(591),s=n(468)},function(t,e,n){"use strict";var r=n(374),i=n(507);i.a},function(t,e,n){"use strict";e.a=function(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}},function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(i.a)(t[0]))return t[0];t=t[0]}return Object(o.a)(t,void 0).lift(new u)};var r=n(370),i=n(396),o=n(468),s=n(375),a=n(376);var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new c(t))},t}(),c=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.a(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=Object(a.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(s.a)},function(t,e,n){"use strict";e.a=function(t,e,n){void 0===t&&(t=0);var u=-1;Object(o.a)(e)?u=Number(e)<1?1:Number(e):Object(s.a)(e)&&(n=e);Object(s.a)(n)||(n=i.a);return new r.a(function(e){var r=Object(o.a)(t)?t:+t-n.now();return n.schedule(a,r,{index:0,period:u,subscriber:e})})};var r=n(374),i=n(397),o=n(513),s=n(413);function a(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},function(t,e,n){"use strict";e.a=function(t){return function(e){return e.lift(new s(t))}};var r=n(370),i=n(375),o=n(376);var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var n=Object(o.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(i.a)},function(t,e,n){"use strict";e.a=function(t,e){return Object(r.a)(t,e,1)};var r=n(472)},function(t,e,n){"use strict";e.a=function(t){return t instanceof Date&&!isNaN(+t)}},function(t,e,n){"use strict";e.a=function(t,e){return function(n){return n.lift(new o(t,e))}};var r=n(370),i=n(371);var o=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"===typeof n&&(i.compare=n),i}return r.a(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(370),i=n(371);var o=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),s=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return r.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(370),i=n(375),o=n(376),s={leading:!0,trailing:!1};i.a},function(t,e,n){"use strict";e.a=function(t,e,n){void 0===n&&(n=i.a);return function(r){var i=Object(o.a)(t),s=i?+t-n.now():Math.abs(t);return r.lift(new u(s,i,e,n))}};var r=n(370),i=n(397),o=n(741),s=n(375),a=n(376);var u=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),c=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return r.a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(a.a)(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(s.a)},function(t,e,n){var r=n(1185);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0};n(108)(r,i);r.locals&&(t.exports=r.locals)},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA3CAYAAABD7GlFAAAAAXNSR0IArs4c6QAAD4NJREFUaAXNWnuMXFUZv++5M7Ozszuzu922225ZWtpSoCailIchPmIE0QimKggFoSkoVAgWGjUhRf4AgoqmBkVBQgOiPAIRCUpAFAxRQwhoW2H7brfb7T5md3Znd2bu09/v3HtmZ/uwr23xzM495957zvd9v/M9zpnvrKqcxHLlrW+cM1ZVznMc/0yysWxrc8bU//HUT5f962SxVaeb8PJ1m6zitt47hke9b5Zda3YIBqoGNprGlvhL2f7efNb8ecOs3APPrFviTKcM0wros9e+esNAwfuh6+pNiqoquqG4dqIyahpOhZicMGmX3WRjEBpmiPcJwxtpzdtr/vjQeY9OF6hpAXTZilfPHyhWNpQq1nwVghqmN5FrHNjZlOobUJQwkMLiFXRkaMXqzLahcnunG9qpEE/SSWdrWzZxzYvrl/1d9j3e+oQAXX3b2zN37Op7fKRkfAYaUQ1opDHTvyOb2tsTBl4YBiEtTgkCUcHqVJqfqumaoukAVp7bMezNneeHmonxYXOD+1rnabkVT3z/zH2nFNDq1VsSG/dteWCoqNxEYVRdDdLJQm8us2drEJbdwA8VHxcAUqCBMAgiJekAQ3/SNR2gqCvcGCmr4CzsKgVts+htuq64uYz38JJFLWvWf3tB9ViBHbOGPnflyzf2DXn3u76RpY8n7cpgc2ZHt6qOjnu+H3peABxBiCY0E6kG94qmMigwNqCFJkEZhqYaOmp8fSOXLniLziiHTXmaram7o63N+to/PXjuL44F1FEDuuTrr1w4MFzeUC4bXXR40/LGsw17uhPWwKDreqEH4QnG870w8JXQD3GhgmJzi9DA5PCnqzpMDjUuBGXqumYYhmoaulo15rQUgoULXMVOQ51Kyqpun5NPX/fsvUvePBpgRwS0/Ka3Zu/dO7BhdEz/JCITbCKkn2xLJ3f3AEjg+n4ggHi+4lM3AOUDHL3Hp5oOKCChQn5oCPanw++EpiaBmSaBmdq4sbBjOOzq8hFiYKZhNlX9S2dH+4on13b0HEByyu1hAV133ev2ztHiT4YK6vWBopuY2aChYaQn07Bnux9MOK7nh65LML7iwV98mhpwEAS8B9pBgXZobrLQ7OhDAhQI6jA1gYumFwMzTV2jpghMM1PWqHpW15g+B+sZumqB29LoP3bOzPxtD94+pyzp1teHBPT5q15evrev8qjr6RnaSDI1Mdic3dOtqKXxquMGBEPT8nyYmAu9AAjvcStAsGYgwB2CNnUVFUY4tgAEZENoSoemGCcACCAQ+ITZGXpkfgnL1CwTEcdsSRf0sxaU1ZYWrl+W5o3NyqsrX7xnydMx6Vo1BRAEUD91xe8f6R8Mv4GIo1q2X8rl+7aY+uCQ47kB1BJAK6HjwU+Ev0Q+QwDQDEwMFCC/ABbjIEbJjUGObVYMEQjfAEUTjIARiIFnGoBZ9CmAsUxDs2CCZsJQHbMzP6gvXuAo6TRnpL2h8vgr9519PejVeEwBdPEXn39usKBdgegV5luKO7LNvTscpxo4VZcggmrVC+kzPjWEL03LAzgCCYCCxkX5CQIqYlA4qBASwxzBoRwEjKE80hbMDs5G07MtgEqY0J6hJZMJrWCcM68/OG0eNd6aKr/w2v1nXy4Z6bJx6ddeumnf/nAN+IUdc/r+nc7s73UchyCCquOFrCm8gzZAAUQQQmPCdwiMlkX/IaDId9gCMXxhkgIow3z8UI2eBYr0MM4OabCwJg3ONh9JGpwMUm1UB4oNZmWsqMxsHfcSiy647Jb+919f/zbHisWBG8qefZUH0V1tay9sS6YLQy60Qc3AZwgC5ibaIqoxGBAMfYhgGNUiMIhskAZ/vAihWMsin3EyRB8KC02K8aBDeqRL+rQE+iv5RvwpA57TUtAn5e4utOtbtwO1umdE/fHyp0OrBqi0eddtvq/bdsoba2ru73EJgD6DwRIMQzTXGmrIk2BiIDC3g4DQAA/3JWOCIygxARxPrYNeFGgiSyA/8iUo+i4nV6x5nFDI1uJv3pvUJkpOYNiVzd231wANFaureJPNFvfS8TETnCnUEB5mRn+pgYEEQisQ4FBASCfyJrYOXSRQqbEDgbkxMDF5MSjKQTCUK14yBMi8snsvfXFwQllJbsLkqtVwFqKG0pAeHaJzRyAwOyI8454MuM4QDNrSvOpNi8SkoGwfTZHA64EJn4nNkPwkKE6uXMQhV8DlAlutoMHbXaBRO4GJvSAAXbPmvbTnGzYCj69o5Sr3Y9FAhGERmiMtAQR2AvSLqeZFIscKhGNkqR9bb4aCD/hFE4xe/MA0xUIu1rzIPDWvVMU+13cV075mQ5jWJgZHoB1EUmxp6KwEhL9oGwMV4BHv45p2Punw9cJIAY+3lrSktiK+MGsQ5CLN+8j0Y/mwOwlgQdwA66rrcnFzBrbPFiYnhQAxTozoJPZkRELnFSgYemXPI/vJZM9jaxGYLORHEyd/WgiDpwjvsQuIiad8coCSgA8lopU7RIxHPxDwYxMCAHyIRcwSaHGcAFjHtEZrGhsERT6ykD82MRBAREZERLznB4/QNxS/R7hooQgNcX8EoyMQMQmUlw3SpLpZqDq+FTen6CKkiflTDsoTCRhXeEAliEIMKFNMTjzBhVNRL/qUG9npJNfUkiySfwwGJsZtFYWErPJvCiDeYFsvOuDCASwkIInKup6RfHYq6kOIIuQTZsRN0lRAhxfpUIQO33v63xw8pRGP2BKjm8jaRFuYHFdaQIxexlfpO1Mefsg31AblOmiSKb/UEIIc7TA2OQSCSdP9kMU/RvYSkMgTxTfQlIiAx0jqw+8ey88laNLkploc000fvqAHSIAfdEKuyEXqXhKQ1JB4LBHW9ZHNgwbLF6eo/h+i1STAzq3WFmqIYnP9w0g7NMFaz/+zBg2I8lFr3OXUNJSA4Um5KX59W2KQz3jPVNSpKPV8yD/+ClGQkZiUEyLjpibSpIY4KM6ZReMF+JovycRGbeQpaMgsEVlJnwYigooq4EBOBW/ZYI3NaTXenBIl0n4iPcvMJogRepQ3I0GSiUv97Mln01nX0xcTCeIijwcRhFw0N3zQT6JjD3yr8V6OwvOL97DNqBPyZaJQa2Ic+2CYmAkCPDmmJ+mSD/kJ1rhEyUk8wXPmxJmgRE5PvCcWyApA0FA6rYqfsGGI9J7IOUenAkyoi/xYTIzig2iErQ6UFACvT6iQjqRFMBEQ5MAhqARDy2HKmMlJJvcx++LkIsAdA0Mi0zKkbbj3vCHcOvj9jR4JZJbZCRlMZC/FwRSox20qjNnOmJnQnAAhBTleRHK80EoMJppcIYPgzwSkjnQxZeFRjJAT7dBMGQGz4YrvbLhWHRJ2Y5rhEOAqVS/XZCD9ynQsB0bHHLgHMSbQ+ZyEImYMGigQgF8KJQU7WmD1YyIaMCMQlWDYFnw5yeQvEvpIEyObKvLgUFU5MauJ/GzNG2ItADVl9Odoh8PjrbOZT8YBFPLJhkjDCoDxzNSDEuYXa0sCEwSPAtiBQMAumhzIQLqcNIKh4JxYAQZyiVw3HlA+ISfeF+yFs5hjzSb952uAWluyd0M2f8LN5Ca81jwT41EuWYcRIqeM3DLyymK2aqBo27G26I8SFGf6cMAOBCK1IsbTP8CDPkNLkGAEX+a28Y6Je+a6OcnMc08k5+XGjBnNhhb6M+fOXlcD9NSPzh3M5cLH8UDtGz19saY1JjnATvA4w9BqoEgQ2rIsgLNw6gbGJmeTwQICcVbrgUUCR6ZIMCx8JoGI/hyH8YIOBhsQWNAnHxOnDhIMah6vABBqQ1OSebun4cJFDG+tdmnDY19RceIO+ryw4DeGev5Vf96Eo/nFuh44Mxq2bTbD3iGmYivV6EyIaWGRhETmRJ4HMQEpMjJIADBvJ/MAh/thRl7UiFyoGWgIDKBETRPjJ9LQ5JGKOCuKQTmN8/P7Gi9ahFyc1WiU33/ze7POBB2xgzPIgIUPVnz3P5/o3t33ZqlsLu4tLVqasVr3Za3ubUmtVNGRuOf+yXGxdUI+TPNUkSfjOAjEfJ2iMtXEH2HoyB9hh0qqCA0CBPUFuWtAoGERfBiaGc1w0EXr4DmRMDML2tHtZnugeVlXMdHZTokz+vj7XR0dF0kwAgcv9YWa+vSqvz48UEzcII4B1cDLWL27Mn73LuT9vWqUOBcHX9FRJBN/yGjK/BlQyF+VACdmjb8ZI4OLQEAAsZWJTS7yG4AQYRmRjA6Pb2Te4rDL1sdyH59bTC/uxJkrziqVoM0u/fqVO+euqgdDHDWTqwfF9uWr31m6b2TsiZJrnwXPgDk45UZ9y1bb29knkuawNZqb+Ioz1ggYU2HM5QlNMb+G5Jmkze0LfQmX2N/of6TNSCYjGpcIU2iI/lpuWtI+mvnY6Y5uJ2mrGX1i06y8ffUzN7e9K+nW14cFJDtdcss/v9o/4vzMCW1xvpnQSyPZYNMHutc/yvMb/oNFPTDmn6Es+hXUU8MiyWEGxcrPRV4EEq4tPOKneXHBFL4DlEFmbuNw9vwzqlYz1hkV60x1sLVBXf3SHbN/WyN2iMYRAXHMunWh9kb/Wz8YLpnfcUPDhgRhUu3ry3obt4TeaIUnAxIYzQ8ZZ5idcCL60RS2jIYEIzbCaDMI1AMJ7abEaHbZ/PHkvHb8E4pqqF6lJVX90QXV0+5at049YsbjqABJia66d1dzz+7eRwrlxJfEKqQFfjrctbPR3bzL86rIpcfRL/4vEubw6vKFMDWuVwREU+N6AzODI3HV103bGMt+tHPMXtwZwJkUHFrmrcoLM1uaV/7mW03DUoYj1ccESBL7wtp3lwwMV54c91JLIZ1iKNVKY9i9Ne1s7RP/HhMn+YUv1ZkdzY2/a/DH3Qj9SYCZyCyZUUwvne9pSTv2k/c6WlJX/+7W9o2S59HWxwVIEr/0jve+vL/oPeQoyTY+s5SxYi7c2G05+0YZ4Zh3ZkKdAYKBABZE34nDtaa6dkfjYOrcBVWjKcvxtlrpb2tSbv7D2q5neX885YQAkSH962+ld+4amrDu9AITkUgL08r+/a3Bpp1GMDLB9UgWhmt8VNfIJQvJpfPGjI4ZkZ/45XzKfeDCoOvuo/ETSe9Q9QkDkkRX3VfIfrB/z69GqvYVAaIGVBEmlZGRtDY0bIbjFUYqV2+wJ9TW5gkt3wTNcf3xc4mJ5+d3tKz85Y25oqR1IvW0AZJCXH5P9+LBkfL6MTd5sY81n1scoSNoh/7Be1ULvCaz8kZbs736mTWdm+XY6ainHZAUatXDhWxPT+/qsqt+xFPUedSQpSs7Ewn13Y4ZbeunSyOSn6z/C+cGq01froxDAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA3CAYAAABD7GlFAAAAAXNSR0IArs4c6QAADi9JREFUaAXVWguQVMUVvd1v3nx29ge7C7sQkFJR/AAKIgRK/JBUkorRUPmZGFIx0Qp+sPykSsCqSCqlgiYYY0o0JqmSWLFMjL8yVUb8RQUUP4gmoqBJQD6BXdj/zu7MvO6c0zO9Dlu7sMgKpOFtv3nz3r339Ln3dr/bo+RTbHeutqfmsjI1lzMnGugJQ70plZA3FsxU73xaatVQC/7TP238w+1mQXvOXNqVVRNELFQoUdBkeYrPZXH9fkVC7juuQd/1zVNUdihtGFJAtzxr57V0RUuzkYwijligOtNx+TARqiYq6s7Z2o4eOS6yNk0QiUDtGJbWixaep1YOFaghAbTsRXtmW6dZ0dFjp9CwZKh2jq2WJyc36HWJQMiAownKVKQlfGOrmf6fZjk/m7f1/KIsrtZXl+v5N8xW6/j8obRDAnTHi7ahNWPvas7YubBZB1p1NlTKo7PG6lVaSTZPIPin0SOG4HeiYujhftpYib+61Xx+a6tcmDc2rUWZ6jL1WFVSXXXtbLXzk4L6RIB+tdkmWraaJXu75GoT2TKtVTQ8pZ6dMVb9uSyUNhOJMUqifAQwhBTgiGAxAQWiAFbHcKAPOiKpXLvVfqOp3Z6LW4OYVl01Kbmr4hh909XjVc/BAjtoQMuetZc0dptbnLvAX8qTasPker1ybKV8lIPZUU4i9AYJwKhATASafAtAj41Ek6EQRxBKQGCBkti2Nhmzfof5bnvWTuL98Zj6b01K37joPPV7//xg+kEDuv0F+9mmbnN3V489jYITod4+vlr9YWK9vFkCBOYCUE5MLo+kBmYAjGHiGoAoBabCGI5QNMHFAYpMhVoCAntnl0zZ1GQu7o7sKD6UTqgNdSl9xfVnqzUFKfv/e0BAy9fY0c2d9tetGbnAWgM3UR1jquXhqaP03xgnRUaiyIAdHDmQoEwBEBIApx+ma0swPNcEFIqyYCZOdgCELkhgOI+BuYDxtW67+cKWVjU3Mqac8VWVUk/WVaorr56htlHOQG1AQEuet0kAuLmlQy43YlOI5XxtWq2aVq8eLk9KKyKeAPJkJJvFARcDGrqaJZA8XA1obIDPHlAEUEgQKuYyg6jAOLfrBUZwBBQLBaEkQU9OqlZvt19r6rRzjLExIM/UpuWedFLfeN1MlekPVL+Alj1vv7orY+/N5s0IPlSBtDqlQa8cVSHbsgCBEYyyiBUyQiD4F/WQlZzLZlbj3MDdCKpvIxiyZDSSAsCRrVJg8ThSiMEUBnBxMBaPFeLrjZ3m4vasTMYYSSKmdo+u0POvO0s92lf+PoAwlOqnz5k7mzrlSgysTsbUtpNH6AdOHC7rIyt5MoJRIyADABFdC8AMGQFj+wDBPZZHX4UYeWY5x1IpsAQAEhwYD3Du3DABpuiGjC2AC99uktM27jbf7s7b0RBh6splxU/O1QswD/Tq2QfQTc9E9zdl5Hu4aD5TqR8771h5JJ+TLIzPwXACigAI4+sYGhSQvqAIhiD7AwY2HFuIJ42hCACIceViKwVwMS3xeELiT2+SuR+1mvMZh3Vl8sCSOcE8P3C9gG5+zv5gR5f9LVgyUxv0L0+tlTfzRrIZAMF8kgNDUXcEUEVG6F4YFwfKxUsfRvoC8Qo9GP+5LzAyRLeMARDSuiZbAEKGYom4hA5UTMK3dsnpr+0wV0GOxuBftvhs9Tsnm3+4oMTcshxY1HHD9EMTa2V9KZgcAMGlcnkEP0BF7H3cgDnnWh4Ae39O2f210nv8OeUgHmFBYdCoB2vCPHTzyNFLerKwAYOMKSF/er1sOL5G/sKkujtjf0EM1IW4FNnUaOYj2KtSMbVl9hh5Cuc5Bj+ZoTAIibpxZHAQiIuZouHeIN9T3mCbf6a0J9su3UMP3NtQL/XDljxtoscU7cvNGadXlYXqo56cqfpgj1xBvQ5Qa1Zdwtw6plo/Y0qzGLMZ3IpCKdzFDoBwNKEEmXRfdgYLpO99pXIo17NFfaWg6PZMTExQBizB1tzYav0C301aMub7lOsAIWuM48UTquUtzvqcY/BNnpmM7sV4ofC+sUJD+hp3KJ+9PA+QwDwonLvMCrvc8gr3kDUzoVY20IyMUeOoW9++waZzoqrwYLY2Jc1cWGL2o/Fuxvf0E8xQskLl/TUPxvfUy3nN2+GWVQQDzyGoEXFpDrTO5oytJBad75QGzOVYBat23sBVMh/iiPBwrGCSpAIa4Pv+jBnKa14Pe07SnOfoKVwj4hoW+YL3RJiDwUdq74BuZTMyyrkcbaW1XEyCRstVMs8piMsXB4qCC7cNpd37leXAQCf1cwnl7MEkrmGXBTCyRHtplvd9B4jxw0tY6rv3Fy75eRcPCtqv1sPwJYF5e/h+BYDuHQvGOx68/TSlyBD4Aih3A9C7L4pAHPzDYPRAKgbyChgJ03BgTUGDaT8yIN+OC40Xe28qIPdfubgZSHDvTYfpxNlY4jVB0Vbaz9bLELLcPo0P0nePltbf6j2KCtY5MEX7Cwzhg+PtaLF+P3ZwkBkGfrAdqBL7P3a5PgztR+ZR+RVW3q4N6HJHpdUDGIWpBVmh8GUvoP8Xl+sPE2PI298bQx5hfw8c9dfITilD/ODT3lFvPG0vvsLT1gB5m83bX3A5/6nwnfsLjO69v+TSET91b7J4m+3bnPm9DCXwdZEhgvBH6UO+DlB67XCfs6DidZIhnpMdTEXu3MUQsPQmBd6AbIH1Q+EG1qF5zbcjBaqvXhjl7GLvDrx27sOQq4a7W2A6QBAIa9BsHAk/GoUrR+YvQXlbaB+BcOAdAc7qQgzlUWL9mCHcBhyKNLLmjJcqTZpZ7XTFQfRHAg7BUL+rusIeDwz7Mhx4t5vh7CJMtFg8L82kDK8VKdzNnYAA30UsqGP2VVhaKLyG827r6T8cC1Wvi0a6+MHoE0yIQcd33IrhgKOTAKshlKrxRpFVe/Xi6WpPGOgOlEPLmrFXw+0NbnVwdwD/ApZpWbZF8c9VPJ2CT5ktD4Y99VK/KxnDJhYeMdhufwnM6RYr5RjgFFjoJBbncmFgd9IzN7fJCRDCAh/rywF3B1jFRAVTExiFo9DH0XHgvGKCHIpWKpd6qM/phbewVEx7cA+PQMdcuTj2frOM59sEt0FpgwNUFapHeHFzm50D9G4HACPhCuZkksJYxeS5j6dS5Tw/FEBeljOoOFjU44v4rKIilcWw++cqqNxLArgYOAg2ttpzGDLlcXnMPc8/yYT8XCudRX3u1Nf3ymSACV3pFfXkslRBWDJwtWaNV+AYhDlX6GsIZR1s84PB3rNC+W7wsBNBvSGA0A4W7wEqRFiEuD9c3ywTm7NyMm2vSspt1O0YWnKGaqpLyr2oFulX98j87RmpT6B+jEGKYzTCZBwbUWAsiZEhWzFueWDUPLBP4oZ+MAYCkoIu6qNegqEd0BNyewUDHoeNI19qlB/yrbs+Lb9ZPEU1ElCvq6AKoRa8KK+05syZMa3bpw2Te6ZWy/oe1rRZ2y5ULLkP1FvXZlmJVSHWzVxduvhq7LOg76nINwLgeWnPgWEG424Cg5+Dhn9uW4VZl95CZjyY9a0y+ZUmuSwbmYrhCfXanWep6RBQOr8W1N2y0dbsaJS/tmTNdMg32Kp46ezh6qG6uDSxWI46nauolu7YsQBIYH13IijxQIB8nHggPmYAUPuNLySGAiC42O6c1P290X59V0bNQgVLV8X1a6Pr5EuLT1J7CghKGPIXyNT1q2V5Y1auwjm3BjNjy9QT54yQJ+OouGK/KO82iQv17ggp1W1F5jF38bXYA6M8fi4F5VkpBeLPmU3pxtwTwn3asYKYwTZfDF6QWrVbvry1U87HnmtSaZ0fmZC7b58p13hmvP29Lucv+H7xK3ZSc49d0ZaXmbwpDFTjieXyx9nDZXURUJ6MsYLJCiscyfUsZpS6opfne78V2RcIAREIAx+9Y4U7dy/vlZnvtstF2BWv5VtcdVKvHR7K5T+brjZ4maX9gID8TQvX2LmNWbsc+zXjeK08VO9Pq5L7T6qQzYwrMOD2W9G70jGBuS19xJOrR3tBxZ6xQtfiSsQlliIQuhaBoLAZCxNIx20y/tW9Mq8jZ0/gKiAV6C0jk3L9zTMU9oQGbgcExEeXoJzXvloWwg1vyFtTCcptTWhfOmeEerBWSROBscBPxggM2xyG2/sY0MIvSYr63cISgNzyBWHvXAtAkFkcIwSyKyO1zzfaixqzahZSjgqVaquvUMtSZ8jSJYrr0f23QQHyIha+bYd1dcgde7vtdyAZ04PqGZ2WJz5XJ0/EI+nGAjIPEGQq8r8iQepx2YcyoMyt5Ln45dLKASnM+AGeTT3dKF/Z2oE4EZvA7yFyNQl5MFUu1yydpJq9DQfqDwqQF7boTXtyc5esaM3a2RSAKXvPKZXy4Ow6eRkbUW6rA26HX2kwJ+wLCOzR3TTGWnP5wt8lvLBHZm1sl29lja2hDqxcXq5Oy49unaLe9ToH238iQF74dWvtBS05e0cmkmNpdjpQH0yvkZWT0vIBXM5gVeEAsRjI1xIyBGaV/+HShk4Zv26PvRg/YDqez5cF6t+1Cbl22Qz1uNdxsP0hAaIyF1/r5MeNPbIIW+XVmCIt5q21M6rl8fFp2UmWvFFkB+fqXxlpWNMiF+7ulhmArJBBW0emZGl6mtw2mDjx8vrrDxmQF7r0dVu1Iy/LmzJ2HuOL80NFIO8hM22sDqURsaVaMTE25mRCCw6kDrx86VxdQh5oiMm1C89QrV7WofRDBsgbseRtO2F3l9za2i1fREZMck1Dd8J/16gQAd9dk5SnamKyCOvI94pfDUk35IC8VWQMq8VLMclOxDrvGF7HkmYLfhHyj2Ei9w0VI16f7/8HL66MnnFDz6EAAAAASUVORK5CYII="},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"BasicDataCluster",function(){return L});var r=n(167),i=(n.n(r),n(104)),o=(n.n(i),n(30)),s=(n.n(o),n(25)),a=(n.n(s),n(24)),u=(n.n(a),n(103)),c=(n.n(u),n(164)),l=n.n(c),A=n(161),h=(n.n(A),n(74)),p=n.n(h),f=n(101),g=n.n(f),d=n(158),y=n.n(d),v=n(163),m=n.n(v),C=n(157),I=n.n(C),_=n(388),b=n.n(_),w=n(159),E=n.n(w),B=n(395),x=n(102),O=n(156),T=n(420),N=n(386),S=n(415);n(408);function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var L=function(t){function e(t,n){var r;return p()(this,e),(r=y()(this,I()(e).call(this)))._callback=n,O.a.bindAll(["_onmoveend","_onxhrerror","_onfrontsuccess","_onLoadSuccess","buildLayer"],m()(r)),O.a.objectAssign(m()(r),t),r.map=x.a.map.map,r.requestPolygon=N.a.getCurrentBoundsByScreen(r.map,S.a.REQUEST_POLYGON_BUFFER).geometry,r._zoom=Number(r.map.getZoom().toFixed(1)),r.request=null,r.layerRemoved=!1,r.userTerms=t.mixTerms||[],r.clustered=!0,T.a.loadBaseData(m()(r),r._onLoadSuccess),r.map.on("moveend",r._onmoveend),r.addCollect(),r}return E()(e,t),g()(e,[{key:"_onLoadSuccess",value:function(t){var e=this;if(!this.layerRemoved&&t&&t.result){var n=t.result.data;if(100==t.code&&(n=n.map(function(t){return e._toGeojson(t)})),this.clusterType="backend",1===this.dataType)this.icons=[{iconName:"poi_code_230217_16",filter:[{key:"bigClass",value:"汽车服务"}]},{iconName:"event-app-1003-18",filter:[{key:"bigClass",value:"汽车销售"}]},{iconName:"event-app-1007-18",filter:[{key:"bigClass",value:"汽车维修"}]},{iconName:"point-4-7",filter:[{key:"bigClass",value:"摩托车服务"}]},{iconName:"restaurant-15",filter:[{key:"bigClass",value:"餐饮服务"}]},{iconName:"poi_code_130102_16",filter:[{key:"bigClass",value:"购物服务"}]},{iconName:"supermarket-15",filter:[{key:"bigClass",value:"生活服务"}]},{iconName:"poi_code_180100_16",filter:[{key:"bigClass",value:"体育休闲服务"}]},{iconName:"poi_code_170100_16",filter:[{key:"bigClass",value:"医疗保健服务"}]},{iconName:"poi_code_120102_16",filter:[{key:"bigClass",value:"住宿服务"}]},{iconName:"landscape-15",filter:[{key:"bigClass",value:"风景名胜"}]},{iconName:"poi_code_200103_16",filter:[{key:"bigClass",value:"商务住宅"}]},{iconName:"government-15",filter:[{key:"bigClass",value:"政府机构及社会团体"}]},{iconName:"poi_code_160102_16",filter:[{key:"bigClass",value:"科教文化服务"}]},{iconName:"point-9-7",filter:[{key:"bigClass",value:"交通设施服务"}]},{iconName:"poi_code_150101_16",filter:[{key:"bigClass",value:"金融保险服务"}]},{iconName:"poi_code_120103_16",filter:[{key:"bigClass",value:"公司企业"}]},{iconName:"metro-station",filter:[{key:"bigClass",value:"道路附属设施"}]},{iconName:"n-country-15",filter:[{key:"bigClass",value:"地名地址信息"}]},{iconName:"poi_code_190100_16",filter:[{key:"bigClass",value:"公共设施"}]},{iconName:"event-app-1000-18",filter:[{key:"bigClass",value:"事件活动"}]},{iconName:"point-6-7",filter:[{key:"bigClass",value:"室内设施"}]},{iconName:"event-app-1014-18",filter:[{key:"bigClass",value:"通行设施"}]}],this.setLayerData(n);else if(3===this.dataType)this.icons=[{iconName:"circle-red-11"}],this.setLayerData(n);else if(2===this.dataType||4===this.dataType){for(var r=[],i=[],o=0;o<n.length;o++){var s=n[o].properties;if(s&&s.aggsCount&&s.aggsCount>1)r.push(n[o]);else{n[o].properties["line-width"]=4,n[o].properties["line-color"]="#d71345",n[o].properties["line-opacity"]=.7;var a=this._toGeojson(n[o].properties);i.push(a)}}this.setLayerData(r),this.addGeometry(i)}else if(5===this.dataType){for(var u=[],c=[],l=0;l<n.length;l++){var A=n[l].properties;if(A&&A.aggsCount&&A.aggsCount>1)u.push(n[l]);else{n[l].properties["fill-color"]="#f3715c",n[l].properties["fill-opacity"]=1,"multipolygon"===n[l].properties.location.type&&(n[l].properties.location.type="MultiPolygon");var h=this._toGeojson(n[l].properties);c.push(h)}}this.setLayerData(u),this.addGeometry(c)}this._callback&&this._callback(this.layerId),delete this._callback,this.resetRequest()}}},{key:"_onxhrerror",value:function(t){console.error(t.message),this.resetRequest()}},{key:"addGeometry",value:function(t){if(this.geoLayer&&this.geoLayer.removeLayer(),t&&0!==t.length){var e={features:t,type:"FeatureCollection"};this.geoLayer=new(x.a.modules.GeometryLayer())({data:e})}}},{key:"_toGeojson",value:function(t){return{geometry:t.location,type:"Feature",properties:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(n,!0).forEach(function(e){l()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t)}}},{key:"_onmoveend",value:function(){var t=Number(this.map.getZoom().toFixed(1)),e=N.a.getCurrentBoundsByScreen(this.map);this._zoom&&this.requestPolygon&&Math.abs(10*t-10*this._zoom)<3&&N.a.booleanWithin(e,this.requestPolygon)||(this.request?this.nextRequest=function(){T.a.loadBaseData(this,this._onLoadSuccess)}:(this.requestPolygon=N.a.getCurrentBoundsByScreen(this.map,S.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Number(this.map.getZoom().toFixed(1)),T.a.loadBaseData(this,this._onLoadSuccess)))}},{key:"resetRequest",value:function(){this.request=null,this.nextRequest&&(this.requestPolygon=N.a.getCurrentBoundsByScreen(this.map,S.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Number(this.map.getZoom().toFixed(1)),this.nextRequest(),this.nextRequest=null)}},{key:"removeLayer",value:function(){this.layerRemoved=!0,this.request&&(this.request.abort(),this.request=null),this.map.off("moveend",this._onmoveend),this._removeTimerDevice(),this.geoLayer&&this.geoLayer.removeLayer(),b()(I()(e.prototype),"remove",this).call(this)}},{key:"_getBasicLayer",value:function(){return this.clustered?this.layerId+"circle":this.symbolLayerId}}]),e}(B.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Conversion",function(){return l});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(102),u=n(599),c=n(386),l=function(){function t(){i()(this,t)}return s()(t,[{key:"wgs84togcj02",value:function(t){return u.a.wgs84togcj02(t)}},{key:"gcj02towgs84",value:function(t){return u.a.gcj02towgs84(t)}},{key:"getGeoPointByPixel",value:function(t){return a.a.map.map.unproject(t)}},{key:"getPixelByGeoPoint",value:function(t){return a.a.map.map.project(t)}},{key:"wgs84ToMercator",value:function(t){var e=c.a.point(t);return c.a.toMercator(e)}},{key:"mercatorToWgs84",value:function(t){var e=c.a.point(t);return c.a.toWgs84(e)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return y});var r=n(434),i=(n.n(r),n(160)),o=(n.n(i),n(74)),s=n.n(o),a=n(101),u=n.n(a),c=n(158),l=n.n(c),A=n(157),h=n.n(A),p=n(159),f=n.n(p),g=n(102),d=n(156),y=function(t){function e(){return s()(this,e),l()(this,h()(e).call(this))}return f()(e,t),u()(e,[{key:"getGeoPoint",value:function(t){if(t.engineType&&"keda"===t.engineType){var e="".concat(g.a.config.CT_ADDRESS_TO_GEO,"?address=").concat(t.keyword);t.code&&(e+="&adCode=".concat(t.code)),t.type&&"&type=".concat(t.type),t.kinCode&&(e+="&kinCode=".concat(t.kinCode)),d.a.xhr({type:"GET",url:e,headers:{Accept:"application/json"},success:function(e){if(e.result[0].location){var n=e.result[0].location.split(",");t.res=[parseFloat(n[0]),parseFloat(n[1])]}else t.res=[]},error:function(e){t.res=e}})}else{var n=t.code||g.a.config.MAP_ADMIN_CODE,r=g.a.config.GET_POINT_URL+"?keywords="+t.keyword+"&city="+n+"&search_type=for_poi&page_size=1&page_num=1";d.a.xhr({noAuth:!0,type:"GET",url:r,headers:{Accept:"application/json"},success:function(e){var n=e.data.rows[0].location.split(",");t.res=[parseFloat(n[0]),parseFloat(n[1])]},error:function(e){t.res=e}})}}},{key:"getLocation",value:function(t){var e=t.point.join(",");if(t.engineType&&"keda"===t.engineType){var n="".concat(g.a.config.CT_GEO_TO_ADDRESS,"?location=").concat(e);t.radius?n+="&radius=".concat(t.radius):n+="&radius=1",t.type&&(n+="&type=".concat(t.type)),t.kinCode&&(n+="&kinCode=".concat(t.kinCode)),d.a.xhr({type:"GET",url:n,headers:{Accept:"application/json"},success:function(e){var n=e.result[0],r={address:(n.address||"")+(n.name||""),country:n.country||"",province:n.provinceName||"",city:n.cityName||"",dist:n.districtName||"",town:n.town||"",village:n.village||""};t.res=r},error:function(e){t.res=e}})}else{var r=g.a.config.GET_LOCATION_URL+"?detail=1&road=1&rowNumber=5&location="+e;d.a.xhr({noAuth:!0,type:"GET",url:r,headers:{Accept:"application/json"},success:function(e){var n={address:(e=e.data).address+e.poi,country:e.nation?e.nation.value:"",province:e.province?e.province.value:"",city:e.city?e.city.value:"",dist:e.dist?e.dist.value:"",town:e.town?e.town.value:"",village:e.village?e.village.value:""};t.res=n},error:function(e){t.res=e}})}}},{key:"getStandardAddress",value:function(t){var e={input:t.keyword,pageNo:t.pageNo||0,pageSize:t.maxCount||g.a.config.MAP_SERVIC_MAX_PAGE},n=this;d.a.xhr({type:"POST",url:g.a.config.GET_STANDARD_ADDRESS,body:e,success:function(e){t.res=n.validateResult(e)},error:function(e){t.res=e}})}}]),e}(n(474).a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return m});var r=n(109),i=(n.n(r),n(24)),o=(n.n(i),n(74)),s=n.n(o),a=n(101),u=n.n(a),c=n(158),l=n.n(c),A=n(157),h=n.n(A),p=n(159),f=n.n(p),g=n(102),d=n(390),y=n(156),v=n(599),m=function(t){function e(){return s()(this,e),l()(this,h()(e).call(this))}return f()(e,t),u()(e,[{key:"getGeometryByAdminCode",value:function(t){var e=this;return new Promise(function(n){var r=e,i="".concat(g.a.config.GET_GEOMETRY_BY_ADMIN_CODE_URL,"?adcode=").concat(t.code,"&containsSon=").concat(Boolean(t.containsSon));y.a.xhr({type:"GET",url:i,headers:{Accept:"application/json"},success:function(e){var i=r.validateResult(e),o={type:"FeatureCollection",features:[]};if(i&&i.polyline){t.toWgs84&&("Polygon"===i.polyline.type&&i.polyline.coordinates.forEach(function(t){t.forEach(function(t,e,n){n[e]=v.a.gcj02towgs84(t)})}),"MultiPolygon"===i.polyline.type&&i.polyline.coordinates.forEach(function(t){t.forEach(function(t){t.forEach(function(e,n){t[n]=v.a.gcj02towgs84(e)})})}));var s={};for(var a in i)"polyline"!==a&&(s[a]=i[a]);o.features.push({type:"Feature",geometry:i.polyline,properties:s}),n(o)}else n([])},error:function(t){n(t)}})})}},{key:"getAdminInfoByPoint",value:function(t){var e={lon:t.point[0],lat:t.point[1]},n=this;y.a.xhr({type:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},url:g.a.config.SERVICE_ADMIN_URL,body:this.stringifyParams(e),success:function(e){t.res=n.validateResult(e)},error:function(e){t.res=e}})}},{key:"addAdminBoundary",value:function(t){var e="".concat(g.a.config.GET_ADMIN_BOUNDARY).concat(t.code);y.a.xhr({noAuth:!0,type:"GET",url:e,headers:{Accept:"application/json"},success:function(e){if(200===e.status&&e.result.polyline){var n,r=e.result.polyline.coordinates;if(Array.isArray(r[0][0])&&!Array.isArray(r[0][0][0]))n={type:"FeatureCollection",features:[{geometry:{coordinates:r[0],type:"LineString"},type:"Feature",properties:{}}]};else if(Array.isArray(r[0][0][0])&&!Array.isArray(r[0][0][0][0])){n={type:"FeatureCollection",features:[{geometry:{coordinates:r.map(function(t){return t[0]}),type:"MultiLineString"},type:"Feature",properties:{}}]}}}var i={data:n},o=new(g.a.modules.GeometryLayer())(i);if(t.lineStyle){var s,a=g.a.layerCollect;if(a&&a.get(o.layerId))for(var u in s=a.get(o.layerId),t.lineStyle)s.setPaintProperty(u,t.lineStyle[u]);else y.a.setErrorMessage(d.a.message.noExitLayer)}t.res=o.layerId},error:function(e){t.res=e}})}},{key:"pointInAdcode",value:function(t){var e=g.a.config.POINT_IN_ADCODE;e+="?",e+="lng=".concat(t.point[0],"&"),e+="lat=".concat(t.point[1],"&"),e+="coordinateType=".concat(t.coordinateType||1,"&"),e+="adcode=".concat(t.adcode),this.getXhr(t,e)}}]),e}(n(474).a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return O});var r=n(167),i=(n.n(r),n(104)),o=(n.n(i),n(30)),s=(n.n(o),n(25)),a=(n.n(s),n(24)),u=(n.n(a),n(103)),c=(n.n(u),n(164)),l=n.n(c),A=n(74),h=n.n(A),p=n(101),f=n.n(p),g=n(158),d=n.n(g),y=n(157),v=n.n(y),m=n(159),C=n.n(m),I=n(1186),_=n.n(I),b=n(102),w=n(474),E=n(156);function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(n,!0).forEach(function(e){l()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var O=function(t){function e(){return h()(this,e),d()(this,v()(e).call(this))}return C()(e,t),f()(e,[{key:"getStopTime",value:function(t){var e=b.a.config.GET_STOP_TIME,n={gbId:t.gbId,timestamp:t.startTime,range:t.disRange};this.postXhr(n,t,e)}},{key:"getDeviceInfo",value:function(t){var e=b.a.config.BUSINESS_SEARCH_SERVICE,n={appName:b.a.config.PUBLIC_APPNAME,serviceNames:["device_base"],filterTerms:[{column:"gbid",value:t.gbId,type:"and",termType:"eq",filterType:0}]};this.postXhr(n,t,e)}},{key:"getRoadDetail",value:function(t){var e=b.a.config.SEARCH_ROAD_BUFFER_URL,n={appName:b.a.config.BUSINESS_APPNAME,serviceNames:[t.serviceName],id:t.id,isShow:void 0===t.isShow?0:t.isShow,radius:t.radius};t.mixTerms&&(n.filterTerms=t.mixTerms),t.adcode&&(n.adcode=t.adcode),this.postXhr(n,t,e)}},{key:"getPointLists",value:function(t){var e=b.a.modules.calculation().pointToBuffer({point:t.point,radius:t.radius||b.a.config.MAP_SEARCH_RADIUS,units:t.units}).geometry.coordinates[0],n={appName:b.a.config.BUSINESS_APPNAME,serviceNames:[t.serviceName],sorts:[{origin:{lon:t.point[0],lat:t.point[1]},type:"asc"}],pageSize:100,pageNo:0};Array.isArray(e[0][0][0])&&!Array.isArray(e[0][0][0][0])&&(n.location={type:"MultiPolygon",coordinates:e}),Array.isArray(e[0])&&!Array.isArray(e[0][0])&&(n.location={type:"Polygon",coordinates:[e]}),t.mixTerms&&(n.filterTerms=t.mixTerms),E.a.xhr({type:"POST",url:b.a.config.BUSINESS_SEARCH_SERVICE,body:n,success:function(e){if(200===e.status)if(e.result.total>0){var n=e.result.data,r=t.point,i=[];n.forEach(function(e){var o=e.locationpoint,s=b.a.modules.roadPlanService();"time"===t.type?s.minTimeRoutePlanning({startPoint:r,endPoint:o,updateHandler:function(r){if(i.push(x({},e,{roadPlanTime:r.duration})),i.length===n.length){var o=_()(i,"roadPlanTime");t.res=o}}}):s.minDisRoutePlanning({startPoint:r,endPoint:o,updateHandler:function(r){if(i.push(x({},e,{roadPlanDistance:r.distance})),i.length===n.length){var o=_()(i,"roadPlanDistance");t.res=o}}})})}else t.res=[]},error:function(e){t.res=e}})}}]),e}(w.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return f});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(159),h=n.n(A),p=n(102),f=function(t){function e(t){var n;switch(i()(this,e),n=u()(this,l()(e).call(this)),t){case"poi":n.url=p.a.config.SERVICE_POI_SEARCH_URL,n.getPoiType=function(t){var e=p.a.config.SERVICE_POI_TYPE_URL;this.getXhr(t,e)};break;case"waterface":n.url=p.a.config.SERVICE_WATERFACE_SEARCH_URL;break;case"section":n.url=p.a.config.SERVICE_SECTION_SEARCH_URL;break;case"cross":n.url=p.a.config.SERVICE_CROSS_SEARCH_URL;break;case"road":n.url=p.a.config.SERVICE_ROAD_SEARCH_URL;break;case"annulus":n.url=p.a.config.SERVICE_ANNULUS_SEARCH_URL}return n}return h()(e,t),s()(e,[{key:"searchByKeyWord",value:function(t){this.postXhr(this.getParams(t),t,this.url)}},{key:"searchBySpace",value:function(t,e){var n=this.getParams(t);this.postXhr(n,t,this.url,e)}},{key:"searchByBuffer",value:function(t,e){var n;switch(e){case"point":n=p.a.modules.calculation().pointToBuffer({point:t.point,radius:t.radius||p.a.config.MAP_SEARCH_RADIUS,units:t.units});break;case"line":n=p.a.modules.calculation().lineToBuffer({polyline:t.polyline,radius:t.radius||p.a.config.MAP_SEARCH_RADIUS,units:t.units});break;case"polygon":n=p.a.modules.calculation().polygonToBuffer({polygon:t.polygon,radius:t.radius||p.a.config.MAP_SEARCH_RADIUS,units:t.units})}t.polygon=n.geometry.coordinates[0],this.searchBySpace(t)}}]),e}(n(474).a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return v});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(159),h=n.n(A),p=n(102),f=n(156),g=n(474),d=n(400),y=n(691),v=(n.n(y),function(t){function e(){return i()(this,e),u()(this,l()(e).call(this))}return h()(e,t),s()(e,[{key:"customQuery",value:function(t,e){var n={};if(n.serviceNames=t.serviceNames||[t.serviceName],n.pageSize=t.maxCount&&t.maxCount<=1e3?t.maxCount:p.a.config.MAP_SERVIC_MAX_PAGE,n.pageNo=t.pageNo-1||0,t.mixTerms&&(n.filterTerms=t.mixTerms),t.terms&&(n.terms=t.terms),t.sorts&&(n.sorts=t.sorts.map(function(t){var e=t;return t.origin&&(e.origin={lon:t.origin[0],lat:t.origin[1]}),e})),t.isPublic?n.appName=p.a.config.PUBLIC_APPNAME:n.appName=p.a.config.BUSINESS_APPNAME,t.adcode&&(n.adcode=t.adcode),t.points&&(Array.isArray(t.points[0][0][0])&&!Array.isArray(t.points[0][0][0][0])&&(n.location={type:"MultiPolygon",coordinates:t.points}),Array.isArray(t.points[0])&&!Array.isArray(t.points[0][0])&&(n.location={type:"Polygon",coordinates:[t.points]})),t.polygon&&(Array.isArray(t.polygon[0][0][0])&&!Array.isArray(t.polygon[0][0][0][0])&&(n.location={type:"MultiPolygon",coordinates:t.polygon}),Array.isArray(t.polygon[0])&&!Array.isArray(t.polygon[0][0])&&(n.location={type:"Polygon",coordinates:[t.polygon]})),e){var r=p.a.config.BUSINESS_RENDER_SERVICE;f.a.xhr({type:"POST",url:r,body:n,success:function(t){e(t.result)},error:function(t){console.log(t.message)}})}else{var i=p.a.config.BUSINESS_SEARCH_SERVICE;f.a.xhr({type:"POST",url:i,body:n,success:function(e){e.result._type="service",t.res=e.result},error:function(e){t.res=e}})}}},{key:"customAnnulusQuery",value:function(t,e){var n={};n.serviceNames=t.serviceNames||[t.serviceName],n.pageSize=1e3,t.mixTerms&&(n.filterTerms=t.mixTerms),t.terms&&(n.terms=t.terms),t.isPublic?n.appName=p.a.config.PUBLIC_APPNAME:n.appName=p.a.config.BUSINESS_APPNAME,t.center&&(n.location=t.center),t.levels&&(n.levels=t.levels);p.a.modules.base();var r=[];if(0!==t.levels[0][0]?(t.levels.unshift([0,t.levels[0][0]]),t.levels.forEach(function(e){var n=d.a.circle(t.center,e[1]);r.push(n.geometry.coordinates)}),t.levels.shift()):t.levels.forEach(function(e){var n=d.a.circle(t.center,e[1]);r.push(n.geometry.coordinates)}),n.aggType=2,e){var i=p.a.config.SERVICE_ANNULUS_SEARCH_URL;f.a.xhr({type:"POST",url:i,body:n,success:function(t){e(t.result)},error:function(t){console.log(t.message)}})}else{var o=p.a.config.SERVICE_ANNULUS_SEARCH_URL;f.a.xhr({type:"POST",url:o,body:n,success:function(e){var n=0,r={};for(var i in e.result)n+=e.result[i].length,r[i]=e.result[i];e.result.total=n,e.result.data=r,e.result._type="service",t.res=e.result},error:function(e){t.res=e}})}}},{key:"customSectorQuery",value:function(t,e){var n=t.center,r=t.radius,i=t.startDegree,o=t.endDegree,s=d.a.sector(n,r,i,o);t.points=s.geometry.coordinates[0];var a=new(p.a.modules.GeometryLayer())({data:s});return this.customQuery(t,e),a.layerId}},{key:"queryCustomPolygonByPoint",value:function(t){var e={appName:p.a.config.BUSINESS_APPNAME,location:{coordinates:t.point,type:"Point"},serviceNames:[t.serviceName],pageSize:t.maxCount||p.a.config.MAP_SERVIC_MAX_PAGE,pageNo:t.pageNo-1>=0?t.pageNo-1:0,relation:"intersects"};f.a.xhr({type:"POST",url:p.a.config.BUSINESS_RENDER_SERVICE,body:e,success:function(e){e.result._type="service",t.res=e.result},error:function(e){t.res=e}})}},{key:"getCustomGeometryById",value:function(t){var e={appName:p.a.config.BUSINESS_APPNAME,serviceNames:[t.serviceName],terms:[{column:"dataId",value:t.id,termType:"eq"}]};f.a.xhr({type:"POST",url:p.a.config.BUSINESS_RENDER_SERVICE,body:e,success:function(e){e.result._type="service",t.res=e.result},error:function(e){t.res=e}})}},{key:"queryCustomBuffer",value:function(t,e){var n;switch(e){case"point":n=p.a.modules.calculation().pointToBuffer({point:t.point,radius:t.radius||p.a.config.MAP_SEARCH_RADIUS,units:t.units});break;case"line":n=p.a.modules.calculation().lineToBuffer({polyline:t.polyline,radius:t.radius||p.a.config.MAP_SEARCH_RADIUS,units:t.units});break;case"polygon":n=p.a.modules.calculation().polygonToBuffer({polygon:t.polygon,radius:t.radius||p.a.config.MAP_SEARCH_RADIUS,units:t.units})}t.polygon=n.geometry.coordinates[0],this.customQuery(t)}},{key:"queryCustomInfoByAdcode",value:function(t){this.customQuery(t)}},{key:"updateCustomData",value:function(t){var e={},n=t.properties;for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.serviceName=t.serviceName,e.dataId=t.dataId,e.appName=p.a.config.BUSINESS_APPNAME,f.a.xhr({type:"POST",url:p.a.config.STRAIGHT_STORAGE,body:e,success:function(e){200===e.status&&"0"===e.code?t.res="Success":f.a.setErrorMessage(e.message)},error:function(e){t.res=e}})}},{key:"queryClusterDetail",value:function(t,e){var n=t.queryOptions,r=n.data,i=n.bbox,o=n.userTerms,s=n.isPublic,a=r.map(function(t){var e="eq";return t.aggsValue instanceof Array&&(e="in"),{column:t.aggsName,value:t.aggsValue,termType:e,type:"or"}});o&&o.length&&o.length>0&&(t.mixTerms=[{type:"and",terms:o}]),t.terms=[{type:"and",terms:a}],s&&(t.isPublic=s,t.serviceName="device_base",t.serviceNames=["device_base"]),t.points=i&&i.coordinates[0],(!t.maxCount||t.maxCount>1e3)&&(t.maxCount=1e3),this.customQuery(t,e)}},{key:"queryPointsByDistance",value:function(t){var e={};e.serviceNames=[t.serviceName],e.pageSize=t.maxCount&&t.maxCount<=1e3?t.maxCount:p.a.config.MAP_SERVIC_MAX_PAGE,e.pageNo=t.pageNo-1||0,e.appName=p.a.config.BUSINESS_APPNAME,e.sorts=[{origin:{lon:t.point[0],lat:t.point[1]},type:"asc"}],t.adcode&&(e.adcode=t.adcode),t.mixTerms&&(e.filterTerms=t.mixTerms);var n=p.a.config.BUSINESS_RENDER_SERVICE;f.a.xhr({type:"POST",url:n,body:e,success:function(e){e.result._type="service",t.res=e.result},error:function(e){t.res=e}})}}]),e}(g.a))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Calculation",function(){return l});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(102),u=n(386),c=n(400),l=function(){function t(){i()(this,t)}return s()(t,[{key:"distanceOfP2P",value:function(t,e,n){var r={type:"Feature",properties:{},geometry:{type:"Point",coordinates:t}},i={type:"Feature",properties:{},geometry:{type:"Point",coordinates:e}};return u.a.distance(r,i,{units:n})}},{key:"distanceOfP2Line",value:function(t,e,n){var r={type:"Feature",properties:{},geometry:{type:"Point",coordinates:t}},i={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:e}};return u.a.nearestPointOnLine(i,r,{units:n}).properties.dist}},{key:"distanceOfP2Polygon",value:function(t,e,n){var r=u.a.point(t),i=u.a.polygon([e]),o=u.a.centerOfMass(i),s=u.a.distance(r,o,{units:n});return s||null}},{key:"getCenterOfLine",value:function(t){var e=u.a.point(t[0]),n=u.a.point(t[1]),r=u.a.midpoint(e,n);return r?r.geometry.coordinates:null}},{key:"getCenterOfPolygon",value:function(t){var e=u.a.polygon([t]),n=u.a.centerOfMass(e);return n?n.geometry.coordinates:null}},{key:"getDistance",value:function(t,e){var n;if(t.geometry.coordinates.length<2)return null;switch(e){case"kilometers":n=u.a.length(t,{units:"kilometers"});break;case"meters":n=u.a.length(t,{units:"meters"});break;case"miles":n=u.a.length(t,{units:"miles"});break;default:n=u.a.length(t,{units:"kilometers"})}return n}},{key:"getDistanceOfLine",value:function(t,e){var n=u.a.lineString(t),r=u.a.length(n,{units:e});return r||null}},{key:"getArea",value:function(t,e){var n;switch(e){case"kilometers":n=(1e-6*u.a.area(t)).toFixed(4);break;case"meters":n=u.a.area(t).toFixed(2);break;case"miles":n=(3.861e-7*u.a.area(t)).toFixed(4);break;default:n=u.a.area(t).toFixed(2)}return n}},{key:"lineToBuffer",value:function(t){var e=u.a.lineString(t.polyline),n=t.units||"kilometers";return u.a.buffer(e,t.radius,{units:n})}},{key:"polygonToBuffer",value:function(t){var e=u.a.polygon([t.polygon]),n=t.units||"kilometers";return u.a.buffer(e,t.radius,{units:n})}},{key:"pointToBuffer",value:function(t){var e=u.a.point(t.point),n=t.units||"kilometers",r=t.steps||"128";return u.a.circle(e,t.radius,{units:n,steps:r})}},{key:"pointWithInPolygon",value:function(t){var e=u.a.point(t.point),n=u.a.polygon([t.polygon]);return u.a.booleanWithin(e,n)}},{key:"pointsWithInPolygon",value:function(t){var e=u.a.points(t.points),n=u.a.polygon([t.polygon]);return u.a.pointsWithinPolygon(e,n)}},{key:"getBboxOfPolygon",value:function(t){var e=u.a.polygon([t]),n=u.a.bbox(e);return n?u.a.polygon([[[n[0],n[3]],[n[2],n[3]],[n[2],n[1]],[n[0],n[1]],[n[0],n[3]]]]):null}},{key:"getBboxOfPolyline",value:function(t){var e=u.a.lineString(t),n=u.a.bbox(e);return n?u.a.polygon([[[n[0],n[3]],[n[2],n[3]],[n[2],n[1]],[n[0],n[1]],[n[0],n[3]]]]):null}},{key:"pointIsVisible",value:function(t){var e=a.a.map.map,n=e.project(t.point),r=e.getContainer().getBoundingClientRect(),i=n.x,o=n.y,s=!1;return i>=0&&i<=r.width&&o>=0&&o<=r.height&&(s=!0),s}},{key:"getBboxOfPoints",value:function(t){var e=u.a.multiPoint(t),n=u.a.bbox(e);return n?u.a.polygon([[[n[0],n[3]],[n[2],n[3]],[n[2],n[1]],[n[0],n[1]],[n[0],n[3]]]]):null}},{key:"lineChunk",value:function(t){var e=t.line,n=t.segmentLength,r=t.units,i=u.a.lineString(e);return r=r||"kilometers",u.a.lineChunk(i,n,{units:r})}},{key:"getSector",value:function(t){return c.a.sector(t.center,t.radius,t.bearing1,t.bearing2,t.options)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return g});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(435),u=(n.n(a),n(176)),c=n.n(u),l=n(18),A=n.n(l),h=n(432),p=n(431),f=(n(102),function(t){var e=document.createElement("div");return t.style?e.style.cssText=t.style:(e.style["background-position"]="center",e.style["background-repeat"]="no-repeat",e.style.width="40px",e.style.height="40px",e.style["border-radius"]="50%",e.style.cursor="pointer"),t.markerType&&e.classList.add(t.markerType),e.style["background-image"]="url('"+t.url+"')",{element:e,anchor:t.anchor,offset:t.offset}}),g=function(){function t(){i()(this,t),this.defaultMarkerGroup=null}return s()(t,[{key:"addMarkers",value:function(t){for(var e=t.data,n=[],r=0,i=e.length;r<i;r++){var o=f(t);e[r].customProps&&o.element.setAttribute("__customProps__",JSON.stringify(e[r].customProps));var s=new h.a(o),a=e[r].point;s.setLngLat({lng:a[0],lat:a[1]}),n.push(s)}return new p.b("marker",n).getGroupName()}},{key:"addMarker",value:function(e){var n=f(e);e.customProps&&e.element.setAttribute("__customProps__",JSON.stringify(e.customProps));var r=new h.a(n),i=e.point;if(r.setLngLat({lng:i[0],lat:i[1]}),e.groupName){if(p.a.getGroupDeptsCount("marker")>10)throw new Error("自定义group数量不能超过10个");var o=p.a.getGroupDepts("marker",e.groupName);if(o)o.addOverlay(r);else{var s=new p.b("marker",[r],e.groupName);console.log(s.getGroupName())}}else t.defaultMarkerGroup=t.defaultMarkerGroup||new p.b("marker"),t.defaultMarkerGroup.addOverlay(r);return r.getId()}},{key:"removeMarkerById",value:function(e){if(e.groupName){var n=p.a.getGroupDepts("marker",e.groupName);if(!n)return;var r=e.id;if(A()(r))for(var i=0;i<r.length;i++){var o=r[i];n._overlays[o]&&n.removeOverlay(n.getOverlay(o))}else if(c()(r)){if(!n._overlays[r])return;n.removeOverlay(n.getOverlay(r))}}else{var s=e.id;if(!t.defaultMarkerGroup)return;if(A()(s))for(var a=0;a<s.length;a++){var u=s[a];t.defaultMarkerGroup._overlays[u]&&t.defaultMarkerGroup.removeOverlay(t.defaultMarkerGroup.getOverlay(u))}else if(c()(s)){if(!t.defaultMarkerGroup._overlays[s])return;t.defaultMarkerGroup.removeOverlay(t.defaultMarkerGroup.getOverlay(s))}}}},{key:"removeMarkersByType",value:function(t){var e=t.markerType,n=p.a.getGroupDepts("marker",e);n&&(n.clearOverlays(),p.a.removeGroupDepts("marker",e))}},{key:"addEvent",value:function(e){var n=e.selector,r=e.event,i=e.handler;if("#"===n[0]){var o=n.slice(1);if(!o)return;var s=t.defaultMarkerGroup.getOverlay(o);s&&s.addEvent(r,i)}else{if("."!==n[0])throw new Error("Please use the right selector to add marker event");var a=n.slice(1),u=p.a.getGroupDepts("marker",a);if(!u)return;u.addEvent(r,i)}}},{key:"removeEvent",value:function(e){var n=e.selector,r=e.event;if("#"===n[0]){var i=n.slice(1),o=t.defaultMarkerGroup.getOverlay(i);o&&o.removeEvent(r)}else{if("."!==n[0])throw new Error("Please use the right selector to remove marker event");var s=n.slice(1),a=p.a.getGroupDepts("marker",s);if(!a)return;a.removeEvent(r)}}},{key:"setMarkersProperty",value:function(t){"markerType"===t.type?this.setMarkerPropertyByType(t):"id"===t.type&&this.setMarkerPropertyById(t)}},{key:"setMarkerPropertyById",value:function(e){if(e.groupName){var n=p.a.getGroupDepts("marker",e.groupName);if(!n)return;var r=e.id,i=e.url,o=e.style,s=e.point,a=e.customProps;if(!r)return;var u=n.getOverlay(r);if(!u)return;var c=u.getElement();i&&(c.style["background-image"]="url('"+i+"')"),o&&(c.style.cssText+=o),s&&u.setLngLat({lng:s[0],lat:s[1]}),a&&u.setProperty(a)}else{var l=e.id,A=e.url,h=e.style,f=e.point,g=e.customProps;if(!t.defaultMarkerGroup)return;if(!l)return;var d=t.defaultMarkerGroup.getOverlay(l);if(!d)return;var y=d.getElement();A&&(y.style["background-image"]="url('"+A+"')"),h&&(y.style.cssText+=h),f&&d.setLngLat({lng:f[0],lat:f[1]}),g&&d.setProperty(g)}}},{key:"setMarkerPropertyByType",value:function(t){var e=t.markerType,n=t.url,r=t.style,i=t.customProps,o=p.a.getGroupDepts("marker",e);if(o)for(var s=o.getOverlays(),a=0;a<s.length;a++){var u=s[a],c=u.getElement();n&&(c.style["background-image"]="url('"+n+"')"),r&&(c.style.cssText+=r),i&&u.setProperty(i)}}},{key:"setMarkerDraggable",value:function(e){var n=e.id,r=e.draggable;if(t.defaultMarkerGroup&&n){var i=t.defaultMarkerGroup.getOverlay(n);i&&i.setDraggable(r)}}},{key:"setMarkersDraggable",value:function(t){var e=t.markerType,n=t.draggable,r=p.a.getGroupDepts("marker",e);r&&r.setDraggable(n)}},{key:"removeAllMarkers",value:function(){if(p.a.groupDepts.marker){for(var e in p.a.groupDepts.marker){p.a.getGroupDepts("marker",e).clearOverlays()}p.a.clearGroupDepts("marker"),t.defaultMarkerGroup=null}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return h});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(435),u=(n.n(a),n(432)),c=n(431),l=n(424),A=(n(102),n(1194)),h=(n.n(A),function(){function t(){i()(this,t),this.defaultMarkerGroup=null}return s()(t,[{key:"addPopup",value:function(e){var n=this,r=function(t){var e=null,n=null,r="popup-bottom";return n=t.closeButton?"".concat('<a href="javascript:;" class="popup-closer"></a>','<div class="popup-content">').concat(t.htmlText,"</div>"):'<div class="popup-content">'.concat(t.htmlText,"</div>"),l.a.isExistInPage(l.a.getDomById("popup"))?(e=l.a.getDomById("popup")).innerHTML=n:(t.tipPosition&&(r="popup-"+t.tipPosition),(e=document.createElement("div")).id="popup",e.className=r,e.innerHTML=n),{element:e,anchor:t.anchor,offset:t.offset}}(e),i=new u.a(r),o=e.point;i.setLngLat({lng:o[0],lat:o[1]});var s=i.getElement().getElementsByClassName("popup-closer")[0];if(i.getElement().classList.contains("popup-bottom")?i.getElement().style.top="-10px":i.getElement().classList.contains("popup-top")?i.getElement().style.top="10px":i.getElement().classList.contains("popup-left")?i.getElement().style.left="10px":i.getElement().classList.contains("popup-right")&&(i.getElement().style.left="-10px"),s&&!0===e.closeButton){var a=i.getId()+"_popup";s.setAttribute("id",a),s.addEventListener("click",function(){var t={popup:i.getId()};n.removePopup(t)})}return t.defaultMarkerGroup=t.defaultMarkerGroup||new c.b("popup"),t.defaultMarkerGroup.addOverlay(i),i.getId()}},{key:"removePopup",value:function(e){e.popup&&t.defaultMarkerGroup._overlays[e.popup]&&t.defaultMarkerGroup.removeOverlay(t.defaultMarkerGroup.getOverlay(e.popup))}},{key:"removeAllPopups",value:function(){if(c.a.groupDepts.popup){for(var e in c.a.groupDepts.popup){c.a.getGroupDepts("popup",e).clearOverlays()}c.a.clearGroupDepts("popup"),t.defaultMarkerGroup=null}}},{key:"getPopupContent",value:function(e){var n=e.popup?t.defaultMarkerGroup.getOverlay(e.popup):null;if(n){var r=n.getElement();if(r)return r.getElementsByClassName("popup-content")[0].innerHTML}}},{key:"setPopupsPropById",value:function(e){var n=e.id,r=e.point,i=e.htmlText;if(t.defaultMarkerGroup&&n){t.defaultMarkerGroup.getOverlay(n);var o=t.defaultMarkerGroup.getOverlay(e.id);if(o){var s=o.getElement();r&&o.setLngLat({lng:r[0],lat:r[1]}),i&&(s.getElementsByClassName("popup-content")[0].innerHTML=i)}}}}]),t}())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return d});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(435),u=(n.n(a),n(176)),c=n.n(u),l=n(18),A=n.n(l),h=n(432),p=n(431),f=n(424),g=(n(102),function(t){var e=document.createElement("div");return t.style?e.style.cssText=t.style:(e.style["background-position"]="center",e.style["background-repeat"]="no-repeat",e.style["border-radius"]="100%",e.style.cursor="pointer"),t.customOverlaysType&&e.classList.add(t.customOverlaysType),t.url&&(e.style["background-image"]="url('"+t.url+"')"),{element:e,anchor:t.anchor,offset:t.offset}}),d=function(){function t(){i()(this,t),this.defaultMarkerGroup=null}return s()(t,[{key:"addCustomOverlays",value:function(t){for(var e=t.data,n=[],r=0,i=e.length;r<i;r++){var o=g(t);e[r].customProps&&e[r].element.setAttribute("__customProps__",e[r].customProps),o.element.appendChild(t.data[r].element);var s=new h.a(o),a=e[r].point;s.setLngLat({lng:a[0],lat:a[1]}),n.push(s)}return new p.b("overlay",n).getGroupName()}},{key:"addCustomOverlay",value:function(e){var n=g(e);e.customProps&&n.element.setAttribute("__customProps__",e.customProps),n.element.appendChild(e.element);var r=new h.a(n),i=e.point;if(r.setLngLat({lng:i[0],lat:i[1]}),e.groupName){if(p.a.getGroupDeptsCount("overlay")>10)throw new Error("自定义group数量不能超过10个");var o=p.a.getGroupDepts("overlay",e.groupName);if(o)o.addOverlay(r);else{var s=new p.b("overlay",[r],e.groupName);console.log(s.getGroupName())}}else t.defaultMarkerGroup=t.defaultMarkerGroup||new p.b("overlay"),t.defaultMarkerGroup.addOverlay(r);return r.getId()}},{key:"removeCustomOverlayById",value:function(e){if(e.groupName){var n=p.a.getGroupDepts("overlay",e.groupName);if(!n)return;var r=e.id;if(A()(r))for(var i=0;i<r.length;i++){var o=r[i];n._overlays[o]&&n.removeOverlay(n.getOverlay(o))}else if(c()(r)){if(!n._overlays[r])return;n.removeOverlay(n.getOverlay(r))}}else{var s=e.id;if(!t.defaultMarkerGroup)return;if(A()(s))for(var a=0;a<s.length;a++){var u=s[a];t.defaultMarkerGroup._overlays[u]&&t.defaultMarkerGroup.removeOverlay(t.defaultMarkerGroup.getOverlay(u))}else if(c()(s)){if(!t.defaultMarkerGroup._overlays[s])return;t.defaultMarkerGroup.removeOverlay(t.defaultMarkerGroup.getOverlay(s))}}}},{key:"removeCustomOverlaysByType",value:function(t){var e=t.customOverlaysType,n=p.a.getGroupDepts("overlay",e);n&&(n.clearOverlays(),p.a.removeGroupDepts("overlay",e))}},{key:"setCustomOverlaysProperty",value:function(t){"customOverlaysType"===t.type?this.setCustomOverlaysByType(t):"id"===t.type&&this.setCustomOverlayById(t)}},{key:"addEvent",value:function(e){var n=e.selector,r=e.event,i=e.handler;if("#"===n[0]){if(t.defaultMarkerGroup){var o=n.slice(1),s=t.defaultMarkerGroup.getOverlay(o);s&&s.addEvent(r,i)}}else{if("."!==n[0])throw new Error("Please use the right selector to add marker event");var a=n.slice(1),u=p.a.getGroupDepts("overlay",a);if(!u)return;u.addEvent(r,i)}}},{key:"getCustomOverlaysByType",value:function(t){for(var e=f.a.getDomsByClass(t),n=[],r=0,i=e.length;r<i;r++){var o=this.getCustomOverlay(e[r].id);n.push(o)}return n}},{key:"removeEvent",value:function(e){var n=e.selector,r=e.event;if("#"===n[0]){if(t.defaultMarkerGroup){var i=n.slice(1),o=t.defaultMarkerGroup.getOverlay(i);o&&o.removeEvent(r)}}else{if("."!==n[0])throw new Error("Please use the right selector to remove marker event");var s=n.slice(1),a=p.a.getGroupDepts("overlay",s);if(!a)return;a.removeEvent(r)}}},{key:"setCustomOverlayById",value:function(e){if(e.groupName){var n=p.a.getGroupDepts("overlay",e.groupName);if(!n)return;var r=e.id,i=e.url,o=e.style,s=e.point,a=e.customProps;if(!r)return;var u=n.getOverlay(r);if(!u)return;var c=u.getElement();i&&(c.style["background-image"]="url('"+i+"')"),o&&(c.style.cssText+=o),s&&u.setLngLat({lng:s[0],lat:s[1]}),a&&u.setProperty(a)}else{var l=e.id,A=e.url,h=e.style,f=e.point,g=e.customProps;if(!t.defaultMarkerGroup)return;if(!l)return;var d=t.defaultMarkerGroup.getOverlay(l);if(!d)return;var y=d.getElement();A&&(y.style["background-image"]="url('"+A+"')"),h&&(y.style.cssText+=h),f&&d.setLngLat({lng:f[0],lat:f[1]}),g&&d.setProperty(g)}}},{key:"setCustomOverlaysByType",value:function(t){var e=t.customOverlaysType,n=t.url,r=t.style,i=t.customProps,o=p.a.getGroupDepts("overlay",e);if(o)for(var s=o.getOverlays(),a=0;a<s.length;a++){var u=s[a],c=u.getElement();n&&(c.style["background-image"]="url('"+n+"')"),r&&(c.style.cssText+=r),i&&u.setProperty(i)}}},{key:"setCustomOverlayDraggable",value:function(e){var n=e.id,r=e.draggable;if(t.defaultMarkerGroup&&n){var i=t.defaultMarkerGroup.getOverlay(n);i&&i.setDraggable(r)}}},{key:"setCustomOverlaysDraggable",value:function(t){var e=t.markerType,n=t.draggable,r=p.a.getGroupDepts("overlay",e);r&&r.setDraggable(n)}},{key:"getCustomOverlayById",value:function(e,n){if(n){var r=p.a.getGroupDepts("overlay",n);if(!r)return null;var i=r.getOverlay(e);if(i)return{element:i?i.getElement():null,point:i?i.getLngLat():null}}else{if(!t.defaultMarkerGroup)return null;var o=t.defaultMarkerGroup.getOverlay(e);if(o)return{element:o?o.getElement():null,point:o?o.getLngLat():null}}}},{key:"getCustomProps",value:function(e){if(t.defaultMarkerGroup){var n=t.defaultMarkerGroup.getOverlay(e);return n?n.getElement().getAttribute("__customprops__"):null}}},{key:"showCustomOverlayById",value:function(e){t.defaultMarkerGroup&&(t.defaultMarkerGroup.getOverlay(e.id).getElement().style.display="block")}},{key:"showCustomOverlaysByType",value:function(t){var e=p.a.getGroupDepts("overlay",t.type);if(e)for(var n in e._overlays)e._overlays[n].getElement().style.display="block"}},{key:"hideCustomOverlayById",value:function(e){t.defaultMarkerGroup.getOverlay(e.id).getElement().style.display="none"}},{key:"hideCustomOverlaysByType",value:function(t){var e=p.a.getGroupDepts("overlay",t.type);if(e)for(var n in e._overlays)e._overlays[n].getElement().style.display="none"}},{key:"removeAllCustomOverlays",value:function(){if(p.a.groupDepts.overlay){for(var e in p.a.groupDepts.overlay){p.a.getGroupDepts("overlay",e).clearOverlays()}p.a.clearGroupDepts("overlay"),t.defaultMarkerGroup=null}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return g});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(435),u=(n.n(a),n(176)),c=n.n(u),l=n(18),A=n.n(l),h=n(432),p=n(431),f=(n(102),function(t){var e=document.createElement("div");return t.customProps&&t.element.setAttribute("__customProps__",JSON.stringify(t.customProps)),t.url&&(e.style["background-image"]="url('"+t.url+"')"),t.style?e.style.cssText=t.style:(e.style["background-position"]="center",e.style["background-repeat"]="no-repeat",e.style.width="200px",e.style.height="40px",e.style.cursor="pointer"),t.textType&&e.classList.add(t.textType),e.innerHTML=t.htmlText,{element:e,anchor:t.anchor,offset:t.offset}}),g=function(){function t(){i()(this,t),this.defaultMarkerGroup=null}return s()(t,[{key:"addTexts",value:function(t){for(var e=t.points,n=[],r=0,i=e.length;r<i;r++){var o=f(t);o.element.innerHTML=e[r].htmlText;var s=new h.a(o),a=e[r].point;s.setLngLat({lng:a[0],lat:a[1]}),n.push(s)}return new p.b("text",n).getGroupName()}},{key:"addText",value:function(e){var n=f(e),r=new h.a(n),i=e.point;if(r.setLngLat({lng:i[0],lat:i[1]}),e.groupName){if(p.a.getGroupDeptsCount("text")>10)throw new Error("自定义group数量不能超过10个");var o=p.a.getGroupDepts("text",e.groupName);if(o)o.addOverlay(r);else{var s=new p.b("text",[r],e.groupName);console.log(s.getGroupName())}}else t.defaultMarkerGroup=t.defaultMarkerGroup||new p.b("text"),t.defaultMarkerGroup.addOverlay(r);return r.getId()}},{key:"removeTextById",value:function(e){if(e.groupName){var n=p.a.getGroupDepts("text",e.groupName);if(!n)return;var r=e.id;if(A()(r))for(var i=0;i<r.length;i++){var o=r[i];n._overlays[o]&&n.removeOverlay(n.getOverlay(o))}else if(c()(r)){if(!n._overlays[r])return;n.removeOverlay(n.getOverlay(r))}}else{var s=e.id;if(!t.defaultMarkerGroup)return;if(A()(s))for(var a=0;a<s.length;a++){var u=s[a];t.defaultMarkerGroup._overlays[u]&&t.defaultMarkerGroup.removeOverlay(t.defaultMarkerGroup.getOverlay(u))}else if(c()(s)){if(!t.defaultMarkerGroup._overlays[s])return;t.defaultMarkerGroup.removeOverlay(t.defaultMarkerGroup.getOverlay(s))}}}},{key:"removeTextsByType",value:function(t){var e=t.textType,n=p.a.getGroupDepts("text",e);n&&(n.clearOverlays(),p.a.removeGroupDepts("text",e))}},{key:"addEvent",value:function(e){var n=e.selector,r=e.event,i=e.handler;if("#"===n[0]){var o=n.slice(1);if(!t.defaultMarkerGroup)return;var s=t.defaultMarkerGroup.getOverlay(o);if(!s)return;s.addEvent(r,i)}else{if("."!==n[0])throw new Error("Please use the right selector to add marker event");var a=n.slice(1),u=p.a.getGroupDepts("text",a);if(!u)return;u.addEvent(r,i)}}},{key:"removeEvent",value:function(e){var n=e.selector,r=e.event;if("#"===n[0]){var i=n.slice(1);if(!t.defaultMarkerGroup)return;var o=t.defaultMarkerGroup.getOverlay(i);if(!o)return;o.removeEvent(r)}else{if("."!==n[0])throw new Error("Please use the right selector to remove marker event");var s=n.slice(1),a=p.a.getGroupDepts("text",s);if(!a)return;a.removeEvent(r)}}},{key:"removeAllTexts",value:function(){if(p.a.groupDepts.text){for(var e in p.a.groupDepts.text){p.a.getGroupDepts("text",e).clearOverlays()}p.a.clearGroupDepts("text"),t.defaultMarkerGroup=null}}},{key:"setTextPropertyById",value:function(e){if(e.groupName){var n=p.a.getGroupDepts("text",e.groupName);if(!n)return;var r=e.id,i=e.url,o=e.style,s=e.point,a=e.customProps;if(!r)return;var u=n.getOverlay(r);if(!u)return;var c=u.getElement();i&&(c.style["background-image"]="url('"+i+"')"),o&&(c.style.cssText+=o),s&&u.setLngLat({lng:s[0],lat:s[1]}),a&&u.setProperty(a)}else{if(!t.defaultMarkerGroup)return;var l=e.id,A=e.url,h=e.style,f=e.point,g=e.customProps;if(!l)return;var d=t.defaultMarkerGroup.getOverlay(l);if(!d)return;var y=d.getElement();A&&(y.style["background-image"]="url('"+A+"')"),h&&(y.style.cssText+=h),f&&d.setLngLat({lng:f[0],lat:f[1]}),g&&d.setProperty(g)}}},{key:"setTextsPropertyByType",value:function(t){var e=t.groupType,n=t.url,r=t.style,i=t.customProps,o=p.a.getGroupDepts("text",e);if(o)for(var s=o.getOverlays(),a=0;a<s.length;a++){var u=s[a],c=u.getElement();n&&(c.style["background-image"]="url('"+n+"')"),r&&(c.style.cssText+=r),i&&u.setProperty(i)}}},{key:"setTextDraggable",value:function(e){var n=e.id,r=e.draggable;if(t.defaultMarkerGroup&&n){var i=t.defaultMarkerGroup.getOverlay(n);i&&i.setDraggable(r)}}},{key:"setTextsDraggable",value:function(t){var e=t.markerType,n=t.draggable,r=p.a.getGroupDepts("text",e);r&&r.setDraggable(n)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"HeatMap",function(){return d});var r=n(30),i=(n.n(r),n(25)),o=(n.n(i),n(24)),s=(n.n(o),n(103)),a=(n.n(s),n(74)),u=n.n(a),c=n(101),l=n.n(c),A=n(102),h=n(1196),p=n(424),f=n(166);n(1197);var g=function(){function t(){u()(this,t),this.layerObj={}}return l()(t,[{key:"has",value:function(t){return!!this.layerObj[t]}},{key:"add",value:function(t){this.layerObj[t.layerId]||(this.layerObj[t.layerId]=t)}},{key:"remove",value:function(t){this.layerObj[t]&&(this.layerObj[t].clearHeatMap(),delete this.layerObj[t])}},{key:"clear",value:function(){this.removeAllLayer(),this.layerObj={}}},{key:"removeAllLayer",value:function(){var t=this;Object.keys(this.layerObj).forEach(function(e){t.layerObj[e].clearHeatMap()})}},{key:"get",value:function(t){return this.layerObj[t]}}]),t}(),d=function(){function t(){u()(this,t)}return l()(t,[{key:"heatMap",value:function(t){var e=this;if(this.layerType="heatmap",this.layerId=t.layerId,this.sourceId=t.sourceId,this.data=t.data,this.map=A.a.map.map,this.callback=t.ended,A.a.heatmapCollect||(A.a.heatmapCollect=new g),this.maxZoom=t.maxZoom||19,this.minZoom=t.minZoom||9,this.maxValue=t.maxValue||20,this.minValue=t.minValue||0,this.minRadius=t.minRadius||10,this.maxRadius=t.maxRadius||30,this.minIntensity=t.minIntensity||1,this.maxIntensity=t.maxIntensity||10,this.geojson=this.convertToGeojson(this.data),this.heatColor=["interpolate",["linear"],["heatmap-density"],0,"rgba(85,21,193,0)",.3,"rgba(25,148,203,0.7)",.5,"rgba(241,238,46,1)",1,"rgba(255,9,1,1)"],t.density&&f.a.isArray(t.density)&&(this.heatColor=["interpolate",["linear"],["heatmap-density"],0,"rgba(255,255,255,0)"],t.density.forEach(function(t){e.heatColor.push(t.count),e.heatColor.push(t.color)})),A.a.heatmapCollect.has(this.layerId)){var n=A.a.heatmapCollect.get(this.layerId);this.map.getSource(n.sourceId).setData(n.geojson)}else this.init(),A.a.heatmapCollect.add(this)}},{key:"init",value:function(){this.map.addSource(this.sourceId,{type:"geojson",data:this.geojson}),this.map.addLayer({id:this.layerId,type:"heatmap",source:this.sourceId,maxzoom:this.maxZoom,paint:{"heatmap-weight":["interpolate",["linear"],["get","value"],this.minValue,0,this.maxValue,1],"heatmap-intensity":["interpolate",["linear"],["zoom"],this.minZoom,this.minIntensity,this.maxZoom,this.maxIntensity],"heatmap-color":this.heatColor,"heatmap-radius":["interpolate",["linear"],["zoom"],this.minZoom,this.minRadius,this.maxZoom,this.maxRadius],"heatmap-opacity":["interpolate",["linear"],["zoom"],this.maxZoom-1,1,this.maxZoom,0]}})}},{key:"convertToGeojson",value:function(t){for(var e={type:"FeatureCollection",features:[]},n=0;n<t.length;n++){var r={geometry:{type:"Point",coordinates:[t[n][0],t[n][1]]},type:"Feature",properties:{value:t[n][2]||1}};e.features.push(r)}return e}},{key:"update",value:function(t){var e=A.a.heatmapCollect.get(t.layerId),n=this.convertToGeojson(t.data);this.map.getSource(e.sourceId).setData(n),t.maxValue&&A.a.map.map.setPaintProperty(t.layerId,"heatmap-weight",["interpolate",["linear"],["get","value"],this.minValue,0,t.maxValue,1]),t.maxRadius&&A.a.map.map.setPaintProperty(t.layerId,"heatmap-radius",["interpolate",["linear"],["zoom"],this.minZoom,this.minRadius,this.maxZoom,t.maxRadius])}},{key:"clearHeatMap",value:function(){var t=window.clearId,e=p.a.getDomsByClass("js-silder")[0];this.map.style&&this.map.getLayer(this.layerId)&&(t&&window.clearInterval(t),e&&e.parentNode.removeChild(e),this.map.removeLayer(this.layerId),this.map.removeSource(this.sourceId))}},{key:"realTimeHeatMap",value:function(t){this.heatMap(t)}},{key:"historyHeatMap",value:function(t){var e=1e3*parseInt(t.speed)||A.a.config.HIS_HEAT_SPEED,n=p.a.getDomById(A.a.userConfig.containerId),r=p.a.getDomsByClass("js-silder")[0],i=!0,o=this,s='<span class="silder-ctrl-puash"></span>';!1===t.timeAxis.auto&&(i=t.timeAxis.auto,s=""),r&&r.parentNode.removeChild(r);var a=window.clearId;a&&window.clearInterval(a);var u=p.a.createDomElement("div");return u.className="js-silder",u.style.top="120px",u.style.right="20px",u.innerHTML='<div class="js-silder-ctrl">'+s+'<span class="silder-ctrl-prev"></span><div class="silder-ctrl-main"></div><span class="silder-ctrl-next"></span></div>',n.appendChild(u),new h.a(document.querySelectorAll(".js-silder"),{auto:i,time:e,data:t.dataList,callback:function(e){t.data=t.dataList[e].data,o.heatMap(t)},conLen:t.timeAxis.conLen,titLen:t.timeAxis.titLen})}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return T});var r=n(75),i=(n.n(r),n(158)),o=n.n(i),s=n(157),a=n.n(s),u=n(163),c=n.n(u),l=n(159),A=n.n(l),h=n(30),p=(n.n(h),n(25)),f=(n.n(p),n(24)),g=(n.n(f),n(103)),d=(n.n(g),n(1200)),y=(n.n(d),n(434)),v=(n.n(y),n(74)),m=n.n(v),C=n(101),I=n.n(C),_=n(1201),b=n(1202),w=n(102),E=function(){function t(e){m()(this,t),this.name=e.name,this.location=e.location,this.markerColor=e.markerColor||e.color,this.markerRadius=e.markerRadius,this.map=e.map}return I()(t,[{key:"draw",value:function(t){var e=this.pixel=this.map.project(this.location);t.save(),t.beginPath(),t.fillStyle=this.markerColor,t.arc(e.x,e.y,this.markerRadius,0,2*Math.PI,!0),t.closePath(),t.fill(),t.textAlign="center",t.textBaseline="alphabetic",t.font="12px Microsoft YaHei",t.fillStyle=this.color,t.fillText(this.name,e.x,e.y-this.markerRadius-2),t.restore()}}]),t}(),B=function(){function t(e){m()(this,t),this.from=e.from,this.to=e.to,this.id=e.id,this.step=0,this.options=e.options,this.map=e.map,this.mode=e.options.lineMode||"bezier"}return I()(t,[{key:"getPointList",value:function(t,e){var n=[[t.x,t.y],[e.x,e.y]];if("bezier"===this.mode){var r=n[1][0],i=n[1][1];n[3]=[r,i],n[1]=this.getOffsetPoint(n[0],n[3]),n[2]=this.getOffsetPoint(n[3],n[0]),(n=this.smoothSpline(n,!1))[n.length-1]=[r,i]}else"direct"===this.mode&&(n=this.directLine(n));return n}},{key:"getOffsetPoint",value:function(t,e){var n,r,i,o=this.getDistance(t,e)/3,s=[t[0],t[1]];if(t[0]!=e[0]&&t[1]!=e[1]){var a=(e[1]-t[1])/(e[0]-t[0]);n=Math.atan(a)}else n=t[0]==e[0]?(t[1]<=e[1]?1:-1)*Math.PI/2:0;return t[0]<=e[0]?(n-=-.2,r=Math.round(Math.cos(n)*o),i=Math.round(Math.sin(n)*o),s[0]+=r,s[1]+=i):(n+=-.2,r=Math.round(Math.cos(n)*o),i=Math.round(Math.sin(n)*o),s[0]-=r,s[1]-=i),s}},{key:"directLine",value:function(t){var e=t.length,n=[],r=this.getDistance(t[0],t[1]),i=r/2;i=i<e?e:i;for(var o=(t[1][1]-t[0][1])/(t[1][0]-t[0][0]),s=Math.atan(o),a=t[0][0],u=t[0][1],c=0;c<i;c++){var l=r/i*c,A=Math.round(Math.cos(s)*l),h=Math.round(Math.sin(s)*l);t[0][0]<=t[1][0]?n.push([a+A,u+h]):n.push([a-A,u-h])}return n}},{key:"smoothSpline",value:function(t,e){for(var n=t.length,r=[],i=0,o=1;o<n;o++)i+=this.getDistance(t[o-1],t[o]);var s=i/2;s=s<n?n:s;for(var a=0;a<s;a++){var u,c,l,A=a/(s-1)*(e?n:n-1),h=Math.floor(A),p=A-h,f=t[h%n];e?(u=t[(h-1+n)%n],c=t[(h+1)%n],l=t[(h+2)%n]):(u=t[0===h?h:h-1],c=t[h>n-2?n-1:h+1],l=t[h>n-3?n-1:h+2]);var g=p*p,d=p*g;r.push([this.interpolate(u[0],f[0],c[0],l[0],p,g,d),this.interpolate(u[1],f[1],c[1],l[1],p,g,d)])}return r}},{key:"interpolate",value:function(t,e,n,r,i,o,s){var a=.5*(n-t),u=.5*(r-e);return(2*(e-n)+a+u)*s+(-3*(e-n)-2*a-u)*o+a*i+e}},{key:"getDistance",value:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}},{key:"drawMarker",value:function(t){this.from.draw(t),this.to.draw(t)}},{key:"drawLinePath",value:function(t){var e=this.path=this.getPointList(this.map.project(this.from.location),this.map.project(this.to.location)),n=e.length;if(t.save(),t.beginPath(),t.lineWidth=this.options.lineWidth,t.strokeStyle=this.options.colors[this.id],this.options.lineType&&"solid"!=this.options.lineType){if("dashed"==this.options.lineType||"dotted"==this.options.lineType)for(var r=1;r<n;r+=2)t.moveTo(e[r-1][0],e[r-1][1]),t.lineTo(e[r][0],e[r][1])}else{t.moveTo(e[0][0],e[0][1]);for(var i=0;i<n;i++)t.lineTo(e[i][0],e[i][1])}t.stroke(),t.restore(),this.step=0}},{key:"drawMoveCircle",value:function(t){var e=this.path||this.getPointList(this.map.project(this.from.location),this.map.project(this.to.location));t.save(),t.fillStyle=this.options.fillColor,t.shadowColor=this.options.shadowColor,t.shadowBlur=this.options.shadowBlur,t.beginPath(),t.arc(e[this.step][0],e[this.step][1],this.options.moveRadius,0,2*Math.PI,!0),t.fill(),t.closePath(),t.restore(),this.step+=1,this.step>=e.length&&(this.step=0)}}]),t}(),x=function(){function t(e){m()(this,t),this.map=e.map;var n=this.map._canvasContainer,r=this.map._canvas,i=this.canvas=document.createElement("canvas");i.style.position="absolute",i.className="overlay-canvas",i.width=parseInt(r.style.width),i.height=parseInt(r.style.height),n.appendChild(i);var o=this;return this.map.on("resize",function(){o.adjustSize()}),i}return I()(t,[{key:"adjustSize",value:function(){var t=this.canvas;t.width=this.map._canvas.width,t.height=this.map._canvas.height,t.style.width=this.map._canvas.style.width,t.style.height=this.map._canvas.style.height}}]),t}(),O=function(){function t(){m()(this,t),this.layerObj={}}return I()(t,[{key:"has",value:function(t){return!!this.layerObj[t]}},{key:"add",value:function(t){this.layerObj[t.layerId]||(this.layerObj[t.layerId]=t)}},{key:"remove",value:function(t){this.layerObj[t]&&(this.layerObj[t].remove(),delete this.layerObj[t])}},{key:"clear",value:function(){this.removeAllLayer(),this.layerObj={}}},{key:"removeAllLayer",value:function(){var t=this;Object.keys(this.layerObj).forEach(function(e){t.layerObj[e].remove()})}},{key:"get",value:function(t){return this.layerObj[t]}}]),t}(),T=function(t){function e(t){var n;m()(this,e);var r=(n=o()(this,a()(e).call(this))).options={markerRadius:3,markerColor:"#fff",lineType:"solid",lineWidth:1,colors:["#F9815C","#F8AB60","#EDCC72","#E2F194","#94E08A","#4ECDA5"],moveRadius:2,fillColor:"#fff",shadowColor:"#fff",shadowBlur:5,animation:!1};n.map=w.a.map.map,n.layerId=t.layerId,n.canvasCollect={},n.baseCanvas=null,n.animationCanvas=null,n.animationFlag=!0,n.flag=!0,n.markLines=[];var i=c()(n);return n.startFn=function(){i._startHandler()},n.endFn=function(){i._endHandler()},n.moveFn=function(){i._moveHandler()},w.a.relationMapCollect||(w.a.relationMapCollect=new O),w.a.relationMapCollect.has(n.layerId)||(n._init(r,t),w.a.relationMapCollect.add(c()(n))),n}return A()(e,t),I()(e,[{key:"_init",value:function(t,e){this.options=Object.assign(t,e),this.canvasCollect.markerRadius=t.markerRadius,this.canvasCollect.lineWidth=t.lineWidth,this.baseCanvas=new x({map:this.map}),this.animationCanvas=new x({map:this.map}),this._mouseInteract(),this._brush();var n=this,r=n.drawFrame=function(){n.flag&&(Object(_.a)(r),n._render())};this.options.animation&&r()}},{key:"_brush",value:function(){var t=this.baseCanvas.getContext("2d");t&&(this._addMarkLine(),t.clearRect(0,0,this.map._canvas.width,this.map._canvas.height),this.markLines.forEach(function(e){e.drawMarker(t),e.drawLinePath(t)}),this.canvasCollect.markLines=this.markLines)}},{key:"_render",value:function(){var t=this.animationCanvas.getContext("2d");if(t)if(this.animationFlag){t.fillStyle="rgba(0,0,0,.93)";var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-in",t.fillRect(0,0,this.map._canvas.width,this.map._canvas.height),t.globalCompositeOperation=e;for(var n=0;n<this.markLines.length;n++){this.markLines[n].drawMoveCircle(t)}}else t.clearRect(0,0,this.map._canvas.width,this.map._canvas.height)}},{key:"_mouseInteract",value:function(){this.map.on("movestart",this.startFn),this.map.on("moveend",this.endFn),this.map.on("zoomstart",this.startFn),this.map.on("zoomend",this.endFn),this.map.on("move",this.moveFn)}},{key:"_mouseOffInteract",value:function(){this.map.off("movestart",this.startFn),this.map.off("moveend",this.endFn),this.map.off("zoomstart",this.startFn),this.map.off("zoomend",this.endFn),this.map.off("move",this.moveFn)}},{key:"_startHandler",value:function(){this.animationFlag=!1}},{key:"_moveHandler",value:function(){this.animationFlag=!1,this._brush()}},{key:"_endHandler",value:function(){this.animationFlag=!0,this._brush()}},{key:"_addMarkLine",value:function(){this.markLines=[];var t=this;this.options.data.forEach(function(e,n){t.markLines.push(new B({id:n,from:new E({name:e.from.name,location:e.from.point,color:t.options.colors[n],markerColor:t.options.markerColor,markerRadius:t.options.markerRadius,map:t.map}),to:new E({name:e.to.name,location:e.to.point,color:t.options.colors[n],markerColor:t.options.markerColor,markerRadius:t.options.markerRadius,map:t.map}),options:t.options,map:t.map}))})}},{key:"update",value:function(t){for(var e in t)this.options[e]=t[e];this._brush(),this.animationCanvas.getContext("2d").clearRect(0,0,this.map._canvas.width,this.map._canvas.height)}},{key:"show",value:function(){this.baseCanvas&&(this.baseCanvas.style.display="block"),this.animationCanvas&&(this.animationCanvas.style.display="block")}},{key:"hide",value:function(){this.baseCanvas&&(this.baseCanvas.style.display="none"),this.animationCanvas&&(this.animationCanvas.style.display="none")}},{key:"remove",value:function(){this.drawFrame&&(this.flag=!1,this.drawFrame=null),this.baseCanvas&&(this.map._canvasContainer.removeChild(this.baseCanvas),this.baseCanvas=null),this.animationCanvas&&(this.map._canvasContainer.removeChild(this.animationCanvas),this.animationCanvas=null),this._mouseOffInteract()}}]),e}(b.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"RoadCondition",function(){return A});var r=n(105),i=(n.n(r),n(24)),o=(n.n(i),n(74)),s=n.n(o),a=n(101),u=n.n(a),c=n(102),l=n(156),A=function(){function t(){s()(this,t),this.layerId=null,this.timers=[]}return u()(t,[{key:"refresh",value:function(){var t=this,e=t.layerId;t.createLayer();var n=t.time/2;n=n>1e3?1e3:n;var r=setTimeout(function(){clearTimeout(r),r=null,e&&t.map.removeLayer(e)},n);t.timer=setTimeout(function(){clearTimeout(t.timer),t.timer=null,t.refresh()},this.time),this.timers.push(r),this.timers.push(this.timer)}},{key:"create",value:function(t){var e=this;this.map=c.a.map.map,this.isFetch=t.isFetch||!1,this.time=t.time||1e4,this.maxZoom=t.maxZoom||c.a.userConfig.maxZoom,this.minZoom=t.minZoom||c.a.userConfig.minZoom,e.createLayer(),this.isFetch&&(this.timer=setTimeout(function(){clearTimeout(e.timer),e.timer=null,e.refresh()},this.time),this.timers.push(this.timer))}},{key:"createLayer",value:function(){try{var t=c.a.config.TITLES+(new Date).getTime().toString()+"/?token="+c.a.config.ACCESSTOKEN+"/&solu="+c.a.config.SOLUTION,e=l.a.buildId((new Date).getTime())+"source",n=l.a.buildId((new Date).getTime())+"layer",r=c.a.layerCollect&&c.a.layerCollect.getFirst(),i=r&&r._getBasicLayer();this.map.addSource(e,{tiles:[t],type:"vector"});var o={id:n,source:e,"source-layer":c.a.config.SOURCE_LAYER,maxzoom:this.maxZoom,minzoom:this.minZoom,layout:{"line-join":"round",visibility:"visible","line-cap":"round"},paint:{"line-color":{stops:[[0,"#999999"],[1,"#66cc00"],[2,"#ff9900"],[3,"#cc0000"]],property:"status"},"line-width":{stops:[[5,.8],[20,6]],base:1.2}},type:"line"};this.layer=i?this.map.addLayer(o,i):this.map.addLayer(o),this.layerId=n}catch(t){}}},{key:"clear",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timers.length>0&&this.timers.forEach(function(t){return clearTimeout(t)}),this.layerId&&(this.map.removeLayer(this.layerId),this.layerId=null),this.isFetch=!1}},{key:"show",value:function(){if(this.isFetch){var t=this;this.timer=setTimeout(function(){clearTimeout(t.timer),t.timer=null,t.refresh()},t.time),this.timers.push(this.timer)}this.layerId&&this.map.setLayoutProperty(this.layerId,"visibility","visible")}},{key:"hide",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timers.length>0&&this.timers.forEach(function(t){return clearTimeout(t)}),this.layerId&&this.map.setLayoutProperty(this.layerId,"visibility","none")}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ContextMenu",function(){return A});var r=n(434),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(102),c=n(424),l=n(166),A=function(){function t(e){o()(this,t),this.data=e.data,this.map=u.a.map.map,this.build()}return a()(t,[{key:"build",value:function(){var t=this;this._containerContextMenu=c.a.createDomElement("div"),this._containerContextMenu.id="mapContextMenu",this._containerContextMenu.style.cursor="pointer",this._containerContextMenu.setAttribute("style","cursor: pointer; position: absolute; top: 0px; left: 0px; background-color: white; box-shadow: 2px 2px 10px #333333; display: none"),this.map.getContainer().appendChild(this._containerContextMenu),this._ul=c.a.createDomElement("ul"),this._ul.setAttribute("style","padding: 0px; margin:0px"),this._containerContextMenu.appendChild(this._ul),l.a.isArray(this.data)&&this.data.forEach(function(e){var n=c.a.createDomElement("li");n.setAttribute("style","list-style-type: none; padding: 5px 10px 5px 10px; white-space: nowrap"),n.onmouseover=function(){n.style.backgroundColor="#F5F5F5"},n.onmouseleave=function(){n.style.backgroundColor="white"},t._ul.appendChild(n),n.innerText=e.name,n.onclick=function(){e.handler()}}),this.map.on("contextmenu",this.show.bind(this)),this.map.on("click",this.hide.bind(this))}},{key:"show",value:function(t){this._containerContextMenu.style.top=t.point.y+"px",this._containerContextMenu.style.left=t.point.x+"px",this._containerContextMenu.style.display="block"}},{key:"hide",value:function(){this._containerContextMenu.style.display="none"}},{key:"remove",value:function(){this.map.getContainer().removeChild(this._containerContextMenu),this.map.off("contextmenu",this.show.bind(this)),this.map.off("click",this.hide.bind(this))}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"EagleControl",function(){return p});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(102),u=n(424),c=n(529),l=n.n(c),A=n(1203),h=n(156),p=function(){function t(e,n){i()(this,t),this.style=e,this.options={zoomLevelOffset:-5,width:200,height:150};var r=this;this.mainMapMoved=function(t){r.onMainMapMoved(t)},this.miniMapMoved=function(t){r.onMiniMapMoved(t)},this.miniMapClick=function(t){r.onMiniMapClick(t)}}return s()(t,[{key:"getDefaultPosition",value:function(){return"bottom-right"}},{key:"addEagle",value:function(t,e){var n=a.a.config.SATELLITE_STYLE;this._satelliteLayer=e,this._map=t;var r=a.a.userConfig.style;this._container=u.a.createDomElement("div"),this._container.id="minimap",this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._container.style.boxSizing="border-box",this._container.style.border="solid",this._container.style.borderColor="#B0B0B0",this._container.style.position="absolute",this._container.style.bottom="2px",this._container.style.right="0px",this._container.style.background="aliceblue";var i=a.a.userConfig,o=a.a.kedamap;t.getContainer().parentNode.appendChild(this._container);var s=this._satelliteLayer;if(s){var c=s.layers[0].id;this._map.style._layers[c]&&"visible"===this._map.style._layers[c].visibility&&(r=n)}this._miniMap=new o.Map({container:"minimap",style:r,maxZoom:i.maxZoom,minZoom:i.minZoom,doubleClick:!1,click:!1,center:this._map.getCenter(),zoom:this.getZoom(),pitch:i.pitch,bearing:i.bearing,maxTileCacheSize:i.maxTileCacheSize,preserveDrawingBuffer:i.preserveDrawingBuffer||!0,transformRequest:function(t,e){if("Tile"!==e)return{url:t};var n="";if(a.a.config&&a.a.config.TOKEN){var r="".concat(a.a.config.TOKEN,"-").concat((new Date).getTime()).concat(Object(h.b)());n=btoa(r)}return{url:t,headers:{Authorization:n}}}}),t.overviewMapInstance=this._miniMap,t.overviewMap=!0;var p=this;p._miniMap.scrollZoom.disable(),p._miniMap.dragPan.disable(),p._miniMap.dragRotate.disable(),p._miniMap.doubleClickZoom.disable(),setTimeout(function(){var e=u.a.createDomElement("div");if(!t.overviewMap)return!1;t.overviewMapInstance.getCanvas().style.cursor="";var n=t.getBounds(),r=t.overviewMapInstance.project(n.getSouthWest()),i=t.overviewMapInstance.project(n.getNorthEast());i.y<=45&&(i=new l.a(i.x,45)),r.x<=45&&(r=new l.a(45,r.y)),e.style.boxSizing="border-box",e.style.top=Math.round(i.y)+"px",e.style.left=Math.round(r.x)+"px",e.style.width=Math.round(200-2*r.x)+"px",e.style.height=Math.round(150-2*i.y)+"px",e.style.border="2px solid red",e.style.position="absolute",p._container.appendChild(e);var o=2*Math.round(r.x),s=2*Math.round(i.y);var a=p._container,c=e;new A.a(o,s,function(t,n){if(t-Math.round(r.x)!=0||n-Math.round(i.y)!=0){var o=p._miniMap.unproject([t-Math.round(r.x)+97.5,n-Math.round(i.y)+73]);p._map.flyTo({center:o,bearing:p._miniMap.getBearing()}),p._miniMap.flyTo({center:o,bearing:p._miniMap.getBearing()}),e.style.top=Math.round(i.y)+"px",e.style.left=Math.round(r.x)+"px"}},a,c)},1e3);var f=a.a.map,g=setInterval(function(){if(f){if(f._map.isStyleLoaded()){clearInterval(g);var t=f._map.style._layers["__kmap-image-layer__"];if(t&&"visible"===t.visibility){var e=a.a.config.SATELLITE_URL;p._miniMap.addSource("__kmap-image-source__",{type:"raster",tiles:[e],tileSize:256}),p._miniMap.addLayer({id:"__kmap-image-layer__",type:"raster",source:"__kmap-image-source__",minzoom:a.a.config.MIN_ZOOM,maxzoom:a.a.config.MAX_ZOOM,layout:{visibility:"visible"}})}}}else clearInterval(g)},1e3);return f.addEvent("moveend",this.mainMapMoved),this._miniMap.on("moveend",this.miniMapMoved),this._miniMap.on("click",this.miniMapClick),this._container}},{key:"removeEagle",value:function(t){a.a.map.removeEvent("moveend",this.mainMapMoved),delete t.overviewMapInstance,delete t.overviewMap,this._container.parentNode.removeChild(this._container),this._map=void 0,this._miniMap=void 0}},{key:"checkMiniMapStyle",value:function(t,e,n){if(!0===e){this._miniMap.setStyle(t.getStyle());var r=this._miniMap.style._layers;for(var i in r)"__kmap-image-layer__"===i?this._miniMap.setLayoutProperty("__kmap-image-layer__","visibility","visible"):this._miniMap.setLayoutProperty(i,"visibility","none");this.style=this._miniMap.style}if(!1===e){var o=this._miniMap.style._layers;for(var s in o)this._miniMap.setLayoutProperty(s,"visibility","none");for(var a in n)this._miniMap.setLayoutProperty(n[a].id,"visibility","visible");this.style=this._miniMap.style}}},{key:"onMainMapMoved",value:function(){if(!this.mouseInEagle){var t=this._map.getCenter(),e=this.getZoom();this._miniMap.setCenter(t),this._miniMap.setZoom(e);var n=this.getMapRect();!0===this._miniMap.isStyleLoaded()&&this._miniMap.getSource("eagleRect")&&this._miniMap.getSource("eagleRect").setData(n)}}},{key:"getZoom",value:function(){var t=this._map.getZoom()+this.options.zoomLevelOffset;return t=t>0?t:0}},{key:"getMapRect",value:function(){var t=this._map.getBounds(),e=t.getSouthWest().toArray(),n=t.getNorthWest().toArray();return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[e,t.getSouthEast().toArray(),t.getNorthEast().toArray(),n,e]]}}]}}},{key:"onMiniMapMoved",value:function(){if(this.mouseInEagle){this._miniMap.getCenter();var t=this._miniMap.getCenter(),e=this._miniMap.getZoom()-this.options.zoomLevelOffset;e=e<0?0:e,this._map.setCenter(t),this._map.setZoom(e)}}},{key:"onMiniMapClick",value:function(t){this._miniMap.setCenter(t.lngLat),this._map.setCenter(t.lngLat)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return l});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(102),u=n(1204),c=n(1206),l=(n.n(c),function(){function t(e){i()(this,t),this.historyStyle=e.historyStyle,this.currentStyle=e.currentStyle,this.minemap=a.a.minemap,this.beforeMap=null,this.afterMap=null,this.currentSource={},this.historySourceName=[],this.center=e.center,this.zoom=e.zoom,this.buildMaps()}return s()(t,[{key:"buildMaps",value:function(){this.beforeMap=a.a.map.map,this.center?this.beforeMap.setCenter(this.center):this.center=this.beforeMap.getCenter(),this.zoom?this.beforeMap.setZoom(this.zoom):this.zoom=this.beforeMap.getZoom();var t=document.createElement("div");t.id="aftermap",t.setAttribute("style","position: absolute;top: 0px; bottom: 0px; width: 100%; height: 100%"),this.beforeMap.getContainer().parentNode.appendChild(t);var e={version:8,name:"imageRaster",sources:{},layers:[]};if(this.currentStyle){if(Array.isArray(this.currentStyle)){for(var n=0,r=this.currentStyle.length;n<r;n++){var i={type:"raster",tiles:[this.currentStyle[n]],tileSize:256},o="currentRasterImageSource"+n,s={id:o,type:"raster",source:o};this.currentSource[o]=i,e.layers.push(s)}e.sources=this.currentSource}this.currentStyle.constructor===Object&&(e=this.currentStyle)}var u=a.a.userConfig;if(this.afterMap=new a.a.kedamap.Map({container:t.id,center:this.center,style:e,maxZoom:u.maxZoom,minZoom:u.minZoom,zoom:this.zoom}),this.historyStyle&&Array.isArray(this.historyStyle))for(var c=0,l=this.historyStyle.length;c<l;c++){var A="historyRasterImageSource"+c;this.historySourceName.push(A),this.beforeMap.getSource(A)&&this.beforeMap.removeSource(A),this.beforeMap.addSource(A,{type:"raster",tiles:[this.historyStyle[c]],tileSize:256}),this.beforeMap.addLayer({id:A,type:"raster",source:A})}}},{key:"remove",value:function(){for(var t in this.afterMap.remove(),this.beforeMap.getContainer().removeChild(document.getElementsByClassName("mapboxgl-compare")[0]),this.afterMap.getContainer().parentNode.removeChild(this.afterMap.getContainer()),this.historySourceName)this.beforeMap.removeLayer(this.historySourceName[t]);a.a.swipeMap=null}},{key:"compare",value:function(){return new u.a(this.beforeMap,this.afterMap)}}]),t}())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return S});var r=n(167),i=(n.n(r),n(104)),o=(n.n(i),n(30)),s=(n.n(o),n(25)),a=(n.n(s),n(24)),u=(n.n(a),n(103)),c=(n.n(u),n(75)),l=(n.n(c),n(164)),A=n.n(l),h=n(165),p=(n.n(h),n(160)),f=(n.n(p),n(161)),g=(n.n(f),n(74)),d=n.n(g),y=n(101),v=n.n(y),m=n(102),C=n(422),I=n(505),_=n(156),b=n(386),w=n(415),E=n(431),B=n(432),x=n(576),O=n(420);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var N={radius:60,maxzoom:17,log:!1,extent:256,showCount:!0},S=function(){function t(e){d()(this,t),this.updateEventName="cluster.update",this.map=m.a.map.map,this.opts=_.a.objectAssign({},N,e),_.a.objectAssign(this,e),this.layerId="overlay_group_".concat(Object(_.b)()),this.needReBind=!1,this.OverlayGroup=new E.b("marker",[],this.layerId),this.realTimeUpdateInterval=15e3,this.requestPolygon=b.a.getCurrentBoundsByScreen(this.map).geometry,this.pollingRequest=!0,this.layerRemoved=!1,this.EventEmitter=new C.a,this.fetchAggFields=["imgUrl"],_.a.bindAll(["updateMarkers","_onLoadDataSuccess","_onxhrerror","fadeOut","loadData","removeLayer","promiseInterval","frontendCluster","_onmoveend"],this),this._init(),m.a.layerCollect||(m.a.layerCollect=new x.a),m.a.layerCollect.add(this)}return v()(t,[{key:"_init",value:function(){this.promiseInterval(),m.a.map.addEvent("moveend",this._onmoveend)}},{key:"_onmoveend",value:function(){this.pollingRequest=!1,this.promiseInterval()}},{key:"promiseInterval",value:function(t){var e=this,n=Number(this.map.getZoom().toFixed(1)),r=b.a.getCurrentBoundsByScreen(this.map);!t&&this._zoom&&this.requestPolygon&&Math.abs(10*n-10*this._zoom)<3&&b.a.booleanWithin(r,this.requestPolygon)||(this.request?this.nextRequest=function(){O.a.loadData(e,e._onLoadDataSuccess)}:(this.requestPolygon=b.a.getCurrentBoundsByScreen(this.map,w.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Number(this.map.getZoom().toFixed(1)),O.a.loadData(this,this._onLoadDataSuccess)))}},{key:"resetRequest",value:function(){this.request=null,this.nextRequest&&(this.nextRequest(),this.nextRequest=null)}},{key:"_onLoadDataSuccess",value:function(t){var e=this;if(!this.layerRemoved){this._removeBounds();var n=t.code,r=t.result.data;if("100"==n){var i=r.map(function(t){return e._toGeojson(t)});this.frontendCluster(i,n)}else"101"==n&&this.frontendCluster(r,n);this.resetRequest(),this.opts.realTimeUpdate&&this.pollingRequest&&setTimeout(function(){e.pollingRequest=!0,e.promiseInterval("realTimeUpdate")},this.realTimeUpdateInterval)}}},{key:"_onxhrerror",value:function(t){console.error(t),this.resetRequest()}},{key:"frontendCluster",value:function(t,e){m.a.supercluster||(m.a.supercluster={});var n=this.map.getMaxZoom(),r=m.a.config.AGGS_CONFIG;r&&r.kfront&&(n=Number(r.kfront.split(",")[1])),m.a.supercluster[this.layerId]=new I.a({log:this.opts.log,radius:this.opts.radius,extent:this.opts.extent,maxZoom:n,initial:function(){return{aggsCount:0,imgUrl:""}},map:function(t){return{aggsCount:t.aggsCount||1,imgUrl:t.imgUrl}},reduce:function(t,e){t.aggsCount+=e.aggsCount,t.imgUrl=e.imgUrl}}),m.a.supercluster[this.layerId].load(t),this.updateMarkers(e)}},{key:"updateMarkers",value:function(t){var e=this,n=parseInt(this.map.getZoom()),r=b.a.bbox(this.requestPolygon),i=m.a.supercluster[this.layerId].getClusters(r,n);this._removeBounds();var o=[];i=i.map(function(n){var r={};return r="101"==t?e._createMarkerBackend(n,t):e._createMarker(n,t),o.push(r),n}),this.opts.completed&&(this.opts.completed(this.layerId),delete this.opts.completed),this.bindUpdate&&n<this.opts.maxzoom&&this.emitClusterLayerUpdateEvent({clusters:i}),this.needReBind&&this.addMarkerLayerEvent(this.eventOpts)}},{key:"_createMarker",value:function(t,e){var n=t.geometry.coordinates,r=t.properties,i=document.createElement("div"),o=this.opts.markerHtml;r.aggsCount&&r.aggsCount>1?(r.imgUrl&&(o=o.replace("{{IMGURL}}",r.imgUrl)),this.opts.showCount&&(o=o.replace("{{COUNT}}",r.aggsCount||1))):(this.opts.unClusterMarker&&(o=this.opts.unClusterMarker),this.opts.markerFilters&&this.opts.markerFilters.length>0&&this.opts.markerFilters.map(function(t){t.markerHtml&&t.filters&&t.filters.length>0&&(t.filters.every(function(t){return r[t.key]===t.value})&&(o=t.markerHtml))}),r.imgUrl&&(o=o.replace("{{IMGURL}}",r.imgUrl)),this.opts.showCount&&(o=o.replace("{{COUNT}}",1))),i.innerHTML=o,i.classList.add(this.collectType),i.setAttribute("_anchor","translate(-50%,-50%)"),r.layerId=this.layerId,r.clusterType=e,r.coordinates=n;var s=new B.a({element:i});return s.setProperty(JSON.stringify(r)),s.setLngLat(n),this.OverlayGroup.addOverlay(s),s}},{key:"_createMarkerBackend",value:function(t,e){var n=t.geometry.coordinates,r=t.properties,i=document.createElement("div"),o=this.opts.markerHtml;r.aggsCount&&r.aggsCount>1?r.imgUrl&&(o=o.replace("{{IMGURL}}",r.imgUrl)):(this.opts.unClusterMarker&&(o=this.opts.unClusterMarker),this.opts.markerFilters&&this.opts.markerFilters.length>0&&this.opts.markerFilters.map(function(t){t.markerHtml&&t.filters&&t.filters.length>0&&(t.filters.every(function(t){return r[t.key]===t.value})&&(o=t.markerHtml))}),r.imgUrl&&(o=o.replace("{{IMGURL}}",r.imgUrl))),this.opts.showCount&&(o=o.replace("{{COUNT}}",r.aggsCount||1)),i.innerHTML=o,i.classList.add(this.collectType),i.setAttribute("_anchor","translate(-50%,-50%)"),r.layerId=this.layerId,r.clusterType=e,r.coordinates=n,r.bbox=this.requestPolygon,r.userTerms=this.opts.mixTerms||[];var s=new B.a({element:i});return s.setProperty(JSON.stringify(r)),s.setLngLat(n),this.OverlayGroup.addOverlay(s),s}},{key:"_toGeojson",value:function(t){return"string"==typeof t.locationpoint&&(t.locationpoint=JSON.parse(t.locationpoint)),{geometry:{coordinates:t.locationpoint,type:"Point"},type:"Feature",properties:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(n,!0).forEach(function(e){A()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t)}}},{key:"_removeBounds",value:function(){var t=E.a.getGroupDepts("marker",this.layerId);this.needReBind&&t&&t.clearEvents(),t&&t.clearOverlays()}},{key:"fadeOut",value:function(t){this.opts.animate?function(){for(var e=100,n=0;n<10;n++)setTimeout(function(){(e-=10)<=0?t.removeFromMap():t._element.style.opacity=e/100},30*n)}():t.removeFromMap()}},{key:"removeLayer",value:function(){this.layerRemoved=!0,this.request&&(this.request.abort(),this.request=null);var t=E.a.getGroupDepts("marker",this.layerId);t&&(t.clearOverlays(),t.clearEvents()),m.a.map.removeEvent("moveend",this._onmoveend),this.removeClusterLayerUpdateEvent(),this.pollingRequest=!1}},{key:"addMarkerLayerEvent",value:function(t){var e=this;this.eventOpts=t;var n=t.layerId,r=t.event,i=t.handler;if(r.indexOf("drag")>-1)console.log("聚合覆盖物，不支持drag事件");else{var o=E.a.getGroupDepts("marker",n);o&&(o.addEvent(r,function(t){var n=t.currentTarget.getAttribute("__customProps__"),r=JSON.parse(n),o=r.cluster,s=r.coordinates,a=r.bbox,u=r.userTerms,c=r.clusterType,l={type:"aggs",data:[],location:s,bbox:a,userTerms:u||[],isPublic:e.isPublic};if(o){var A=r.cluster_id,h=r.layerId;if(m.a.supercluster&&m.a.supercluster[h]){var p=m.a.supercluster[h].getLeaves(+A,1/0);"101"==c?l.data=p.map(function(t){return"string"==typeof t.properties.aggsValue&&t.properties.aggsValue.indexOf("[")>-1&&(t.properties.aggsValue=JSON.parse(t.properties.aggsValue)),{aggsName:t.properties.aggsName,aggsValue:t.properties.aggsValue}}):"100"==c&&(l.type="details",delete l.bbox,l.data=p.map(function(t){return t.properties})),i(Object.assign(t,{features:p}),l)}}else{if(r.aggsCount&&r.aggsCount>1)r.aggsValue.indexOf("[")>-1&&(r.aggsValue=JSON.parse(r.aggsValue)),l.data=[{aggsName:r.aggsName,aggsValue:r.aggsValue}];else{l.type="details";var f=_.a.objectAssign({},r);delete l.location,delete l.bbox,l.data=[f]}i(t,l)}}),"mouseover"!==r&&"mouseenter"!==r&&"mousemove"!==r&&"mouseout"!==r||(this.needReBind=!0))}}},{key:"removeMarkerLayerEvent",value:function(t){var e=t.layerId,n=t.event,r=E.a.getGroupDepts("marker",e);r&&(r.removeEvent(n),this.needReBind=!1)}},{key:"addClusterLayerUpdateEvent",value:function(t){this.EventEmitter.on(this.updateEventName,t),this.bindUpdate=!0}},{key:"removeClusterLayerUpdateEvent",value:function(){this.EventEmitter.off(this.updateEventName),this.bindUpdate=!1}},{key:"emitClusterLayerUpdateEvent",value:function(t){this.EventEmitter.emit(this.updateEventName,t)}}]),t}();m.a.modules.ClusterOverlay=function(){var t=m.b.get(window.__currentCtx__)||{};return t.ClusterOverlay=t.ClusterOverlay||S,m.b.set(window.__currentCtx__,t),t.ClusterOverlay}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return c});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=(n(102),n(1208)),c=function(){function t(){o()(this,t),this.instance=null}return a()(t,[{key:"create",value:function(t){var e=this,n=new u.a(Object.assign({},t,{oncreated:function(r){e.instance=n,t.res=r},onerror:function(e){t.res={type:"error",message:e.message}}}))}},{key:"remove",value:function(t){var e=this,n=this.instance;if(!n)throw new Error("History playback is not exist.");n.destroy(function(n,r){n?t.res={type:"error",message:n.message}:(e.instance=null,t.res="Success")})}},{key:"addActorEvent",value:function(t){var e=this.instance;if(!e)throw new Error("History playback is not exist.");e.addActorEvent(t.event,t.handler)}},{key:"removeActorEvent",value:function(t){var e=this.instance;if(!e)throw new Error("History playback is not exist.");e.removeActorEvent(t.event)}},{key:"pauseHistoryTrack",value:function(t){var e=this.instance;if(!e)throw new Error("History playback is not exist.");e.controller.pause()}},{key:"playHistoryTrack",value:function(t){var e=this.instance;if(!e)throw new Error("History playback is not exist.");e.controller.run()}},{key:"replayHistoryTrack",value:function(t){var e=this.instance;if(!e)throw new Error("History playback is not exist.");e.controller.rerun()}},{key:"setHistoryTrackProgressBy",value:function(t){var e=this.instance;if(!e)throw new Error("History playback is not exist.");e.setHistoryTrackProgressBy(t.duration)}},{key:"setHistoryTrackProgressTo",value:function(t){var e=this.instance;if(!e)throw new Error("History playback is not exist.");e.setHistoryTrackProgressTo(t.duration)}},{key:"setHistoryTrackPerspective",value:function(t){var e=this.instance;if(!e)throw new Error("History playback is not exist.");e.setHistoryTrackPerspective(t)}},{key:"addHistoryTrackByGbid",value:function(t){var e=this.instance;if(!e)throw new Error("History playback is not exist.");e.addHistoryTrackByGbid(t.gbid,function(e,n){t.res=e?{type:"error",message:e.message}:n.gbidList})}},{key:"removeHistoryTrackByGbid",value:function(t){var e=this.instance;if(!e)throw new Error("History playback is not exist.");e.removeHistoryTrackByGbid(t.gbid,function(e,n){t.res=e?{type:"error",message:e.message}:n.gbidList})}},{key:"setHistoryTrackPlaybackTime",value:function(t){var e=this.instance;if(!e)throw new Error("History playback is not exist.");e.setHistoryTrackPlaybackTime(t.startTime,t.endTime,function(e,n){t.res=e?{type:"error",message:e.message}:n.gbidList})}},{key:"clear",value:function(){var t=this,e=this.instance;this.instance&&e.destroy(function(){t.instance=null})}}]),t}()},function(t,e,n){"use strict";var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame,i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame;e.a=function(t){var e=r(t);return{cancel:function(){return i(e)}}}},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCIgdmlld0JveD0iMCAwIDIwIDIwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5mb2xsb3c8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSLop4bpopHmkq3mlL4iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMeWOhuWPsui9qOi/uS1jb3B5LTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01ODMuMDAwMDAwLCAtOTYyLjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMTMtQ29weSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDI0LjAwMDAwMCwgOTMyLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0xMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzAuMDAwMDAwLCAxOC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImZvbGxvdyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTI4LjAwMDAwMCwgMTEuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMC42MTQ1ODczLDExIEwyMC42MTQ1ODczLDExIEMyMC42MTQ1ODczLDUuNjkwMDA2MTggMTYuMzA5OTkzOCwxLjM4NTQxMjY4IDExLDEuMzg1NDEyNjggTDExLDEuMzg1NDEyNjggTDExLDEuMzg1NDEyNjggTDExLDEuMzg1NDEyNjggTDExLDEuMzg1NDEyNjggQzUuNjkwMDA2MTgsMS4zODU0MTI2OCAxLjM4NTQxMjY4LDUuNjkwMDA2MTYgMS4zODU0MTI2OCwxMSBMMS4zODU0MTI2OCwxMSBMMS4zODU0MTI2OCwxMSBMMS4zODU0MTI2OCwxMSBMMS4zODU0MTI2OCwxMSBDMS4zODU0MTI2OCwxNi4zMDk5NzE4IDUuNjg5OTYyMiwyMC42MTQ1NDMzIDEwLjk5OTkxMiwyMC42MTQ1ODczIEMxMC45OTk5MzQsMjAuNjE0NTg3MyAxMC45OTk5NzgsMjAuNjE0NTg3MyAxMSwyMC42MTQ1ODczIEwxMSwyMC42MTQ1ODczIEMxMS4wMDAwMjIsMjAuNjE0NTg3MyAxMS4wMDAwNjU5LDIwLjYxNDU4NzMgMTEuMDAwMDg3OSwyMC42MTQ1ODczIEMxNi4zMTAwMzc4LDIwLjYxNDU0MzMgMjAuNjE0NTg3MywxNi4zMDk5NzE4IDIwLjYxNDU4NzMsMTEgTDIwLjYxNDU4NzMsMTEgTDIwLjYxNDU4NzMsMTEgTDIwLjYxNDU4NzMsMTEgWiBNMjAuMjAxODM5MiwxMC4zNTE4NTc0IEMyMC4xMDk1Njc3LDEwLjMwODM0ODkgMjAuMDA2NzQzNCwxMC4yODM4NTc1IDE5Ljg5ODQ0NDgsMTAuMjgzODU3NSBMMTcuNjIxODAwNCwxMC4yODM4NTc1IEMxNy4yODk2NzE2LDcuMTc3NjQ5NTUgMTQuODIyMzUwNCw0LjcxMDMyODM5IDExLjcxNjE0MjUsNC4zNzgxOTk1OSBMMTEuNzE2MTQyNSwyLjEwMTU1NTE2IEMxMS43MTYxNDI1LDEuOTkzMjU2NTkgMTEuNjkxNjUxMSwxLjg5MDQzMjMxIDExLjY0ODE0MjYsMS43OTgxNjA4NSBDMTYuMjI2MDc2NywyLjExNTkzMzQgMTkuODg0MDY2Niw1Ljc3MzkyMzI5IDIwLjIwMTgzOTIsMTAuMzUxODU3NCBaIE0xMC4yODM4NTc1LDYuOTkyMDI5NDEgQzguNjA5NjI2NjcsNy4yODkxNTc5NSA3LjI4OTE3OTkzLDguNjA5NjI2NjcgNi45OTIwMjk0MSwxMC4yODM4NTc1IEw1LjMwMTYxNzUxLDEwLjI4Mzg1NzUgQzUuNjI0OTUyMjksNy42ODQ4NDU2NyA3LjY4NDg0NTcsNS42MjQ5NTIyOSAxMC4yODM4NTc1LDUuMzAxNjE3NTEgTDEwLjI4Mzg1NzUsNi45OTIwMjk0MSBaIE02Ljk5MjAyOTQxLDExLjcxNjE0MjUgQzcuMjg5MTU3OTUsMTMuMzkwMzczMyA4LjYwOTYyNjY3LDE0LjcxMDgyMDEgMTAuMjgzODU3NSwxNS4wMDc5NzA2IEwxMC4yODM4NTc1LDE2LjY5ODM4MjUgQzcuNjg0ODQ1NjcsMTYuMzc1MDQ3NyA1LjYyNDkzMDI5LDE0LjMxNTE1NDMgNS4zMDE2MTc1MSwxMS43MTYxNDI1IEw2Ljk5MjAyOTQxLDExLjcxNjE0MjUgWiBNMTEuNzE2MTQyNSwxNS4wMDc5NDg2IEMxMy4zOTAzNzMzLDE0LjcxMDgyMDEgMTQuNzEwODIwMSwxMy4zOTAzNTEzIDE1LjAwNzk3MDYsMTEuNzE2MTIwNSBMMTYuNjk4MzgyNSwxMS43MTYxMjA1IEMxNi4zNzUwNDc3LDE0LjMxNTEzMjMgMTQuMzE1MTU0MywxNi4zNzUwMjU3IDExLjcxNjE0MjUsMTYuNjk4MzYwNSBMMTEuNzE2MTQyNSwxNS4wMDc5NDg2IFogTTE1LjAwNzk3MDYsMTAuMjgzODU3NSBDMTQuNzEwODQyMSw4LjYwOTYyNjY3IDEzLjM5MDM3MzMsNy4yODkxNzk5MyAxMS43MTYxNDI1LDYuOTkyMDI5NDEgTDExLjcxNjE0MjUsNS4zMDE2MTc1MSBDMTQuMzE1MTU0Myw1LjYyNDk1MjI5IDE2LjM3NTA0NzcsNy42ODQ4NDU3IDE2LjY5ODM4MjUsMTAuMjgzODU3NSBMMTUuMDA3OTcwNiwxMC4yODM4NTc1IFogTTEwLjM1MTg1NzQsMS43OTgxNjA4NSBDMTAuMzA4MzI3LDEuODkwNDMyMjkgMTAuMjgzODU3NSwxLjk5MzI1NjU3IDEwLjI4Mzg1NzUsMi4xMDE1NTUxNiBMMTAuMjgzODU3NSw0LjM3ODIyMTU3IEM3LjE3NzY0OTU1LDQuNzEwMzI4MzkgNC43MTAzMjgzOSw3LjE3NzY0OTU1IDQuMzc4MTk5NTksMTAuMjgzODU3NSBMMi4xMDE1NTUxNiwxMC4yODM4NTc1IEMxLjk5MzI1NjU5LDEwLjI4Mzg1NzUgMS44OTA0MzIzMSwxMC4zMDgzNDg5IDEuNzk4MTYwODUsMTAuMzUxODU3NCBDMi4xMTU5MzM0LDUuNzczOTIzMjkgNS43NzM5MjMyOSwyLjExNTkzMzQgMTAuMzUxODU3NCwxLjc5ODE2MDg1IFogTTEuNzk4MTYwODUsMTEuNjQ4MTQyNiBDMS44OTA0MzIyOSwxMS42OTE2NTExIDEuOTkzMjU2NTcsMTEuNzE2MTQyNSAyLjEwMTU1NTE2LDExLjcxNjE0MjUgTDQuMzc4MTk5NTksMTEuNzE2MTQyNSBDNC43MTAzMjg0MSwxNC44MjIzNTA0IDcuMTc3NjQ5NTUsMTcuMjg5NjcxNiAxMC4yODM4NTc1LDE3LjYyMTgwMDQgTDEwLjI4Mzg1NzUsMTkuODk4NDY2OCBDMTAuMjgzODU3NSwyMC4wMDY3NjU0IDEwLjMwODM0ODksMjAuMTA5NTg5NyAxMC4zNTE4NTc0LDIwLjIwMTg2MTEgQzUuNzczOTIzMjksMTkuODg0MDY2NiAyLjExNTkzMzQsMTYuMjI2MDc2NyAxLjc5ODE2MDg1LDExLjY0ODE0MjYgWiBNMTEuNjQ4MTQyNiwyMC4yMDE4MzkyIEMxMS42OTE2NzMsMjAuMTA5NTY3NyAxMS43MTYxNDI1LDIwLjAwNjc0MzQgMTEuNzE2MTQyNSwxOS44OTg0NDQ4IEwxMS43MTYxNDI1LDE3LjYyMTgwMDQgQzE0LjgyMjM1MDQsMTcuMjg5NjcxNiAxNy4yODk2NzE2LDE0LjgyMjM1MDQgMTcuNjIxODAwNCwxMS43MTYxNDI1IEwxOS44OTg0NjY4LDExLjcxNjE0MjUgQzIwLjAwNjc2NTQsMTEuNzE2MTQyNSAyMC4xMDk1ODk3LDExLjY5MTY1MTEgMjAuMjAxODYxMSwxMS42NDgxNDI2IEMxOS44ODQwNjY2LDE2LjIyNjA3NjcgMTYuMjI2MDc2NywxOS44ODQwNjY2IDExLjY0ODE0MjYsMjAuMjAxODM5MiBaIiBpZD0i5b2i54q2IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=1},function(t,e,n){"use strict";e.a=function(t,e){var n=t.st,r=t.et,c=t.gbid,l=n.split(" ")[0],A=r.split(" ")[0],h=[l,A].join(","),p={appName:i.a.config.PUBLIC_APPNAME,serviceNames:[u],logTime:h,pageSize:8e3,sorts:[{column:"timestamp",type:"asc"}],terms:[{column:s,value:c,type:"and",termType:"eq"},{column:a,value:new Date(n).getTime(),type:"and",termType:"gte"},{column:a,value:new Date(r).getTime(),type:"and",termType:"lte"}]},f=o.a.xhr({type:"POST",url:i.a.config.BUSINESS_HISTORY_SERVICE,body:p,success:function(t){200===t.status&&"0"===t.code&&t.result&&t.result.data&&t.result.data.length>1?e(null,t.result.data):e(new Error("设备国标ID".concat(c,"历史轨迹记录查询失败...")),null)},error:function(t){e(new Error(t.message),null)}});return{cancel:function(){f.abort()}}};var r=n(160),i=(n.n(r),n(102)),o=n(156),s="devGbId",a="timestamp",u="device_base"},function(t,e,n){"use strict";var r=n(1222),i={mm:r.a,kd:r.a,ol:r.a};e.a=i.kd},function(t,e,n){"use strict";var r=n(30),i=(n.n(r),n(25)),o=(n.n(i),n(24)),s=(n.n(o),n(103));n.n(s);e.a=function(t,e){return Object.keys(e).reduce(function(n,r){return n[r]=void 0===t[r]?e[r]:t[r],n},{})}},function(t,e,n){"use strict";var r=n(445),i=n(460),o=n(487),s=n(391),a=function(t){function e(e,n,r){t.call(this);var i=r||{};this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(s.a.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r.a.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r.a.LOADED){t.interimTile=null;break}t.getState()==r.a.LOADING?e=t:t.getState()==r.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var r=e-n+1e3/60;return r>=this.transition_?1:Object(i.a)(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(o.a);e.a=a},function(t,e,n){"use strict";e.d=function(t){var e=t.getDefaultTileGrid();e||(e=A(t),t.setDefaultTileGrid(e));return e},e.e=function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),s=h(n);if(Object(o.c)(s,i))return e;var a=Object(o.w)(s),u=Math.ceil((s[0]-i[0])/a);return i[0]+=a*u,t.getTileCoordForCoordAndZ(i,r)},e.b=function(t){var e=t||{},n=e.extent||Object(a.d)("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:l(n,e.maxZoom,e.tileSize)};return new c.a(r)},e.a=A,e.c=h;var r=n(777),i=n(517),o=n(381),s=n(649),a=n(405),u=n(426),c=n(1241);function l(t,e,n){for(var s=void 0!==e?e:r.a,a=Object(o.s)(t),u=Object(o.w)(t),c=Object(i.b)(void 0!==n?n:r.b),l=Math.max(u/c[0],a/c[1]),A=s+1,h=new Array(A),p=0;p<A;++p)h[p]=l/Math.pow(2,p);return h}function A(t,e,n,r){return function(t,e,n,r){var i=void 0!==r?r:s.a.TOP_LEFT,a=l(t,e,n);return new c.a({extent:t,origin:Object(o.r)(t,i),resolutions:a,tileSize:n})}(h(t),e,n,r)}function h(t){var e=(t=Object(a.d)(t)).getExtent();if(!e){var n=180*a.a[u.b.DEGREES]/t.getMetersPerUnit();e=Object(o.g)(-n,-n,n,n)}return e}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=42,i=256},function(t,e,n){"use strict";e.a=function(t,e){return t.timestamp>=e.timestamp?(console.warn("NODE INVALID: TIMESTAMP IS SOONER THAN LAST NODE!"),!1):0===e.lngLat[0]?(console.warn("NODE INVALID: LNG IS ZERO!"),!1):0===e.lngLat[1]?(console.warn("NODE INVALID: LAT IS ZERO!"),!1):e.lngLat[0]!==t.lngLat[0]||e.lngLat[1]!==t.lngLat[1]||(console.warn("NODE INVALID: LNGLAT IS SAME!"),!1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return l});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(102),c=n(1251),l=function(){function t(){o()(this,t),this.store={}}return a()(t,[{key:"create",value:function(t){var e=this,n=new c.a(Object.assign({},t,{oninit:function(r){e.store[r]=n,t.res=r},onerror:function(e){t.res={type:"error",message:e}}}))}},{key:"remove",value:function(t){var e=this.store[t.id];if(!e)throw new Error("Event track with id ".concat(t.id," is not exist."));e.destroy(),delete this.store[t.id]}},{key:"pause",value:function(t){var e=this.store[t.id];if(!e)throw new Error("Event track with id ".concat(t.id," is not exist."));e.pause()}},{key:"play",value:function(t){var e=this.store[t.id];if(!e)throw new Error("Event track with id ".concat(t.id," is not exist."));e.play()}},{key:"addTrackEvent",value:function(t){var e=this.store[t.id];if(!e)throw new Error("Event track with id ".concat(t.id," is not exist."));e.addTrackEvent(t.event,t.handler)}},{key:"removeTrackEvent",value:function(t){var e=this.store[t.id];if(!e)throw new Error("Event track with id ".concat(t.id," is not exist."));e.removeTrackEvent(t.event)}},{key:"setEventTrackProgressBy",value:function(t){var e=this.store[t.id];if(!e)throw new Error("Event playback is not exist.");e.setEventTrackProgressBy(t.duration)}},{key:"setEventTrackProgressTo",value:function(t){var e=this.store[t.id];if(!e)throw new Error("Event playback is not exist.");e.setEventTrackProgressTo(t.duration)}},{key:"setEventTrackPopup",value:function(t){var e=this.store[t.id];if(!e)throw new Error("Event playback is not exist.");e.setSlot({type:0,visible:t.popupVisible,template:t.popupTemplate})}},{key:"clear",value:function(){for(var t in this.store)this.store.hasOwnProperty(t)&&this.store[t].destroy();this.store={}}}]),t}();u.a.modules.CaseTrack=function(){var t=u.b.get(window.__currentCtx__)||{};return t.CaseTrack=t.CaseTrack||new l,u.b.set(window.__currentCtx__,t),t.CaseTrack}},function(t,e,n){"use strict";e.a=function(t,e,n){var r=function(t){var e=[];return t.map(function(n,r){if(0!==n[0]&&0!==n[1]){var i=t[r-1];i&&n[0]===i[0]&&n[1]===i[1]||e.push(function(t){return[t[0],t[1]]}(n))}}),e}(t.coordinates),i=void 0===t.st?4:t.st,o=t.opts||"",s=t.lines||"",a=r.length;if(a>h||a<p)return void n(new Error("路径规划坐标数量范围为[".concat(p,", ").concat(h,"]区间")));var u=function(t){var e=t.length,n=f+2,r=[],i=[];return t.map(function(t,o){i.push(t),i.length===n&&(r.push(i),i=[t]),o===e-1&&r.push(i)}),r}(r).map(function(e){var n=e.shift(),r=e.pop(),a=e.length>0?e:null;return function(t){var e=t.sp,n=t.ep,r=t.mp,i=t.st,o=t.avoidArea,s=t.avoidLine;return new Promise(function(a,u){var c,h=[["sPoint",e.toString()],["ePoint",n.toString()],["st",i],["wayPoints",r?r.map(function(t){return t.toString()}).join(";"):null],["avoidArea",o],["avoidLine",s],["source",3],["token",l.a.config.ACCESSTOKEN]];t.engineType&&"keda"===t.engineType?c=l.a.config.CT_ROUTE_PLAN_URL:1===t.type?c=l.a.config.DRIVING_ROUTE_URL:2===t.type&&(c=l.a.config.CT_DRIVING_ROUTE_URL);var p,f="?"+h.map(function(t){return t.join("=")}).join("&");1===t.type?p=c+f:2===t.type&&(p=c+f+"&url="+l.a.config.MAP_SERVICE_URL.split("//")[1]),A.a.xhr({noAuth:!0,type:"GET",url:p,headers:{Accept:"application/json"},success:a,error:u})})}({sp:n,ep:r,mp:a,st:i,avoidArea:o,avoidLine:s,type:t.type||1,engineType:t.engineType})});Promise.all(u).then(function(t){var n=t.reduce(function(t,e){if(e.result&&e.result.rows&&e.result.rows[0]){var n=t.data.rows[0],r=e.result.rows[0];t.data.rows[0].distance=n.distance+r.distance,t.data.rows[0].duration=n.duration+r.duration,t.data.rows[0].item=n.item.concat(r.item),t.data.rows[0].routelatlon=n.routelatlon+r.routelatlon}if(e.data&&e.data.rows&&e.data.rows[0]){var i=t.data.rows[0],o=e.data.rows[0];t.data.rows[0].distance=i.distance+o.distance,t.data.rows[0].duration=i.duration+o.duration,t.data.rows[0].item=i.item.concat(o.item),t.data.rows[0].routelatlon=i.routelatlon+o.routelatlon}return t},{data:{rows:[{distance:0,duration:0,item:[],routelatlon:""}]},errcode:0,errmsg:null});e(n)}).catch(function(t){n(new Error(t.message||"路径规划失败"))})};var r=n(30),i=(n.n(r),n(25)),o=(n.n(i),n(106)),s=(n.n(o),n(160)),a=(n.n(s),n(105)),u=(n.n(a),n(109)),c=(n.n(u),n(24)),l=(n.n(c),n(102)),A=n(156),h=50,p=2,f=10},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return c});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=(n(102),n(782)),u=n(606),c=function(){function t(){i()(this,t),this._store={}}return s()(t,[{key:"create",value:function(t){var e=t.data,n=t.routePattern,r=t.routeWidth,i=Object(a.a)([{"line-width":r,"line-pattern":n,filter:["any",["all"]]}]),o=new u.a(e,i),s=o.layerId;this._store[s]=o,t.res=s}},{key:"remove",value:function(t){var e=t.id,n=this._store[e];n&&(delete this._store[e],n.destroy())}},{key:"clear",value:function(){for(var t in this._store)this._store[t].destroy();this._store={}}}]),t}()},function(t,e,n){"use strict";e.a=function(t){return t.reduce(function(t,e){var n,s,a,u,c,l=function(t){return["line-width","line-color","line-dash","line-pattern"].map(function(e){return[e,t[e]].join(":")}).join(";")}(e);return t[l]||(t[l]={paint:(n=e,s=n["line-width"]||6,a=n["line-color"]||"gray",u=n["line-dash"]?o:null,c="ol"===i?null:Object(r.a)(n["line-pattern"]),c?{"line-width":s,"line-pattern":c}:u?{"line-width":s,"line-dash":u,"line-color":a}:{"line-width":s,"line-color":a}),filter:e.filter}),t},{})};var r=n(1253),i=(n(156),"kd"),o="ol"===i?[10,10]:[2,2]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return u});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=(n(102),n(476)),u=function(){function t(){i()(this,t),this.store={}}return s()(t,[{key:"create",value:function(t){var e=this,n={type:"REALTIME_TRACK",traceType:3,serviceName:"device_base",gbids:[t.gbid],terms:null,businessTerms:null,trackerProps:[{actorTemplate:t.actorContent,actorWidth:t.actorWidth,actorHeight:t.actorHeight,actorIcon:t.actorIcon,actorNonBackground:t.actorNonBackground,actorScale:t.actorScale,actorRotation:t.actorRotation,actorOffset:t.actorOffset,trackWidth:t.trackWidth,trackColor:t.trackColor,trackIsSolid:t.trackIsSolid,trackPattern:t.trackPattern,filter:null}],clusterProps:null,clusterZoom:0,maxDuration:99999999,autoDirection:t.autoDirection,animation:t.animation,animationMinZoom:t.animation,toGcj02:t.toGcj02,ontrackerschange:null,onkeypointchange:t.onmessage,onerror:null,onsubscribed:function(n){e.store[n]&&e.store[n].setTrack({gbid:t.gbid,visible:!0})}},r=new a.a(n);this.store[r.id]=r,t.res={id:r.id,relation:{}}}},{key:"remove",value:function(t){var e=t.id,n=this.store[e];n&&(delete this.store[e],n.destroy())}},{key:"addEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=t.handler,o=this.store[e];o&&(1===n&&o.addActorEvent(r,i),2===n&&o.addRouteEvent(r,i))}},{key:"removeEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=this.store[e];i&&(1===n&&i.removeActorEvent(r),2===n&&i.removeRouteEvent(r))}},{key:"setStatus",value:function(t){var e=t.id,n=t.showActor,r=t.showTrack,i=t.showPopup,o=t.popupContent,s=t.animation,a=t.actorContent,u=t.actorIcon,c=this.store[e];if(c){var l=c.subscriber.gbids[0];if(c.setActor({gbid:l,visible:n,template:a,icon:u}),c.setTrack({gbid:l,visible:r}),c.setSlot({gbid:l,type:0,visible:i,template:o}),t.hasOwnProperty("animation"))c.trackerManager.getTracker(l).controller._animation=s}}},{key:"clear",value:function(){for(var t in this.store)this.store.hasOwnProperty(t)&&this.store[t].destroy();this.store={}}}]),t}()},function(t,e,n){"use strict";var r=n(102),i=n(400),o=n(1255),s=(n(386),function(t){var e=r.a.map.map,n=e._canvas,s=n.width,a=n.height,u=[s,0],c=[s,a],l=[0,a],A=Object(o.a)(e.unproject([0,0]).toArray()),h=Object(o.a)(e.unproject(u).toArray()),p=Object(o.a)(e.unproject(c).toArray()),f=Object(o.a)(e.unproject(l).toArray()),g=i.a.polygon([[A,h,p,f,A]]);return t?i.a.buffer(g,t,{units:"kilometers"}):g}),a=s;e.a=a},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=function(){function t(){i()(this,t),this.list=[]}return s()(t,[{key:"enqueue",value:function(t){return this.list.push(t)}},{key:"dequeue",value:function(){return 0===this.size()?null:this.list.shift()}},{key:"size",value:function(){return this.list.length}},{key:"peek",value:function(){return 0===this.size()?null:this.list[0]}},{key:"last",value:function(){var t=this.size();return 0===t?null:this.list[t-1]}},{key:"all",value:function(){return this.list.map(function(t){return t})}},{key:"destroy",value:function(){this.list=null}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return c});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=(n(102),n(476)),c=function(){function t(){o()(this,t),this.store={}}return a()(t,[{key:"create",value:function(t){var e={type:"OBJECTING_TRACKING",traceType:3,serviceName:t.serviceName,gbids:t.gbids,terms:t.terms,businessTerms:t.businessTerms,trackerProps:t.icons.map(function(e){return Object.assign({},e,{trackWidth:t.trackWidth,trackColor:t.trackColor,trackIsSolid:t.trackIsSolid,trackPattern:t.trackPattern})}),clusterProps:t.clusterLayerProps,clusterZoom:t.clusterZoom,maxDuration:t.maxDuration,autoDirection:t.autoDirection,animation:t.animation,animationMinZoom:t.animationMinZoom,toGcj02:t.toGcj02,ontrackerschange:null,onkeypointchange:t.onmessage,onerror:null},n=new u.a(e);this.store[n.id]=n,t.res={id:n.id,relation:{}}}},{key:"remove",value:function(t){var e=t.id,n=this.store[e];n&&(delete this.store[e],n.destroy())}},{key:"addEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=t.handler,o=this.store[e];o&&(1===n&&o.addActorEvent(r,i),2===n&&o.addRouteEvent(r,i),3===n&&o.addClusterEvent(r,i))}},{key:"removeEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=this.store[e];i&&(1===n&&i.removeActorEvent(r),2===n&&i.removeRouteEvent(r),3===n&&i.addClusterEvent(r))}},{key:"setStatus",value:function(t){var e=t.objectTrackingId,n=t.gbid,r=t.showActor,i=t.showTrack,o=t.showPopup,s=t.popupContent,a=t.animation,u=t.actorContent,c=t.actorIcon,l=this.store[e];l&&(l.setActor({gbid:n,visible:r,template:u,icon:c}),l.setTrack({gbid:n,visible:i}),l.setSlot({gbid:n,type:0,visible:o,template:s}),t.hasOwnProperty("animation")&&(l.trackerManager.getTracker(n).controller._animation=a))}},{key:"clear",value:function(){for(var t in this.store)this.store.hasOwnProperty(t)&&this.store[t].destroy();this.store={}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return c});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=(n(102),n(476)),c=function(){function t(){o()(this,t),this.store={}}return a()(t,[{key:"create",value:function(t){var e={type:"MAIN_CARRIER_TRACKING",traceType:0,serviceName:t.serviceName,gbids:t.gbids,terms:t.terms,businessTerms:t.businessTerms,trackerProps:t.icons.map(function(e){return Object.assign({},e,{trackWidth:t.trackWidth,trackColor:t.trackColor,trackIsSolid:t.trackIsSolid,trackPattern:t.trackPattern})}),clusterProps:t.clusterLayerProps,clusterZoom:t.clusterZoom,maxDuration:t.maxDuration,autoDirection:t.autoDirection,animation:t.animation,animationMinZoom:t.animationMinZoom,toGcj02:t.toGcj02,ontrackerschange:t.ontrackerschange,onkeypointchange:t.onkeypointchange,onerror:t.onerror},n=new u.a(e);this.store[n.id]=n,t.res=n.id}},{key:"remove",value:function(t){var e=t.id,n=this.store[e];n&&(n.destroy(),delete this.store[e])}},{key:"addEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=t.handler,o=this.store[e];if(o)switch(n){case 1:o.addActorEvent(r,i);break;case 2:o.addRouteEvent(r,i);break;case 3:o.addClusterEvent(r,i);break;default:t.res={type:"error",message:"TYPE IS INVALID"}}}},{key:"removeEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=this.store[e];if(i)switch(n){case 1:i.removeActorEvent(r);break;case 2:i.removeRouteEvent(r);break;case 3:i.removeClusterEvent(r);break;default:t.res={type:"error",message:"TYPE IS INVALID"}}}},{key:"setActor",value:function(t){var e=t.id,n=t.gbid,r=t.actorVisible,i=t.actorTemplate,o=t.actorWidth,s=t.actorHeight,a=t.actorIcon,u=this.store[e];u&&u.setActor({gbid:n,visible:r,template:i,width:o,height:s,icon:a})}},{key:"setRoute",value:function(t){var e=t.id,n=t.gbid,r=t.trackVisible,i=this.store[e];i&&i.setTrack({gbid:n,visible:r})}},{key:"setSlot",value:function(t){var e=t.id,n=t.gbid,r=t.type,i=t.slotVisible,o=t.slotTemplate,s=this.store[e];s&&s.setSlot({gbid:n,type:r,visible:i,template:o})}},{key:"clear",value:function(){for(var t in this.store)this.store.hasOwnProperty(t)&&this.store[t].destroy();this.store={}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return c});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=(n(102),n(476)),c=function(){function t(){o()(this,t),this.store={}}return a()(t,[{key:"create",value:function(t){var e={type:"DEPUTY_CARRIER_TRACKING",traceType:1,serviceName:t.serviceName,gbids:t.gbids,terms:t.terms,businessTerms:t.businessTerms,trackerProps:t.icons.map(function(e){return Object.assign({},e,{trackWidth:t.trackWidth,trackColor:t.trackColor,trackIsSolid:t.trackIsSolid,trackPattern:t.trackPattern})}),clusterProps:t.clusterLayerProps,clusterZoom:t.clusterZoom,maxDuration:t.maxDuration,autoDirection:t.autoDirection,animation:t.animation,animationMinZoom:t.animationMinZoom,toGcj02:t.toGcj02,ontrackerschange:t.ontrackerschange,onkeypointchange:t.onkeypointchange,onerror:t.onerror},n=new u.a(e);this.store[n.id]=n,t.res=n.id}},{key:"remove",value:function(t){var e=t.id,n=this.store[e];n&&(n.destroy(),delete this.store[e])}},{key:"addEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=t.handler,o=this.store[e];if(o)switch(n){case 1:o.addActorEvent(r,i);break;case 2:o.addRouteEvent(r,i);break;case 3:o.addClusterEvent(r,i);break;default:t.res={type:"error",message:"TYPE IS INVALID"}}}},{key:"removeEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=this.store[e];if(i)switch(n){case 1:i.removeActorEvent(r);break;case 2:i.removeRouteEvent(r);break;case 3:i.removeClusterEvent(r);break;default:t.res={type:"error",message:"TYPE IS INVALID"}}}},{key:"setActor",value:function(t){var e=t.id,n=t.gbid,r=t.actorVisible,i=t.actorTemplate,o=t.actorWidth,s=t.actorHeight,a=t.actorIcon,u=this.store[e];u&&u.setActor({gbid:n,visible:r,template:i,width:o,height:s,icon:a})}},{key:"setRoute",value:function(t){var e=t.id,n=t.gbid,r=t.trackVisible,i=this.store[e];i&&i.setTrack({gbid:n,visible:r})}},{key:"setSlot",value:function(t){var e=t.id,n=t.gbid,r=t.slotVisible,i=t.slotTemplate,o=this.store[e];o&&o.setSlot({gbid:n,type:0,visible:r,template:i})}},{key:"clear",value:function(){for(var t in this.store)this.store.hasOwnProperty(t)&&this.store[t].destroy();this.store={}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return c});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=(n(102),n(476)),c=function(){function t(){o()(this,t),this.store={}}return a()(t,[{key:"create",value:function(t){var e={type:"DEVICE_TRACKING",traceType:2,serviceName:t.serviceName,gbids:t.gbids,terms:t.terms,businessTerms:t.businessTerms,trackerProps:t.icons.map(function(e){return Object.assign({},e,{trackWidth:t.trackWidth,trackColor:t.trackColor,trackIsSolid:t.trackIsSolid,trackPattern:t.trackPattern})}),clusterProps:t.clusterLayerProps,clusterZoom:t.clusterZoom,maxDuration:t.maxDuration,autoDirection:t.autoDirection,animation:t.animation,animationMinZoom:t.animationMinZoom,toGcj02:t.toGcj02,ontrackerschange:t.ontrackerschange,onkeypointchange:t.onkeypointchange,onerror:t.onerror},n=new u.a(e);this.store[n.id]=n,t.res=n.id}},{key:"remove",value:function(t){var e=t.id,n=this.store[e];n&&(n.destroy(),delete this.store[e])}},{key:"addEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=t.handler,o=this.store[e];if(o)switch(n){case 1:o.addActorEvent(r,i);break;case 2:o.addRouteEvent(r,i);break;case 3:o.addClusterEvent(r,i);break;default:t.res={type:"error",message:"TYPE IS INVALID"}}}},{key:"removeEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=this.store[e];if(i)switch(n){case 1:i.removeActorEvent(r);break;case 2:i.removeRouteEvent(r);break;case 3:i.removeClusterEvent(r);break;default:t.res={type:"error",message:"TYPE IS INVALID"}}}},{key:"setActor",value:function(t){var e=t.id,n=t.gbid,r=t.actorVisible,i=t.actorTemplate,o=t.actorWidth,s=t.actorHeight,a=t.actorIcon,u=this.store[e];u&&u.setActor({gbid:n,visible:r,template:i,width:o,height:s,icon:a})}},{key:"setRoute",value:function(t){var e=t.id,n=t.gbid,r=t.trackVisible,i=this.store[e];i&&i.setTrack({gbid:n,visible:r})}},{key:"setSlot",value:function(t){var e=t.id,n=t.gbid,r=t.slotVisible,i=t.slotTemplate,o=this.store[e];o&&o.setSlot({gbid:n,type:0,visible:r,template:i})}},{key:"clear",value:function(){for(var t in this.store)this.store.hasOwnProperty(t)&&this.store[t].destroy();this.store={}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return c});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(1269),c=function(){function t(){o()(this,t),this.store={}}return a()(t,[{key:"create",value:function(t){var e=this,n=new u.a(Object.assign({},t,{oncreated:function(r){e.store[r]=n,t.res=r},onerror:function(e){t.res={type:"error",message:e.message}}}))}},{key:"remove",value:function(t){var e=t.id,n=this.store[e];n&&(n.destroy(),delete this.store[e])}},{key:"addEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=t.handler,o=this.store[e];if(o)switch(n){case 1:o.addActorEvent(r,i);break;case 2:o.addRouteEvent(r,i);break;default:t.res={type:"error",message:"TYPE IS INVALID"}}}},{key:"removeEvent",value:function(t){var e=t.id,n=t.type,r=t.event,i=this.store[e];if(i)switch(n){case 1:i.removeActorEvent(r);break;case 2:i.removeRouteEvent(r);break;default:t.res={type:"error",message:"TYPE IS INVALID"}}}},{key:"pause",value:function(t){var e=t.id,n=this.store[e];n&&n.pause()}},{key:"play",value:function(t){var e=t.id,n=this.store[e];n&&n.play()}},{key:"replay",value:function(t){var e=t.id,n=this.store[e];n&&n.replay()}},{key:"setProgressBy",value:function(t){var e=t.id,n=t.duration,r=this.store[e];r&&r.setProgressBy(n)}},{key:"setProgressTo",value:function(t){var e=t.id,n=t.duration,r=this.store[e];r&&r.setProgressTo(n)}},{key:"setSpeedRate",value:function(t){var e=t.id,n=t.speedRate,r=this.store[e];r&&r.setSpeedRate(n)}},{key:"clear",value:function(){for(var t in this.store)this.store.hasOwnProperty(t)&&this.store[t].destroy();this.store={}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Fence",function(){return p});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(102),c=n(156),l=n(400),A=n(543),h=n(1271),p=function(){function t(e){return o()(this,t),this.layerType="fence",this.data=e.data,this.map=u.a.map.map,this.ids=[Object(c.b)(),Object(c.b)(),Object(c.b)(),Object(c.b)(),Object(c.b)()],this.init(),{layerId:this.ids}}return a()(t,[{key:"init",value:function(){var t=l.a.polygon(this.data[0]),e=Object(h.a)(t,1.0000001),n=Object(A.a)(t,e),r=document.createElement("canvas");r.width=400,r.height=40;var i=r.getContext("2d"),o=i.createLinearGradient(0,0,400,0);o.addColorStop(0,"#0A9BF0"),o.addColorStop(.5,"#043977"),o.addColorStop(1,"#0A9BF0"),i.fillStyle=o,i.fillRect(0,0,400,40);var s={width:400,height:40,data:i.getImageData(0,0,400,40).data};this.map.addImage("gradient",s),this.map.addLayer({id:this.ids[0],type:"fill-extrusion",source:{type:"geojson",data:{features:[{type:"Feature",properties:{level:1,name:"outer-walls"},geometry:n.geometry,id:"qqqwererr"}],type:"FeatureCollection"}},paint:{"fill-extrusion-color":"#0A9BF0","fill-extrusion-height":240,"fill-extrusion-base":200,"fill-extrusion-opacity":1,"fill-extrusion-vertical-gradient":!1}}),this.map.addLayer({id:this.ids[1],type:"fill-extrusion",source:{type:"geojson",data:{features:[{type:"Feature",properties:{level:1,name:"outer-walls"},geometry:n.geometry,id:"qqqwererr"}],type:"FeatureCollection"}},paint:{"fill-extrusion-color":"#0A9BF0","fill-extrusion-height":200,"fill-extrusion-base":0,"fill-extrusion-opacity":.2,"fill-extrusion-vertical-gradient":!1}}),this.map.addLayer({id:this.ids[2],type:"fill-extrusion",source:{type:"geojson",data:{features:[{type:"Feature",properties:{level:1,name:"outer-walls"},geometry:n.geometry,id:"qqqwererr"}],type:"FeatureCollection"}},paint:{"fill-extrusion-color":"#0A9BF0","fill-extrusion-height":270,"fill-extrusion-base":240,"fill-extrusion-opacity":.7,"fill-extrusion-vertical-gradient":!1}}),this.map.addLayer({id:this.ids[3],type:"fill-extrusion",source:{type:"geojson",data:{features:[{type:"Feature",properties:{level:1,name:"outer-walls"},geometry:n.geometry,id:"qqqwererr"}],type:"FeatureCollection"}},paint:{"fill-extrusion-color":"#0A9BF0","fill-extrusion-height":290,"fill-extrusion-base":270,"fill-extrusion-opacity":.5,"fill-extrusion-vertical-gradient":!1}}),this.map.addLayer({id:this.ids[4],type:"fill-extrusion",source:{type:"geojson",data:{features:[{type:"Feature",properties:{level:1,name:"outer-walls"},geometry:n.geometry,id:"qqqwererr"}],type:"FeatureCollection"}},paint:{"fill-extrusion-color":"#0A9BF0","fill-extrusion-height":310,"fill-extrusion-base":290,"fill-extrusion-opacity":.2,"fill-extrusion-vertical-gradient":!1}}),this.map.setStyle(Object.assign(this.map.getStyle(),{light:{anchor:"viewport",color:"#FFFFFF",intensity:.5,position:[1.5,180,90]}}))}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ExtrusionArea",function(){return l});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(102),u=n(156),c=n(400),l=function(){function t(e){return i()(this,t),this.layerType="extrusionArea",this.data=e.data,this.opacity=e.opacity||1,this.minZoom=e.minZoom||3,this.maxZoom=e.maxZoom||19,this.map=a.a.map.map,this.init()}return s()(t,[{key:"init",value:function(){var t=[];this.data.features.forEach(function(e){var n=e.geometry,r=c.a.centerOfMass(n).geometry.coordinates,i={type:"Feature",properties:{text:e.properties.text},geometry:{type:"Point",coordinates:r}};t.push(i)});var e={type:"FeatureCollection",features:t},n=Object(u.b)();return this.map.addLayer({id:n,type:"symbol",source:{type:"geojson",data:e},layout:{"text-field":["get","text"]||""}}),{textId:n,layerId:new(a.a.modules.ExtrusionLayer())({data:this.data,colorIsFromFeature:!0,colorField:"color",heightIsFromFeature:!0,heightField:"height",opacity:this.opacity,minZoom:this.minZoom,maxZoom:this.maxZoom,before:n}).layerId}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"roadLayer",function(){return S}),n.d(e,"realRoadServices",function(){return M}),n.d(e,"roadPlanService",function(){return L});var r=n(106),i=(n.n(r),n(450)),o=(n.n(i),n(109)),s=(n.n(o),n(435)),a=(n.n(s),n(105)),u=(n.n(a),n(24)),c=(n.n(u),n(160)),l=(n.n(c),n(74)),A=n.n(l),h=n(101),p=n.n(h),f=n(158),g=n.n(f),d=n(157),y=n.n(d),v=n(159),m=n.n(v),C=n(102),I=n(390),_=n(156),b=n(395),w=n(424),E=n(166),B=n(415),x=n(408),O=n(780),T=n(1276),N=(n.n(T),["road-tap-100","road-tap-101","road-tap-102","road-tap-103"]),S=function(t){function e(t,n){var r;A()(this,e),r=g()(this,y()(e).call(this));var i=_.a.buildId((new Date).getTime());return r.layerType="roadPlan",r.layerId="planRouter"+i,r.map=C.a.map.map,r.sourceId=B.a.MODULE_RENDERROUTE_SOURCEID+""+i,r.data=t,r.options=n,r.init(),r}return m()(e,t),p()(e,[{key:"init",value:function(){this.addSource(),this.addLayer()}},{key:"update",value:function(t,e){for(var n in this.data=t,this.options=e,e)e.hasOwnProperty(n)&&this.setPaintProperty(n,e[n]);this.addSource()}},{key:"addLayer",value:function(){this.map.addLayer({id:this.layerId,type:"line",source:this.sourceId,layout:{"line-join":"round","line-cap":"round"},paint:this.options,filter:["==","$type","LineString"]}),x.a.setIdDepts(this.layerId,this.layerId)}},{key:"addSource",value:function(){this.map.getSource(this.sourceId)?this.map.getSource(this.sourceId).setData(this.data):this.map.addSource(this.sourceId,{type:"geojson",data:this.data})}},{key:"removeLayer",value:function(){this.map.getLayer(this.layerId)&&this.map.removeLayer(this.layerId),this.map.getSource(this.sourceId)&&this.map.removeSource(this.sourceId)}},{key:"destroy",value:function(){this.map.getLayer(this.layerId)&&this.map.removeLayer(this.layerId),this.map.getSource(this.sourceId)&&this.map.removeSource(this.sourceId)}},{key:"setPaintProperty",value:function(t,e){switch(t.split("-")[0]){case"line":C.a.map.map.setPaintProperty(this.layerId,t,e);break;default:_.a.setErrorMessage(I.a.message.paintPropertyError)}}},{key:"getUnclusteredLayerIds",value:function(){return this.layerId}}]),e}(b.a),M=function(){function t(){A()(this,t),this.layer=null,this.layerYellow=null,this.layerRed=null,this.markers=[],this.sMarker={},this.eMarker={},this.dragTimer=150,this.updateHandler=null,this.options=null,this.data=null,this.geojson=null,this.geojson_yellow=null,this.geojson_red=null,this.isReplan=!1,this.lastRequestTime=0}return p()(t,[{key:"makeGeojson",value:function(t){for(var e=t.routelatlon.split(";"),n=[],r=0,i=e.length;r<i;r++)if(e[r]){var o=e[r].split(","),s=parseFloat(o[0]),a=parseFloat(o[1]);n.push([s,a])}return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:n},properties:{}}]}}},{key:"makeOtherGeojson",value:function(t,e){var n="yellow"===e?2:3,r=[];return t.item.forEach(function(t){t.tmc&&t.tmc.forEach(function(t){if(t.level===n){var e=[];t.route.substring(0,t.route.length-1).split(";").forEach(function(t){var n=t.split(","),r=parseFloat(n[0]),i=parseFloat(n[1]);e.push([r,i])}),e.length&&r.push(e)}})}),r.length?{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiLineString",coordinates:r},properties:{}}]}:null}},{key:"translateWayPointsToArray",value:function(){var t=this.markers.length,e=[];if(t>0)for(var n=0;n<t;n++)e.push(this.markers[n].point);return e}},{key:"translatePointToString",value:function(t){return t[0]+","+t[1]}},{key:"translatePolygonToString",value:function(t){if(!t)return null;if(Array.isArray(t[0][0])&&!Array.isArray(t[0][0][0])){var e="";return t.forEach(function(t){var n="",r=t[0],i=t[2];n=r.toString()+","+i.toString(),e+=n+"|",n=""}),e.substring(0,e.length-1)}if(Array.isArray(t[0])&&!Array.isArray(t[0][0])){var n=t[0],r=t[2];return n.toString()+","+r.toString()}}},{key:"setOptions",value:function(t){this.options||(this.options=_.a.objectAssign({},B.a.MODULE_DRIVINGROUTE_DEFAULTOPTION)),(t.sPoint||t.startPoint)&&(this.sMarker.point=t.sPoint||t.startPoint),(t.ePoint||t.endPoint)&&(this.eMarker.point=t.ePoint||t.endPoint),"number"===typeof t.st&&(this.options.st=t.st),t.lineColor&&(this.options.lineColor=t.lineColor),t.anchor&&(this.options.anchor=t.anchor);var e=t.lineStyle;!E.a.isUndefined(e)&&E.a.isNum(e)&&N[e]&&(this.options.lineStyle=N[e]),E.a.isNum(t.lineWidth)&&(this.options.lineWidth=t.lineWidth),t.offset&&"number"===typeof t.offset[0]&&"number"===typeof t.offset[1]&&(this.options.offset=t.offset||this.options.offset||[18,18]),E.a.isUndefined(t.markerVisible)||(this.options.markerVisible=t.markerVisible),t.showType&&(this.options.showType=t.showType),t.type&&(this.options.type=t.type),t.roadCondition&&(this.options.roadCondition=t.roadCondition),t.isReplan?this.options.isReplan=!0:this.options.isReplan=!1,this.updateHandler=t.updateHandler||this.updateHandler||function(){}}},{key:"doPlan",value:function(t){var e=this;return e.setOptions(t),e.fetch().then(function(){e.options.markerVisible&&(e.sMarker.marker&&e.eMarker.marker?e.options.isReplan&&e.setMarkers():e.initMarkers()),e.renderLayer()}).catch(function(t){return e.clearAllLayer(),_.a.setErrorMessage(I.a.message.errorPlan),t})}},{key:"addWayToPoint",value:function(t){var e=this;return e.addWayToPointMarker(t),e.fetch().then(function(){e.renderLayer()}).catch(function(t){return e.clearAllLayer(),_.a.setErrorMessage(I.a.message.errorPlan),t})}},{key:"addAvoidToArea",value:function(t){var e=this;return e.avoidPolygon=t,e.fetch().then(function(){e.renderLayer()}).catch(function(t){return e.clearAllLayer(),_.a.setErrorMessage(I.a.message.errorPlan),t})}},{key:"initMarkers",value:function(){var t=this,e=C.a.modules.customOverlay();t.clearMarkers();var n=w.a.createDomElement("div");1===t.options.showType?n.className="kmap-road-plan-marker-start-img":2===t.options.showType&&(n.className="kmap-road-plan-marker-number",n.innerHTML="1");var r=e.addCustomOverlay({anchor:t.options.anchor,point:t.sMarker.point,element:n,offset:t.options.offset,customProps:"roadPlan"});t.sMarker.marker=r,t.sMarker.tag="start",e.setCustomOverlayDraggable({id:r,draggable:!0}),e.addEvent({selector:"#".concat(r),event:"dragstart",handler:function(){}}),e.addEvent({selector:"#".concat(r),event:"dragging",handler:function(t){}}),e.addEvent({selector:"#".concat(r),event:"dragend",handler:function(e){t.markerDragHandler(e,t.sMarker)}});var i=w.a.createDomElement("div");1===t.options.showType?i.className="kmap-road-plan-marker-end-img":(i.className="kmap-road-plan-marker-number",i.innerHTML="2");var o=e.addCustomOverlay({anchor:t.options.anchor,point:t.eMarker.point,element:i,offset:t.options.offset,customProps:"roadPlan"});t.eMarker.marker=o,t.eMarker.tag="end",e.setCustomOverlayDraggable({id:o,draggable:!0}),e.addEvent({selector:"#".concat(o),event:"dragstart",handler:function(){}}),e.addEvent({selector:"#".concat(o),event:"dragging",handler:function(t){}}),e.addEvent({selector:"#".concat(o),event:"dragend",handler:function(e){t.markerDragHandler(e,t.eMarker)}})}},{key:"setMarkers",value:function(){this.sMarker.marker&&C.a.modules.customOverlay().setCustomOverlayById({id:this.sMarker.marker,point:this.sMarker.point}),this.eMarker.marker&&C.a.modules.customOverlay().setCustomOverlayById({id:this.eMarker.marker,point:this.eMarker.point})}},{key:"fetch",value:function(){var t=this,e=t.sMarker.point,n=t.eMarker.point,r=t.translateWayPointsToArray(),i=t.translatePolygonToString(t.avoidPolygon),o=[e];return r.length&&r.forEach(function(t){o.push(t)}),o.push(n),new Promise(function(e,n){var r=(new Date).getTime();Object(O.a)({coordinates:o,st:t.options.st,opts:i,type:t.options.type,engineType:"keda"},function(i){-1!==i.errcode?r>t.lastRequestTime&&(t.lastRequestTime=r,t.data=i.data.rows[0],t.geojson=t.makeGeojson(i.data.rows[0]),e()):n("路径规划失败")},function(t){n(t)})})}},{key:"getMarkerIndex",value:function(t){for(var e=t.tag,n=this.markers.length,r=0;r<n;r++)if(this.markers[r].tag===e)return r;return null}},{key:"getPoints",value:function(){var t={};return t.sp=this.sMarker.point,t.ep=this.eMarker.point,t.wps=[],this.markers.forEach(function(e){t.wps.push(e.point)}),t}},{key:"markerDragHandler",value:function(t,e){var n=this,r=e.tag;if("start"===r)n.sMarker.point=[t.lngLat.lng,t.lngLat.lat],n.doPlan({}).then(function(){n.layer?n.updateHandler(n.data,n.getPoints()):n.updateHandler({status:20,message:"路径规划错误!"})}).catch(function(t){return _.a.setErrorMessage(I.a.message.errorPlan),t});else if("end"===r)n.eMarker.point=[t.lngLat.lng,t.lngLat.lat],n.doPlan({}).then(function(){n.layer?n.updateHandler(n.data,n.getPoints()):n.updateHandler({status:20,message:"路径规划错误!"})}).catch(function(t){return _.a.setErrorMessage(I.a.message.errorPlan),t});else{var i=n.getMarkerIndex(e);null!==i?(n.markers[i].point=[t.lngLat.lng,t.lngLat.lat],n.doPlan({}).then(function(){n.layer?n.updateHandler(n.data,n.getPoints()):n.updateHandler({status:20,message:"路径规划错误!"})}).catch(function(t){return _.a.setErrorMessage(I.a.message.errorPlan),t})):_.a.setErrorMessage(I.a.message.errorPlan)}}},{key:"renderLayer",value:function(){var t=this.options,e={};t.hasOwnProperty("lineColor")&&(e["line-color"]=t.lineColor),t.hasOwnProperty("lineWidth")&&(e["line-width"]=t.lineWidth),t.hasOwnProperty("lineStyle")&&(e["line-pattern"]=t.lineStyle);var n={"line-pattern":"road-tap-102","line-width":e["line-width"]||6},r={"line-pattern":"road-tap-101","line-width":e["line-width"]||6};this.layer?(this.layer.update(this.geojson,e),this.options.roadCondition&&(this.geojson_yellow&&this.layerYellow.update(this.geojson_yellow,n),this.geojson_red&&this.layerRed.update(this.geojson_red,r))):(this.layer=new S(this.geojson,e),this.options.roadCondition&&(this.geojson_yellow&&(this.layerYellow=new S(this.geojson_yellow,n)),this.geojson_red&&(this.layerRed=new S(this.geojson_red,r))))}},{key:"clearMarkerEvent",value:function(){var t=C.a.modules.customOverlay();if(this.sMarker&&(t.setCustomOverlaysDraggable({id:this.sMarker.marker,draggable:!1}),t.removeEvent({selector:".".concat(this.sMarker.marker),event:"dragstart"})),this.eMarker&&(t.setCustomOverlaysDraggable({id:this.eMarker.marker,draggable:!1}),t.removeEvent({selector:".".concat(this.eMarker.marker),event:"dragstart"})),this.markers&&this.markers.length>0)for(var e=this.markers.length,n=0;n<e;n++)t.setCustomOverlaysDraggable({id:this.markers[n].marker,draggable:!1}),t.removeEvent({selector:".".concat(this.markers[n].marker),event:"dragstart"})}},{key:"clearMarkers",value:function(){if(this.sMarker&&this.sMarker.marker&&(C.a.modules.customOverlay().removeCustomOverlayById({id:this.sMarker.marker}),this.sMarker={}),this.eMarker&&this.eMarker.marker&&(C.a.modules.customOverlay().removeCustomOverlayById({id:this.eMarker.marker}),this.eMarker={}),this.markers&&this.markers.length>0){for(var t=this.markers.length,e=0;e<t;e++)C.a.modules.customOverlay().removeCustomOverlayById({id:this.markers[e].marker});this.markers=[]}}},{key:"clearWayToPoint",value:function(){if(this.markers&&this.markers.length>0){for(var t=this.markers.length,e=0;e<t;e++){var n=this.markers[e];n.closeButton.removeEventListener("mouseup",n.closeHandler),C.a.modules.customOverlay().removeCustomOverlayById({id:n.marker})}this.markers=[]}}},{key:"clearAvoidArea",value:function(){this.avoidPolygon=null}},{key:"modifyNumber",value:function(){if(2===this.options.showType){var t=document.querySelectorAll(".minemap-marker");t=Array.from(t).filter(function(t){return t.getAttribute("__customprops__")&&"roadPlan"===t.getAttribute("__customprops__")}),this.options.markerVisible?(t.filter(function(t,e){return e>1}).forEach(function(t,e){t.querySelector(".kmap-road-plan-marker-number").querySelector("span").innerHTML="".concat(e+2)}),t[1].querySelector(".kmap-road-plan-marker-number").innerHTML="".concat(t.length)):t.forEach(function(t,e){t.querySelector(".kmap-road-plan-marker-number").querySelector("span").innerHTML="".concat(e+1)})}}},{key:"addWayToPointMarker",value:function(t){var e=this,n=C.a.modules.customOverlay(),r=w.a.createDomElement("div"),i=w.a.createDomElement("div"),o=w.a.createDomElement("span");i.setAttribute("style","\n            cursor: pointer;\n            width: 20px;\n            height: 20px;\n            text-align: center;\n            line-height: 18px;\n            font-size: 12px;\n            border-radius: 10px;\n            background-color: white;\n            border: 1px solid #ddd;\n            font-weight: bold;\n            position: absolute;\n            right: -10px;\n            top: -10px;\n            color: #000;\n        "),i.innerHTML="X",o.innerHTML="",1===e.options.showType?r.className="kmap-road-plan-marker-middle-img":2===e.options.showType&&(r.className="kmap-road-plan-marker-number"),r.appendChild(i),r.appendChild(o);var s=n.addCustomOverlay({anchor:e.options.anchor,point:t,element:r,offset:e.options.offset,customProps:"roadPlan"});e.modifyNumber();var a={marker:s,point:t,tag:"middle-"+e.markers.length,closeButton:i};a.closeHandler=function(t,e){return function(n){n.stopPropagation();var r=e.markers.indexOf(t);r>=0&&(e.markers.splice(r,1),C.a.modules.customOverlay().removeCustomOverlayById({id:t.marker}),e.modifyNumber(),t.closeButton.removeEventListener("mousedown",t.closeHandler),e.doPlan({}).then(function(){e.updateHandler(e.data,e.getPoints())}).catch(function(t){return _.a.setErrorMessage(I.a.message.errorPlan),t}))}}(a,e),i.addEventListener("mousedown",a.closeHandler,!1),e.markers.push(a),n.setCustomOverlayDraggable({id:s,draggable:!0}),n.addEvent({selector:"#".concat(s),event:"dragstart",handler:function(){}}),n.addEvent({selector:"#".concat(s),event:"dragging",handler:function(t){}}),n.addEvent({selector:"#".concat(s),event:"dragend",handler:function(t){e.markerDragHandler(t,a)}})}},{key:"destroy",value:function(){this.clearMarkerEvent(),this.clearLayerEvent(),this.clearMarkers(),this.clearAllLayer(),this.updateHandler=null,this.options=null,this.data=null,this.geojson=this.geojson_yellow=this.geojson_red=null}},{key:"clearAllLayer",value:function(){this.layer&&this.layer.destroy(),this.layerYellow&&this.layerYellow.destroy(),this.layerRed&&this.layerRed.destroy(),this.layer=this.layerYellow=this.layerRed=null}},{key:"addLayerEvent",value:function(t,e){this.layer.addEvent(t,e)}},{key:"removeLayerEventByType",value:function(t){this.layer.removeEvent(t)}},{key:"clearLayerEvent",value:function(){this.layer&&this.layer.clearEvent()}}]),t}(),L=function(){function t(){A()(this,t),this.st=5,this.planObj={},this.lineColor="red"}return p()(t,[{key:"minDisRoutePlanning",value:function(t){this.st=1,this.doPlan(t)}},{key:"minTimeRoutePlanning",value:function(t){this.st=5,this.doPlan(t)}},{key:"priorityRoutePlanning",value:function(t){this.st=2,this.doPlan(t)}},{key:"addWayToPoint",value:function(t){var e=this,n=e.planObj[t.id];n&&n.addWayToPoint(t.point).then(function(){n.updateHandler(n.data,n.getPoints())}).catch(function(n){return e.destroy(t.id),_.a.setErrorMessage(I.a.message.errorPlan),n})}},{key:"addAvoidToArea",value:function(t){var e=this,n=e.planObj[t.id];n&&n.addAvoidToArea(t.polygon).then(function(){n.updateHandler(n.data,n.getPoints())}).catch(function(n){return e.destroy(t.id),_.a.setErrorMessage(I.a.message.errorPlan),n})}},{key:"doPlan",value:function(t){var e=this,n=_.a.createRandomId(32),r=new M;r.doPlan({sPoint:t.startPoint,ePoint:t.endPoint,st:e.st,offset:t.offset,anchor:E.a.isUndefined(t.anchor)?"bottom":t.anchor,lineColor:t.lineColor||e.lineColor,lineStyle:t.lineStyle,lineWidth:t.lineWidth,markerVisible:!!E.a.isUndefined(t.markerVisible)||t.markerVisible,showType:t.showType||1,roadCondition:Boolean(t.roadCondition),type:t.type||1,updateHandler:t.updateHandler}).then(function(){e.planObj[n]=r,t.res=n,r.updateHandler(r.data,r.getPoints())}).catch(function(n){return e.destroy(t.id),_.a.setErrorMessage(I.a.message.errorPlan),n})}},{key:"rePlan",value:function(t){var e=this.planObj[t.id];e&&(e.clearWayToPoint(),e.clearAvoidArea(),e.modifyNumber(),e.doPlan({sPoint:t.startPoint||this.startPoint,ePoint:t.endPoint||this.endPoint,lineColor:t.lineColor||this.lineColor,anchor:e.options.anchor,markerVisible:e.options.markerVisible,roadCondition:e.options.roadCondition,showType:e.options.showType,type:e.options.type,isReplan:!0}).then(function(){e.updateHandler(e.data,e.getPoints())}).catch(function(t){return _.a.setErrorMessage(I.a.message.errorPlan),t}))}},{key:"clear",value:function(){var t=this.planObj;for(var e in t)t.hasOwnProperty(e)&&t[e].destroy();this.planObj={}}},{key:"destroy",value:function(t){if(t){var e=this.planObj[t];e?e.destroy():_.a.setErrorMessage(I.a.message.errorPlan)}else this.clear()}},{key:"addLayerEvent",value:function(t){var e=this.planObj[t.id];e?e.addLayerEvent(t.eventType,t.handler):_.a.setErrorMessage(I.a.message.errorPlan)}},{key:"removeLayerEvent",value:function(t){var e=this.planObj[t.id];e&&e.removeLayerEventByType(t.eventType)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"MultiColorMap",function(){return l});var r=n(434),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(102),c=n(156),l=function(){function t(e){o()(this,t),this.map=u.a.map.map,this.colorArr=e.colors||["rgba(88,204,253,0.7)","rgba(255,94,74,0.7)","rgba(158,208,143,0.7)","rgba(253,181,61,0.7)"],this.interaction=e.interaction||!1,this.maxZoom=e.maxZoom||5,this.minZoom=e.minZoom||3,this.adminService=new(u.a.modules.AdminService()),this.base=u.a.modules.base(),this.provinceLayerId,this.cityLayerId,this.countyLayerId,this.lineCityLayerId,this.lineCountyLayerId,this.init()}return a()(t,[{key:"init",value:function(){var t=this,e=this.base.getMapZoom();e>=this.minZoom&&e<=this.maxZoom&&this.addProvinceLayer(),u.a.map.addEvent("moveend",function(e){var n=t.base.getMapZoom();if((n>=t.maxZoom||n<=t.minZoom)&&u.a.layerCollect&&u.a.layerCollect.get(t.provinceLayerId).hide(),n>=t.minZoom&&n<=t.maxZoom){if(u.a.layerCollect&&u.a.layerCollect.get(t.provinceLayerId).show(),t.symbolId)try{t.map.removeLayer(t.symbolId),t.symbolId=null}catch(t){}t.cityLayerId&&t.removeLayer(t.cityLayerId),t.lineCityLayerId&&t.removeLayer(t.lineCityLayerId),t.lineCountyLayerId&&t.removeLayer(t.lineCountyLayerId),t.countyLayerId&&t.removeLayer(t.countyLayerId)}})}},{key:"addProvinceLayer",value:function(){var t=this;this.adminService.getGeometryByAdminCode({code:"100000",containsSon:!0}).then(function(e){var n={type:"FeatureCollection",features:[]};e.features[0].properties.sons.forEach(function(e,r){n.features.push({type:"Feature",geometry:e.polyline,properties:{"fill-color":t.colorArr[+e.color-1],adcode:e.adcode,center:e.center,id:e.adcode}})});var r=new(u.a.modules.GeometryLayer())({data:n,end:function(e){var n=u.a.layerCollect.get(e);t.interaction&&n.addEvent("click",function(e){var r=e.originalFeatures[0].properties.adcode;t.base.setCenter(JSON.parse(e.originalFeatures[0].properties.center)),t.base.zoomTo({zoom:6}),n.hide(),t.addCityLayer(r)},t.provinceLayerId)}});t.provinceLayerId=r.layerId,t.addSymbolLayer(e,"province")})}},{key:"addCityLayer",value:function(t){var e=this;this.adminService.getGeometryByAdminCode({code:t,containsSon:!0}).then(function(t){var n={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiLineString",coordinates:t.features[0].geometry.coordinates.map(function(t){return t[0]})},properties:{"line-color":"black","line-width":3}}]},r=new(u.a.modules.GeometryLayer())({data:n,end:function(t){}});e.lineCityLayerId=r.layerId;var i={type:"FeatureCollection",features:[]};t.features[0].properties.sons.forEach(function(t,n){i.features.push({type:"Feature",geometry:t.polyline,properties:{"fill-color":e.colorArr[+t.color-1],adcode:t.adcode}})});var o=new(u.a.modules.GeometryLayer())({data:i,end:function(t){u.a.layerCollect.get(t).addEvent("click",function(t){var n=t.originalFeatures[0].properties.adcode;e.removeLayer(e.cityLayerId),e.removeLayer(e.lineCityLayerId),e.base.setCenter([t.lngLat.lng,t.lngLat.lat]),e.base.zoomTo({zoom:8}),e.cityLayerId=null,e.lineCityLayerId=null,e.addCountyLayer(n)},e.cityLayerId)}});e.cityLayerId=o.layerId,e.addSymbolLayer(t)})}},{key:"addCountyLayer",value:function(t){var e=this;this.adminService.getGeometryByAdminCode({code:t,containsSon:!0}).then(function(t){var n={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiLineString",coordinates:t.features[0].geometry.coordinates.map(function(t){return t[0]})},properties:{"line-color":"black","line-width":3}}]},r=new(u.a.modules.GeometryLayer())({data:n,end:function(t){}});e.lineCountyLayerId=r.layerId;var i={type:"FeatureCollection",features:[]};t.features[0].properties.sons.forEach(function(t,n){i.features.push({type:"Feature",geometry:t.polyline,properties:{"fill-color":e.colorArr[+t.color-1]}})});var o=new(u.a.modules.GeometryLayer())({data:i,end:function(t){}});e.countyLayerId=o.layerId,e.addSymbolLayer(t)})}},{key:"addSymbolLayer",value:function(t,e){var n,r=[];t.features[0].properties.sons.forEach(function(t){var e=JSON.parse(t.center),n={type:"Feature",properties:{text:t.name},geometry:{type:"Point",coordinates:e}};r.push(n)}),this.symbolId&&this.map.removeLayer(this.symbolId);var i={type:"FeatureCollection",features:r};n=Object(c.b)(),this.map.addLayer({id:n,type:"symbol",source:{type:"geojson",data:i},layout:{"text-field":["get","text"]||""}}),"province"===e?this.provinceSymbolId=n:this.symbolId=n}},{key:"removeLayer",value:function(t){u.a.layerCollect&&u.a.layerCollect.isExit(t)&&u.a.layerCollect.get(t).removeLayer()}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"GeometryCircleLayer",function(){return I});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(158),c=n.n(u),l=n(163),A=n.n(l),h=n(157),p=n.n(h),f=n(388),g=n.n(f),d=n(159),y=n.n(d),v=n(102),m=n(395),C=(n(156),n(400)),I=(n(390),function(t){function e(t){var n;return o()(this,e),(n=c()(this,p()(e).call(this,t.before))).layerType="geometry",n.defaultColor="rgba(151,235,241,0.6)",n.defaultOpacity=1,n.data=t.data,n.properties={},n.showPolygonOutline=t.showPolygonOutline,n.minzoom=t.minzoom||0,n.maxzoom=t.maxzoom||24,n.callback=t.end,n.defaultStyles=t.defaultStyles,n.layerLineId=n.layerId+"-line",n.layerPointId=n.layerId+"-circle",n.layerPolygonId=n.layerId+"-polygon",n.radius=t.radius,n.center=t.center,n.centerColor=t.centerColor||"rgba(151,235,241,1)",n.adaptive=t.adaptive||!1,n.draggable=t.draggable||!1,n.updateCallback=t.updateHandler,n._markerEvent=n.markerEvent.bind(A()(n)),n._markerCenterEvent=n.markerCenterEvent.bind(A()(n)),n.init(),n}return y()(e,t),a()(e,[{key:"init",value:function(){if(this.data&&("Feature"===this.data.type&&(this.data={type:"FeatureCollection",features:[this.data]}),this.properties=this.data.features[0].properties),(!this.center||!this.radius)&&this.data){var t=v.a.modules.calculation();this.center=t.getCenterOfPolygon(this.data.features[0].geometry.coordinates[0]),this.radius=t.distanceOfP2P(this.center,this.data.features[0].geometry.coordinates[0][0],"kilometers")}var e=C.a.circle(this.center,this.radius,{units:"kilometers",steps:128});this.data=e,this.data.properties=Object.assign({id:"my-feature-id"},this.properties),this.data&&"Feature"===this.data.type&&(this.data={type:"FeatureCollection",features:[this.data]}),this.setLayerFeature(this.data),this.addMarker();var n=v.a.modules.marker();if(n.setMarkersDraggable({markerType:"modify",draggable:!0}),n.addEvent({selector:".modify",event:"dragging",handler:this._markerEvent}),this.addText(),this.draggable){this.addCenterMarker();var r=v.a.modules.customOverlay();r.setCustomOverlayDraggable({id:this.centerId,draggable:!0}),r.addEvent({selector:"#".concat(this.centerId),event:"dragging",handler:this._markerCenterEvent})}}},{key:"addCenterMarker",value:function(){var t=this,e=document.createElement("div");e.className="addByIdClass",e.style.width="10px",e.style.height="10px",e.style.borderRadius="50%",e.style.backgroundColor="rgba(151,235,241,1)";var n=v.a.modules.customOverlay(),r=v.a.modules.marker();this.centerId=n.addCustomOverlay({point:this.center,element:e}),n.addEvent({selector:"#".concat(this.centerId),event:"dragend",handler:function(e){n.setCustomOverlayDraggable({id:t.centerId,draggable:!0}),n.addEvent({selector:"#".concat(t.centerId),event:"dragging",handler:t._markerCenterEvent}),t.addMarker(),t.addText(),r.setMarkersDraggable({markerType:"modify",draggable:!0}),r.addEvent({selector:".modify",event:"dragging",handler:t._markerEvent}),t.updateCallback({action:"move",data:t.data})}})}},{key:"addMarker",value:function(){var t=this,e=v.a.modules.marker();this.markerId=e.addMarker({groupName:"modify",url:n(1278),point:this.data.features[0].geometry.coordinates[0][96],ended:function(t){}}),e.addEvent({selector:".modify",event:"dragend",handler:function(){if(t.adaptive){var n=v.a.modules.calculation().getBboxOfPoints(t.data.features[0].geometry.coordinates[0]);v.a.modules.base().fitBounds({type:1,lngLatBounds:[n.geometry.coordinates[0][3],n.geometry.coordinates[0][1]]})}e.setMarkersDraggable({markerType:"modify",draggable:!0}),e.addEvent({selector:".modify",event:"dragging",handler:t._markerEvent}),t.updateCallback({action:"update",data:t.data})}})}},{key:"markerCenterEvent",value:function(t){var e=v.a.modules.marker(),n=v.a.modules.text(),r=v.a.modules.customOverlay();this.center=[t.lngLat.lng,t.lngLat.lat];var i=C.a.circle(this.center,this.radius,{units:"kilometers",steps:128});this.data=i,this.data.properties=Object.assign({center:this.center,radius:this.radius},this.properties),this.data&&"Feature"===this.data.type&&(this.data={type:"FeatureCollection",features:[this.data]}),this.setLayerFeature(this.data),this.textId&&n.removeTextById({id:this.textId}),this.markerId&&e.removeMarkerById({groupName:"modify",id:this.markerId}),this.centerId&&(r.removeCustomOverlayById({id:this.centerId}),this.addCenterMarker())}},{key:"markerEvent",value:function(t){var e=v.a.modules.marker(),n=v.a.modules.calculation();this.center=n.getCenterOfPolygon(this.data.features[0].geometry.coordinates[0]);var r=n.distanceOfP2P(this.center,[t.lngLat.lng,t.lngLat.lat],"kilometers"),i=C.a.circle(this.center,r,{units:"kilometers",steps:128});(this.data=i,this.data.properties=Object.assign({center:this.center,radius:r},this.properties),this.data&&"Feature"===this.data.type&&(this.data={type:"FeatureCollection",features:[this.data]}),this.setLayerFeature(this.data),this.textId)&&(v.a.modules.text().removeTextById({id:this.textId}),this.radius=r,this.addText());e.removeMarkerById({groupName:"modify",id:this.markerId}),this.addMarker()}},{key:"addText",value:function(){var t=v.a.modules.text();this.textId=t.addText({point:this.data.features[0].geometry.coordinates[0][96],htmlText:this.radius<1?"".concat((1e3*this.radius).toFixed(2),"米"):"".concat(this.radius.toFixed(2),"公里"),style:"background-color: #808080; color: white; padding: 3px 7px; opacity: 0.8; border-radius: 7px;",anchor:"left",offset:[20,0]})}},{key:"transformPaint",value:function(t){var e={},n=[];switch(t){case"Polygon":case"MultiPolygon":n=["fill-color","fill-outline-color","fill-opacity","fill-pattern","fill-antialias","fill-translate","fill-translate-anchor"];break;case"LineString":case"MultiLineString":n=["line-color","line-opacity","line-pattern","line-translate","line-translate-anchor","line-width","line-gap-width","line-offset","line-blur","line-dasharray"];break;case"Point":n=["circle-radius","circle-color","circle-blur","circle-opacity","circle-translate","circle-translate-anchor","circle-pitch-scale","circle-stroke-width","circle-stroke-color","circle-stroke-opacity"]}for(var r in this.defaultStyles)n.indexOf(r)>-1&&(e[r]=this.defaultStyles[r]);if("FeatureCollection"==this.data.type)this.data.features.forEach(function(r){if(r.properties&&(r.geometry.type===t||r.geometry.type==="Multi"+t))for(var i in r.properties)n.indexOf(i)>-1&&(e[i]={type:"identity",property:i})});else for(var i in this.data.properties)n.indexOf(i)>-1&&(e[i]={type:"identity",property:i});return e}},{key:"_getBasicLayer",value:function(){return this.layerLineId}},{key:"moveLayer",value:function(t){var e=v.a.map.map,n=v.a.layerCollect.get(t),r=n&&n._getBasicLayer();r&&(e.moveLayer(this.layerLineId,r),e.moveLayer(this.layerPointId,r),e.moveLayer(this.layerPolygonId,r))}},{key:"removeLayer",value:function(){g()(p()(e.prototype),"remove",this).call(this);var t=v.a.modules.marker(),n=v.a.modules.text(),r=v.a.modules.customOverlay();this.textId&&n.removeTextById({id:this.textId}),this.markerId&&t.removeMarkerById({groupName:"modify",id:this.markerId}),this.centerId&&r.removeCustomOverlayById({id:this.centerId})}},{key:"getUnclusteredLayerIds",value:function(){return[this.layerLineId,this.layerPointId,this.layerPolygonId].join(",")}},{key:"show",value:function(){if(g()(p()(e.prototype),"show",this).call(this),!this.markerId){this.addMarker();var t=v.a.modules.marker();t.setMarkersDraggable({markerType:"modify",draggable:!0}),t.addEvent({selector:".modify",event:"dragging",handler:this._markerEvent})}if(!this.textId&&(this.addText(),this.draggable)){this.addCenterMarker();var n=v.a.modules.customOverlay();n.setCustomOverlayDraggable({id:this.centerId,draggable:!0}),n.addEvent({selector:"#".concat(this.centerId),event:"dragging",handler:this._markerCenterEvent})}}},{key:"hide",value:function(){g()(p()(e.prototype),"hide",this).call(this);var t=v.a.modules.marker(),n=v.a.modules.text(),r=v.a.modules.customOverlay();this.textId&&(n.removeTextById({id:this.textId}),this.textId=null),this.markerId&&(t.removeMarkerById({groupName:"modify",id:this.markerId}),this.markerId=null),this.centerId&&(r.removeCustomOverlayById({id:this.centerId}),this.centerId=null)}}]),e}(m.a))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){
/*!
 * html2canvas 1.0.0-alpha.12 <https://html2canvas.hertzen.com>
 * Copyright (c) 2018 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
var n,r;n=this,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=/^#([a-f0-9]{3})$/i,s=function(t){var e=t.match(o);return!!e&&[parseInt(e[1][0]+e[1][0],16),parseInt(e[1][1]+e[1][1],16),parseInt(e[1][2]+e[1][2],16),null]},a=/^#([a-f0-9]{6})$/i,u=function(t){var e=t.match(a);return!!e&&[parseInt(e[1].substring(0,2),16),parseInt(e[1].substring(2,4),16),parseInt(e[1].substring(4,6),16),null]},c=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,l=function(t){var e=t.match(c);return!!e&&[Number(e[1]),Number(e[2]),Number(e[3]),null]},A=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/,h=function(t){var e=t.match(A);return!!(e&&e.length>4)&&[Number(e[1]),Number(e[2]),Number(e[3]),Number(e[4])]},p=function(t){return[Math.min(t[0],255),Math.min(t[1],255),Math.min(t[2],255),t.length>3?t[3]:null]},f=function(t){var e=d[t.toLowerCase()];return e||!1},g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=Array.isArray(e)?p(e):s(e)||l(e)||h(e)||f(e)||u(e)||[0,0,0,null],i=r(n,4),o=i[0],a=i[1],c=i[2],A=i[3];this.r=o,this.g=a,this.b=c,this.a=A}return i(t,[{key:"isTransparent",value:function(){return 0===this.a}},{key:"toString",value:function(){return null!==this.a&&1!==this.a?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}}]),t}();e.default=g;var d={transparent:[0,0,0,0],aliceblue:[240,248,255,null],antiquewhite:[250,235,215,null],aqua:[0,255,255,null],aquamarine:[127,255,212,null],azure:[240,255,255,null],beige:[245,245,220,null],bisque:[255,228,196,null],black:[0,0,0,null],blanchedalmond:[255,235,205,null],blue:[0,0,255,null],blueviolet:[138,43,226,null],brown:[165,42,42,null],burlywood:[222,184,135,null],cadetblue:[95,158,160,null],chartreuse:[127,255,0,null],chocolate:[210,105,30,null],coral:[255,127,80,null],cornflowerblue:[100,149,237,null],cornsilk:[255,248,220,null],crimson:[220,20,60,null],cyan:[0,255,255,null],darkblue:[0,0,139,null],darkcyan:[0,139,139,null],darkgoldenrod:[184,134,11,null],darkgray:[169,169,169,null],darkgreen:[0,100,0,null],darkgrey:[169,169,169,null],darkkhaki:[189,183,107,null],darkmagenta:[139,0,139,null],darkolivegreen:[85,107,47,null],darkorange:[255,140,0,null],darkorchid:[153,50,204,null],darkred:[139,0,0,null],darksalmon:[233,150,122,null],darkseagreen:[143,188,143,null],darkslateblue:[72,61,139,null],darkslategray:[47,79,79,null],darkslategrey:[47,79,79,null],darkturquoise:[0,206,209,null],darkviolet:[148,0,211,null],deeppink:[255,20,147,null],deepskyblue:[0,191,255,null],dimgray:[105,105,105,null],dimgrey:[105,105,105,null],dodgerblue:[30,144,255,null],firebrick:[178,34,34,null],floralwhite:[255,250,240,null],forestgreen:[34,139,34,null],fuchsia:[255,0,255,null],gainsboro:[220,220,220,null],ghostwhite:[248,248,255,null],gold:[255,215,0,null],goldenrod:[218,165,32,null],gray:[128,128,128,null],green:[0,128,0,null],greenyellow:[173,255,47,null],grey:[128,128,128,null],honeydew:[240,255,240,null],hotpink:[255,105,180,null],indianred:[205,92,92,null],indigo:[75,0,130,null],ivory:[255,255,240,null],khaki:[240,230,140,null],lavender:[230,230,250,null],lavenderblush:[255,240,245,null],lawngreen:[124,252,0,null],lemonchiffon:[255,250,205,null],lightblue:[173,216,230,null],lightcoral:[240,128,128,null],lightcyan:[224,255,255,null],lightgoldenrodyellow:[250,250,210,null],lightgray:[211,211,211,null],lightgreen:[144,238,144,null],lightgrey:[211,211,211,null],lightpink:[255,182,193,null],lightsalmon:[255,160,122,null],lightseagreen:[32,178,170,null],lightskyblue:[135,206,250,null],lightslategray:[119,136,153,null],lightslategrey:[119,136,153,null],lightsteelblue:[176,196,222,null],lightyellow:[255,255,224,null],lime:[0,255,0,null],limegreen:[50,205,50,null],linen:[250,240,230,null],magenta:[255,0,255,null],maroon:[128,0,0,null],mediumaquamarine:[102,205,170,null],mediumblue:[0,0,205,null],mediumorchid:[186,85,211,null],mediumpurple:[147,112,219,null],mediumseagreen:[60,179,113,null],mediumslateblue:[123,104,238,null],mediumspringgreen:[0,250,154,null],mediumturquoise:[72,209,204,null],mediumvioletred:[199,21,133,null],midnightblue:[25,25,112,null],mintcream:[245,255,250,null],mistyrose:[255,228,225,null],moccasin:[255,228,181,null],navajowhite:[255,222,173,null],navy:[0,0,128,null],oldlace:[253,245,230,null],olive:[128,128,0,null],olivedrab:[107,142,35,null],orange:[255,165,0,null],orangered:[255,69,0,null],orchid:[218,112,214,null],palegoldenrod:[238,232,170,null],palegreen:[152,251,152,null],paleturquoise:[175,238,238,null],palevioletred:[219,112,147,null],papayawhip:[255,239,213,null],peachpuff:[255,218,185,null],peru:[205,133,63,null],pink:[255,192,203,null],plum:[221,160,221,null],powderblue:[176,224,230,null],purple:[128,0,128,null],rebeccapurple:[102,51,153,null],red:[255,0,0,null],rosybrown:[188,143,143,null],royalblue:[65,105,225,null],saddlebrown:[139,69,19,null],salmon:[250,128,114,null],sandybrown:[244,164,96,null],seagreen:[46,139,87,null],seashell:[255,245,238,null],sienna:[160,82,45,null],silver:[192,192,192,null],skyblue:[135,206,235,null],slateblue:[106,90,205,null],slategray:[112,128,144,null],slategrey:[112,128,144,null],snow:[255,250,250,null],springgreen:[0,255,127,null],steelblue:[70,130,180,null],tan:[210,180,140,null],teal:[0,128,128,null],thistle:[216,191,216,null],tomato:[255,99,71,null],turquoise:[64,224,208,null],violet:[238,130,238,null],wheat:[245,222,179,null],white:[255,255,255,null],whitesmoke:[245,245,245,null],yellow:[255,255,0,null],yellowgreen:[154,205,50,null]};e.TRANSPARENT=new g([0,0,0,0])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=e.LENGTH_TYPE={PX:0,PERCENTAGE:1},o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type="%"===e.substr(e.length-1)?i.PERCENTAGE:i.PX;var n=parseFloat(e);isNaN(n)&&console.error('Invalid value given for Length: "'+e+'"'),this.value=isNaN(n)?0:n}return r(t,[{key:"isPercentage",value:function(){return this.type===i.PERCENTAGE}},{key:"getAbsoluteValue",value:function(t){return this.isPercentage()?t*(this.value/100):this.value}}],[{key:"create",value:function(e){return new t(e)}}]),t}();e.default=o;e.calculateLengthFromValueWithUnit=function(t,e,n){switch(n){case"px":case"%":return new o(e+n);case"em":case"rem":var r=new o(e);return r.value*="em"===n?parseFloat(t.style.font.fontSize):function t(e){var n=e.parent;return n?t(n):parseFloat(e.style.font.fontSize)}(t),r;default:return new o("0")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseBoundCurves=e.calculatePaddingBoxPath=e.calculateBorderBoxPath=e.parsePathForBorder=e.parseDocumentSize=e.calculateContentBox=e.calculatePaddingBox=e.parseBounds=e.Bounds=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(7)),o=s(n(32));function s(t){return t&&t.__esModule?t:{default:t}}var a=e.Bounds=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.left=e,this.top=n,this.width=r,this.height=i}return r(t,null,[{key:"fromClientRect",value:function(e,n,r){return new t(e.left+n,e.top+r,e.width,e.height)}}]),t}(),u=(e.parseBounds=function(t,e,n){return a.fromClientRect(t.getBoundingClientRect(),e,n)},e.calculatePaddingBox=function(t,e){return new a(t.left+e[3].borderWidth,t.top+e[0].borderWidth,t.width-(e[1].borderWidth+e[3].borderWidth),t.height-(e[0].borderWidth+e[2].borderWidth))},e.calculateContentBox=function(t,e,n){var r=e[0].value,i=e[1].value,o=e[2].value,s=e[3].value;return new a(t.left+s+n[3].borderWidth,t.top+r+n[0].borderWidth,t.width-(n[1].borderWidth+n[3].borderWidth+s+i),t.height-(n[0].borderWidth+n[2].borderWidth+r+o))},e.parseDocumentSize=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new a(0,0,r,i)},e.parsePathForBorder=function(t,e){switch(e){case 0:return u(t.topLeftOuter,t.topLeftInner,t.topRightOuter,t.topRightInner);case 1:return u(t.topRightOuter,t.topRightInner,t.bottomRightOuter,t.bottomRightInner);case 2:return u(t.bottomRightOuter,t.bottomRightInner,t.bottomLeftOuter,t.bottomLeftInner);case 3:default:return u(t.bottomLeftOuter,t.bottomLeftInner,t.topLeftOuter,t.topLeftInner)}},function(t,e,n,r){var i=[];return t instanceof o.default?i.push(t.subdivide(.5,!1)):i.push(t),n instanceof o.default?i.push(n.subdivide(.5,!0)):i.push(n),r instanceof o.default?i.push(r.subdivide(.5,!0).reverse()):i.push(r),e instanceof o.default?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i}),c=(e.calculateBorderBoxPath=function(t){return[t.topLeftOuter,t.topRightOuter,t.bottomRightOuter,t.bottomLeftOuter]},e.calculatePaddingBoxPath=function(t){return[t.topLeftInner,t.topRightInner,t.bottomRightInner,t.bottomLeftInner]},e.parseBoundCurves=function(t,e,n){var r=n[c.TOP_LEFT][0].getAbsoluteValue(t.width),o=n[c.TOP_LEFT][1].getAbsoluteValue(t.height),s=n[c.TOP_RIGHT][0].getAbsoluteValue(t.width),a=n[c.TOP_RIGHT][1].getAbsoluteValue(t.height),u=n[c.BOTTOM_RIGHT][0].getAbsoluteValue(t.width),A=n[c.BOTTOM_RIGHT][1].getAbsoluteValue(t.height),h=n[c.BOTTOM_LEFT][0].getAbsoluteValue(t.width),p=n[c.BOTTOM_LEFT][1].getAbsoluteValue(t.height),f=[];f.push((r+s)/t.width),f.push((h+u)/t.width),f.push((o+p)/t.height),f.push((a+A)/t.height);var g=Math.max.apply(Math,f);g>1&&(r/=g,o/=g,s/=g,a/=g,u/=g,A/=g,h/=g,p/=g);var d=t.width-s,y=t.height-A,v=t.width-u,m=t.height-p;return{topLeftOuter:r>0||o>0?l(t.left,t.top,r,o,c.TOP_LEFT):new i.default(t.left,t.top),topLeftInner:r>0||o>0?l(t.left+e[3].borderWidth,t.top+e[0].borderWidth,Math.max(0,r-e[3].borderWidth),Math.max(0,o-e[0].borderWidth),c.TOP_LEFT):new i.default(t.left+e[3].borderWidth,t.top+e[0].borderWidth),topRightOuter:s>0||a>0?l(t.left+d,t.top,s,a,c.TOP_RIGHT):new i.default(t.left+t.width,t.top),topRightInner:s>0||a>0?l(t.left+Math.min(d,t.width+e[3].borderWidth),t.top+e[0].borderWidth,d>t.width+e[3].borderWidth?0:s-e[3].borderWidth,a-e[0].borderWidth,c.TOP_RIGHT):new i.default(t.left+t.width-e[1].borderWidth,t.top+e[0].borderWidth),bottomRightOuter:u>0||A>0?l(t.left+v,t.top+y,u,A,c.BOTTOM_RIGHT):new i.default(t.left+t.width,t.top+t.height),bottomRightInner:u>0||A>0?l(t.left+Math.min(v,t.width-e[3].borderWidth),t.top+Math.min(y,t.height+e[0].borderWidth),Math.max(0,u-e[1].borderWidth),A-e[2].borderWidth,c.BOTTOM_RIGHT):new i.default(t.left+t.width-e[1].borderWidth,t.top+t.height-e[2].borderWidth),bottomLeftOuter:h>0||p>0?l(t.left,t.top+m,h,p,c.BOTTOM_LEFT):new i.default(t.left,t.top+t.height),bottomLeftInner:h>0||p>0?l(t.left+e[3].borderWidth,t.top+m,Math.max(0,h-e[3].borderWidth),p-e[2].borderWidth,c.BOTTOM_LEFT):new i.default(t.left+e[3].borderWidth,t.top+t.height-e[2].borderWidth)}},{TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3}),l=function(t,e,n,r,s){var a=(Math.sqrt(2)-1)/3*4,u=n*a,l=r*a,A=t+n,h=e+r;switch(s){case c.TOP_LEFT:return new o.default(new i.default(t,h),new i.default(t,h-l),new i.default(A-u,e),new i.default(A,e));case c.TOP_RIGHT:return new o.default(new i.default(t,e),new i.default(t+u,e),new i.default(A,h-l),new i.default(A,h));case c.BOTTOM_RIGHT:return new o.default(new i.default(A,e),new i.default(A,e+l),new i.default(t+u,h),new i.default(t,h));case c.BOTTOM_LEFT:default:return new o.default(new i.default(A,h),new i.default(A-u,h),new i.default(t,e+l),new i.default(t,e))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.contains=function(t,e){return 0!==(t&e)},e.distance=function(t,e){return Math.sqrt(t*t+e*e)},e.copyCSSStyles=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);"content"!==r&&e.style.setProperty(r,t.getPropertyValue(r))}return e},e.SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseBackgroundImage=e.parseBackground=e.calculateBackgroundRepeatPath=e.calculateBackgroundPosition=e.calculateBackgroungPositioningArea=e.calculateBackgroungPaintingArea=e.calculateGradientBackgroundSize=e.calculateBackgroundSize=e.BACKGROUND_ORIGIN=e.BACKGROUND_CLIP=e.BACKGROUND_SIZE=e.BACKGROUND_REPEAT=void 0;var r=c(n(0)),i=c(n(1)),o=c(n(31)),s=c(n(7)),a=n(2),u=n(17);function c(t){return t&&t.__esModule?t:{default:t}}var l=e.BACKGROUND_REPEAT={REPEAT:0,NO_REPEAT:1,REPEAT_X:2,REPEAT_Y:3},A=e.BACKGROUND_SIZE={AUTO:0,CONTAIN:1,COVER:2,LENGTH:3},h=e.BACKGROUND_CLIP={BORDER_BOX:0,PADDING_BOX:1,CONTENT_BOX:2},p=e.BACKGROUND_ORIGIN=h,f=function t(e){switch(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e){case"contain":this.size=A.CONTAIN;break;case"cover":this.size=A.COVER;break;case"auto":this.size=A.AUTO;break;default:this.value=new i.default(e)}},g=(e.calculateBackgroundSize=function(t,e,n){var r=0,i=0,s=t.size;if(s[0].size===A.CONTAIN||s[0].size===A.COVER){var a=n.width/n.height,u=e.width/e.height;return a<u!==(s[0].size===A.COVER)?new o.default(n.width,n.width/u):new o.default(n.height*u,n.height)}return s[0].value&&(r=s[0].value.getAbsoluteValue(n.width)),s[0].size===A.AUTO&&s[1].size===A.AUTO?i=e.height:s[1].size===A.AUTO?i=r/e.width*e.height:s[1].value&&(i=s[1].value.getAbsoluteValue(n.height)),s[0].size===A.AUTO&&(r=i/e.height*e.width),new o.default(r,i)},e.calculateGradientBackgroundSize=function(t,e){var n=t.size,r=n[0].value?n[0].value.getAbsoluteValue(e.width):e.width,i=n[1].value?n[1].value.getAbsoluteValue(e.height):n[0].value?r:e.height;return new o.default(r,i)},new f("auto")),d=(e.calculateBackgroungPaintingArea=function(t,e){switch(e){case h.BORDER_BOX:return(0,a.calculateBorderBoxPath)(t);case h.PADDING_BOX:default:return(0,a.calculatePaddingBoxPath)(t)}},e.calculateBackgroungPositioningArea=function(t,e,n,r){var i=(0,a.calculatePaddingBox)(e,r);switch(t){case p.BORDER_BOX:return e;case p.CONTENT_BOX:var o=n[u.PADDING_SIDES.LEFT].getAbsoluteValue(e.width),s=n[u.PADDING_SIDES.RIGHT].getAbsoluteValue(e.width),c=n[u.PADDING_SIDES.TOP].getAbsoluteValue(e.width),l=n[u.PADDING_SIDES.BOTTOM].getAbsoluteValue(e.width);return new a.Bounds(i.left+o,i.top+c,i.width-o-s,i.height-c-l);case p.PADDING_BOX:default:return i}},e.calculateBackgroundPosition=function(t,e,n){return new s.default(t[0].getAbsoluteValue(n.width-e.width),t[1].getAbsoluteValue(n.height-e.height))},e.calculateBackgroundRepeatPath=function(t,e,n,r,i){switch(t.repeat){case l.REPEAT_X:return[new s.default(Math.round(i.left),Math.round(r.top+e.y)),new s.default(Math.round(i.left+i.width),Math.round(r.top+e.y)),new s.default(Math.round(i.left+i.width),Math.round(n.height+r.top+e.y)),new s.default(Math.round(i.left),Math.round(n.height+r.top+e.y))];case l.REPEAT_Y:return[new s.default(Math.round(r.left+e.x),Math.round(i.top)),new s.default(Math.round(r.left+e.x+n.width),Math.round(i.top)),new s.default(Math.round(r.left+e.x+n.width),Math.round(i.height+i.top)),new s.default(Math.round(r.left+e.x),Math.round(i.height+i.top))];case l.NO_REPEAT:return[new s.default(Math.round(r.left+e.x),Math.round(r.top+e.y)),new s.default(Math.round(r.left+e.x+n.width),Math.round(r.top+e.y)),new s.default(Math.round(r.left+e.x+n.width),Math.round(r.top+e.y+n.height)),new s.default(Math.round(r.left+e.x),Math.round(r.top+e.y+n.height))];default:return[new s.default(Math.round(i.left),Math.round(i.top)),new s.default(Math.round(i.left+i.width),Math.round(i.top)),new s.default(Math.round(i.left+i.width),Math.round(i.height+i.top)),new s.default(Math.round(i.left),Math.round(i.height+i.top))]}},e.parseBackground=function(t,e){return{backgroundColor:new r.default(t.backgroundColor),backgroundImage:v(t,e),backgroundClip:d(t.backgroundClip),backgroundOrigin:y(t.backgroundOrigin)}},function(t){switch(t){case"padding-box":return h.PADDING_BOX;case"content-box":return h.CONTENT_BOX}return h.BORDER_BOX}),y=function(t){switch(t){case"padding-box":return p.PADDING_BOX;case"content-box":return p.CONTENT_BOX}return p.BORDER_BOX},v=function(t,e){var n=I(t.backgroundImage).map(function(t){if("url"===t.method){var n=e.loadImage(t.args[0]);t.args=n?[n]:[]}return t}),r=t.backgroundPosition.split(","),i=t.backgroundRepeat.split(","),o=t.backgroundSize.split(",");return n.map(function(t,e){var n=(o[e]||"auto").trim().split(" ").map(m),s=(r[e]||"auto").trim().split(" ").map(C);return{source:t,repeat:function(t){switch(t.trim()){case"no-repeat":return l.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return l.REPEAT_X;case"repeat-y":case"no-repeat repeat":return l.REPEAT_Y;case"repeat":return l.REPEAT}return console.error('Invalid background-repeat value "'+t+'"'),l.REPEAT}("string"===typeof i[e]?i[e]:i[0]),size:n.length<2?[n[0],g]:[n[0],n[1]],position:s.length<2?[s[0],s[0]]:[s[0],s[1]]}})},m=function(t){return"auto"===t?g:new f(t)},C=function(t){switch(t){case"bottom":case"right":return new i.default("100%");case"left":case"top":return new i.default("0%");case"auto":return new i.default("0")}return new i.default(t)},I=e.parseBackgroundImage=function(t){var e=/^\s$/,n=[],r=[],i="",o=null,s="",a=0,u=0,c=function(){var t="";if(i){'"'===s.substr(0,1)&&(s=s.substr(1,s.length-2)),s&&r.push(s.trim());var e=i.indexOf("-",1)+1;"-"===i.substr(0,1)&&e>0&&(t=i.substr(0,e).toLowerCase(),i=i.substr(e)),"none"!==(i=i.toLowerCase())&&n.push({prefix:t,method:i,args:r})}r=[],i=s=""};return t.split("").forEach(function(t){if(0!==a||!e.test(t)){switch(t){case'"':o?o===t&&(o=null):o=t;break;case"(":if(o)break;if(0===a)return void(a=1);u++;break;case")":if(o)break;if(1===a){if(0===u)return a=0,void c();u--}break;case",":if(o)break;if(0===a)return void c();if(1===a&&0===u&&!i.match(/^url$/i))return r.push(s.trim()),void(s="")}0===a?i+=t:s+=t}}),c(),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PATH={VECTOR:0,BEZIER_CURVE:1,CIRCLE:2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),s=(r=o)&&r.__esModule?r:{default:r},a=n(3),u=n(4),c=n(12),l=n(33),A=n(34),h=n(35),p=n(36),f=n(37),g=n(38),d=n(8),y=n(39),v=n(40),m=n(18),C=n(17),I=n(19),_=n(11),b=n(41),w=n(20),E=n(42),B=n(43),x=n(44),O=n(45),T=n(2),N=n(21),S=n(14);var M=["INPUT","TEXTAREA","SELECT"],L=function(){function t(e,n,r,i){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=n,this.tagName=e.tagName,this.index=i,this.childNodes=[],this.listItems=[],"number"===typeof e.start&&(this.listStart=e.start);var a=e.ownerDocument.defaultView,L=a.pageXOffset,F=a.pageYOffset,P=a.getComputedStyle(e,null),U=(0,A.parseDisplay)(P.display),D="radio"===e.type||"checkbox"===e.type,R=(0,I.parsePosition)(P.position);if(this.style={background:D?N.INPUT_BACKGROUND:(0,u.parseBackground)(P,r),border:D?N.INPUT_BORDERS:(0,c.parseBorder)(P),borderRadius:(e instanceof a.HTMLInputElement||e instanceof HTMLInputElement)&&D?(0,N.getInputBorderRadius)(e):(0,l.parseBorderRadius)(P),color:D?N.INPUT_COLOR:new s.default(P.color),display:U,float:(0,h.parseCSSFloat)(P.float),font:(0,p.parseFont)(P),letterSpacing:(0,f.parseLetterSpacing)(P.letterSpacing),listStyle:U===A.DISPLAY.LIST_ITEM?(0,d.parseListStyle)(P):null,lineBreak:(0,g.parseLineBreak)(P.lineBreak),margin:(0,y.parseMargin)(P),opacity:parseFloat(P.opacity),overflowX:-1===M.indexOf(e.tagName)?(0,v.parseOverflow)(P.overflowX):v.OVERFLOW.HIDDEN,overflowY:-1===M.indexOf(e.tagName)?(0,v.parseOverflow)(P.overflowY):v.OVERFLOW.HIDDEN,overflow:-1===M.indexOf(e.tagName)?(0,v.parseOverflow)(P.overflow):v.OVERFLOW.HIDDEN,overflowWrap:(0,m.parseOverflowWrap)(P.overflowWrap?P.overflowWrap:P.wordWrap),padding:(0,C.parsePadding)(P),position:R,textDecoration:(0,_.parseTextDecoration)(P),textShadow:(0,b.parseTextShadow)(P.textShadow),textTransform:(0,w.parseTextTransform)(P.textTransform),transform:(0,E.parseTransform)(P),visibility:(0,B.parseVisibility)(P.visibility),wordBreak:(0,x.parseWordBreak)(P.wordBreak),zIndex:(0,O.parseZIndex)(R!==I.POSITION.STATIC?P.zIndex:"auto")},this.isTransformed()&&(e.style.transform="matrix(1,0,0,1,0,0)"),U===A.DISPLAY.LIST_ITEM){var Q=(0,S.getListOwner)(this);if(Q){var j=Q.listItems.length;Q.listItems.push(this),this.listIndex=e.hasAttribute("value")&&"number"===typeof e.value?e.value:0===j?"number"===typeof Q.listStart?Q.listStart:1:Q.listItems[j-1].listIndex+1}}"IMG"===e.tagName&&e.addEventListener("load",function(){o.bounds=(0,T.parseBounds)(e,L,F),o.curvedBounds=(0,T.parseBoundCurves)(o.bounds,o.style.border,o.style.borderRadius)}),this.image=k(e,r),this.bounds=D?(0,N.reformatInputBounds)((0,T.parseBounds)(e,L,F)):(0,T.parseBounds)(e,L,F),this.curvedBounds=(0,T.parseBoundCurves)(this.bounds,this.style.border,this.style.borderRadius),this.name=e.tagName.toLowerCase()+(e.id?"#"+e.id:"")+e.className.toString().split(" ").map(function(t){return t.length?"."+t:""}).join("")}return i(t,[{key:"getClipPaths",value:function(){var t=this.parent?this.parent.getClipPaths():[];return(this.style.overflowX||this.style.overflowY?!this.style.overflowX!==v.OVERFLOW.VISIBLE&&!this.style.overflowY!==v.OVERFLOW.VISIBLE:this.style.overflow!==v.OVERFLOW.VISIBLE)?t.concat([(0,T.calculatePaddingBoxPath)(this.curvedBounds)]):t}},{key:"isInFlow",value:function(){return this.isRootElement()&&!this.isFloating()&&!this.isAbsolutelyPositioned()}},{key:"isVisible",value:function(){return!(0,a.contains)(this.style.display,A.DISPLAY.NONE)&&this.style.opacity>0&&this.style.visibility===B.VISIBILITY.VISIBLE}},{key:"isAbsolutelyPositioned",value:function(){return this.style.position!==I.POSITION.STATIC&&this.style.position!==I.POSITION.RELATIVE}},{key:"isPositioned",value:function(){return this.style.position!==I.POSITION.STATIC}},{key:"isFloating",value:function(){return this.style.float!==h.FLOAT.NONE}},{key:"isRootElement",value:function(){return null===this.parent}},{key:"isTransformed",value:function(){return null!==this.style.transform}},{key:"isPositionedWithZIndex",value:function(){return this.isPositioned()&&!this.style.zIndex.auto}},{key:"isInlineLevel",value:function(){return(0,a.contains)(this.style.display,A.DISPLAY.INLINE)||(0,a.contains)(this.style.display,A.DISPLAY.INLINE_BLOCK)||(0,a.contains)(this.style.display,A.DISPLAY.INLINE_FLEX)||(0,a.contains)(this.style.display,A.DISPLAY.INLINE_GRID)||(0,a.contains)(this.style.display,A.DISPLAY.INLINE_LIST_ITEM)||(0,a.contains)(this.style.display,A.DISPLAY.INLINE_TABLE)}},{key:"isInlineBlockOrInlineTable",value:function(){return(0,a.contains)(this.style.display,A.DISPLAY.INLINE_BLOCK)||(0,a.contains)(this.style.display,A.DISPLAY.INLINE_TABLE)}}]),t}();e.default=L;var k=function(t,e){if(t instanceof t.ownerDocument.defaultView.SVGSVGElement||t instanceof SVGSVGElement){var n=new XMLSerializer;return e.loadImage("data:image/svg+xml,"+encodeURIComponent(n.serializeToString(t)))}switch(t.tagName){case"IMG":var r=t;return e.loadImage(r.currentSrc||r.src);case"CANVAS":var i=t;return e.loadCanvas(i);case"IFRAME":var o=t.getAttribute("data-html2canvas-internal-iframe-key");if(o)return o}return null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);e.default=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=r.PATH.VECTOR,this.x=e,this.y=n,isNaN(e)&&console.error("Invalid x value given for Vector"),isNaN(n)&&console.error("Invalid y value given for Vector")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseListStyle=e.parseListStyleType=e.LIST_STYLE_TYPE=e.LIST_STYLE_POSITION=void 0;var r=n(4),i=e.LIST_STYLE_POSITION={INSIDE:0,OUTSIDE:1},o=e.LIST_STYLE_TYPE={NONE:-1,DISC:0,CIRCLE:1,SQUARE:2,DECIMAL:3,CJK_DECIMAL:4,DECIMAL_LEADING_ZERO:5,LOWER_ROMAN:6,UPPER_ROMAN:7,LOWER_GREEK:8,LOWER_ALPHA:9,UPPER_ALPHA:10,ARABIC_INDIC:11,ARMENIAN:12,BENGALI:13,CAMBODIAN:14,CJK_EARTHLY_BRANCH:15,CJK_HEAVENLY_STEM:16,CJK_IDEOGRAPHIC:17,DEVANAGARI:18,ETHIOPIC_NUMERIC:19,GEORGIAN:20,GUJARATI:21,GURMUKHI:22,HEBREW:22,HIRAGANA:23,HIRAGANA_IROHA:24,JAPANESE_FORMAL:25,JAPANESE_INFORMAL:26,KANNADA:27,KATAKANA:28,KATAKANA_IROHA:29,KHMER:30,KOREAN_HANGUL_FORMAL:31,KOREAN_HANJA_FORMAL:32,KOREAN_HANJA_INFORMAL:33,LAO:34,LOWER_ARMENIAN:35,MALAYALAM:36,MONGOLIAN:37,MYANMAR:38,ORIYA:39,PERSIAN:40,SIMP_CHINESE_FORMAL:41,SIMP_CHINESE_INFORMAL:42,TAMIL:43,TELUGU:44,THAI:45,TIBETAN:46,TRAD_CHINESE_FORMAL:47,TRAD_CHINESE_INFORMAL:48,UPPER_ARMENIAN:49,DISCLOSURE_OPEN:50,DISCLOSURE_CLOSED:51},s=e.parseListStyleType=function(t){switch(t){case"disc":return o.DISC;case"circle":return o.CIRCLE;case"square":return o.SQUARE;case"decimal":return o.DECIMAL;case"cjk-decimal":return o.CJK_DECIMAL;case"decimal-leading-zero":return o.DECIMAL_LEADING_ZERO;case"lower-roman":return o.LOWER_ROMAN;case"upper-roman":return o.UPPER_ROMAN;case"lower-greek":return o.LOWER_GREEK;case"lower-alpha":return o.LOWER_ALPHA;case"upper-alpha":return o.UPPER_ALPHA;case"arabic-indic":return o.ARABIC_INDIC;case"armenian":return o.ARMENIAN;case"bengali":return o.BENGALI;case"cambodian":return o.CAMBODIAN;case"cjk-earthly-branch":return o.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return o.CJK_HEAVENLY_STEM;case"cjk-ideographic":return o.CJK_IDEOGRAPHIC;case"devanagari":return o.DEVANAGARI;case"ethiopic-numeric":return o.ETHIOPIC_NUMERIC;case"georgian":return o.GEORGIAN;case"gujarati":return o.GUJARATI;case"gurmukhi":return o.GURMUKHI;case"hebrew":return o.HEBREW;case"hiragana":return o.HIRAGANA;case"hiragana-iroha":return o.HIRAGANA_IROHA;case"japanese-formal":return o.JAPANESE_FORMAL;case"japanese-informal":return o.JAPANESE_INFORMAL;case"kannada":return o.KANNADA;case"katakana":return o.KATAKANA;case"katakana-iroha":return o.KATAKANA_IROHA;case"khmer":return o.KHMER;case"korean-hangul-formal":return o.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return o.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return o.KOREAN_HANJA_INFORMAL;case"lao":return o.LAO;case"lower-armenian":return o.LOWER_ARMENIAN;case"malayalam":return o.MALAYALAM;case"mongolian":return o.MONGOLIAN;case"myanmar":return o.MYANMAR;case"oriya":return o.ORIYA;case"persian":return o.PERSIAN;case"simp-chinese-formal":return o.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return o.SIMP_CHINESE_INFORMAL;case"tamil":return o.TAMIL;case"telugu":return o.TELUGU;case"thai":return o.THAI;case"tibetan":return o.TIBETAN;case"trad-chinese-formal":return o.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return o.TRAD_CHINESE_INFORMAL;case"upper-armenian":return o.UPPER_ARMENIAN;case"disclosure-open":return o.DISCLOSURE_OPEN;case"disclosure-closed":return o.DISCLOSURE_CLOSED;case"none":default:return o.NONE}},a=(e.parseListStyle=function(t){var e=(0,r.parseBackgroundImage)(t.getPropertyValue("list-style-image"));return{listStyleType:s(t.getPropertyValue("list-style-type")),listStyleImage:e.length?e[0]:null,listStylePosition:a(t.getPropertyValue("list-style-position"))}},function(t){switch(t){case"inside":return i.INSIDE;case"outside":default:return i.OUTSIDE}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(20),o=n(22);var s=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.parent=n,this.bounds=r}return r(t,null,[{key:"fromTextNode",value:function(e,n){var r=u(e.data,n.style.textTransform);return new t(r,n,(0,o.parseTextBounds)(r,n,e))}}]),t}();e.default=s;var a=/(^|\s|:|-|\(|\))([a-z])/g,u=function(t,e){switch(e){case i.TEXT_TRANSFORM.LOWERCASE:return t.toLowerCase();case i.TEXT_TRANSFORM.CAPITALIZE:return t.replace(a,c);case i.TEXT_TRANSFORM.UPPERCASE:return t.toUpperCase();default:return t}};function c(t,e,n){return t.length>0?e+n.toUpperCase():t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23),i=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},o={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n);var r=e.getBoundingClientRect(),i=Math.round(r.height);if(t.body.removeChild(n),123===i)return!0}}return!1}(document);return Object.defineProperty(o,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch(t){return!1}return!0}(document);return Object.defineProperty(o,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_BASE64_DRAWING(){return function(t){var e=function(t,e){var n=new Image,r=t.createElement("canvas"),i=r.getContext("2d");return new Promise(function(t){n.src=e;var o=function(){try{i.drawImage(n,0,0),r.toDataURL()}catch(e){return t(!1)}return t(!0)};n.onload=o,n.onerror=function(){return t(!1)},!0===n.complete&&setTimeout(function(){o()},500)})}(document,t);return Object.defineProperty(o,"SUPPORT_BASE64_DRAWING",{value:function(){return e}}),e}},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"===typeof Array.from&&"function"===typeof window.fetch?function(t){var e=t.createElement("canvas");e.width=100,e.height=100;var n=e.getContext("2d");n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var o=new Image,s=e.toDataURL();o.src=s;var a=(0,r.createForeignObjectSVG)(100,100,0,0,o);return n.fillStyle="red",n.fillRect(0,0,100,100),(0,r.loadSerializedSVG)(a).then(function(e){n.drawImage(e,0,0);var o=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var a=t.createElement("div");return a.style.backgroundImage="url("+s+")",a.style.height="100px",i(o)?(0,r.loadSerializedSVG)((0,r.createForeignObjectSVG)(100,100,0,0,a)):Promise.reject(!1)}).then(function(t){return n.drawImage(t,0,0),i(n.getImageData(0,0,100,100).data)}).catch(function(t){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(o,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t="undefined"!==typeof(new Image).crossOrigin;return Object.defineProperty(o,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"===typeof(new XMLHttpRequest).responseType;return Object.defineProperty(o,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(o,"SUPPORT_CORS_XHR",{value:t}),t}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseTextDecoration=e.TEXT_DECORATION_LINE=e.TEXT_DECORATION=e.TEXT_DECORATION_STYLE=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};var s=e.TEXT_DECORATION_STYLE={SOLID:0,DOUBLE:1,DOTTED:2,DASHED:3,WAVY:4},a=e.TEXT_DECORATION={NONE:null},u=e.TEXT_DECORATION_LINE={UNDERLINE:1,OVERLINE:2,LINE_THROUGH:3,BLINK:4},c=function(t){switch(t){case"underline":return u.UNDERLINE;case"overline":return u.OVERLINE;case"line-through":return u.LINE_THROUGH}return u.BLINK};e.parseTextDecoration=function(t){var e,n="none"===(e=t.textDecorationLine?t.textDecorationLine:t.textDecoration)?null:e.split(" ").map(c);return null===n?a.NONE:{textDecorationLine:n,textDecorationColor:t.textDecorationColor?new o.default(t.textDecorationColor):null,textDecorationStyle:function(t){switch(t){case"double":return s.DOUBLE;case"dotted":return s.DOTTED;case"dashed":return s.DASHED;case"wavy":return s.WAVY}return s.SOLID}(t.textDecorationStyle)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseBorder=e.BORDER_SIDES=e.BORDER_STYLE=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};var s=e.BORDER_STYLE={NONE:0,SOLID:1},a=e.BORDER_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},u=Object.keys(a).map(function(t){return t.toLowerCase()});e.parseBorder=function(t){return u.map(function(e){var n=new o.default(t.getPropertyValue("border-"+e+"-color")),r=function(t){switch(t){case"none":return s.NONE}return s.SOLID}(t.getPropertyValue("border-"+e+"-style")),i=parseFloat(t.getPropertyValue("border-"+e+"-width"));return{borderColor:n,borderStyle:r,borderWidth:isNaN(i)?0:i}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.toCodePoints=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320===(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e},e.fromCodePoint=function(){if(String.fromCodePoint)return String.fromCodePoint.apply(String,arguments);var t=arguments.length;if(!t)return"";for(var e=[],n=-1,r="";++n<t;){var i=arguments.length<=n?void 0:arguments[n];i<=65535?e.push(i):(i-=65536,e.push(55296+(i>>10),i%1024+56320)),(n+1===t||e.length>16384)&&(r+=String.fromCharCode.apply(String,e),e.length=0)}return r};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="undefined"===typeof Uint8Array?[]:new Uint8Array(256),o=0;o<r.length;o++)i[r.charCodeAt(o)]=o;e.decode=function(t){var e=.75*t.length,n=t.length,r=void 0,o=0,s=void 0,a=void 0,u=void 0,c=void 0;"="===t[t.length-1]&&(e--,"="===t[t.length-2]&&e--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(e):new Array(e),A=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)s=i[t.charCodeAt(r)],a=i[t.charCodeAt(r+1)],u=i[t.charCodeAt(r+2)],c=i[t.charCodeAt(r+3)],A[o++]=s<<2|a>>4,A[o++]=(15&a)<<4|u>>2,A[o++]=(3&u)<<6|63&c;return l},e.polyUint16Array=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},e.polyUint32Array=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCounterText=e.inlineListItemElement=e.getListOwner=void 0;var r=n(3),i=u(n(6)),o=u(n(9)),s=n(8),a=n(24);function u(t){return t&&t.__esModule?t:{default:t}}var c=["OL","UL","MENU"],l=(e.getListOwner=function(t){var e=t.parent;if(!e)return null;do{if(-1!==c.indexOf(e.tagName))return e;e=e.parent}while(e);return t.parent},e.inlineListItemElement=function(t,e,n){var a=e.style.listStyle;if(a){var u=t.ownerDocument.defaultView.getComputedStyle(t,null),c=t.ownerDocument.createElement("html2canvaswrapper");switch((0,r.copyCSSStyles)(u,c),c.style.position="absolute",c.style.bottom="auto",c.style.display="block",c.style.letterSpacing="normal",a.listStylePosition){case s.LIST_STYLE_POSITION.OUTSIDE:c.style.left="auto",c.style.right=t.ownerDocument.defaultView.innerWidth-e.bounds.left-e.style.margin[1].getAbsoluteValue(e.bounds.width)+7+"px",c.style.textAlign="right";break;case s.LIST_STYLE_POSITION.INSIDE:c.style.left=e.bounds.left-e.style.margin[3].getAbsoluteValue(e.bounds.width)+"px",c.style.right="auto",c.style.textAlign="left"}var l=void 0,A=e.style.margin[0].getAbsoluteValue(e.bounds.width),h=a.listStyleImage;if(h)if("url"===h.method){var p=t.ownerDocument.createElement("img");p.src=h.args[0],c.style.top=e.bounds.top-A+"px",c.style.width="auto",c.style.height="auto",c.appendChild(p)}else{var f=.5*parseFloat(e.style.font.fontSize);c.style.top=e.bounds.top-A+e.bounds.height-1.5*f+"px",c.style.width=f+"px",c.style.height=f+"px",c.style.backgroundImage=u.listStyleImage}else"number"===typeof e.listIndex&&(l=t.ownerDocument.createTextNode(m(e.listIndex,a.listStyleType,!0)),c.appendChild(l),c.style.top=e.bounds.top-A+"px");var g=t.ownerDocument.body;g.appendChild(c),l?(e.childNodes.push(o.default.fromTextNode(l,e)),g.removeChild(c)):e.childNodes.push(new i.default(c,e,n,0))}},{integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]}),A={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},h={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},p={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},f=function(t,e,n,r,i,o){return t<e||t>n?m(t,i,o.length>0):r.integers.reduce(function(e,n,i){for(;t>=n;)t-=n,e+=r.values[i];return e},"")+o},g=function(t,e,n,r){var i="";do{n||t--,i=r(t)+i,t/=e}while(t*e>=e);return i},d=function(t,e,n,r,i){var o=n-e+1;return(t<0?"-":"")+(g(Math.abs(t),o,r,function(t){return(0,a.fromCodePoint)(Math.floor(t%o)+e)})+i)},y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:". ",r=e.length;return g(Math.abs(t),r,!1,function(t){return e[Math.floor(t%r)]})+n},v=function(t,e,n,i,o,a){if(t<-9999||t>9999)return m(t,s.LIST_STYLE_TYPE.CJK_DECIMAL,o.length>0);var u=Math.abs(t),c=o;if(0===u)return e[0]+c;for(var l=0;u>0&&l<=4;l++){var A=u%10;0===A&&(0,r.contains)(a,1)&&""!==c?c=e[A]+c:A>1||1===A&&0===l||1===A&&1===l&&(0,r.contains)(a,2)||1===A&&1===l&&(0,r.contains)(a,4)&&t>100||1===A&&l>1&&(0,r.contains)(a,8)?c=e[A]+(l>0?n[l-1]:"")+c:1===A&&l>0&&(c=n[l-1]+c),u=Math.floor(u/10)}return(t<0?i:"")+c},m=e.createCounterText=function(t,e,n){var r=n?". ":"",i=n?"、":"",o=n?", ":"";switch(e){case s.LIST_STYLE_TYPE.DISC:return"•";case s.LIST_STYLE_TYPE.CIRCLE:return"◦";case s.LIST_STYLE_TYPE.SQUARE:return"◾";case s.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:var a=d(t,48,57,!0,r);return a.length<4?"0"+a:a;case s.LIST_STYLE_TYPE.CJK_DECIMAL:return y(t,"〇一二三四五六七八九",i);case s.LIST_STYLE_TYPE.LOWER_ROMAN:return f(t,1,3999,l,s.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case s.LIST_STYLE_TYPE.UPPER_ROMAN:return f(t,1,3999,l,s.LIST_STYLE_TYPE.DECIMAL,r);case s.LIST_STYLE_TYPE.LOWER_GREEK:return d(t,945,969,!1,r);case s.LIST_STYLE_TYPE.LOWER_ALPHA:return d(t,97,122,!1,r);case s.LIST_STYLE_TYPE.UPPER_ALPHA:return d(t,65,90,!1,r);case s.LIST_STYLE_TYPE.ARABIC_INDIC:return d(t,1632,1641,!0,r);case s.LIST_STYLE_TYPE.ARMENIAN:case s.LIST_STYLE_TYPE.UPPER_ARMENIAN:return f(t,1,9999,A,s.LIST_STYLE_TYPE.DECIMAL,r);case s.LIST_STYLE_TYPE.LOWER_ARMENIAN:return f(t,1,9999,A,s.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case s.LIST_STYLE_TYPE.BENGALI:return d(t,2534,2543,!0,r);case s.LIST_STYLE_TYPE.CAMBODIAN:case s.LIST_STYLE_TYPE.KHMER:return d(t,6112,6121,!0,r);case s.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:return y(t,"子丑寅卯辰巳午未申酉戌亥",i);case s.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:return y(t,"甲乙丙丁戊己庚辛壬癸",i);case s.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:case s.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:return v(t,"零一二三四五六七八九","十百千萬","負",i,14);case s.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:return v(t,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",i,15);case s.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:return v(t,"零一二三四五六七八九","十百千萬","负",i,14);case s.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:return v(t,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",i,15);case s.LIST_STYLE_TYPE.JAPANESE_INFORMAL:return v(t,"〇一二三四五六七八九","十百千万","マイナス",i,0);case s.LIST_STYLE_TYPE.JAPANESE_FORMAL:return v(t,"零壱弐参四伍六七八九","拾百千万","マイナス",i,7);case s.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:return v(t,"영일이삼사오육칠팔구","십백천만","마이너스",o,7);case s.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:return v(t,"零一二三四五六七八九","十百千萬","마이너스",o,0);case s.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:return v(t,"零壹貳參四五六七八九","拾百千","마이너스",o,7);case s.LIST_STYLE_TYPE.DEVANAGARI:return d(t,2406,2415,!0,r);case s.LIST_STYLE_TYPE.GEORGIAN:return f(t,1,19999,p,s.LIST_STYLE_TYPE.DECIMAL,r);case s.LIST_STYLE_TYPE.GUJARATI:return d(t,2790,2799,!0,r);case s.LIST_STYLE_TYPE.GURMUKHI:return d(t,2662,2671,!0,r);case s.LIST_STYLE_TYPE.HEBREW:return f(t,1,10999,h,s.LIST_STYLE_TYPE.DECIMAL,r);case s.LIST_STYLE_TYPE.HIRAGANA:return y(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case s.LIST_STYLE_TYPE.HIRAGANA_IROHA:return y(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case s.LIST_STYLE_TYPE.KANNADA:return d(t,3302,3311,!0,r);case s.LIST_STYLE_TYPE.KATAKANA:return y(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case s.LIST_STYLE_TYPE.KATAKANA_IROHA:return y(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case s.LIST_STYLE_TYPE.LAO:return d(t,3792,3801,!0,r);case s.LIST_STYLE_TYPE.MONGOLIAN:return d(t,6160,6169,!0,r);case s.LIST_STYLE_TYPE.MYANMAR:return d(t,4160,4169,!0,r);case s.LIST_STYLE_TYPE.ORIYA:return d(t,2918,2927,!0,r);case s.LIST_STYLE_TYPE.PERSIAN:return d(t,1776,1785,!0,r);case s.LIST_STYLE_TYPE.TAMIL:return d(t,3046,3055,!0,r);case s.LIST_STYLE_TYPE.TELUGU:return d(t,3174,3183,!0,r);case s.LIST_STYLE_TYPE.THAI:return d(t,3664,3673,!0,r);case s.LIST_STYLE_TYPE.TIBETAN:return d(t,3872,3881,!0,r);case s.LIST_STYLE_TYPE.DECIMAL:default:return d(t,48,57,!0,r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(5),o=n(11);var s=function(t,e){var n=Math.max.apply(null,t.colorStops.map(function(t){return t.stop})),r=1/Math.max(1,n);t.colorStops.forEach(function(t){e.addColorStop(r*t.stop,t.color.toString())})},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e||document.createElement("canvas")}return r(t,[{key:"render",value:function(t){this.ctx=this.canvas.getContext("2d"),this.options=t,this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x,-t.y),this.ctx.textBaseline="bottom",t.logger.log("Canvas renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+this.options.scale)}},{key:"clip",value:function(t,e){var n=this;t.length&&(this.ctx.save(),t.forEach(function(t){n.path(t),n.ctx.clip()})),e(),t.length&&this.ctx.restore()}},{key:"drawImage",value:function(t,e,n){this.ctx.drawImage(t,e.left,e.top,e.width,e.height,n.left,n.top,n.width,n.height)}},{key:"drawShape",value:function(t,e){this.path(t),this.ctx.fillStyle=e.toString(),this.ctx.fill()}},{key:"fill",value:function(t){this.ctx.fillStyle=t.toString(),this.ctx.fill()}},{key:"getTarget",value:function(){return this.canvas.getContext("2d").setTransform(1,0,0,1,0,0),Promise.resolve(this.canvas)}},{key:"path",value:function(t){var e=this;this.ctx.beginPath(),Array.isArray(t)?t.forEach(function(t,n){var r=t.type===i.PATH.VECTOR?t:t.start;0===n?e.ctx.moveTo(r.x,r.y):e.ctx.lineTo(r.x,r.y),t.type===i.PATH.BEZIER_CURVE&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}):this.ctx.arc(t.x+t.radius,t.y+t.radius,t.radius,0,2*Math.PI,!0),this.ctx.closePath()}},{key:"rectangle",value:function(t,e,n,r,i){this.ctx.fillStyle=i.toString(),this.ctx.fillRect(t,e,n,r)}},{key:"renderLinearGradient",value:function(t,e){var n=this.ctx.createLinearGradient(t.left+e.direction.x1,t.top+e.direction.y1,t.left+e.direction.x0,t.top+e.direction.y0);s(e,n),this.ctx.fillStyle=n,this.ctx.fillRect(t.left,t.top,t.width,t.height)}},{key:"renderRadialGradient",value:function(t,e){var n=this,r=t.left+e.center.x,i=t.top+e.center.y,o=this.ctx.createRadialGradient(r,i,0,r,i,e.radius.x);if(o)if(s(e,o),this.ctx.fillStyle=o,e.radius.x!==e.radius.y){var a=t.left+.5*t.width,u=t.top+.5*t.height,c=e.radius.y/e.radius.x,l=1/c;this.transform(a,u,[1,0,0,c,0,0],function(){return n.ctx.fillRect(t.left,l*(t.top-u)+u,t.width,t.height*l)})}else this.ctx.fillRect(t.left,t.top,t.width,t.height)}},{key:"renderRepeat",value:function(t,e,n,r,i){this.path(t),this.ctx.fillStyle=this.ctx.createPattern(this.resizeImage(e,n),"repeat"),this.ctx.translate(r,i),this.ctx.fill(),this.ctx.translate(-r,-i)}},{key:"renderTextNode",value:function(t,e,n,r,i){var s=this;this.ctx.font=[n.fontStyle,n.fontVariant,n.fontWeight,n.fontSize,n.fontFamily].join(" "),t.forEach(function(t){if(s.ctx.fillStyle=e.toString(),i&&t.text.trim().length?i.slice(0).reverse().forEach(function(e){s.ctx.shadowColor=e.color.toString(),s.ctx.shadowOffsetX=e.offsetX*s.options.scale,s.ctx.shadowOffsetY=e.offsetY*s.options.scale,s.ctx.shadowBlur=e.blur,s.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height)}):s.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height),null!==r){var a=r.textDecorationColor||e;r.textDecorationLine.forEach(function(e){switch(e){case o.TEXT_DECORATION_LINE.UNDERLINE:var r=s.options.fontMetrics.getMetrics(n).baseline;s.rectangle(t.bounds.left,Math.round(t.bounds.top+r),t.bounds.width,1,a);break;case o.TEXT_DECORATION_LINE.OVERLINE:s.rectangle(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1,a);break;case o.TEXT_DECORATION_LINE.LINE_THROUGH:var i=s.options.fontMetrics.getMetrics(n).middle;s.rectangle(t.bounds.left,Math.ceil(t.bounds.top+i),t.bounds.width,1,a)}})}})}},{key:"resizeImage",value:function(t,e){if(t.width===e.width&&t.height===e.height)return t;var n=this.canvas.ownerDocument.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),n}},{key:"setOpacity",value:function(t){this.ctx.globalAlpha=t}},{key:"transform",value:function(t,e,n,r){this.ctx.save(),this.ctx.translate(t,e),this.ctx.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.ctx.translate(-t,-e),r(),this.ctx.restore()}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.enabled="undefined"!==typeof window&&e,this.start=r||Date.now(),this.id=n}return r(t,[{key:"child",value:function(e){return new t(this.enabled,e,this.start)}},{key:"log",value:function(){if(this.enabled&&window.console&&window.console.log){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(e,0)))}}},{key:"error",value:function(){if(this.enabled&&window.console&&window.console.error){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];Function.prototype.bind.call(window.console.error,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(e,0)))}}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parsePadding=e.PADDING_SIDES=void 0;var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};e.PADDING_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3};var s=["top","right","bottom","left"];e.parsePadding=function(t){return s.map(function(e){return new o.default(t.getPropertyValue("padding-"+e))})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.OVERFLOW_WRAP={NORMAL:0,BREAK_WORD:1};e.parseOverflowWrap=function(t){switch(t){case"break-word":return r.BREAK_WORD;case"normal":default:return r.NORMAL}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.POSITION={STATIC:0,RELATIVE:1,ABSOLUTE:2,FIXED:3,STICKY:4};e.parsePosition=function(t){switch(t){case"relative":return r.RELATIVE;case"absolute":return r.ABSOLUTE;case"fixed":return r.FIXED;case"sticky":return r.STICKY}return r.STATIC}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.TEXT_TRANSFORM={NONE:0,LOWERCASE:1,UPPERCASE:2,CAPITALIZE:3};e.parseTextTransform=function(t){switch(t){case"uppercase":return r.UPPERCASE;case"lowercase":return r.LOWERCASE;case"capitalize":return r.CAPITALIZE}return r.NONE}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reformatInputBounds=e.inlineSelectElement=e.inlineTextAreaElement=e.inlineInputElement=e.getInputBorderRadius=e.INPUT_BACKGROUND=e.INPUT_BORDERS=e.INPUT_COLOR=void 0;var r=A(n(9)),i=n(4),o=n(12),s=A(n(50)),a=A(n(7)),u=A(n(0)),c=A(n(1)),l=(n(2),n(22),n(3));function A(t){return t&&t.__esModule?t:{default:t}}e.INPUT_COLOR=new u.default([42,42,42]);var h=new u.default([165,165,165]),p=new u.default([222,222,222]),f={borderWidth:1,borderColor:h,borderStyle:o.BORDER_STYLE.SOLID},g=(e.INPUT_BORDERS=[f,f,f,f],e.INPUT_BACKGROUND={backgroundColor:p,backgroundImage:[],backgroundClip:i.BACKGROUND_CLIP.PADDING_BOX,backgroundOrigin:i.BACKGROUND_ORIGIN.PADDING_BOX},new c.default("50%")),d=[g,g],y=[d,d,d,d],v=new c.default("3px"),m=[v,v],C=[m,m,m,m],I=(e.getInputBorderRadius=function(t){return"radio"===t.type?y:C},e.inlineInputElement=function(t,e){if("radio"===t.type||"checkbox"===t.type){if(t.checked){var n=Math.min(e.bounds.width,e.bounds.height);e.childNodes.push("checkbox"===t.type?[new a.default(e.bounds.left+.39363*n,e.bounds.top+.79*n),new a.default(e.bounds.left+.16*n,e.bounds.top+.5549*n),new a.default(e.bounds.left+.27347*n,e.bounds.top+.44071*n),new a.default(e.bounds.left+.39694*n,e.bounds.top+.5649*n),new a.default(e.bounds.left+.72983*n,e.bounds.top+.23*n),new a.default(e.bounds.left+.84*n,e.bounds.top+.34085*n),new a.default(e.bounds.left+.39363*n,e.bounds.top+.79*n)]:new s.default(e.bounds.left+n/4,e.bounds.top+n/4,n/4))}}else I(_(t),t,e,!1)},e.inlineTextAreaElement=function(t,e){I(t.value,t,e,!0)},e.inlineSelectElement=function(t,e){var n=t.options[t.selectedIndex||0];I(n&&n.text||"",t,e,!1)},e.reformatInputBounds=function(t){return t.width>t.height?(t.left+=(t.width-t.height)/2,t.width=t.height):t.width<t.height&&(t.top+=(t.height-t.width)/2,t.height=t.width),t},function(t,e,n,i){var o=e.ownerDocument.body;if(t.length>0&&o){var s=e.ownerDocument.createElement("html2canvaswrapper");(0,l.copyCSSStyles)(e.ownerDocument.defaultView.getComputedStyle(e,null),s),s.style.position="absolute",s.style.left=n.bounds.left+"px",s.style.top=n.bounds.top+"px",i||(s.style.whiteSpace="nowrap");var a=e.ownerDocument.createTextNode(t);s.appendChild(a),o.appendChild(s),n.childNodes.push(r.default.fromTextNode(a,n)),o.removeChild(s)}}),_=function(t){var e="password"===t.type?new Array(t.value.length+1).join("•"):t.value;return 0===e.length?t.placeholder||"":e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseTextBounds=e.TextBounds=void 0;var r,i=n(2),o=n(11),s=n(10),a=(r=s)&&r.__esModule?r:{default:r},u=n(24);var c=e.TextBounds=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.bounds=n},l=(e.parseTextBounds=function(t,e,n){for(var r=0!==e.style.letterSpacing?(0,u.toCodePoints)(t).map(function(t){return(0,u.fromCodePoint)(t)}):(0,u.breakWords)(t,e),i=r.length,s=n.parentNode?n.parentNode.ownerDocument.defaultView:null,h=s?s.pageXOffset:0,p=s?s.pageYOffset:0,f=[],g=0,d=0;d<i;d++){var y=r[d];if(e.style.textDecoration!==o.TEXT_DECORATION.NONE||y.trim().length>0)if(a.default.SUPPORT_RANGE_BOUNDS)f.push(new c(y,A(n,g,y.length,h,p)));else{var v=n.splitText(y.length);f.push(new c(y,l(n,h,p))),n=v}else a.default.SUPPORT_RANGE_BOUNDS||(n=n.splitText(y.length));g+=y.length}return f},function(t,e,n){var r=t.ownerDocument.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var o=t.parentNode;if(o){o.replaceChild(r,t);var s=(0,i.parseBounds)(r,e,n);return r.firstChild&&o.replaceChild(r.firstChild,r),s}return new i.Bounds(0,0,0,0)}),A=function(t,e,n,r,o){var s=t.ownerDocument.createRange();return s.setStart(t,e),s.setEnd(t,e+n),i.Bounds.fromClientRect(s.getBoundingClientRect(),r,o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e}return r(t,[{key:"render",value:function(t){var e=this;this.options=t,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(t.width)*t.scale,this.canvas.height=Math.floor(t.height)*t.scale,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",t.logger.log("ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale);var n=o(Math.max(t.windowWidth,t.width)*t.scale,Math.max(t.windowHeight,t.height)*t.scale,t.scrollX*t.scale,t.scrollY*t.scale,this.element);return s(n).then(function(n){return t.backgroundColor&&(e.ctx.fillStyle=t.backgroundColor.toString(),e.ctx.fillRect(0,0,t.width*t.scale,t.height*t.scale)),e.ctx.drawImage(n,-t.x*t.scale,-t.y*t.scale),e.canvas})}}]),t}();e.default=i;var o=e.createForeignObjectSVG=function(t,e,n,r,i){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",t),s.setAttributeNS(null,"height",e),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n),a.setAttributeNS(null,"y",r),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(i),s},s=e.loadSerializedSVG=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.breakWords=e.fromCodePoint=e.toCodePoints=void 0;var r=n(46);Object.defineProperty(e,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});var i=n(18);e.breakWords=function(t,e){for(var n=(0,r.LineBreaker)(t,{lineBreak:e.style.lineBreak,wordBreak:e.style.overflowWrap===i.OVERFLOW_WRAP.BREAK_WORD?"break-word":e.style.wordBreak}),o=[],s=void 0;!(s=n.next()).done;)o.push(s.value.slice());return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMetrics=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(3);e.FontMetrics=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data={},this._document=e}return r(t,[{key:"_parseMetrics",value:function(t){var e=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;if(!o)throw new Error("No document found for font metrics");e.style.visibility="hidden",e.style.fontFamily=t.fontFamily,e.style.fontSize=t.fontSize,e.style.margin="0",e.style.padding="0",o.appendChild(e),n.src=i.SMALL_IMAGE,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode("Hidden Text")),e.appendChild(r),e.appendChild(n);var s=n.offsetTop-r.offsetTop+2;e.removeChild(r),e.appendChild(this._document.createTextNode("Hidden Text")),e.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-e.offsetTop+2;return o.removeChild(e),{baseline:s,middle:a}}},{key:"getMetrics",value:function(t){var e=t.fontFamily+" "+t.fontSize;return void 0===this._data[e]&&(this._data[e]=this._parseMetrics(t)),this._data[e]}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Proxy=void 0;var r,i=n(10),o=(r=i)&&r.__esModule?r:{default:r};e.Proxy=function(t,e){if(!e.proxy)return Promise.reject("No proxy defined");var n=e.proxy;return new Promise(function(r,i){var s=o.default.SUPPORT_CORS_XHR&&o.default.SUPPORT_RESPONSE_TYPE?"blob":"text",a=o.default.SUPPORT_CORS_XHR?new XMLHttpRequest:new XDomainRequest;if(a.onload=function(){if(a instanceof XMLHttpRequest)if(200===a.status)if("text"===s)r(a.response);else{var e=new FileReader;e.addEventListener("load",function(){return r(e.result)},!1),e.addEventListener("error",function(t){return i(t)},!1),e.readAsDataURL(a.response)}else i("Failed to proxy resource "+t.substring(0,256)+" with status code "+a.status);else r(a.responseText)},a.onerror=i,a.open("GET",n+"?url="+encodeURIComponent(t)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),e.imageTimeout){var u=e.imageTimeout;a.timeout=u,a.ontimeout=function(){return i("Timed out ("+u+"ms) proxying "+t.substring(0,256))}}a.send()})}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=a(n(15)),o=a(n(16)),s=n(28);function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t,e){var n=e||{},a=new o.default("boolean"!==typeof n.logging||n.logging);a.log("html2canvas 1.0.0-alpha.12"),"function"===typeof n.onrendered&&a.error("onrendered option is deprecated, html2canvas returns a Promise with the canvas as the value");var u=t.ownerDocument;if(!u)return Promise.reject("Provided element is not within a Document");var c=u.defaultView,l={async:!0,allowTaint:!1,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,scale:c.devicePixelRatio||1,target:new i.default(n.canvas),useCORS:!1,windowWidth:c.innerWidth,windowHeight:c.innerHeight,scrollX:c.pageXOffset,scrollY:c.pageYOffset},A=(0,s.renderElement)(t,r({},l,n),a);return A.catch(function(t){throw a.error(t),t})};u.CanvasRenderer=i.default,t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderElement=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=(p(n(16)),n(29)),o=p(n(51)),s=p(n(23)),a=p(n(10)),u=n(2),c=n(54),l=n(25),A=n(0),h=p(A);function p(t){return t&&t.__esModule?t:{default:t}}e.renderElement=function t(e,n,p){var f=e.ownerDocument,g=new u.Bounds(n.scrollX,n.scrollY,n.windowWidth,n.windowHeight),d=f.documentElement?new h.default(getComputedStyle(f.documentElement).backgroundColor):A.TRANSPARENT,y=f.body?new h.default(getComputedStyle(f.body).backgroundColor):A.TRANSPARENT,v=e===f.documentElement?d.isTransparent()?y.isTransparent()?n.backgroundColor?new h.default(n.backgroundColor):null:y:d:n.backgroundColor?new h.default(n.backgroundColor):null;return(n.foreignObjectRendering?a.default.SUPPORT_FOREIGNOBJECT_DRAWING:Promise.resolve(!1)).then(function(a){return a?(h=new c.DocumentCloner(e,n,p,!0,t),p.log("Document cloned, using foreignObject rendering"),h.inlineFonts(f).then(function(){return h.resourceLoader.ready()}).then(function(){var t=new s.default(h.documentElement),r=f.defaultView,i=r.pageXOffset,o=r.pageYOffset,a="HTML"===e.tagName||"BODY"===e.tagName?(0,u.parseDocumentSize)(f):(0,u.parseBounds)(e,i,o),c=a.width,l=a.height,A=a.left,g=a.top;return t.render({backgroundColor:v,logger:p,scale:n.scale,x:"number"===typeof n.x?n.x:A,y:"number"===typeof n.y?n.y:g,width:"number"===typeof n.width?n.width:Math.ceil(c),height:"number"===typeof n.height?n.height:Math.ceil(l),windowWidth:n.windowWidth,windowHeight:n.windowHeight,scrollX:n.scrollX,scrollY:n.scrollY})})):(0,c.cloneWindow)(f,g,e,n,p,t).then(function(t){var e=r(t,3),s=e[0],a=e[1],c=e[2];p.log("Document cloned, using computed rendering");var h=(0,i.NodeParser)(a,c,p),g=a.ownerDocument;return v===h.container.style.background.backgroundColor&&(h.container.style.background.backgroundColor=A.TRANSPARENT),c.ready().then(function(t){var e=new l.FontMetrics(g);p.log("Starting renderer");var r=g.defaultView,i=r.pageXOffset,c=r.pageYOffset,A="HTML"===a.tagName||"BODY"===a.tagName?(0,u.parseDocumentSize)(f):(0,u.parseBounds)(a,i,c),d=A.width,y=A.height,m=A.left,C=A.top,I={backgroundColor:v,fontMetrics:e,imageStore:t,logger:p,scale:n.scale,x:"number"===typeof n.x?n.x:m,y:"number"===typeof n.y?n.y:C,width:"number"===typeof n.width?n.width:Math.ceil(d),height:"number"===typeof n.height?n.height:Math.ceil(y)};if(Array.isArray(n.target))return Promise.all(n.target.map(function(t){return new o.default(t,I).render(h)}));var _=new o.default(n.target,I).render(h);return!0===n.removeContainer&&(s.parentNode?s.parentNode.removeChild(s):p.log("Cannot detach cloned iframe as it is not in the DOM anymore")),_})});var h})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeParser=void 0;var r=c(n(30)),i=c(n(6)),o=c(n(9)),s=n(21),a=n(14),u=n(8);function c(t){return t&&t.__esModule?t:{default:t}}e.NodeParser=function(t,e,n){n.log("Starting node parsing");var o=0,s=new i.default(t,null,e,o++),a=new r.default(s,null,!0);return A(t,s,a,e,o),n.log("Finished parsing node tree"),a};var l=["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"],A=function t(e,n,c,A,f){if(f>5e4)throw new Error("Recursion error while parsing node tree");for(var g,d=e.firstChild;d;d=g){g=d.nextSibling;var y=d.ownerDocument.defaultView;if(d instanceof y.Text||d instanceof Text||y.parent&&d instanceof y.parent.Text)d.data.trim().length>0&&n.childNodes.push(o.default.fromTextNode(d,n));else if(d instanceof y.HTMLElement||d instanceof HTMLElement||y.parent&&d instanceof y.parent.HTMLElement){if(-1===l.indexOf(d.nodeName)){var v=new i.default(d,n,A,f++);if(v.isVisible()){"INPUT"===d.tagName?(0,s.inlineInputElement)(d,v):"TEXTAREA"===d.tagName?(0,s.inlineTextAreaElement)(d,v):"SELECT"===d.tagName?(0,s.inlineSelectElement)(d,v):v.style.listStyle&&v.style.listStyle.listStyleType!==u.LIST_STYLE_TYPE.NONE&&(0,a.inlineListItemElement)(d,v,A);var m="TEXTAREA"!==d.tagName,C=h(v,d);if(C||p(v)){var I=C||v.isPositioned()?c.getRealParentStackingContext():c,_=new r.default(v,I,C);I.contexts.push(_),m&&t(d,v,_,A,f)}else c.children.push(v),m&&t(d,v,c,A,f)}}}else if(d instanceof y.SVGSVGElement||d instanceof SVGSVGElement||y.parent&&d instanceof y.parent.SVGSVGElement){var b=new i.default(d,n,A,f++),w=h(b,d);if(w||p(b)){var E=w||b.isPositioned()?c.getRealParentStackingContext():c,B=new r.default(b,E,w);E.contexts.push(B)}else c.children.push(b)}}},h=function(t,e){return t.isRootElement()||t.isPositionedWithZIndex()||t.style.opacity<1||t.isTransformed()||f(t,e)},p=function(t){return t.isPositioned()||t.isFloating()},f=function(t,e){return"BODY"===e.nodeName&&t.parent instanceof i.default&&t.parent.style.background.backgroundColor.isTransparent()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(6);(r=o)&&r.__esModule,n(19);var s=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.parent=n,this.contexts=[],this.children=[],this.treatAsRealStackingContext=r}return i(t,[{key:"getOpacity",value:function(){return this.parent?this.container.style.opacity*this.parent.getOpacity():this.container.style.opacity}},{key:"getRealParentStackingContext",value:function(){return!this.parent||this.treatAsRealStackingContext?this:this.parent.getRealParentStackingContext()}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e,this.height=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(5),s=n(7),a=(r=s)&&r.__esModule?r:{default:r};var u=function(t,e,n){return new a.default(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},c=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=o.PATH.BEZIER_CURVE,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return i(t,[{key:"subdivide",value:function(e,n){var r=u(this.start,this.startControl,e),i=u(this.startControl,this.endControl,e),o=u(this.endControl,this.end,e),s=u(r,i,e),a=u(i,o,e),c=u(s,a,e);return n?new t(this.start,r,s,c):new t(c,a,o,this.end)}},{key:"reverse",value:function(){return new t(this.end,this.endControl,this.startControl,this.start)}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseBorderRadius=void 0;var r,i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(1),s=(r=o)&&r.__esModule?r:{default:r};var a=["top-left","top-right","bottom-right","bottom-left"];e.parseBorderRadius=function(t){return a.map(function(e){var n=t.getPropertyValue("border-"+e+"-radius").split(" ").map(s.default.create),r=i(n,2),o=r[0],a=r[1];return"undefined"===typeof a?[o,o]:[o,a]})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.DISPLAY={NONE:1,BLOCK:2,INLINE:4,RUN_IN:8,FLOW:16,FLOW_ROOT:32,TABLE:64,FLEX:128,GRID:256,RUBY:512,SUBGRID:1024,LIST_ITEM:2048,TABLE_ROW_GROUP:4096,TABLE_HEADER_GROUP:8192,TABLE_FOOTER_GROUP:16384,TABLE_ROW:32768,TABLE_CELL:65536,TABLE_COLUMN_GROUP:1<<17,TABLE_COLUMN:1<<18,TABLE_CAPTION:1<<19,RUBY_BASE:1<<20,RUBY_TEXT:1<<21,RUBY_BASE_CONTAINER:1<<22,RUBY_TEXT_CONTAINER:1<<23,CONTENTS:1<<24,INLINE_BLOCK:1<<25,INLINE_LIST_ITEM:1<<26,INLINE_TABLE:1<<27,INLINE_FLEX:1<<28,INLINE_GRID:1<<29},i=function(t,e){return t|function(t){switch(t){case"block":return r.BLOCK;case"inline":return r.INLINE;case"run-in":return r.RUN_IN;case"flow":return r.FLOW;case"flow-root":return r.FLOW_ROOT;case"table":return r.TABLE;case"flex":return r.FLEX;case"grid":return r.GRID;case"ruby":return r.RUBY;case"subgrid":return r.SUBGRID;case"list-item":return r.LIST_ITEM;case"table-row-group":return r.TABLE_ROW_GROUP;case"table-header-group":return r.TABLE_HEADER_GROUP;case"table-footer-group":return r.TABLE_FOOTER_GROUP;case"table-row":return r.TABLE_ROW;case"table-cell":return r.TABLE_CELL;case"table-column-group":return r.TABLE_COLUMN_GROUP;case"table-column":return r.TABLE_COLUMN;case"table-caption":return r.TABLE_CAPTION;case"ruby-base":return r.RUBY_BASE;case"ruby-text":return r.RUBY_TEXT;case"ruby-base-container":return r.RUBY_BASE_CONTAINER;case"ruby-text-container":return r.RUBY_TEXT_CONTAINER;case"contents":return r.CONTENTS;case"inline-block":return r.INLINE_BLOCK;case"inline-list-item":return r.INLINE_LIST_ITEM;case"inline-table":return r.INLINE_TABLE;case"inline-flex":return r.INLINE_FLEX;case"inline-grid":return r.INLINE_GRID}return r.NONE}(e)};e.parseDisplay=function(t){return t.split(" ").reduce(i,0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.FLOAT={NONE:0,LEFT:1,RIGHT:2,INLINE_START:3,INLINE_END:4};e.parseCSSFloat=function(t){switch(t){case"left":return r.LEFT;case"right":return r.RIGHT;case"inline-start":return r.INLINE_START;case"inline-end":return r.INLINE_END}return r.NONE}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.parseFont=function(t){return{fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontVariant:t.fontVariant,fontWeight:function(t){switch(t){case"normal":return 400;case"bold":return 700}var e=parseInt(t,10);return isNaN(e)?400:e}(t.fontWeight)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.parseLetterSpacing=function(t){if("normal"===t)return 0;var e=parseFloat(t);return isNaN(e)?0:e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.LINE_BREAK={NORMAL:"normal",STRICT:"strict"};e.parseLineBreak=function(t){switch(t){case"strict":return r.STRICT;case"normal":default:return r.NORMAL}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseMargin=void 0;var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};var s=["top","right","bottom","left"];e.parseMargin=function(t){return s.map(function(e){return new o.default(t.getPropertyValue("margin-"+e))})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.OVERFLOW={VISIBLE:0,HIDDEN:1,SCROLL:2,AUTO:3};e.parseOverflow=function(t){switch(t){case"hidden":return r.HIDDEN;case"scroll":return r.SCROLL;case"auto":return r.AUTO;case"visible":default:return r.VISIBLE}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseTextShadow=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};var s=/^([+-]|\d|\.)$/i;e.parseTextShadow=function(t){if("none"===t||"string"!==typeof t)return null;for(var e="",n=!1,r=[],i=[],a=0,u=null,c=function(){e.length&&(n?r.push(parseFloat(e)):u=new o.default(e)),n=!1,e=""},l=function(){r.length&&null!==u&&i.push({color:u,offsetX:r[0]||0,offsetY:r[1]||0,blur:r[2]||0}),r.splice(0,r.length),u=null},A=0;A<t.length;A++){var h=t[A];switch(h){case"(":e+=h,a++;break;case")":e+=h,a--;break;case",":0===a?(c(),l()):e+=h;break;case" ":0===a?c():e+=h;break;default:0===e.length&&s.test(h)&&(n=!0),e+=h}}return c(),l(),0===i.length?null:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseTransform=void 0;var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};var s=function(t){return parseFloat(t.trim())},a=/(matrix|matrix3d)\((.+)\)/,u=(e.parseTransform=function(t){var e=c(t.transform||t.webkitTransform||t.mozTransform||t.msTransform||t.oTransform);return null===e?null:{transform:e,transformOrigin:u(t.transformOrigin||t.webkitTransformOrigin||t.mozTransformOrigin||t.msTransformOrigin||t.oTransformOrigin)}},function(t){if("string"!==typeof t){var e=new o.default("0");return[e,e]}var n=t.split(" ").map(o.default.create);return[n[0],n[1]]}),c=function(t){if("none"===t||"string"!==typeof t)return null;var e=t.match(a);if(e){if("matrix"===e[1]){var n=e[2].split(",").map(s);return[n[0],n[1],n[2],n[3],n[4],n[5]]}var r=e[2].split(",").map(s);return[r[0],r[1],r[4],r[5],r[12],r[13]]}return null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.VISIBILITY={VISIBLE:0,HIDDEN:1,COLLAPSE:2};e.parseVisibility=function(t){switch(t){case"hidden":return r.HIDDEN;case"collapse":return r.COLLAPSE;case"visible":default:return r.VISIBLE}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.WORD_BREAK={NORMAL:"normal",BREAK_ALL:"break-all",KEEP_ALL:"keep-all"};e.parseWordBreak=function(t){switch(t){case"break-all":return r.BREAK_ALL;case"keep-all":return r.KEEP_ALL;case"normal":default:return r.NORMAL}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.parseZIndex=function(t){var e="auto"===t;return{auto:e,order:e?0:parseInt(t,10)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13);Object.defineProperty(e,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});var i=n(47);Object.defineProperty(e,"LineBreaker",{enumerable:!0,get:function(){return i.LineBreaker}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineBreaker=e.inlineBreakOpportunities=e.lineBreakAtIndex=e.codePointsToCharacterClasses=e.UnicodeTrie=e.BREAK_ALLOWED=e.BREAK_NOT_ALLOWED=e.BREAK_MANDATORY=e.classes=e.LETTER_NUMBER_MODIFIER=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(48),a=n(49),u=(r=a)&&r.__esModule?r:{default:r},c=n(13);var l=e.LETTER_NUMBER_MODIFIER=50,A=10,h=13,p=15,f=17,g=18,d=19,y=20,v=21,m=22,C=24,I=25,_=26,b=27,w=28,E=30,B=32,x=33,O=34,T=35,N=37,S=38,M=39,L=40,k=42,F=(e.classes={BK:1,CR:2,LF:3,CM:4,NL:5,SG:6,WJ:7,ZW:8,GL:9,SP:A,ZWJ:11,B2:12,BA:h,BB:14,HY:p,CB:16,CL:f,CP:g,EX:d,IN:y,NS:v,OP:m,QU:23,IS:C,NU:I,PO:_,PR:b,SY:w,AI:29,AL:E,CJ:31,EB:B,EM:x,H2:O,H3:T,HL:36,ID:N,JL:S,JV:M,JT:L,RI:41,SA:k,XX:43},e.BREAK_MANDATORY="!"),P=e.BREAK_NOT_ALLOWED="×",U=e.BREAK_ALLOWED="÷",D=e.UnicodeTrie=(0,s.createTrieFromBase64)(u.default),R=[E,36],Q=[1,2,3,5],j=[A,8],H=[b,_],G=Q.concat(j),z=[S,M,L,O,T],V=[p,h],K=e.codePointsToCharacterClasses=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"strict",n=[],r=[],i=[];return t.forEach(function(t,o){var s=D.get(t);if(s>l?(i.push(!0),s-=l):i.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return r.push(o),n.push(16);if(4===s||11===s){if(0===o)return r.push(o),n.push(E);var a=n[o-1];return-1===G.indexOf(a)?(r.push(r[o-1]),n.push(a)):(r.push(o),n.push(E))}return r.push(o),31===s?n.push("strict"===e?v:N):s===k?n.push(E):29===s?n.push(E):43===s?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(N):n.push(E):void n.push(s)}),[r,n,i]},Y=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?-1!==t.indexOf(i):t===i)for(var o=n;o<=r.length;){var s=r[++o];if(s===e)return!0;if(s!==A)break}if(i===A)for(var a=n;a>0;){var u=r[--a];if(Array.isArray(t)?-1!==t.indexOf(u):t===u)for(var c=n;c<=r.length;){var l=r[++c];if(l===e)return!0;if(l!==A)break}if(u!==A)break}return!1},X=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r!==A)return r;n--}return 0},W=function(t,e,n,r,i){if(0===n[r])return P;var o=r-1;if(Array.isArray(i)&&!0===i[o])return P;var s=o-1,a=o+1,u=e[o],c=s>=0?e[s]:0,l=e[a];if(2===u&&3===l)return P;if(-1!==Q.indexOf(u))return F;if(-1!==Q.indexOf(l))return P;if(-1!==j.indexOf(l))return P;if(8===X(o,e))return U;if(11===D.get(t[o])&&(l===N||l===B||l===x))return P;if(7===u||7===l)return P;if(9===u)return P;if(-1===[A,h,p].indexOf(u)&&9===l)return P;if(-1!==[f,g,d,C,w].indexOf(l))return P;if(X(o,e)===m)return P;if(Y(23,m,o,e))return P;if(Y([f,g],v,o,e))return P;if(Y(12,12,o,e))return P;if(u===A)return U;if(23===u||23===l)return P;if(16===l||16===u)return U;if(-1!==[h,p,v].indexOf(l)||14===u)return P;if(36===c&&-1!==V.indexOf(u))return P;if(u===w&&36===l)return P;if(l===y&&-1!==R.concat(y,d,I,N,B,x).indexOf(u))return P;if(-1!==R.indexOf(l)&&u===I||-1!==R.indexOf(u)&&l===I)return P;if(u===b&&-1!==[N,B,x].indexOf(l)||-1!==[N,B,x].indexOf(u)&&l===_)return P;if(-1!==R.indexOf(u)&&-1!==H.indexOf(l)||-1!==H.indexOf(u)&&-1!==R.indexOf(l))return P;if(-1!==[b,_].indexOf(u)&&(l===I||-1!==[m,p].indexOf(l)&&e[a+1]===I)||-1!==[m,p].indexOf(u)&&l===I||u===I&&-1!==[I,w,C].indexOf(l))return P;if(-1!==[I,w,C,f,g].indexOf(l))for(var E=o;E>=0;){var k=e[E];if(k===I)return P;if(-1===[w,C].indexOf(k))break;E--}if(-1!==[b,_].indexOf(l))for(var G=-1!==[f,g].indexOf(u)?s:o;G>=0;){var K=e[G];if(K===I)return P;if(-1===[w,C].indexOf(K))break;G--}if(S===u&&-1!==[S,M,O,T].indexOf(l)||-1!==[M,O].indexOf(u)&&-1!==[M,L].indexOf(l)||-1!==[L,T].indexOf(u)&&l===L)return P;if(-1!==z.indexOf(u)&&-1!==[y,_].indexOf(l)||-1!==z.indexOf(l)&&u===b)return P;if(-1!==R.indexOf(u)&&-1!==R.indexOf(l))return P;if(u===C&&-1!==R.indexOf(l))return P;if(-1!==R.concat(I).indexOf(u)&&l===m||-1!==R.concat(I).indexOf(l)&&u===g)return P;if(41===u&&41===l){for(var W=n[o],Z=1;W>0&&41===e[--W];)Z++;if(Z%2!==0)return P}return u===B&&l===x?P:U},Z=(e.lineBreakAtIndex=function(t,e){if(0===e)return P;if(e>=t.length)return F;var n=K(t),r=o(n,2),i=r[0],s=r[1];return W(t,s,i,e)},function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=K(t,e.lineBreak),r=o(n,3),i=r[0],s=r[1],a=r[2];return"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(s=s.map(function(t){return-1!==[I,E,k].indexOf(t)?N:t})),[i,s,"keep-all"===e.wordBreak?a.map(function(e,n){return e&&t[n]>=19968&&t[n]<=40959}):null]}),J=(e.inlineBreakOpportunities=function(t,e){var n=(0,c.toCodePoints)(t),r=P,i=Z(n,e),s=o(i,3),a=s[0],u=s[1],l=s[2];return n.forEach(function(t,e){r+=(0,c.fromCodePoint)(t)+(e>=n.length-1?F:W(n,u,a,e+1,l))}),r},function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._codePoints=e,this.required=n===F,this.start=r,this.end=i}return i(t,[{key:"slice",value:function(){return c.fromCodePoint.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this._codePoints.slice(this.start,this.end)))}}]),t}());e.LineBreaker=function(t,e){var n=(0,c.toCodePoints)(t),r=Z(n,e),i=o(r,3),s=i[0],a=i[1],u=i[2],l=n.length,A=0,h=0;return{next:function(){if(h>=l)return{done:!0};for(var t=P;h<l&&(t=W(n,a,s,++h,u))===P;);if(t!==P||h===l){var e=new J(n,t,A,h);return A=h,{value:e,done:!1}}return{done:!0}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trie=e.createTrieFromBase64=e.UTRIE2_INDEX_2_MASK=e.UTRIE2_INDEX_2_BLOCK_LENGTH=e.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=e.UTRIE2_INDEX_1_OFFSET=e.UTRIE2_UTF8_2B_INDEX_2_LENGTH=e.UTRIE2_UTF8_2B_INDEX_2_OFFSET=e.UTRIE2_INDEX_2_BMP_LENGTH=e.UTRIE2_LSCP_INDEX_2_LENGTH=e.UTRIE2_DATA_MASK=e.UTRIE2_DATA_BLOCK_LENGTH=e.UTRIE2_LSCP_INDEX_2_OFFSET=e.UTRIE2_SHIFT_1_2=e.UTRIE2_INDEX_SHIFT=e.UTRIE2_SHIFT_1=e.UTRIE2_SHIFT_2=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(13);var o=e.UTRIE2_SHIFT_2=5,s=e.UTRIE2_SHIFT_1=11,a=e.UTRIE2_INDEX_SHIFT=2,u=e.UTRIE2_SHIFT_1_2=s-o,c=e.UTRIE2_LSCP_INDEX_2_OFFSET=65536>>o,l=e.UTRIE2_DATA_BLOCK_LENGTH=1<<o,A=e.UTRIE2_DATA_MASK=l-1,h=e.UTRIE2_LSCP_INDEX_2_LENGTH=1024>>o,p=e.UTRIE2_INDEX_2_BMP_LENGTH=c+h,f=e.UTRIE2_UTF8_2B_INDEX_2_OFFSET=p,g=e.UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,d=e.UTRIE2_INDEX_1_OFFSET=f+g,y=e.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>s,v=e.UTRIE2_INDEX_2_BLOCK_LENGTH=1<<u,m=e.UTRIE2_INDEX_2_MASK=v-1,C=(e.createTrieFromBase64=function(t){var e=(0,i.decode)(t),n=Array.isArray(e)?(0,i.polyUint32Array)(e):new Uint32Array(e),r=Array.isArray(e)?(0,i.polyUint16Array)(e):new Uint16Array(e),o=r.slice(12,n[4]/2),s=2===n[5]?r.slice((24+n[4])/2):n.slice(Math.ceil((24+n[4])/4));return new C(n[0],n[1],n[2],n[3],o,s)},e.Trie=function(){function t(e,n,r,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=o,this.data=s}return r(t,[{key:"get",value:function(t){var e=void 0;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>o])<<a)+(t&A),this.data[e];if(t<=65535)return e=((e=this.index[c+(t-55296>>o)])<<a)+(t&A),this.data[e];if(t<this.highStart)return e=d-y+(t>>s),e=this.index[e],e+=t>>o&m,e=((e=this.index[e])<<a)+(t&A),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue}}]),t}())},function(t,e,n){"use strict";t.exports="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);e.default=function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=r.PATH.CIRCLE,this.x=e,this.y=n,this.radius=i,isNaN(e)&&console.error("Invalid x value given for Circle"),isNaN(n)&&console.error("Invalid y value given for Circle"),isNaN(i)&&console.error("Invalid radius value given for Circle")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(2),a=(n(25),n(52)),u=n(9),c=(r=u)&&r.__esModule?r:{default:r},l=n(4),A=n(12);var h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=e,this.options=n,e.render(n)}return o(t,[{key:"renderNode",value:function(t){t.isVisible()&&(this.renderNodeBackgroundAndBorders(t),this.renderNodeContent(t))}},{key:"renderNodeContent",value:function(t){var e=this,n=function(){if(t.childNodes.length&&t.childNodes.forEach(function(n){if(n instanceof c.default){var r=n.parent.style;e.target.renderTextNode(n.bounds,r.color,r.font,r.textDecoration,r.textShadow)}else e.target.drawShape(n,t.style.color)}),t.image){var n=e.options.imageStore.get(t.image);if(n){var r=(0,s.calculateContentBox)(t.bounds,t.style.padding,t.style.border),i="number"===typeof n.width&&n.width>0?n.width:r.width,o="number"===typeof n.height&&n.height>0?n.height:r.height;i>0&&o>0&&e.target.clip([(0,s.calculatePaddingBoxPath)(t.curvedBounds)],function(){e.target.drawImage(n,new s.Bounds(0,0,i,o),r)})}}},r=t.getClipPaths();r.length?this.target.clip(r,n):n()}},{key:"renderNodeBackgroundAndBorders",value:function(t){var e=this,n=!t.style.background.backgroundColor.isTransparent()||t.style.background.backgroundImage.length,r=t.style.border.some(function(t){return t.borderStyle!==A.BORDER_STYLE.NONE&&!t.borderColor.isTransparent()}),i=function(){var r=(0,l.calculateBackgroungPaintingArea)(t.curvedBounds,t.style.background.backgroundClip);n&&e.target.clip([r],function(){t.style.background.backgroundColor.isTransparent()||e.target.fill(t.style.background.backgroundColor),e.renderBackgroundImage(t)}),t.style.border.forEach(function(n,r){n.borderStyle===A.BORDER_STYLE.NONE||n.borderColor.isTransparent()||e.renderBorder(n,r,t.curvedBounds)})};if(n||r){var o=t.parent?t.parent.getClipPaths():[];o.length?this.target.clip(o,i):i()}}},{key:"renderBackgroundImage",value:function(t){var e=this;t.style.background.backgroundImage.slice(0).reverse().forEach(function(n){"url"===n.source.method&&n.source.args.length?e.renderBackgroundRepeat(t,n):/gradient/i.test(n.source.method)&&e.renderBackgroundGradient(t,n)})}},{key:"renderBackgroundRepeat",value:function(t,e){var n=this.options.imageStore.get(e.source.args[0]);if(n){var r=(0,l.calculateBackgroungPositioningArea)(t.style.background.backgroundOrigin,t.bounds,t.style.padding,t.style.border),i=(0,l.calculateBackgroundSize)(e,n,r),o=(0,l.calculateBackgroundPosition)(e.position,i,r),s=(0,l.calculateBackgroundRepeatPath)(e,o,i,r,t.bounds),a=Math.round(r.left+o.x),u=Math.round(r.top+o.y);this.target.renderRepeat(s,n,i,a,u)}}},{key:"renderBackgroundGradient",value:function(t,e){var n=(0,l.calculateBackgroungPositioningArea)(t.style.background.backgroundOrigin,t.bounds,t.style.padding,t.style.border),r=(0,l.calculateGradientBackgroundSize)(e,n),i=(0,l.calculateBackgroundPosition)(e.position,r,n),o=new s.Bounds(Math.round(n.left+i.x),Math.round(n.top+i.y),r.width,r.height),u=(0,a.parseGradient)(t,e.source,o);if(u)switch(u.type){case a.GRADIENT_TYPE.LINEAR_GRADIENT:this.target.renderLinearGradient(o,u);break;case a.GRADIENT_TYPE.RADIAL_GRADIENT:this.target.renderRadialGradient(o,u)}}},{key:"renderBorder",value:function(t,e,n){this.target.drawShape((0,s.parsePathForBorder)(n,e),t.borderColor)}},{key:"renderStack",value:function(t){var e=this;if(t.container.isVisible()){var n=t.getOpacity();n!==this._opacity&&(this.target.setOpacity(t.getOpacity()),this._opacity=n);var r=t.container.style.transform;null!==r?this.target.transform(t.container.bounds.left+r.transformOrigin[0].value,t.container.bounds.top+r.transformOrigin[1].value,r.transform,function(){return e.renderStackContent(t)}):this.renderStackContent(t)}}},{key:"renderStackContent",value:function(t){var e=f(t),n=i(e,5),r=n[0],o=n[1],s=n[2],a=n[3],u=n[4],c=p(t),l=i(c,2),A=l[0],h=l[1];this.renderNodeBackgroundAndBorders(t.container),r.sort(g).forEach(this.renderStack,this),this.renderNodeContent(t.container),h.forEach(this.renderNode,this),a.forEach(this.renderStack,this),u.forEach(this.renderStack,this),A.forEach(this.renderNode,this),o.forEach(this.renderStack,this),s.sort(g).forEach(this.renderStack,this)}},{key:"render",value:function(t){var e=this;this.options.backgroundColor&&this.target.rectangle(this.options.x,this.options.y,this.options.width,this.options.height,this.options.backgroundColor),this.renderStack(t);var n=this.target.getTarget();return n.then(function(t){return e.options.logger.log("Render completed"),t})}}]),t}();e.default=h;var p=function(t){for(var e=[],n=[],r=t.children.length,i=0;i<r;i++){var o=t.children[i];o.isInlineLevel()?e.push(o):n.push(o)}return[e,n]},f=function(t){for(var e=[],n=[],r=[],i=[],o=[],s=t.contexts.length,a=0;a<s;a++){var u=t.contexts[a];u.container.isPositioned()||u.container.style.opacity<1||u.container.isTransformed()?u.container.style.zIndex.order<0?e.push(u):u.container.style.zIndex.order>0?r.push(u):n.push(u):u.container.isFloating()?i.push(u):o.push(u)}return[e,n,r,i,o]},g=function(t,e){return t.container.style.zIndex.order>e.container.style.zIndex.order?1:t.container.style.zIndex.order<e.container.style.zIndex.order?-1:t.container.index>e.container.index?1:-1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformWebkitRadialGradientArgs=e.parseGradient=e.RadialGradient=e.LinearGradient=e.RADIAL_GRADIENT_SHAPE=e.GRADIENT_TYPE=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=(c(n(6)),n(53)),o=c(n(0)),s=n(1),a=c(s),u=n(3);function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var A=/^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i,h=/^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i,p=/(px)|%|( 0)$/i,f=/^(from|to|color-stop)\((?:([\d.]+)(%)?,\s*)?(.+?)\)$/i,g=/^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*(?:(left|center|right)|([\d.]+)(px|r?em|%))\s+(?:(top|center|bottom)|([\d.]+)(px|r?em|%)))?(?:\s|$)/i,d=e.GRADIENT_TYPE={LINEAR_GRADIENT:0,RADIAL_GRADIENT:1},y=e.RADIAL_GRADIENT_SHAPE={CIRCLE:0,ELLIPSE:1},v={left:new a.default("0%"),top:new a.default("0%"),center:new a.default("50%"),right:new a.default("100%"),bottom:new a.default("100%")},m=e.LinearGradient=function t(e,n){l(this,t),this.type=d.LINEAR_GRADIENT,this.colorStops=e,this.direction=n},C=e.RadialGradient=function t(e,n,r,i){l(this,t),this.type=d.RADIAL_GRADIENT,this.colorStops=e,this.shape=n,this.center=r,this.radius=i},I=(e.parseGradient=function(t,e,n){var r=e.args,i=e.method,o=e.prefix;return"linear-gradient"===i?_(r,n,!!o):"gradient"===i&&"linear"===r[0]?_(["to bottom"].concat(S(r.slice(3))),n,!!o):"radial-gradient"===i?b(t,"-webkit-"===o?N(r):r,n):"gradient"===i&&"radial"===r[0]?b(t,S(N(r.slice(1))),n):void 0},function(t,e,n){for(var r=[],i=e;i<t.length;i++){var s=t[i],u=p.test(s),c=s.lastIndexOf(" "),l=new o.default(u?s.substring(0,c):s),A=u?new a.default(s.substring(c+1)):i===e?new a.default("0%"):i===t.length-1?new a.default("100%"):null;r.push({color:l,stop:A})}for(var h=r.map(function(t){var e=t.color,r=t.stop;return{color:e,stop:0===n?0:r?r.getAbsoluteValue(n)/n:null}}),f=h[0].stop,g=0;g<h.length;g++)if(null!==f){var d=h[g].stop;if(null===d){for(var y=g;null===h[y].stop;)y++;for(var v=y-g+1,m=(h[y].stop-f)/v;g<y;g++)f=h[g].stop=f+m}else f=d}return h}),_=function(t,e,n){var r=(0,i.parseAngle)(t[0]),o=A.test(t[0]),s=o||null!==r||h.test(t[0]),a=s?null!==r?w(n?r-.5*Math.PI:r,e):o?B(t[0],e):x(t[0],e):w(Math.PI,e),c=s?1:0,l=Math.min((0,u.distance)(Math.abs(a.x0)+Math.abs(a.x1),Math.abs(a.y0)+Math.abs(a.y1)),2*e.width,2*e.height);return new m(I(t,c,l),a)},b=function(t,e,n){var r=e[0].match(g),i=r&&("circle"===r[1]||void 0!==r[3]&&void 0===r[5])?y.CIRCLE:y.ELLIPSE,o={},a={};r&&(void 0!==r[3]&&(o.x=(0,s.calculateLengthFromValueWithUnit)(t,r[3],r[4]).getAbsoluteValue(n.width)),void 0!==r[5]&&(o.y=(0,s.calculateLengthFromValueWithUnit)(t,r[5],r[6]).getAbsoluteValue(n.height)),r[7]?a.x=v[r[7].toLowerCase()]:void 0!==r[8]&&(a.x=(0,s.calculateLengthFromValueWithUnit)(t,r[8],r[9])),r[10]?a.y=v[r[10].toLowerCase()]:void 0!==r[11]&&(a.y=(0,s.calculateLengthFromValueWithUnit)(t,r[11],r[12])));var u={x:void 0===a.x?n.width/2:a.x.getAbsoluteValue(n.width),y:void 0===a.y?n.height/2:a.y.getAbsoluteValue(n.height)},c=T(r&&r[2]||"farthest-corner",i,u,o,n);return new C(I(e,r?1:0,Math.min(c.x,c.y)),i,u,c)},w=function(t,e){var n=e.width,r=e.height,i=.5*n,o=.5*r,s=(Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t)))/2,a=i+Math.sin(t)*s,u=o-Math.cos(t)*s;return{x0:a,x1:n-a,y0:u,y1:r-u}},E=function(t){return Math.acos(t.width/2/((0,u.distance)(t.width,t.height)/2))},B=function(t,e){switch(t){case"bottom":case"to top":return w(0,e);case"left":case"to right":return w(Math.PI/2,e);case"right":case"to left":return w(3*Math.PI/2,e);case"top right":case"right top":case"to bottom left":case"to left bottom":return w(Math.PI+E(e),e);case"top left":case"left top":case"to bottom right":case"to right bottom":return w(Math.PI-E(e),e);case"bottom left":case"left bottom":case"to top right":case"to right top":return w(E(e),e);case"bottom right":case"right bottom":case"to top left":case"to left top":return w(2*Math.PI-E(e),e);case"top":case"to bottom":default:return w(Math.PI,e)}},x=function(t,e){var n=t.split(" ").map(parseFloat),i=r(n,2),o=i[0],s=i[1],a=o/100*e.width/(s/100*e.height);return w(Math.atan(isNaN(a)?1:a)+Math.PI/2,e)},O=function(t,e,n,r){return[{x:0,y:0},{x:0,y:t.height},{x:t.width,y:0},{x:t.width,y:t.height}].reduce(function(t,i){var o=(0,u.distance)(e-i.x,n-i.y);return(r?o<t.optimumDistance:o>t.optimumDistance)?{optimumCorner:i,optimumDistance:o}:t},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},T=function(t,e,n,r,i){var o=n.x,s=n.y,a=0,c=0;switch(t){case"closest-side":e===y.CIRCLE?a=c=Math.min(Math.abs(o),Math.abs(o-i.width),Math.abs(s),Math.abs(s-i.height)):e===y.ELLIPSE&&(a=Math.min(Math.abs(o),Math.abs(o-i.width)),c=Math.min(Math.abs(s),Math.abs(s-i.height)));break;case"closest-corner":if(e===y.CIRCLE)a=c=Math.min((0,u.distance)(o,s),(0,u.distance)(o,s-i.height),(0,u.distance)(o-i.width,s),(0,u.distance)(o-i.width,s-i.height));else if(e===y.ELLIPSE){var l=Math.min(Math.abs(s),Math.abs(s-i.height))/Math.min(Math.abs(o),Math.abs(o-i.width)),A=O(i,o,s,!0);c=l*(a=(0,u.distance)(A.x-o,(A.y-s)/l))}break;case"farthest-side":e===y.CIRCLE?a=c=Math.max(Math.abs(o),Math.abs(o-i.width),Math.abs(s),Math.abs(s-i.height)):e===y.ELLIPSE&&(a=Math.max(Math.abs(o),Math.abs(o-i.width)),c=Math.max(Math.abs(s),Math.abs(s-i.height)));break;case"farthest-corner":if(e===y.CIRCLE)a=c=Math.max((0,u.distance)(o,s),(0,u.distance)(o,s-i.height),(0,u.distance)(o-i.width,s),(0,u.distance)(o-i.width,s-i.height));else if(e===y.ELLIPSE){var h=Math.max(Math.abs(s),Math.abs(s-i.height))/Math.max(Math.abs(o),Math.abs(o-i.width)),p=O(i,o,s,!1);c=h*(a=(0,u.distance)(p.x-o,(p.y-s)/h))}break;default:a=r.x||0,c=void 0!==r.y?r.y:a}return{x:a,y:c}},N=e.transformWebkitRadialGradientArgs=function(t){var e="",n="",r="",i="",o=0,s=/^(left|center|right|\d+(?:px|r?em|%)?)(?:\s+(top|center|bottom|\d+(?:px|r?em|%)?))?$/i,a=/^\d+(px|r?em|%)?(?:\s+\d+(px|r?em|%)?)?$/i,u=t[o].match(s);u&&o++;var c=t[o].match(/^(circle|ellipse)?\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i);c&&(e=c[1]||"","contain"===(r=c[2]||"")?r="closest-side":"cover"===r&&(r="farthest-corner"),o++);var l=t[o].match(a);l&&o++;var A=t[o].match(s);A&&o++;var h=t[o].match(a);h&&o++;var p=A||u;p&&p[1]&&(i=p[1]+(/^\d+$/.test(p[1])?"px":""),p[2]&&(i+=" "+p[2]+(/^\d+$/.test(p[2])?"px":"")));var f=h||l;return f&&(n=f[0],f[1]||(n+="px")),!i||e||n||r||(n=i,i=""),i&&(i="at "+i),[[e,r,n,i].filter(function(t){return!!t}).join(" ")].concat(t.slice(o))},S=function(t){return t.map(function(t){return t.match(f)}).map(function(e,n){if(!e)return t[n];switch(e[1]){case"from":return e[4]+" 0%";case"to":return e[4]+" 100%";case"color-stop":return"%"===e[3]?e[4]+" "+e[2]:e[4]+" "+100*parseFloat(e[2])+"%"}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=/([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;e.parseAngle=function(t){var e=t.match(r);if(e){var n=parseFloat(e[1]);switch(e[2].toLowerCase()){case"deg":return Math.PI*n/180;case"grad":return Math.PI/200*n;case"rad":return n;case"turn":return 2*Math.PI*n}}return null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cloneWindow=e.DocumentCloner=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2),s=n(26),a=h(n(55)),u=n(3),c=n(4),l=h(n(15)),A=n(56);function h(t){return t&&t.__esModule?t:{default:t}}var p=e.DocumentCloner=function(){function t(e,n,r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.referenceElement=e,this.scrolledElements=[],this.copyStyles=i,this.inlineImages=i,this.logger=r,this.options=n,this.renderer=o,this.resourceLoader=new a.default(n,r,window),this.pseudoContentData={counters:{},quoteDepth:0},this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}return i(t,[{key:"inlineAllImages",value:function(t){var e=this;if(this.inlineImages&&t){var n=t.style;Promise.all((0,c.parseBackgroundImage)(n.backgroundImage).map(function(t){return"url"===t.method?e.resourceLoader.inlineImage(t.args[0]).then(function(t){return t&&"string"===typeof t.src?'url("'+t.src+'")':"none"}).catch(function(t){e.logger.log("Unable to load image",t)}):Promise.resolve(""+t.prefix+t.method+"("+t.args.join(",")+")")})).then(function(t){t.length>1&&(n.backgroundColor=""),n.backgroundImage=t.join(",")}),t instanceof HTMLImageElement&&this.resourceLoader.inlineImage(t.src).then(function(e){if(e&&t instanceof HTMLImageElement&&t.parentNode){var n=t.parentNode,r=(0,u.copyCSSStyles)(t.style,e.cloneNode(!1));n.replaceChild(r,t)}}).catch(function(t){e.logger.log("Unable to load image",t)})}}},{key:"inlineFonts",value:function(t){var e=this;return Promise.all(Array.from(t.styleSheets).map(function(n){return n.href?fetch(n.href).then(function(t){return t.text()}).then(function(t){return g(t,n.href)}).catch(function(t){return e.logger.log("Unable to load stylesheet",t),[]}):f(n,t)})).then(function(t){return t.reduce(function(t,e){return t.concat(e)},[])}).then(function(t){return Promise.all(t.map(function(t){return fetch(t.formats[0].src).then(function(t){return t.blob()}).then(function(t){return new Promise(function(e,n){var r=new FileReader;r.onerror=n,r.onload=function(){var t=r.result;e(t)},r.readAsDataURL(t)})}).then(function(e){return t.fontFace.setProperty("src",'url("'+e+'")'),"@font-face {"+t.fontFace.cssText+" "})}))}).then(function(n){var r=t.createElement("style");r.textContent=n.join("\n"),e.documentElement.appendChild(r)})}},{key:"createElementClone",value:function(t){var e=this;if(this.copyStyles&&t instanceof HTMLCanvasElement){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch(t){this.logger.log("Unable to clone canvas contents, canvas is tainted")}}if(t instanceof HTMLIFrameElement){var r=t.cloneNode(!1),i=E();r.setAttribute("data-html2canvas-internal-iframe-key",i);var s=(0,o.parseBounds)(t,0,0),a=s.width,c=s.height;return this.resourceLoader.cache[i]=x(t,this.options).then(function(t){return e.renderer(t,{async:e.options.async,allowTaint:e.options.allowTaint,backgroundColor:"#ffffff",canvas:null,imageTimeout:e.options.imageTimeout,logging:e.options.logging,proxy:e.options.proxy,removeContainer:e.options.removeContainer,scale:e.options.scale,foreignObjectRendering:e.options.foreignObjectRendering,useCORS:e.options.useCORS,target:new l.default,width:a,height:c,x:0,y:0,windowWidth:t.ownerDocument.defaultView.innerWidth,windowHeight:t.ownerDocument.defaultView.innerHeight,scrollX:t.ownerDocument.defaultView.pageXOffset,scrollY:t.ownerDocument.defaultView.pageYOffset},e.logger.child(i))}).then(function(e){return new Promise(function(n,i){var o=document.createElement("img");o.onload=function(){return n(e)},o.onerror=i,o.src=e.toDataURL(),r.parentNode&&r.parentNode.replaceChild((0,u.copyCSSStyles)(t.ownerDocument.defaultView.getComputedStyle(t),o),r)})}),r}if(t instanceof HTMLStyleElement&&t.sheet&&t.sheet.cssRules){var A=[].slice.call(t.sheet.cssRules,0).reduce(function(t,n){try{return n&&n.cssText?t+n.cssText:t}catch(r){return e.logger.log("Unable to access cssText property",n.name),t}},""),h=t.cloneNode(!1);return h.textContent=A,h}return t.cloneNode(!1)}},{key:"cloneNode",value:function(t){var e=t.nodeType===Node.TEXT_NODE?document.createTextNode(t.nodeValue):this.createElementClone(t),n=t.ownerDocument.defaultView,r=t instanceof n.HTMLElement?n.getComputedStyle(t):null,i=t instanceof n.HTMLElement?n.getComputedStyle(t,":before"):null,o=t instanceof n.HTMLElement?n.getComputedStyle(t,":after"):null;this.referenceElement===t&&e instanceof n.HTMLElement&&(this.clonedReferenceElement=e),e instanceof n.HTMLBodyElement&&_(e);for(var s=(0,A.parseCounterReset)(r,this.pseudoContentData),a=(0,A.resolvePseudoContent)(t,i,this.pseudoContentData),c=t.firstChild;c;c=c.nextSibling)c.nodeType===Node.ELEMENT_NODE&&("SCRIPT"===c.nodeName||c.hasAttribute("data-html2canvas-ignore")||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(c))||this.copyStyles&&"STYLE"===c.nodeName||e.appendChild(this.cloneNode(c));var l=(0,A.resolvePseudoContent)(t,o,this.pseudoContentData);if((0,A.popCounters)(s,this.pseudoContentData),t instanceof n.HTMLElement&&e instanceof n.HTMLElement)switch(i&&this.inlineAllImages(y(t,e,i,a,v)),o&&this.inlineAllImages(y(t,e,o,l,m)),!r||!this.copyStyles||t instanceof HTMLIFrameElement||(0,u.copyCSSStyles)(r,e),this.inlineAllImages(e),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([e,t.scrollLeft,t.scrollTop]),t.nodeName){case"CANVAS":this.copyStyles||d(t,e);break;case"TEXTAREA":case"SELECT":e.value=t.value}return e}}]),t}(),f=function(t,e){return(t.cssRules?Array.from(t.cssRules):[]).filter(function(t){return t.type===CSSRule.FONT_FACE_RULE}).map(function(t){for(var n=(0,c.parseBackgroundImage)(t.style.getPropertyValue("src")),r=[],i=0;i<n.length;i++)if("url"===n[i].method&&n[i+1]&&"format"===n[i+1].method){var o=e.createElement("a");o.href=n[i].args[0],e.body&&e.body.appendChild(o);var s={src:o.href,format:n[i+1].args[0]};r.push(s)}return{formats:r.filter(function(t){return/^woff/i.test(t.format)}),fontFace:t.style}}).filter(function(t){return t.formats.length})},g=function(t,e){var n=document.implementation.createHTMLDocument(""),r=document.createElement("base");r.href=e;var i=document.createElement("style");return i.textContent=t,n.head&&n.head.appendChild(r),n.body&&n.body.appendChild(i),i.sheet?f(i.sheet,n):[]},d=function(t,e){try{if(e){e.width=t.width,e.height=t.height;var n=t.getContext("2d"),r=e.getContext("2d");n?r.putImageData(n.getImageData(0,0,t.width,t.height),0,0):r.drawImage(t,0,0)}}catch(t){}},y=function(t,e,n,r,i){if(n&&n.content&&"none"!==n.content&&"-moz-alt-content"!==n.content&&"none"!==n.display){var o=e.ownerDocument.createElement("html2canvaspseudoelement");if((0,u.copyCSSStyles)(n,o),r)for(var s=r.length,a=0;a<s;a++){var l=r[a];switch(l.type){case A.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:var h=e.ownerDocument.createElement("img");h.src=(0,c.parseBackgroundImage)("url("+l.value+")")[0].args[0],h.style.opacity="1",o.appendChild(h);break;case A.PSEUDO_CONTENT_ITEM_TYPE.TEXT:o.appendChild(e.ownerDocument.createTextNode(l.value))}}return o.className=C+" "+I,e.className+=i===v?" "+C:" "+I,i===v?e.insertBefore(o,e.firstChild):e.appendChild(o),o}},v=":before",m=":after",C="___html2canvas___pseudoelement_before",I="___html2canvas___pseudoelement_after",_=function(t){b(t,"."+C+v+'{\n    content: "" !important;\n    display: none !important;\n}\n         .'+I+m+'{\n    content: "" !important;\n    display: none !important;\n}')},b=function(t,e){var n=t.ownerDocument.createElement("style");n.innerHTML=e,t.appendChild(n)},w=function(t){var e=r(t,3),n=e[0],i=e[1],o=e[2];n.scrollLeft=i,n.scrollTop=o},E=function(){return Math.ceil(Date.now()+1e7*Math.random()).toString(16)},B=/^data:text\/(.+);(base64)?,(.*)$/i,x=function(t,e){try{return Promise.resolve(t.contentWindow.document.documentElement)}catch(n){return e.proxy?(0,s.Proxy)(t.src,e).then(function(t){var e=t.match(B);return e?"base64"===e[2]?window.atob(decodeURIComponent(e[3])):decodeURIComponent(e[3]):Promise.reject()}).then(function(e){return O(t.ownerDocument,(0,o.parseBounds)(t,0,0)).then(function(t){var n=t.contentWindow.document;n.open(),n.write(e);var r=T(t).then(function(){return n.documentElement});return n.close(),r})}):Promise.reject()}},O=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),t.body?(t.body.appendChild(n),Promise.resolve(n)):Promise.reject("Body element not found in Document that is getting rendered")},T=function(t){var e=t.contentWindow,n=e.document;return new Promise(function(r,i){e.onload=t.onload=n.onreadystatechange=function(){var e=setInterval(function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(e),r(t))},50)}})},N=(e.cloneWindow=function(t,e,n,r,i,o){var s=new p(n,r,i,!1,o),a=t.defaultView.pageXOffset,u=t.defaultView.pageYOffset;return O(t,e).then(function(i){var o=i.contentWindow,c=o.document,l=T(i).then(function(){s.scrolledElements.forEach(w),o.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||o.scrollY===e.top&&o.scrollX===e.left||(c.documentElement.style.top=-e.top+"px",c.documentElement.style.left=-e.left+"px",c.documentElement.style.position="absolute");var a=Promise.resolve([i,s.clonedReferenceElement,s.resourceLoader]),u=r.onclone;return s.clonedReferenceElement instanceof o.HTMLElement||s.clonedReferenceElement instanceof t.defaultView.HTMLElement||s.clonedReferenceElement instanceof HTMLElement?"function"===typeof u?Promise.resolve().then(function(){return u(c)}).then(function(){return a}):a:Promise.reject("Error finding the "+n.nodeName+" in the cloned document")});return c.open(),c.write(N(document.doctype)+"<html></html>"),function(t,e,n){!t.defaultView||e===t.defaultView.pageXOffset&&n===t.defaultView.pageYOffset||t.defaultView.scrollTo(e,n)}(n.ownerDocument,a,u),c.replaceChild(c.adoptNode(s.documentElement),c.documentElement),c.close(),l})},function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceStore=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(10),s=(r=o)&&r.__esModule?r:{default:r},a=n(26);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(e,n,r){u(this,t),this.options=e,this._window=r,this.origin=this.getOrigin(r.location.href),this.cache={},this.logger=n,this._index=0}return i(t,[{key:"loadImage",value:function(t){var e=this;if(this.hasResourceInCache(t))return t;if(d(t))return this.cache[t]=v(t,this.options.imageTimeout||0),t;if(!y(t)||s.default.SUPPORT_SVG_DRAWING){if(!0===this.options.allowTaint||f(t)||this.isSameOrigin(t))return this.addImage(t,t,!1);if(!this.isSameOrigin(t)){if("string"===typeof this.options.proxy)return this.cache[t]=(0,a.Proxy)(t,this.options).then(function(t){return v(t,e.options.imageTimeout||0)}),t;if(!0===this.options.useCORS&&s.default.SUPPORT_CORS_IMAGES)return this.addImage(t,t,!0)}}}},{key:"inlineImage",value:function(t){var e=this;return f(t)?v(t,this.options.imageTimeout||0):this.hasResourceInCache(t)?this.cache[t]:this.isSameOrigin(t)||"string"!==typeof this.options.proxy?this.xhrImage(t):this.cache[t]=(0,a.Proxy)(t,this.options).then(function(t){return v(t,e.options.imageTimeout||0)})}},{key:"xhrImage",value:function(t){var e=this;return this.cache[t]=new Promise(function(n,r){var i=new XMLHttpRequest;if(i.onreadystatechange=function(){if(4===i.readyState)if(200!==i.status)r("Failed to fetch image "+t.substring(0,256)+" with status code "+i.status);else{var e=new FileReader;e.addEventListener("load",function(){var t=e.result;n(t)},!1),e.addEventListener("error",function(t){return r(t)},!1),e.readAsDataURL(i.response)}},i.responseType="blob",e.options.imageTimeout){var o=e.options.imageTimeout;i.timeout=o,i.ontimeout=function(){return r("Timed out ("+o+"ms) fetching "+t.substring(0,256))}}i.open("GET",t,!0),i.send()}).then(function(t){return v(t,e.options.imageTimeout||0)}),this.cache[t]}},{key:"loadCanvas",value:function(t){var e=String(this._index++);return this.cache[e]=Promise.resolve(t),e}},{key:"hasResourceInCache",value:function(t){return"undefined"!==typeof this.cache[t]}},{key:"addImage",value:function(t,e,n){var r=this;this.logger.log("Added image "+t.substring(0,256));var i=function(t){return new Promise(function(i,o){var s=new Image;if(s.onload=function(){return i(s)},t&&!n||(s.crossOrigin="anonymous"),s.onerror=o,s.src=e,!0===s.complete&&setTimeout(function(){i(s)},500),r.options.imageTimeout){var a=r.options.imageTimeout;setTimeout(function(){return o("Timed out ("+a+"ms) fetching "+e.substring(0,256))},a)}})};return this.cache[t]=g(e)&&!y(e)?s.default.SUPPORT_BASE64_DRAWING(e).then(i):i(!0),t}},{key:"isSameOrigin",value:function(t){return this.getOrigin(t)===this.origin}},{key:"getOrigin",value:function(t){var e=this._link||(this._link=this._window.document.createElement("a"));return e.href=t,e.href=e.href,e.protocol+e.hostname+e.port}},{key:"ready",value:function(){var t=this,e=Object.keys(this.cache),n=e.map(function(e){return t.cache[e].catch(function(e){return t.logger.log("Unable to load image",e),null})});return Promise.all(n).then(function(n){return t.logger.log("Finished loading "+n.length+" images",n),new l(e,n)})}}]),t}();e.default=c;var l=e.ResourceStore=function(){function t(e,n){u(this,t),this._keys=e,this._resources=n}return i(t,[{key:"get",value:function(t){var e=this._keys.indexOf(t);return-1===e?null:this._resources[e]}}]),t}(),A=/^data:image\/svg\+xml/i,h=/^data:image\/.*;base64,/i,p=/^data:image\/.*/i,f=function(t){return p.test(t)},g=function(t){return h.test(t)},d=function(t){return"blob"===t.substr(0,4)},y=function(t){return"svg"===t.substr(-3).toLowerCase()||A.test(t)},v=function(t,e){return new Promise(function(n,r){var i=new Image;i.onload=function(){return n(i)},i.onerror=r,i.src=t,!0===i.complete&&setTimeout(function(){n(i)},500),e&&setTimeout(function(){return r("Timed out ("+e+"ms) loading image")},e)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseContent=e.resolvePseudoContent=e.popCounters=e.parseCounterReset=e.TOKEN_TYPE=e.PSEUDO_CONTENT_ITEM_TYPE=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(14),o=n(8),s=e.PSEUDO_CONTENT_ITEM_TYPE={TEXT:0,IMAGE:1},a=e.TOKEN_TYPE={STRING:0,ATTRIBUTE:1,URL:2,COUNTER:3,COUNTERS:4,OPENQUOTE:5,CLOSEQUOTE:6},u=(e.parseCounterReset=function(t,e){if(!t||!t.counterReset||"none"===t.counterReset)return[];for(var n=[],i=t.counterReset.split(/\s*,\s*/),o=i.length,s=0;s<o;s++){var a=i[s].split(/\s+/),u=r(a,2),c=u[0],l=u[1];n.push(c);var A=e.counters[c];A||(A=e.counters[c]=[]),A.push(parseInt(l||0,10))}return n},e.popCounters=function(t,e){for(var n=t.length,r=0;r<n;r++)e.counters[t[r]].pop()},e.resolvePseudoContent=function(t,e,n){if(!e||!e.content||"none"===e.content||"-moz-alt-content"===e.content||"none"===e.display)return null;var i=u(e.content),o=i.length,c=[],h="",p=e.counterIncrement;if(p&&"none"!==p){var f=p.split(/\s+/),g=r(f,2),d=g[0],y=g[1],v=n.counters[d];v&&(v[v.length-1]+=void 0===y?1:parseInt(y,10))}for(var m=0;m<o;m++){var C=i[m];switch(C.type){case a.STRING:h+=C.value||"";break;case a.ATTRIBUTE:t instanceof HTMLElement&&C.value&&(h+=t.getAttribute(C.value)||"");break;case a.COUNTER:var I=n.counters[C.name||""];I&&(h+=A([I[I.length-1]],"",C.format));break;case a.COUNTERS:var _=n.counters[C.name||""];_&&(h+=A(_,C.glue,C.format));break;case a.OPENQUOTE:h+=l(e,!0,n.quoteDepth),n.quoteDepth++;break;case a.CLOSEQUOTE:n.quoteDepth--,h+=l(e,!1,n.quoteDepth);break;case a.URL:h&&(c.push({type:s.TEXT,value:h}),h=""),c.push({type:s.IMAGE,value:C.value||""})}}return h&&c.push({type:s.TEXT,value:h}),c},e.parseContent=function(t,e){if(e&&e[t])return e[t];for(var n=[],r=t.length,i=!1,o=!1,s=!1,u="",l="",A=[],h=0;h<r;h++){var p=t.charAt(h);switch(p){case"'":case'"':o?u+=p:(i=!i,s||i||(n.push({type:a.STRING,value:u}),u=""));break;case"\\":o?(u+=p,o=!1):o=!0;break;case"(":i?u+=p:(s=!0,l=u,u="",A=[]);break;case")":if(i)u+=p;else if(s){switch(u&&A.push(u),l){case"attr":A.length>0&&n.push({type:a.ATTRIBUTE,value:A[0]});break;case"counter":if(A.length>0){var f={type:a.COUNTER,name:A[0]};A.length>1&&(f.format=A[1]),n.push(f)}break;case"counters":if(A.length>0){var g={type:a.COUNTERS,name:A[0]};A.length>1&&(g.glue=A[1]),A.length>2&&(g.format=A[2]),n.push(g)}break;case"url":A.length>0&&n.push({type:a.URL,value:A[0]})}s=!1,u=""}break;case",":i?u+=p:s&&(A.push(u),u="");break;case" ":case"\t":i?u+=p:u&&(c(n,u),u="");break;default:u+=p}"\\"!==p&&(o=!1)}return u&&c(n,u),e&&(e[t]=n),n}),c=function(t,e){switch(e){case"open-quote":t.push({type:a.OPENQUOTE});break;case"close-quote":t.push({type:a.CLOSEQUOTE})}},l=function(t,e,n){var r=t.quotes?t.quotes.split(/\s+/):["'\"'","'\"'"],i=2*n;return i>=r.length&&(i=r.length-2),e||++i,r[i].replace(/^["']|["']$/g,"")},A=function(t,e,n){for(var r=t.length,s="",a=0;a<r;a++)a>0&&(s+=e||""),s+=(0,i.createCounterText)(t[a],(0,o.parseListStyleType)(n||"decimal"),!1);return s}}])},"object"===typeof e&&"object"===typeof t?t.exports=r():"function"===typeof define&&define.amd?define([],r):"object"===typeof e?e.html2canvas=r():n.html2canvas=r()},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(530)),o=r(n(531)),s=r(n(478)),a=n(383),u=n(401);e.default=function(t,e,n){void 0===n&&(n={});for(var r=u.getGeom(t).coordinates,c=0,l=0;l<r.length&&!(e>=c&&l===r.length-1);l++){if(c>=e){var A=e-c;if(A){var h=i.default(r[l],r[l-1])-180;return o.default(r[l],A,h,n)}return a.point(r[l])}c+=s.default(r[l],r[l+1],n)}return a.point(r[r.length-1])}},function(t,e,n){"use strict";var r=n(609),i=n(833),o=n(398),s=n(377),a=n(402);function u(t){var e=t%360;return e<0&&(e+=360),e}e.a=function(t,e,n,c,l){if(l=l||{},!Object(s.g)(l))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===c||null===c)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!==typeof l)throw new Error("options must be an object");if(u(n)===u(c))return Object(r.a)(t,e,l);var A=Object(a.b)(t),h=Object(i.a)(t,e,n,c,l),p=[[A]];return Object(o.a)(h,function(t){p[0].push(t)}),p[0].push(A),Object(s.k)(p)}},function(t,e,n){"use strict";var r=n(479),i=n(609),o=n(377);function s(t){var e=t%360;return e<0&&(e+=360),e}e.a=function(t,e,n,a,u){if(u=u||{},!Object(o.g)(u))throw new Error("options is invalid");var c=u.steps,l=u.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===a||null===a)throw new Error("bearing2 is required");if("object"!==typeof u)throw new Error("options must be an object");c=c||64;var A=s(n),h=s(a),p=t.properties;if(A===h)return Object(o.i)(Object(i.a)(t,e,u).geometry.coordinates[0],p);for(var f=A,g=A<h?h:h+360,d=f,y=[],v=0;d<g;)y.push(Object(r.a)(t,e,d,l).geometry.coordinates),d=f+360*++v/c;return d>g&&y.push(Object(r.a)(t,e,g,l).geometry.coordinates),Object(o.i)(y,p)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(403),i=n(383),o=n(835);function s(t,e,n){void 0===n&&(n={});var s=(n=n||{}).mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&i.isNumber(t[0])?t="mercator"===e?a(t):u(t):(!0!==s&&(t=o.default(t)),r.coordEach(t,function(t){var n="mercator"===e?a(t):u(t);t[0]=n[0],t[1]=n[1]})),t}function a(t){var e,n=Math.PI/180,r=6378137,i=20037508.342789244,o=[r*(Math.abs(t[0])<=180?t[0]:t[0]-360*((e=t[0])<0?-1:e>0?1:0))*n,r*Math.log(Math.tan(.25*Math.PI+.5*t[1]*n))];return o[0]>i&&(o[0]=i),o[0]<-i&&(o[0]=-i),o[1]>i&&(o[1]=i),o[1]<-i&&(o[1]=-i),o}function u(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}e.toMercator=function(t,e){return void 0===e&&(e={}),s(t,"mercator",e)},e.toWgs84=function(t,e){return void 0===e&&(e={}),s(t,"wgs84",e)}},function(t,e,n){"use strict";function r(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=function t(e){var n={};if(!e)return n;Object.keys(e).forEach(function(r){var i=e[r];"object"===typeof i?null===i?n[r]=null:Array.isArray(i)?n[r]=i.map(function(t){return t}):n[r]=t(i):n[r]=i});return n}(t.properties),e.geometry=i(t.geometry),e}function i(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return i(t)}),e):(e.coordinates=function t(e){var n=e;if("object"!==typeof n[0])return n.slice();return n.map(function(e){return t(e)})}(t.coordinates),e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return r(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return r(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return i(t);default:throw new Error("unknown GeoJSON type")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(530),i=n(478),o=n(531),s=n(837),a=n(403),u=n(383),c=n(401);e.default=function(t,e,n){void 0===n&&(n={});var l=u.point([1/0,1/0],{dist:1/0}),A=0;return a.flattenEach(t,function(t){for(var a=c.getCoords(t),h=0;h<a.length-1;h++){var p=u.point(a[h]);p.properties.dist=i.default(e,p,n);var f=u.point(a[h+1]);f.properties.dist=i.default(e,f,n);var g=i.default(p,f,n),d=Math.max(p.properties.dist,f.properties.dist),y=r.default(p,f),v=o.default(e,d,y+90,n),m=o.default(e,d,y-90,n),C=s.default(u.lineString([v.geometry.coordinates,m.geometry.coordinates]),u.lineString([p.geometry.coordinates,f.geometry.coordinates])),I=null;C.features.length>0&&((I=C.features[0]).properties.dist=i.default(e,I,n),I.properties.location=A+i.default(p,I,n)),p.properties.dist<l.properties.dist&&((l=p).properties.index=h,l.properties.location=A),f.properties.dist<l.properties.dist&&((l=f).properties.index=h+1,l.properties.location=A+g),I&&I.properties.dist<l.properties.dist&&((l=I).properties.index=h),A+=g}}),l}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(383),o=n(401),s=r(n(838)),a=n(403),u=r(n(839));function c(t,e){var n=o.getCoords(t),r=o.getCoords(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var s=n[0][0],a=n[0][1],u=n[1][0],c=n[1][1],l=r[0][0],A=r[0][1],h=r[1][0],p=r[1][1],f=(p-A)*(u-s)-(h-l)*(c-a),g=(h-l)*(a-A)-(p-A)*(s-l),d=(u-s)*(a-A)-(c-a)*(s-l);if(0===f)return null;var y=g/f,v=d/f;if(y>=0&&y<=1&&v>=0&&v<=1){var m=s+y*(u-s),C=a+y*(c-a);return i.point([m,C])}return null}e.default=function(t,e){var n={},r=[];if("LineString"===t.type&&(t=i.feature(t)),"LineString"===e.type&&(e=i.feature(e)),"Feature"===t.type&&"Feature"===e.type&&null!==t.geometry&&null!==e.geometry&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var l=c(t,e);return l&&r.push(l),i.featureCollection(r)}var A=u.default();return A.load(s.default(e)),a.featureEach(s.default(t),function(t){a.featureEach(A.search(t),function(e){var i=c(t,e);if(i){var s=o.getCoords(i).join(",");n[s]||(n[s]=!0,r.push(i))}})}),i.featureCollection(r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(383),i=n(401),o=n(403);e.default=function(t){if(!t)throw new Error("geojson is required");var e=[];return o.flattenEach(t,function(t){!function(t,e){var n=[],o=t.geometry;if(null!==o){switch(o.type){case"Polygon":n=i.getCoords(o);break;case"LineString":n=[i.getCoords(o)]}n.forEach(function(n){var i=function(t,e){var n=[];return t.reduce(function(t,i){var o,s,a,u,c,l,A=r.lineString([t,i],e);return A.bbox=(s=i,a=(o=t)[0],u=o[1],c=s[0],l=s[1],[a<c?a:c,u<l?u:l,a>c?a:c,u>l?u:l]),n.push(A),i}),n}(n,t.properties);i.forEach(function(t){t.id=e.length,e.push(t)})})}}(t,e)}),r.featureCollection(e)}},function(t,e,n){var r=n(480),i=n(383),o=n(403),s=n(532).default,a=o.featureEach,u=(o.coordEach,i.polygon,i.featureCollection);function c(t){var e=r(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),r.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)}):a(t,function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)}),r.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),r.prototype.remove.call(this,t,e)},e.clear=function(){return r.prototype.clear.call(this)},e.search=function(t){var e=r.prototype.search.call(this,this.toBBox(t));return u(e)},e.collides=function(t){return r.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=r.prototype.all.call(this);return u(t)},e.toJSON=function(){return r.prototype.toJSON.call(this)},e.fromJSON=function(t){return r.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=s(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=s(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=c,t.exports.default=c},function(t,e,n){var r;r=function(){"use strict";function t(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function e(t,e){return t<e?-1:t>e?1:0}return function(n,r,i,o,s){!function e(n,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,u=r-i+1,c=Math.log(a),l=.5*Math.exp(2*c/3),A=.5*Math.sqrt(c*l*(a-l)/a)*(u-a/2<0?-1:1),h=Math.max(i,Math.floor(r-u*l/a+A)),p=Math.min(o,Math.floor(r+(a-u)*l/a+A));e(n,r,h,p,s)}var f=n[r],g=i,d=o;for(t(n,i,r),s(n[o],f)>0&&t(n,i,o);g<d;){for(t(n,g,d),g++,d--;s(n[g],f)<0;)g++;for(;s(n[d],f)>0;)d--}0===s(n[i],f)?t(n,i,d):t(n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(n,r,i||0,o||n.length-1,s||e)}},t.exports=r()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(842),i=n(851),o=n(383),s=n(401),a=n(403);e.default=function t(e,n){switch(void 0===n&&(n={}),s.getType(e)){case"Point":return e;case"Polygon":var u=[];a.coordEach(e,function(t){u.push(t)});var c,l,A,h,p,f,g,d,y=i.default(e,{properties:n.properties}),v=y.geometry.coordinates,m=0,C=0,I=0,_=u.map(function(t){return[t[0]-v[0],t[1]-v[1]]});for(c=0;c<u.length-1;c++)h=(l=_[c])[0],f=l[1],p=(A=_[c+1])[0],I+=d=h*(g=A[1])-p*f,m+=(h+p)*d,C+=(f+g)*d;if(0===I)return y;var b=1/(.5*I*6);return o.point([v[0]+b*m,v[1]+b*C],n.properties);default:var w=r.default(e);return w?t(w,{properties:n.properties}):i.default(e,{properties:n.properties})}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(383),o=n(403),s=r(n(843));e.default=function(t,e){void 0===e&&(e={}),e.concavity=e.concavity||1/0;var n=[];if(o.coordEach(t,function(t){n.push([t[0],t[1]])}),!n.length)return null;var r=s.default(n,e.concavity);return r.length>3?i.polygon([r]):null}},function(t,e,n){"use strict";var r=n(480),i=n(844),o=n(849),s=n(850),a=n(610)[3];function u(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var o,a=function(t){for(var e=t[0],n=t[0],r=t[0],o=t[0],a=0;a<t.length;a++){var u=t[a];u[0]<e[0]&&(e=u),u[0]>r[0]&&(r=u),u[1]<n[1]&&(n=u),u[1]>o[1]&&(o=u)}var c=[e,n,r,o],l=c.slice();for(a=0;a<t.length;a++)s(t[a],c)||l.push(t[a]);var A=i(l),h=[];for(a=0;a<A.length;a++)h.push(l[A[a]]);return h}(t),u=r(16,["[0]","[1]","[0]","[1]"]).load(t),l=[],A=0;A<a.length;A++){var h=a[A];u.remove(h),o=g(h,o),l.push(o)}var p=r(16);for(A=0;A<l.length;A++)p.insert(f(l[A]));for(var y=e*e,v=n*n;l.length;){var m=l.shift(),C=m.p,I=m.next.p,_=d(C,I);if(!(_<v)){var b=_/y;(h=c(u,m.prev.p,C,I,m.next.next.p,b,p))&&Math.min(d(h,C),d(h,I))<=b&&(l.push(m),l.push(g(h,m)),u.remove(h),p.remove(m),p.insert(f(m)),p.insert(f(m.next)))}}m=o;var w=[];do{w.push(m.p),m=m.next}while(m!==o);return w.push(m.p),w}function c(t,e,n,r,i,s,a){for(var u=new o(null,l),c=t.data;c;){for(var h=0;h<c.children.length;h++){var f=c.children[h],g=c.leaf?y(f,n,r):A(n,r,f);g>s||u.push({node:f,dist:g})}for(;u.length&&!u.peek().node.children;){var d=u.pop(),v=d.node,m=y(v,e,n),C=y(v,r,i);if(d.dist<m&&d.dist<C&&p(n,v,a)&&p(r,v,a))return v}(c=u.pop())&&(c=c.node)}return null}function l(t,e){return t.dist-e.dist}function A(t,e,n){if(h(t,n)||h(e,n))return 0;var r=v(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=v(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=v(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=v(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,i,o,s)}function h(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function p(t,e,n){for(var r,i,o,s,u=Math.min(t[0],e[0]),c=Math.min(t[1],e[1]),l=Math.max(t[0],e[0]),A=Math.max(t[1],e[1]),h=n.search({minX:u,minY:c,maxX:l,maxY:A}),p=0;p<h.length;p++)if(r=h[p].p,i=h[p].next.p,o=t,r!==(s=e)&&i!==o&&a(r,i,o)>0!==a(r,i,s)>0&&a(o,s,r)>0!==a(o,s,i)>0)return!1;return!0}function f(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function g(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function d(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function y(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return(o=t[0]-r)*o+(s=t[1]-i)*s}function v(t,e,n,r,i,o,s,a){var u,c,l,A,h=n-t,p=r-e,f=s-i,g=a-o,d=t-i,y=e-o,v=h*h+p*p,m=h*f+p*g,C=f*f+g*g,I=h*d+p*y,_=f*d+g*y,b=v*C-m*m,w=b,E=b;0===b?(c=0,w=1,A=_,E=C):(A=v*_-m*I,(c=m*_-C*I)<0?(c=0,A=_,E=C):c>w&&(c=w,A=_+m,E=C)),A<0?(A=0,-I<0?c=0:-I>v?c=w:(c=-I,w=v)):A>E&&(A=E,-I+m<0?c=0:-I+m>v?c=w:(c=-I+m,w=v)),u=0===c?0:c/w;var B=(1-(l=0===A?0:A/E))*i+l*s-((1-u)*t+u*n),x=(1-l)*o+l*a-((1-u)*e+u*r);return B*B+x*x}t.exports=u,t.exports.default=u},function(t,e,n){"use strict";t.exports=function(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}for(var o=new Array(e),i=0;i<e;++i)o[i]=i;o.sort(function(e,n){var r=t[e][0]-t[n][0];return r||t[e][1]-t[n][1]});for(var s=[o[0],o[1]],a=[o[0],o[1]],i=2;i<e;++i){for(var u=o[i],c=t[u],l=s.length;l>1&&r(t[s[l-2]],t[s[l-1]],c)<=0;)l-=1,s.pop();for(s.push(u),l=a.length;l>1&&r(t[a[l-2]],t[a[l-1]],c)>=0;)l-=1,a.pop();a.push(u)}for(var n=new Array(a.length+s.length-2),A=0,i=0,h=s.length;i<h;++i)n[A++]=s[i];for(var p=a.length-2;p>0;--p)n[A++]=a[p];return n};var r=n(610)[3]},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);if(i)return[i,n];return[n]}(t[0],e[0]);var i,o,s=new Array(n+r),a=0,u=0,c=0,l=Math.abs,A=t[u],h=l(A),p=e[c],f=l(p);h<f?(o=A,(u+=1)<n&&(A=t[u],h=l(A))):(o=p,(c+=1)<r&&(p=e[c],f=l(p)));u<n&&h<f||c>=r?(i=A,(u+=1)<n&&(A=t[u],h=l(A))):(i=p,(c+=1)<r&&(p=e[c],f=l(p)));var g,d,y=i+o,v=y-i,m=o-v,C=m,I=y;for(;u<n&&c<r;)h<f?(i=A,(u+=1)<n&&(A=t[u],h=l(A))):(i=p,(c+=1)<r&&(p=e[c],f=l(p))),(m=(o=C)-(v=(y=i+o)-i))&&(s[a++]=m),C=I-((g=I+y)-(d=g-I))+(y-d),I=g;for(;u<n;)(m=(o=C)-(v=(y=(i=A)+o)-i))&&(s[a++]=m),C=I-((g=I+y)-(d=g-I))+(y-d),I=g,(u+=1)<n&&(A=t[u]);for(;c<r;)(m=(o=C)-(v=(y=(i=p)+o)-i))&&(s[a++]=m),C=I-((g=I+y)-(d=g-I))+(y-d),I=g,(c+=1)<r&&(p=e[c]);C&&(s[a++]=C);I&&(s[a++]=I);a||(s[a++]=0);return s.length=a,s}},function(t,e,n){"use strict";var r=n(611),i=n(847);t.exports=function(t,e){var n=t.length;if(1===n){var o=r(t[0],e);return o[0]?o:[o[1]]}var s=new Array(2*n),a=[.1,.1],u=[.1,.1],c=0;r(t[0],e,a),a[0]&&(s[c++]=a[0]);for(var l=1;l<n;++l){r(t[l],e,u);var A=a[1];i(A,u[0],a),a[0]&&(s[c++]=a[0]);var h=u[1],p=a[1],f=h+p,g=f-h,d=p-g;a[1]=f,d&&(s[c++]=d)}a[1]&&(s[c++]=a[1]);0===c&&(s[c++]=0);return s.length=c,s}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=t+e,i=r-t,o=e-i,s=t-(r-i);if(n)return n[0]=s+o,n[1]=r,n;return[s+o,r]}},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);if(i)return[i,n];return[n]}(t[0],-e[0]);var i,o,s=new Array(n+r),a=0,u=0,c=0,l=Math.abs,A=t[u],h=l(A),p=-e[c],f=l(p);h<f?(o=A,(u+=1)<n&&(A=t[u],h=l(A))):(o=p,(c+=1)<r&&(p=-e[c],f=l(p)));u<n&&h<f||c>=r?(i=A,(u+=1)<n&&(A=t[u],h=l(A))):(i=p,(c+=1)<r&&(p=-e[c],f=l(p)));var g,d,y=i+o,v=y-i,m=o-v,C=m,I=y;for(;u<n&&c<r;)h<f?(i=A,(u+=1)<n&&(A=t[u],h=l(A))):(i=p,(c+=1)<r&&(p=-e[c],f=l(p))),(m=(o=C)-(v=(y=i+o)-i))&&(s[a++]=m),C=I-((g=I+y)-(d=g-I))+(y-d),I=g;for(;u<n;)(m=(o=C)-(v=(y=(i=A)+o)-i))&&(s[a++]=m),C=I-((g=I+y)-(d=g-I))+(y-d),I=g,(u+=1)<n&&(A=t[u]);for(;c<r;)(m=(o=C)-(v=(y=(i=p)+o)-i))&&(s[a++]=m),C=I-((g=I+y)-(d=g-I))+(y-d),I=g,(c+=1)<r&&(p=-e[c]);C&&(s[a++]=C);I&&(s[a++]=I);a||(s[a++]=0);return s.length=a,s}},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||i,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function i(t,e){return t<e?-1:t>e?1:0}t.exports=r,t.exports.default=r,r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i}}},function(t,e){t.exports=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],c=e[s][0],l=e[s][1];u>r!=l>r&&n<(c-a)*(r-u)/(l-u)+a&&(i=!i)}return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(403),i=n(383);e.default=function(t,e){void 0===e&&(e={});var n=0,o=0,s=0;return r.coordEach(t,function(t){n+=t[0],o+=t[1],s++}),i.point([n/s,o/s],e.properties)}},function(t,e,n){"use strict";var r=n(612),i=n(479),o=n(533);e.a=function(t,e){var n=Object(o.a)(t,e),s=Object(r.a)(t,e);return Object(i.a)(t,n/2,s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(403),i=6378137;function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(s(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(s(t[n]))}return e}function s(t){var e,n,r,o,s,u,c=0,l=t.length;if(l>2){for(u=0;u<l;u++)u===l-2?(r=l-2,o=l-1,s=0):u===l-1?(r=l-1,o=0,s=1):(r=u,o=u+1,s=u+2),e=t[r],n=t[o],c+=(a(t[s][0])-a(e[0]))*Math.sin(a(n[1]));c=c*i*i/2}return c}function a(t){return t*Math.PI/180}e.default=function(t){return r.geomReduce(t,function(t,e){return t+function(t){var e,n=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=o(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)},0)}},function(t,e,n){"use strict";var r=n(613),i=n(481),o=n(534),s=(n.n(o),n(855)),a=n(398),u=n(856),c=n(377);function l(t,e,n,r){var u,h=t.properties||{},p="Feature"===t.type?t.geometry:t;if("GeometryCollection"===p.type){var f=[];return Object(a.d)(t,function(t){var i=l(t,e,n,r);i&&f.push(i)}),Object(c.e)(f)}var g=Object(i.a)(t),d=g[1]>50&&g[3]>50;u=d?{type:p.type,coordinates:function t(e,n){if("object"!==typeof e[0])return n(e);return e.map(function(e){return t(e,n)})}(p.coordinates,A(p))}:Object(s.a)(p);var y,v=(new o.GeoJSONReader).read(u),m=Object(c.m)(Object(c.h)(e,n),"meters"),C=o.BufferOp.bufferOp(v,m);if(!function t(e){if(Array.isArray(e[0]))return t(e[0]);return isNaN(e[0])}((C=(new o.GeoJSONWriter).write(C)).coordinates))return(y=d?{type:C.type,coordinates:function t(e,n){if("object"!==typeof e[0])return n.invert(e);return e.map(function(e){return t(e,n)})}(C.coordinates,A(p))}:Object(s.b)(C)).geometry?y:Object(c.d)(y,h)}function A(t){var e=Object(r.a)(t).geometry.coordinates.reverse(),n=e.map(function(t){return-t});return Object(u.a)().center(e).rotate(n).scale(c.c)}e.a=function(t,e,n){var r=(n=n||{}).units,i=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!==typeof n)throw new Error("options must be an object");if("number"!==typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return Object(a.d)(t,function(t){var n=l(t,e,r,i);n&&o.push(n)}),Object(c.e)(o);case"FeatureCollection":return Object(a.b)(t,function(t){var n=l(t,e,r,i);n&&Object(a.b)(n,function(t){t&&o.push(t)})}),Object(c.e)(o)}return l(t,e,r,i)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a});var r=n(398),i=n(377),o=n(614);function s(t,e){return u(t,"mercator",e)}function a(t,e){return u(t,"wgs84",e)}function u(t,e,n){if(n=n||{},!Object(i.g)(n))throw new Error("options is invalid");var s=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&Object(i.f)(t[0])?t="mercator"===e?c(t):l(t):(!0!==s&&(t=Object(o.a)(t)),Object(r.a)(t,function(t){var n="mercator"===e?c(t):l(t);t[0]=n[0],t[1]=n[1]})),t}function c(t){var e,n=Math.PI/180,r=6378137,i=20037508.342789244,o=[r*(Math.abs(t[0])<=180?t[0]:t[0]-360*((e=t[0])<0?-1:e>0?1:0))*n,r*Math.log(Math.tan(.25*Math.PI+.5*t[1]*n))];return o[0]>i&&(o[0]=i),o[0]<-i&&(o[0]=-i),o[1]>i&&(o[1]=i),o[1]<-i&&(o[1]=-i),o}function l(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}},function(t,e,n){"use strict";n(615),n(857),n(858),n(616),n(535),n(877),n(634),n(878),n(879),n(635),n(880),n(637),n(890),n(891),n(892),n(893),n(539),n(894),n(639),n(895),n(896),n(409),n(542),n(897),n(898),n(899);var r=n(900);n.d(e,"a",function(){return r.a});n(482),n(425),n(483)},function(t,e,n){"use strict";var r=n(436);n(615),n(455),n(372),n(425),Object(r.a)()},function(t,e,n){"use strict";var r,i,o,s,a,u,c,l,A,h=n(372),p=n(416),f=(n(425),{sphere:p.a,point:g,lineStart:y,lineEnd:C,polygonStart:function(){f.lineStart=I,f.lineEnd=_},polygonEnd:function(){f.lineStart=y,f.lineEnd=C}});function g(t,e){t*=h.r,e*=h.r;var n=Object(h.g)(e);d(n*Object(h.g)(t),n*Object(h.t)(t),Object(h.t)(e))}function d(t,e,n){i+=(t-i)/++r,o+=(e-o)/r,s+=(n-s)/r}function y(){f.point=v}function v(t,e){t*=h.r,e*=h.r;var n=Object(h.g)(e);c=n*Object(h.g)(t),l=n*Object(h.t)(t),A=Object(h.t)(e),f.point=m,d(c,l,A)}function m(t,e){t*=h.r,e*=h.r;var n=Object(h.g)(e),r=n*Object(h.g)(t),i=n*Object(h.t)(t),o=Object(h.t)(e),s=Object(h.e)(Object(h.u)((s=l*o-A*i)*s+(s=A*r-c*o)*s+(s=c*i-l*r)*s),c*r+l*i+A*o);s,s*(c+(c=r)),s*(l+(l=i)),s*(A+(A=o)),d(c,l,A)}function C(){f.point=g}function I(){f.point=b}function _(){w(a,u),f.point=g}function b(t,e){a=t,u=e,t*=h.r,e*=h.r,f.point=w;var n=Object(h.g)(e);c=n*Object(h.g)(t),l=n*Object(h.t)(t),A=Object(h.t)(e),d(c,l,A)}function w(t,e){t*=h.r,e*=h.r;var n=Object(h.g)(e),r=n*Object(h.g)(t),i=n*Object(h.t)(t),o=Object(h.t)(e),s=l*o-A*i,a=A*r-c*o,u=c*i-l*r,p=Object(h.u)(s*s+a*a+u*u),f=Object(h.c)(p),g=p&&-f/p;g*s,g*a,g*u,f,f*(c+(c=r)),f*(l+(l=i)),f*(A+(A=o)),d(c,l,A)}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i,o){var s,a=t[0],u=t[1],c=0,l=1,A=e[0]-a,h=e[1]-u;if(s=n-a,A||!(s>0)){if(s/=A,A<0){if(s<c)return;s<l&&(l=s)}else if(A>0){if(s>l)return;s>c&&(c=s)}if(s=i-a,A||!(s<0)){if(s/=A,A<0){if(s>l)return;s>c&&(c=s)}else if(A>0){if(s<c)return;s<l&&(l=s)}if(s=r-u,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<l&&(l=s)}else if(h>0){if(s>l)return;s>c&&(c=s)}if(s=o-u,h||!(s<0)){if(s/=h,h<0){if(s>l)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<l&&(l=s)}return c>0&&(t[0]=a+c*A,t[1]=u+c*h),l<1&&(e[0]=a+l*A,e[1]=u+l*h),!0}}}}}},function(t,e,n){"use strict";n(623)},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(627),n(621),n(864),n(626),n(865),n(628),n(629),n(630)},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";n(627),n(437),n(456),n(537)},function(t,e,n){"use strict";n(624)},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(456)},function(t,e,n){"use strict";n(437),n(456),n(537)},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n}},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(437)},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(632)},function(t,e,n){"use strict";n(633),n(634),n(372)},function(t,e,n){"use strict";n(536),n(372)},function(t,e,n){"use strict";n(372)},function(t,e,n){"use strict";n(538),n(425),n(881),n(636),n(882),n(883),n(884),n(885)},function(t,e,n){"use strict";var r,i,o,s,a=n(436),u=n(372),c=n(416),l=Object(a.a)(),A=Object(a.a)(),h={point:c.a,lineStart:c.a,lineEnd:c.a,polygonStart:function(){h.lineStart=p,h.lineEnd=d},polygonEnd:function(){h.lineStart=h.lineEnd=h.point=c.a,l.add(Object(u.a)(A)),A.reset()},result:function(){var t=l/2;return l.reset(),t}};function p(){h.point=f}function f(t,e){h.point=g,r=o=t,i=s=e}function g(t,e){A.add(s*t-o*e),o=t,s=e}function d(){g(r,i)}e.a=h},function(t,e,n){"use strict";var r,i,o,s,a=n(372),u=0,c=0,l=0,A=0,h=0,p=0,f=0,g=0,d=0,y={point:v,lineStart:m,lineEnd:_,polygonStart:function(){y.lineStart=b,y.lineEnd=w},polygonEnd:function(){y.point=v,y.lineStart=m,y.lineEnd=_},result:function(){var t=d?[f/d,g/d]:p?[A/p,h/p]:l?[u/l,c/l]:[NaN,NaN];return u=c=l=A=h=p=f=g=d=0,t}};function v(t,e){u+=t,c+=e,++l}function m(){y.point=C}function C(t,e){y.point=I,v(o=t,s=e)}function I(t,e){var n=t-o,r=e-s,i=Object(a.u)(n*n+r*r);A+=i*(o+t)/2,h+=i*(s+e)/2,p+=i,v(o=t,s=e)}function _(){y.point=v}function b(){y.point=E}function w(){B(r,i)}function E(t,e){y.point=B,v(r=o=t,i=s=e)}function B(t,e){var n=t-o,r=e-s,i=Object(a.u)(n*n+r*r);A+=i*(o+t)/2,h+=i*(s+e)/2,p+=i,f+=(i=s*t-o*e)*(o+t),g+=i*(s+e),d+=3*i,v(o=t,s=e)}e.a=y},function(t,e,n){"use strict";e.a=o;var r=n(372),i=n(416);function o(t){this._context=t}o.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,r.w)}},result:i.a}},function(t,e,n){"use strict";var r,i,o,s,a,u=n(436),c=n(372),l=n(416),A=Object(u.a)(),h={point:l.a,lineStart:function(){h.point=p},lineEnd:function(){r&&f(i,o),h.point=l.a},polygonStart:function(){r=!0},polygonEnd:function(){r=null},result:function(){var t=+A;return A.reset(),t}};function p(t,e){h.point=f,i=s=t,o=a=e}function f(t,e){s-=t,a-=e,A.add(Object(c.u)(s*s+a*a)),s=t,a=e}e.a=h},function(t,e,n){"use strict";function r(){this._string=[]}function i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}e.a=r,r.prototype={_radius:4.5,_circle:i(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=i(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}}},function(t,e,n){"use strict";var r=n(638),i=n(372);e.a=Object(r.a)(function(){return!0},function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(s,a){var u=s>0?i.o:-i.o,c=Object(i.a)(s-n);Object(i.a)(c-i.o)<i.i?(t.point(n,r=(r+a)/2>0?i.l:-i.l),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(s,r),e=0):o!==u&&c>=i.o&&(Object(i.a)(n-o)<i.i&&(n-=o*i.i),Object(i.a)(s-u)<i.i&&(s-=u*i.i),r=function(t,e,n,r){var o,s,a=Object(i.t)(t-n);return Object(i.a)(a)>i.i?Object(i.d)((Object(i.t)(e)*(s=Object(i.g)(r))*Object(i.t)(n)-Object(i.t)(r)*(o=Object(i.g)(e))*Object(i.t)(t))/(o*s*a)):(e+r)/2}(n,r,s,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=s,r=a),o=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var o;if(null==t)o=n*i.l,r.point(-i.o,o),r.point(0,o),r.point(i.o,o),r.point(i.o,0),r.point(i.o,-o),r.point(0,-o),r.point(-i.o,-o),r.point(-i.o,0),r.point(-i.o,o);else if(Object(i.a)(t[0]-e[0])>i.i){var s=t[0]<e[0]?i.o:-i.o;o=n*s/2,r.point(-s,o),r.point(0,o),r.point(s,o)}else r.point(e[0],e[1])},[-i.o,-i.l])},function(t,e,n){"use strict";var r=n(455),i=n(616),o=n(372),s=n(620),a=n(638);e.a=function(t,e){var n=Object(o.g)(t),u=n>0,c=Object(o.a)(n)>o.i;function l(t,e){return Object(o.g)(t)*Object(o.g)(e)>n}function A(t,e,i){var s=Object(r.a)(t),a=Object(r.a)(e),u=[1,0,0],c=Object(r.c)(s,a),l=Object(r.d)(c,c),A=c[0],h=l-A*A;if(!h)return!i&&t;var p=n*l/h,f=-n*A/h,g=Object(r.c)(u,c),d=Object(r.f)(u,p),y=Object(r.f)(c,f);Object(r.b)(d,y);var v=g,m=Object(r.d)(d,v),C=Object(r.d)(v,v),I=m*m-C*(Object(r.d)(d,d)-1);if(!(I<0)){var _=Object(o.u)(I),b=Object(r.f)(v,(-m-_)/C);if(Object(r.b)(b,d),b=Object(r.g)(b),!i)return b;var w,E=t[0],B=e[0],x=t[1],O=e[1];B<E&&(w=E,E=B,B=w);var T=B-E,N=Object(o.a)(T-o.o)<o.i,S=N||T<o.i;if(!N&&O<x&&(w=x,x=O,O=w),S?N?x+O>0^b[1]<(Object(o.a)(b[0]-E)<o.i?x:O):x<=b[1]&&b[1]<=O:T>o.o^(E<=b[0]&&b[0]<=B)){var M=Object(r.f)(v,(-m+_)/C);return Object(r.b)(M,d),[b,Object(r.g)(M)]}}}function h(e,n){var r=u?t:o.o-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}return Object(a.a)(l,function(t){var e,n,r,i,a;return{lineStart:function(){i=r=!1,a=1},point:function(p,f){var g,d=[p,f],y=l(p,f),v=u?y?0:h(p,f):y?h(p+(p<0?o.o:-o.o),f):0;if(!e&&(i=r=y)&&t.lineStart(),y!==r&&(!(g=A(e,d))||Object(s.a)(e,g)||Object(s.a)(d,g))&&(d[0]+=o.i,d[1]+=o.i,y=l(d[0],d[1])),y!==r)a=0,y?(t.lineStart(),g=A(d,e),t.point(g[0],g[1])):(g=A(e,d),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(c&&e&&u^y){var m;v&n||!(m=A(d,e,!0))||(a=0,u?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!y||e&&Object(s.a)(e,d)||t.point(d[0],d[1]),e=d,r=y,n=v},lineEnd:function(){r&&t.lineEnd(),e=null},clean:function(){return a|(i&&r)<<1}}},function(n,r,o,s){Object(i.a)(s,t,e,o,n,r)},u?[0,-t]:[-o.o,t-o.o])}},function(t,e,n){"use strict";var r=n(455),i=n(372),o=n(483),s=16,a=Object(i.g)(30*i.r);e.a=function(t,e){return+e?function(t,e){function n(r,o,s,u,c,l,A,h,p,f,g,d,y,v){var m=A-r,C=h-o,I=m*m+C*C;if(I>4*e&&y--){var _=u+f,b=c+g,w=l+d,E=Object(i.u)(_*_+b*b+w*w),B=Object(i.c)(w/=E),x=Object(i.a)(Object(i.a)(w)-1)<i.i||Object(i.a)(s-p)<i.i?(s+p)/2:Object(i.e)(b,_),O=t(x,B),T=O[0],N=O[1],S=T-r,M=N-o,L=C*S-m*M;(L*L/I>e||Object(i.a)((m*S+C*M)/I-.5)>.3||u*f+c*g+l*d<a)&&(n(r,o,s,u,c,l,T,N,x,_/=E,b/=E,w,y,v),v.point(T,N),n(T,N,x,_,b,w,A,h,p,f,g,d,y,v))}}return function(e){var i,o,a,u,c,l,A,h,p,f,g,d,y={point:v,lineStart:m,lineEnd:I,polygonStart:function(){e.polygonStart(),y.lineStart=_},polygonEnd:function(){e.polygonEnd(),y.lineStart=m}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function m(){h=NaN,y.point=C,e.lineStart()}function C(i,o){var a=Object(r.a)([i,o]),u=t(i,o);n(h,p,A,f,g,d,h=u[0],p=u[1],A=i,f=a[0],g=a[1],d=a[2],s,e),e.point(h,p)}function I(){y.point=v,e.lineEnd()}function _(){m(),y.point=b,y.lineEnd=w}function b(t,e){C(i=t,e),o=h,a=p,u=f,c=g,l=d,y.point=C}function w(){n(h,p,A,f,g,d,o,a,i,u,c,l,s,e),y.lineEnd=I,I()}return y}}(t,e):function(t){return Object(o.a)({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}},function(t,e,n){"use strict";e.a=function(t){var e=Object(r.g)(t);function n(t,n){return[t*e,Object(r.t)(n)/e]}return n.invert=function(t,n){return[t/e,Object(r.c)(n*e)]},n};var r=n(372)},function(t,e,n){"use strict";n(372),n(637),n(539),n(541)},function(t,e,n){"use strict";var r=n(372),i=n(457),o=(n(409),Object(i.b)(function(t){return Object(r.u)(2/(1+t))}));o.invert=Object(i.a)(function(t){return 2*Object(r.c)(t/2)})},function(t,e,n){"use strict";var r=n(372),i=n(457),o=(n(409),Object(i.b)(function(t){return(t=Object(r.b)(t))&&t/Object(r.t)(t)}));o.invert=Object(i.a)(function(t){return t})},function(t,e,n){"use strict";n(372),n(540),n(542)},function(t,e,n){"use strict";n(372),n(540),n(639)},function(t,e,n){"use strict";var r=n(372),i=n(457);n(409);function o(t,e){var n=Object(r.g)(e),i=Object(r.g)(t)*n;return[n*Object(r.t)(t)/i,Object(r.t)(e)/i]}o.invert=Object(i.a)(r.d)},function(t,e,n){"use strict";n(535),n(538),n(483),n(541)},function(t,e,n){"use strict";n(409);var r=n(372);function i(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}i.invert=function(t,e){var n,i=e,o=25;do{var s=i*i,a=s*s;i-=n=(i*(1.007226+s*(.015085+a*(.028874*s-.044475-.005916*a)))-e)/(1.007226+s*(.045255+a*(.259866*s-.311325-.005916*11*a)))}while(Object(r.a)(n)>r.i&&--o>0);return[t/(.8707+(s=i*i)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),i]}},function(t,e,n){"use strict";var r=n(372),i=n(457);n(409);function o(t,e){return[Object(r.g)(e)*Object(r.t)(t),Object(r.t)(e)]}o.invert=Object(i.a)(r.c)},function(t,e,n){"use strict";var r=n(372),i=n(457);n(409);function o(t,e){var n=Object(r.g)(e),i=1+Object(r.g)(t)*n;return[n*Object(r.t)(t)/i,Object(r.t)(e)/i]}o.invert=Object(i.a)(function(t){return 2*Object(r.d)(t)})},function(t,e,n){"use strict";var r=n(372),i=n(542);function o(t,e){return[Object(r.n)(Object(r.v)((r.l+e)/2)),-t]}o.invert=function(t,e){return[-e,2*Object(r.d)(Object(r.k)(t))-r.l]},e.a=function(){var t=Object(i.a)(o),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(531),i=n(383);e.default=function(t,e,n){void 0===n&&(n={});for(var o=n.steps||64,s=n.properties?n.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},a=[],u=0;u<o;u++)a.push(r.default(t,e,-360*u/o,n).geometry.coordinates);return a.push(a[0]),i.polygon([a],s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(532),i=n(903),o=n(640),s=n(401);function a(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function u(t,e){return t[0]===e[0]&&t[1]===e[1]}e.default=function(t,e){var n=s.getType(t),c=s.getType(e),l=s.getGeom(t),A=s.getGeom(e);switch(n){case"Point":switch(c){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(u(e.coordinates[n],t.coordinates)){r=!0;break}return r}(l,A);case"LineString":return i.default(l,A,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return o.default(l,A,{ignoreBoundary:!0});default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiPoint":switch(c){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)u(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(l,A);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!i.default(t.coordinates[r],e))return!1;n||(n=i.default(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(l,A);case"Polygon":case"MultiPolygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=o.default(t.coordinates[1],e);if(!i){n=!1;break}i=o.default(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(l,A);default:throw new Error("feature2 "+c+" geometry not supported")}case"LineString":switch(c){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!i.default(t.coordinates[n],e))return!1;return!0}(l,A);case"Polygon":case"MultiPolygon":return function(t,e){var n,i,s=r.default(e),u=r.default(t);if(!a(s,u))return!1;for(var c=!1,l=0;l<t.coordinates.length-1;l++){if(!o.default(t.coordinates[l],e))return!1;if(c||(c=o.default(t.coordinates[l],e,{ignoreBoundary:!0})),!c){var A=(n=t.coordinates[l],i=t.coordinates[l+1],[(n[0]+i[0])/2,(n[1]+i[1])/2]);c=o.default(A,e,{ignoreBoundary:!0})}}return c}(l,A);default:throw new Error("feature2 "+c+" geometry not supported")}case"Polygon":switch(c){case"Polygon":case"MultiPolygon":return function(t,e){var n=r.default(t);if(!a(r.default(e),n))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!o.default(t.coordinates[0][i],e))return!1;return!0}(l,A);default:throw new Error("feature2 "+c+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(401);function i(t,e,n,r){var i=n[0],o=n[1],s=t[0],a=t[1],u=e[0],c=e[1],l=u-s,A=c-a;return 0===(n[0]-s)*A-(n[1]-a)*l&&(r?"start"===r?Math.abs(l)>=Math.abs(A)?l>0?s<i&&i<=u:u<=i&&i<s:A>0?a<o&&o<=c:c<=o&&o<a:"end"===r?Math.abs(l)>=Math.abs(A)?l>0?s<=i&&i<u:u<i&&i<=s:A>0?a<=o&&o<c:c<o&&o<=a:"both"===r&&(Math.abs(l)>=Math.abs(A)?l>0?s<i&&i<u:u<i&&i<s:A>0?a<o&&o<c:c<o&&o<a):Math.abs(l)>=Math.abs(A)?l>0?s<=i&&i<=u:u<=i&&i<=s:A>0?a<=o&&o<=c:c<=o&&o<=a)}e.default=function(t,e,n){void 0===n&&(n={});for(var o=r.getCoord(t),s=r.getCoords(e),a=0;a<s.length-1;a++){var u=!1;if(n.ignoreEndVertices&&(0===a&&(u="start"),a===s.length-2&&(u="end"),0===a&&a+1===s.length-1&&(u="both")),i(s[a],s[a+1],o,u))return!0}return!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(383);e.default=function(t,e){void 0===e&&(e={});var n=Number(t[0]),i=Number(t[1]),o=Number(t[2]),s=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[n,i],u=[n,s],c=[o,s],l=[o,i];return r.polygon([[a,l,c,u,a]],e.properties,{bbox:t,id:e.id})}},function(t,e,n){"use strict";var r=n(906),i=n(907),o=n(398),s=n(377);e.a=function(t,e,n){if(n=n||{},!Object(s.g)(n))throw new Error("options is invalid");var a=n.units,u=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var c=[];return Object(o.c)(t,function(t){u&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,o){var s=Object(r.a)(t,{units:n});if(s<=e)return o(t);var a=s/e;Number.isInteger(a)||(a=Math.floor(a)+1);for(var u=0;u<a;u++){var c=Object(i.a)(t,e*u,e*(u+1),{units:n});o(c,u)}}(t,e,a,function(t){c.push(t)})}),Object(s.e)(c)}},function(t,e,n){"use strict";var r=n(533),i=n(398),o=n(377);e.a=function(t,e){if(e=e||{},!Object(o.g)(e))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return Object(i.f)(t,function(t,n){var i=n.geometry.coordinates;return t+Object(r.a)(i[0],i[1],e)},0)}},function(t,e,n){"use strict";var r=n(612),i=n(533),o=n(479),s=n(377);e.a=function(t,e,n,a){if(a=a||{},!Object(s.g)(a))throw new Error("options is invalid");var u,c=[];if("Feature"===t.type)u=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");u=t.coordinates}for(var l,A,h,p=0,f=0;f<u.length&&!(e>=p&&f===u.length-1);f++){if(p>e&&0===c.length){if(!(l=e-p))return c.push(u[f]),Object(s.i)(c);A=Object(r.a)(u[f],u[f-1])-180,h=Object(o.a)(u[f],l,A,a),c.push(h.geometry.coordinates)}if(p>=n)return(l=n-p)?(A=Object(r.a)(u[f],u[f-1])-180,h=Object(o.a)(u[f],l,A,a),c.push(h.geometry.coordinates),Object(s.i)(c)):(c.push(u[f]),Object(s.i)(c));if(p>=e&&c.push(u[f]),f===u.length-1)return Object(s.i)(c);p+=Object(i.a)(u[f],u[f+1],a)}return Object(s.i)(u[u.length-1])}},function(t,e,n){"use strict";var r=n(534),i=(n.n(r),n(909)),o=n(377),s=n(402),a=n(398);function u(t){switch(t.type){case"Polygon":return Object(i.a)(t)>1?t:null;case"MultiPolygon":var e=[];if(Object(a.c)(t,function(t){Object(i.a)(t)>1&&e.push(t.geometry.coordinates)}),e.length)return{type:"MultiPolygon",coordinates:e}}}e.a=function(t,e){var n=Object(s.c)(t),i=Object(s.c)(e),a=t.properties||{};if(n=u(n),i=u(i),!n)return null;if(!i)return Object(o.d)(n,a);var c=new r.GeoJSONReader,l=c.read(n),A=c.read(i),h=r.OverlayOp.difference(l,A);if(h.isEmpty())return null;var p=(new r.GeoJSONWriter).write(h);return Object(o.d)(p,a)}},function(t,e,n){"use strict";var r=n(398);var i=6378137;function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(s(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(s(t[n]))}return e}function s(t){var e,n,r,o,s,u,c=0,l=t.length;if(l>2){for(u=0;u<l;u++)u===l-2?(r=l-2,o=l-1,s=0):u===l-1?(r=l-1,o=0,s=1):(r=u,o=u+1,s=u+2),e=t[r],n=t[o],c+=(a(t[s][0])-a(e[0]))*Math.sin(a(n[1]));c=c*i*i/2}return c}function a(t){return t*Math.PI/180}e.a=function(t){return Object(r.e)(t,function(t,e){return t+function t(e){var n,r=0;switch(e.type){case"Polygon":return o(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=o(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}}(e)},0)}},function(t,e,n){(function(t){"use strict";function e(t,e){return t>e?1:t<e?-1:0}var n=function(t,n){void 0===t&&(t=e),void 0===n&&(n=!1),this._compare=t,this._root=null,this._size=0,this._noDuplicates=!!n},r={size:{configurable:!0}};n.prototype.rotateLeft=function(t){var e=t.right;e&&(t.right=e.left,e.left&&(e.left.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.left=t),t.parent=e},n.prototype.rotateRight=function(t){var e=t.left;e&&(t.left=e.right,e.right&&(e.right.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.right=t),t.parent=e},n.prototype._splay=function(t){for(;t.parent;){var e=t.parent;e.parent?e.left===t&&e.parent.left===e?(this.rotateRight(e.parent),this.rotateRight(e)):e.right===t&&e.parent.right===e?(this.rotateLeft(e.parent),this.rotateLeft(e)):e.left===t&&e.parent.right===e?(this.rotateRight(e),this.rotateLeft(e)):(this.rotateLeft(e),this.rotateRight(e)):e.left===t?this.rotateRight(e):this.rotateLeft(e)}},n.prototype.splay=function(t){for(var e,n,r,i,o;t.parent;)(n=(e=t.parent).parent)&&n.parent?((r=n.parent).left===n?r.left=t:r.right=t,t.parent=r):(t.parent=null,this._root=t),i=t.left,o=t.right,t===e.left?(n&&(n.left===e?(e.right?(n.left=e.right,n.left.parent=n):n.left=null,e.right=n,n.parent=e):(i?(n.right=i,i.parent=n):n.right=null,t.left=n,n.parent=t)),o?(e.left=o,o.parent=e):e.left=null,t.right=e,e.parent=t):(n&&(n.right===e?(e.left?(n.right=e.left,n.right.parent=n):n.right=null,e.left=n,n.parent=e):(o?(n.left=o,o.parent=n):n.left=null,t.right=n,n.parent=t)),i?(e.right=i,i.parent=e):e.right=null,t.left=e,e.parent=t)},n.prototype.replace=function(t,e){t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.parent=t.parent)},n.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},n.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},n.prototype.insert=function(t,e){var n=this._root,r=null,i=this._compare;if(this._noDuplicates)for(;n;){if(r=n,0===i(n.key,t))return;n=i(n.key,t)<0?n.right:n.left}else for(;n;)r=n,n=i(n.key,t)<0?n.right:n.left;return n={key:t,data:e,left:null,right:null,parent:r},r?i(r.key,n.key)<0?r.right=n:r.left=n:this._root=n,this.splay(n),this._size++,n},n.prototype.find=function(t){for(var e=this._root,n=this._compare;e;){var r=n(e.key,t);if(r<0)e=e.right;else{if(!(r>0))return e;e=e.left}}return null},n.prototype.contains=function(t){for(var e=this._root,n=this._compare;e;){var r=n(t,e.key);if(0===r)return!0;e=r<0?e.left:e.right}return!1},n.prototype.remove=function(t){var e=this.find(t);if(!e)return!1;if(this.splay(e),e.left)if(e.right){var n=this.minNode(e.right);n.parent!==e&&(this.replace(n,n.right),n.right=e.right,n.right.parent=n),this.replace(e,n),n.left=e.left,n.left.parent=n}else this.replace(e,e.left);else this.replace(e,e.right);return this._size--,!0},n.prototype.removeNode=function(t){if(!t)return!1;if(this.splay(t),t.left)if(t.right){var e=this.minNode(t.right);e.parent!==t&&(this.replace(e,e.right),e.right=t.right,e.right.parent=e),this.replace(t,e),e.left=t.left,e.left.parent=e}else this.replace(t,t.left);else this.replace(t,t.right);return this._size--,!0},n.prototype.erase=function(t){var e=this.find(t);if(e){this.splay(e);var n=e.left,r=e.right,i=null;n&&(n.parent=null,i=this.maxNode(n),this.splay(i),this._root=i),r&&(n?i.right=r:this._root=r,r.parent=i),this._size--}},n.prototype.pop=function(){var t=this._root,e=null;if(t){for(;t.left;)t=t.left;e={key:t.key,data:t.data},this.remove(t.key)}return e},n.prototype.next=function(t){var e=t;if(e)if(e.right)for(e=e.right;e&&e.left;)e=e.left;else for(e=t.parent;e&&e.right===t;)t=e,e=e.parent;return e},n.prototype.prev=function(t){var e=t;if(e)if(e.left)for(e=e.left;e&&e.right;)e=e.right;else for(e=t.parent;e&&e.left===t;)t=e,e=e.parent;return e},n.prototype.forEach=function(t){for(var e=this._root,n=[],r=!1,i=0;!r;)e?(n.push(e),e=e.left):n.length>0?(t(e=n.pop(),i++),e=e.right):r=!0;return this},n.prototype.range=function(t,e,n,r){for(var i=[],o=this._compare,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(o((s=i.pop()).key,e)>0)break;if(o(s.key,t)>=0&&n.call(r,s))return this;s=s.right}return this},n.prototype.keys=function(){for(var t=this._root,e=[],n=[],r=!1;!r;)t?(e.push(t),t=t.left):e.length>0?(t=e.pop(),n.push(t.key),t=t.right):r=!0;return n},n.prototype.values=function(){for(var t=this._root,e=[],n=[],r=!1;!r;)t?(e.push(t),t=t.left):e.length>0?(t=e.pop(),n.push(t.data),t=t.right):r=!0;return n},n.prototype.at=function(t){for(var e=this._root,n=[],r=!1,i=0;!r;)if(e)n.push(e),e=e.left;else if(n.length>0){if(e=n.pop(),i===t)return e;i++,e=e.right}else r=!0;return null},n.prototype.load=function(t,e,n){if(void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===n&&(n=!1),0!==this._size)throw new Error("bulk-load: tree is not empty");var r=t.length;return n&&function t(e,n,r,i,o){if(r>=i)return;var s=e[r+i>>1];var a=r-1;var u=i+1;for(;;){do{a++}while(o(e[a],s)<0);do{u--}while(o(e[u],s)>0);if(a>=u)break;var c=e[a];e[a]=e[u],e[u]=c,c=n[a],n[a]=n[u],n[u]=c}t(e,n,r,u,o);t(e,n,u+1,i,o)}(t,e,0,r-1,this._compare),this._root=function t(e,n,r,i,o){var s=o-i;if(s>0){var a=i+Math.floor(s/2),u=n[a],c=r[a],l={key:u,data:c,parent:e};return l.left=t(l,n,r,i,a),l.right=t(l,n,r,a+1,o),l}return null}(null,t,e,0,r),this._size=r,this},n.prototype.min=function(){var t=this.minNode(this._root);return t?t.key:null},n.prototype.max=function(){var t=this.maxNode(this._root);return t?t.key:null},n.prototype.isEmpty=function(){return null===this._root},r.size.get=function(){return this._size},n.createTree=function(t,e,r,i,o){return new n(r,o).load(t,e,i)},Object.defineProperties(n.prototype,r);var i=0,o=1,s=2,a=3,u=0,c=1,l=2,A=3;function h(t,e,n){null===e?(t.inOut=!1,t.otherInOut=!0):(t.isSubject===e.isSubject?(t.inOut=!e.inOut,t.otherInOut=e.otherInOut):(t.inOut=!e.otherInOut,t.otherInOut=e.isVertical()?!e.inOut:e.inOut),e&&(t.prevInResult=!p(e,n)||e.isVertical()?e.prevInResult:e)),t.inResult=p(t,n)}function p(t,e){switch(t.type){case i:switch(e){case u:return!t.otherInOut;case c:return t.otherInOut;case l:return t.isSubject&&t.otherInOut||!t.isSubject&&!t.otherInOut;case A:return!0}break;case s:return e===u||e===c;case a:return e===l;case o:return!1}return!1}var f=function(t,e,n,r,o){this.left=e,this.point=t,this.otherEvent=n,this.isSubject=r,this.type=o||i,this.inOut=!1,this.otherInOut=!1,this.prevInResult=null,this.inResult=!1,this.resultInOut=!1,this.isExteriorRing=!0};function g(t,e){return t[0]===e[0]&&t[1]===e[1]}function d(t,e,n){return(t[0]-n[0])*(e[1]-n[1])-(e[0]-n[0])*(t[1]-n[1])}function y(t,e){var n=t.point,r=e.point;return n[0]>r[0]?1:n[0]<r[0]?-1:n[1]!==r[1]?n[1]>r[1]?1:-1:function(t,e,n,r){if(t.left!==e.left)return t.left?1:-1;if(0!==d(n,t.otherEvent.point,e.otherEvent.point))return t.isBelow(e.otherEvent.point)?-1:1;return!t.isSubject&&e.isSubject?1:-1}(t,e,n)}function v(t,e,n){var r=new f(e,!1,t,t.isSubject),i=new f(e,!0,t.otherEvent,t.isSubject);return g(t.point,t.otherEvent.point)&&console.warn("what is that, a collapsed segment?",t),r.contourId=i.contourId=t.contourId,y(i,t.otherEvent)>0&&(t.otherEvent.left=!0,i.left=!1),t.otherEvent.otherEvent=i,t.otherEvent=r,n.push(i),n.push(r),n}function m(t,e){return t[0]*e[1]-t[1]*e[0]}function C(t,e){return t[0]*e[0]+t[1]*e[1]}function I(t,e,n){var r=function(t,e,n,r,i){var o=[e[0]-t[0],e[1]-t[1]],s=[r[0]-n[0],r[1]-n[1]];function a(t,e,n){return[t[0]+e*n[0],t[1]+e*n[1]]}var u=[n[0]-t[0],n[1]-t[1]],c=m(o,s),l=c*c,A=C(o,o);if(l>0){var h=m(u,s)/c;if(h<0||h>1)return null;var p=m(u,o)/c;return p<0||p>1?null:0===h||1===h?i?null:[a(t,h,o)]:0===p||1===p?i?null:[a(n,p,s)]:[a(t,h,o)]}if((l=(c=m(u,o))*c)>0)return null;var f=C(o,u)/A,g=f+C(o,s)/A,d=Math.min(f,g),y=Math.max(f,g);return d<=1&&y>=0?1===d?i?null:[a(t,d>0?d:0,o)]:0===y?i?null:[a(t,y<1?y:1,o)]:i&&0===d&&1===y?null:[a(t,d>0?d:0,o),a(t,y<1?y:1,o)]:null}(t.point,t.otherEvent.point,e.point,e.otherEvent.point),i=r?r.length:0;if(0===i)return 0;if(1===i&&(g(t.point,e.point)||g(t.otherEvent.point,e.otherEvent.point)))return 0;if(2===i&&t.isSubject===e.isSubject)return 0;if(1===i)return g(t.point,r[0])||g(t.otherEvent.point,r[0])||v(t,r[0],n),g(e.point,r[0])||g(e.otherEvent.point,r[0])||v(e,r[0],n),1;var u=[],c=!1,l=!1;return g(t.point,e.point)?c=!0:1===y(t,e)?u.push(e,t):u.push(t,e),g(t.otherEvent.point,e.otherEvent.point)?l=!0:1===y(t.otherEvent,e.otherEvent)?u.push(e.otherEvent,t.otherEvent):u.push(t.otherEvent,e.otherEvent),c&&l||c?(e.type=o,t.type=e.inOut===t.inOut?s:a,c&&!l&&v(u[1].otherEvent,u[0].point,n),2):l?(v(u[0],u[1].point,n),3):u[0]!==u[3].otherEvent?(v(u[0],u[1].point,n),v(u[1],u[2].point,n),3):(v(u[0],u[1].point,n),v(u[3].otherEvent,u[2].point,n),3)}function _(t,e){if(t===e)return 0;if(0!==d(t.point,t.otherEvent.point,e.point)||0!==d(t.point,t.otherEvent.point,e.otherEvent.point))return g(t.point,e.point)?t.isBelow(e.otherEvent.point)?-1:1:t.point[0]===e.point[0]?t.point[1]<e.point[1]?-1:1:1===y(t,e)?e.isAbove(t.point)?-1:1:t.isBelow(e.point)?-1:1;if(t.isSubject!==e.isSubject)return t.isSubject?-1:1;var n=t.point,r=e.point;return n[0]===r[0]&&n[1]===r[1]?(n=t.otherEvent.point,r=e.otherEvent.point,n[0]===r[0]&&n[1]===r[1]?0:t.contourId>e.contourId?1:-1):1===y(t,e)?1:-1}function b(t,e,n,r){var i=t+1,o=e.length;if(i>o-1)return t-1;for(var s=e[t].point,a=e[i].point;i<o&&a[0]===s[0]&&a[1]===s[1];){if(!n[i])return i;a=e[++i].point}for(i=t-1;n[i]&&i>=r;)i--;return i}function w(t,e){var n,r,i,o=function(t){var e,n,r,i,o=[];for(n=0,r=t.length;n<r;n++)((e=t[n]).left&&e.inResult||!e.left&&e.otherEvent.inResult)&&o.push(e);for(var s=!1;!s;)for(s=!0,n=0,r=o.length;n<r;n++)n+1<r&&1===y(o[n],o[n+1])&&(i=o[n],o[n]=o[n+1],o[n+1]=i,s=!1);for(n=0,r=o.length;n<r;n++)(e=o[n]).pos=n;for(n=0,r=o.length;n<r;n++)(e=o[n]).left||(i=e.pos,e.pos=e.otherEvent.pos,e.otherEvent.pos=i);return o}(t),s={},a=[];for(n=0,r=o.length;n<r;n++)if(!s[n]){var u=[[]];o[n].isExteriorRing?e===l&&!o[n].isSubject&&a.length>1?a[a.length-1].push(u[0]):a.push(u):e!==l||o[n].isSubject||0!==a.length?0===a.length?a.push([[u]]):a[a.length-1].push(u[0]):a.push(u);var c=a.length-1,A=n,h=o[n].point;for(u[0].push(h);A>=n;)i=o[A],s[A]=!0,i.left?(i.resultInOut=!1,i.contourId=c):(i.otherEvent.resultInOut=!0,i.otherEvent.contourId=c),s[A=i.pos]=!0,u[0].push(o[A].point),A=b(A,o,s,n);i=o[A=-1===A?n:A],s[A]=s[i.pos]=!0,i.otherEvent.resultInOut=!0,i.otherEvent.contourId=c}return a}f.prototype.isBelow=function(t){var e=this.point,n=this.otherEvent.point;return this.left?(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])>0:(n[0]-t[0])*(e[1]-t[1])-(e[0]-t[0])*(n[1]-t[1])>0},f.prototype.isAbove=function(t){return!this.isBelow(t)},f.prototype.isVertical=function(){return this.point[0]===this.otherEvent.point[0]},f.prototype.clone=function(){var t=new f(this.point,this.left,this.otherEvent,this.isSubject,this.type);return t.inResult=this.inResult,t.prevInResult=this.prevInResult,t.isExteriorRing=this.isExteriorRing,t.inOut=this.inOut,t.otherInOut=this.otherInOut,t};var E=x,B=x;function x(t,e){if(!(this instanceof x))return new x(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||O,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function O(t,e){return t<e?-1:t>e?1:0}x.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i}},E.default=B;var T=Math.max,N=Math.min,S=0;function M(t,e,n,r,i,o){var s,a,u,c,l,A;for(s=0,a=t.length-1;s<a;s++)if(u=t[s],c=t[s+1],l=new f(u,!1,void 0,e),A=new f(c,!1,l,e),l.otherEvent=A,u[0]!==c[0]||u[1]!==c[1]){l.contourId=A.contourId=n,o||(l.isExteriorRing=!1,A.isExteriorRing=!1),y(l,A)>0?A.left=!0:l.left=!0;var h=u[0],p=u[1];i[0]=N(i[0],h),i[1]=N(i[1],p),i[2]=T(i[2],h),i[3]=T(i[3],p),r.push(l),r.push(A)}}var L=[];function k(t,e,r){"number"===typeof t[0][0][0]&&(t=[t]),"number"===typeof e[0][0][0]&&(e=[e]);var i=function(t,e,n){var r=null;return t.length*e.length===0&&(n===u?r=L:n===l?r=t:n!==c&&n!==A||(r=0===t.length?e:t)),r}(t,e,r);if(i)return i===L?null:i;var o=[1/0,1/0,-1/0,-1/0],s=[1/0,1/0,-1/0,-1/0],a=function(t,e,n,r,i){var o,s,a,u,c,A,h=new E(null,y);for(a=0,u=t.length;a<u;a++)for(c=0,A=(o=t[a]).length;c<A;c++)(s=0===c)&&S++,M(o[c],!0,S,h,n,s);for(a=0,u=e.length;a<u;a++)for(c=0,A=(o=e[a]).length;c<A;c++)s=0===c,i===l&&(s=!1),s&&S++,M(o[c],!1,S,h,r,s);return h}(t,e,o,s,r);return(i=function(t,e,n,r,i){var o=null;return(n[0]>r[2]||r[0]>n[2]||n[1]>r[3]||r[1]>n[3])&&(i===u?o=L:i===l?o=t:i!==c&&i!==A||(o=t.concat(e))),o}(t,e,o,s,r))?i===L?null:i:w(function(t,e,r,i,o,s){for(var a,c,A,p=new n(_),f=[],g=Math.min(i[2],o[2]);0!==t.length;){var d=t.pop();if(f.push(d),s===u&&d.point[0]>g||s===l&&d.point[0]>i[2])break;if(d.left){c=a=p.insert(d),a=a!==(A=p.minNode())?p.prev(a):null,c=p.next(c);var y=a?a.key:null;if(h(d,y,s),c&&2===I(d,c.key,t)&&(h(d,y,s),h(d,c.key,s)),a&&2===I(a.key,d,t)){var v=a;h(y,(v=v!==A?p.prev(v):null)?v.key:null,s),h(d,y,s)}}else d=d.otherEvent,c=a=p.find(d),a&&c&&(a=a!==A?p.prev(a):null,c=p.next(c),p.remove(d),c&&a&&I(a.key,c.key,t))}return f}(a,0,0,o,s,r),r)}var F={UNION:c,DIFFERENCE:l,INTERSECTION:u,XOR:A};t.union=function(t,e){return k(t,e,c)},t.diff=function(t,e){return k(t,e,l)},t.xor=function(t,e){return k(t,e,A)},t.intersection=function(t,e){return k(t,e,u)},t.operations=F,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(383),i=n(403);e.default=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},n=Object.keys(e).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});function o(t,n,r){r?e[n].coordinates=e[n].coordinates.concat(t.geometry.coordinates):e[n].coordinates.push(t.geometry.coordinates),e[n].properties.push(t.properties)}return i.featureEach(t,function(t){t.geometry&&(e[t.geometry.type]?o(t,t.geometry.type,!0):n[t.geometry.type]&&o(t,n[t.geometry.type],!1))}),r.featureCollection(Object.keys(e).filter(function(t){return e[t].coordinates.length}).sort().map(function(t){var n={type:t,coordinates:e[t].coordinates},i={collectedProperties:e[t].properties};return r.feature(n,i)}))}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(478)),o=n(403);e.default=function(t,e){return void 0===e&&(e={}),o.segmentReduce(t,function(t,n){var r=n.geometry.coordinates;return t+i.default(r[0],r[1],e)},0)}},function(t,e,n){"use strict";var r=n(914),i=n(377),o=n(398);e.a=function(t,e){var n=[];return Object(o.d)(e,function(e){Object(o.b)(t,function(t){Object(r.a)(t,e)&&n.push(t)})}),Object(i.e)(n)}},function(t,e,n){"use strict";var r=n(402);function i(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],u=e[o][0],c=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+c*(t[0]-s)===0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(c-t[1])<=0)return!n;a>t[1]!==c>t[1]&&t[0]<(u-s)*(t[1]-a)/(c-a)+s&&(r=!r)}return r}e.a=function(t,e,n){if("object"!==typeof(n=n||{}))throw new Error("options is invalid");var o=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var s=Object(r.a)(t),a=Object(r.b)(e),u=e.geometry?e.geometry.type:e.type,c=e.bbox;if(c&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(s,c))return!1;"Polygon"===u&&(a=[a]);for(var l=0,A=!1;l<a.length&&!A;l++)if(i(s,a[l][0],o)){for(var h=!1,p=1;p<a[l].length&&!h;)i(s,a[l][p],!o)&&(h=!0),p++;h||(A=!0)}return A}},function(t,e,n){"use strict";var r=n(534),i=(n.n(r),n(916)),o=n(402),s=n(377),a=n(917);e.a=function(t,e){var n=Object(o.c)(t),u=Object(o.c)(e);if(Object(a.a)(Object(i.a)(u,{precision:4})).coordinates[0].length<4)return null;if(Object(a.a)(Object(i.a)(n,{precision:4})).coordinates[0].length<4)return null;var c=new r.GeoJSONReader,l=c.read(Object(i.a)(n)),A=c.read(Object(i.a)(u)),h=r.OverlayOp.intersection(l,A);if(h.isEmpty())return null;var p=(new r.GeoJSONWriter).write(h);return Object(s.d)(p)}},function(t,e,n){"use strict";var r=n(398),i=n(377);e.a=function(t,e){if(e=e||{},!Object(i.g)(e))throw new Error("options is invalid");var n=e.precision,o=e.coordinates,s=e.mutate;if(n=void 0===n||null===n||isNaN(n)?6:n,o=void 0===o||null===o||isNaN(o)?3:o,!t)throw new Error("<geojson> is required");if("number"!==typeof n)throw new Error("<precision> must be a number");if("number"!==typeof o)throw new Error("<coordinates> must be a number");!1!==s&&void 0!==s||(t=JSON.parse(JSON.stringify(t)));var a=Math.pow(10,n);return Object(r.a)(t,function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,a,o)}),t}},function(t,e,n){"use strict";var r=n(377),i=n(402);function o(t){var e,n,r,o,a,u=Object(i.b)(t);if(2===u.length&&(e=u[0],n=u[1],e[0]!==n[0]||e[1]!==n[1]))return u;var c=[],l=u.length-1;c.push(u[0]);for(var A=1;A<l;A++)r=u[A-1],o=u[A],s(r,a=u[A+1],o)||c.push(o);return c.push(a),c}function s(t,e,n){var r=n[0],i=n[1],o=t[0],s=t[1],a=e[0],u=e[1],c=a-o,l=u-s;return 0===(r-o)*l-(i-s)*c&&(Math.abs(c)>=Math.abs(l)?c>0?o<=r&&r<=a:a<=r&&r<=o:l>0?s<=i&&i<=u:u<=i&&i<=s)}e.a=function(t,e){var n="object"===typeof e?e.mutate:e;if(!t)throw new Error("geojson is required");var s=Object(i.d)(t),a=[];switch(s){case"LineString":a=o(t);break;case"MultiLineString":case"Polygon":Object(i.b)(t).forEach(function(t){a.push(o(t))});break;case"MultiPolygon":Object(i.b)(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(o(t))}),a.push(e)});break;case"Point":return t;case"MultiPoint":var u={};Object(i.b)(t).forEach(function(t){var e=t.join("-");u.hasOwnProperty(e)||(a.push(t),u[e]=!0)});break;default:throw new Error(s+" geometry not supported")}return t.coordinates?!0===n?(t.coordinates=a,t):{type:s,coordinates:a}:!0===n?(t.geometry.coordinates=a,t):Object(r.d)({type:s,coordinates:a},t.properties,t.bbox,t.id)}},function(t,e,n){"use strict";var r=n(75),i=(n.n(r),n(544)),o=n(919),s={},a=Object(o.a)({});s=Object.assign(s,{init:function(t,e,n){return Object.assign(s,a.init(t,e,n))},setOptions:function(t){return Object.assign(s,a.setOptions(t))},dispose:function(){return Object.assign(s,a.dispose())},undoOperation:function(){a.undoOperation()},redoOperation:function(){a.redoOperation()},onBtnCtrlActive:function(t){Object(i.default)(this,t)},setFeatures:function(t){return a.setFeatures(t)},removeFeatures:function(t){return a.removeFeatures(t)},setSelected:function(t){return a.setSelected(t)},setFeatureProperties:function(t,e){return a.setFeatureProperties(t,e)},getAllHistoryRecords:function(){return a.getAllHistoryRecords()},clearHistoryRecords:function(){return a.clearHistoryRecords()}}),e.a=s},function(t,e,n){"use strict";var r=n(920),i=n(373),o=n(1011),s=n(1012),a=n(644);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.map=null,t.options={},t.controlPosition=null,t.events=null,t.draw=null,t.history=null,t.container=null;var e=function(){return{options:t.options||{},controlPosition:t.controlPosition||void 0,draw:t.draw||null}};return{init:function(n,i,u){return t.draw=new r.a(i),t.map=new a.a(n.engineType,n),t.map.addControl(t.draw,u),t.options=i,t.controlPosition=u,t.container=t.map.getContainer(),t.history&&(t.history=null),t.event&&(t.event.removeEventListeners(),t.event=null),t.history=new o.a,t.event=new s.a(t),t.event.addEventListeners(),e()},setOptions:function(n){return t.draw&&t.map&&(t.map.removeControl(t.draw),t.draw=null),n.displayControlsDefault=!1,t.draw=new r.a(n),t.map.addControl(t.draw,t.controlPosition),t.options=n,t.history&&(t.history=null),t.event&&(t.event.removeEventListeners(),t.event=null),t.history=new o.a,t.event=new s.a(t),t.event.addEventListeners(),e()},dispose:function(){return t.draw&&t.map&&(t.map.removeControl(t.draw),t.draw=null),t.history&&(t.history=null),t.event&&(t.event.removeEventListeners(),t.event=null),delete t.map,delete t.options,delete t.controlPosition,delete t.history,delete t.event,delete t.draw,delete t.container,e},undoOperation:function(){t.event&&t.event.undoHistory()},redoOperation:function(){t.event&&t.event.redoHistory()},setFeatures:function(e){t.draw.changeMode(i.g.modes.SIMPLE_SELECT),t.draw.set(e)},removeFeatures:function(e){if(!Array.isArray(e))throw new Error("Invalid featureIds");if(0===e.length)throw new Error("featureIds不能为空");return t.draw.changeMode(i.g.modes.SIMPLE_SELECT,{featureIds:e}),t.draw.trash(),e},setSelected:function(e){if(!Array.isArray(e))throw new Error("invalid featureIds");return t.draw.changeMode(i.g.modes.SIMPLE_SELECT,{featureIds:e}),e},setFeatureProperties:function(e,n){for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];t.draw.setFeatureProperty(e,r,i)}return t.draw.get(e)},getAllHistoryRecords:function(){return t.history?t.history.getAllRecords():[]},clearHistoryRecords:function(){t.history&&t.history.clear()}}}},function(t,e,n){"use strict";var r=n(921),i=n(986),o=n(1004),s=n(373);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={options:t=Object(i.a)(t)};e=Object(o.a)(n,e),n.api=e;var a=Object(r.a)(n);return e.onAdd=a.onAdd,e.onRemove=a.onRemove,e.types=s.g.types,e.options=t,e.ctx=n,e}},function(t,e,n){"use strict";var r=n(922),i=n(933),o=n(937),s=n(373),a=n(644),u=n(984);e.a=function(t,e){var n=null,c={onRemove:function(){return t.map.off("load",c.connect),clearInterval(null),c.removeLayers(),t.store.restoreMapConfig(),t.ui.removeButtons(),t.events.removeEventListeners(),t.map=null,t.container=null,t.store=null,n&&n.parentNode&&n.parentNode.removeChild(n),n=null,this},connect:function(){t.map.off("load",c.connect),clearInterval(null),c.addLayers(),t.store.storeMapConfig(),t.events.addEventListeners()},onAdd:function(s){return t.map=new a.a(s.engineType,s),t.helpToolTip=new u.a(t),this.ctx=t,t.events=Object(r.a)(t,e),t.ui=Object(o.a)(t),t.container=t.map.getContainer(),t.store=new i.a(t),n=t.ui.addButtons(),t.options.boxSelect&&(t.map.boxZoom.disable(),t.map.dragPan.disable(),t.map.dragPan.enable()),c.connect(),t.events.start(),n},addLayers:function(){t.map.addSource(s.g.sources.COLD,{data:{type:s.g.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.map.addSource(s.g.sources.HOT,{data:{type:s.g.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.options.styles.forEach(function(e){t.map.addLayer(e)}),t.store.setDirty(!0),t.store.render()},removeLayers:function(){t.options.styles.forEach(function(e){t.map&&t.map.style&&t.map.getLayer(e.id)&&t.map.removeLayer(e.id)}),t.map&&t.map.style&&t.map.getSource(s.g.sources.COLD)&&t.map.removeSource(s.g.sources.COLD),t.map&&t.map.style&&t.map.getSource(s.g.sources.HOT)&&t.map.removeSource(s.g.sources.HOT)}};return t.setup=c,c}},function(t,e,n){"use strict";var r=n(30),i=(n.n(r),n(25)),o=(n.n(i),n(24)),s=(n.n(o),n(103)),a=(n.n(s),n(923)),u=n(924),c=n(484),l=n(930),A=n(931),h=n(373),p=n(545);e.a=function(t){var e=Object.keys(t.options.modes).reduce(function(e,n){return e[n]=Object(p.default)(t.options.modes[n]),e},{}),n={},r={},i={},o=null,s=null;i.drag=function(e,n){n({point:e.point,time:(new Date).getTime()})?(t.ui.queueMapClasses({mouse:h.g.cursors.DRAG}),s.drag(e)):e.originalEvent.stopPropagation()},i.mousedrag=function(t){i.drag(t,function(t){return!Object(l.a)(n,t)})},i.touchdrag=function(t){i.drag(t,function(t){return!Object(A.a)(r,t)})},i.mousemove=function(e){if(1===(void 0!==e.originalEvent.buttons?e.originalEvent.buttons:e.originalEvent.which))return i.mousedrag(e);var n=Object(u.a)(e,t);e.featureTarget=n,s.mousemove(e)},i.mousedown=function(e){n={time:(new Date).getTime(),point:e.point};var r=Object(u.a)(e,t);e.featureTarget=r,s.mousedown(e)},i.mouseup=function(e){var r=Object(u.a)(e,t);e.featureTarget=r,Object(l.a)(n,{point:e.point,time:(new Date).getTime()})?s.click(e):s.mouseup(e)},i.mouseout=function(t){s.mouseout(t)},i.touchstart=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled){r={time:(new Date).getTime(),point:e.point};var n=c.a.touch(e,null,t)[0];e.featureTarget=n,s.touchstart(e)}},i.touchmove=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled)return s.touchmove(e),i.touchdrag(e)},i.touchend=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled){var n=c.a.touch(e,null,t)[0];e.featureTarget=n,Object(A.a)(r,{time:(new Date).getTime(),point:e.point})?s.tap(e):s.touchend(e)}};i.keyup=function(t){var e;8===(e=t.keyCode)||46===e||e>=48&&e<=57||s.keyup(t)},i.zoomend=function(){t.store.changeZoom()},i.data=function(e){if("style"===e.dataType){var n=t.setup,r=t.map,i=t.options,o=t.store;i.styles.some(function(t){return r.getLayer(t.id)})||(n.addLayers(),o.setDirty(),o.render())}};var f={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){o=t.options.defaultMode,s=Object(a.a)(e[o](t),t)},changeMode:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s.stop();var u=e[n];if(void 0===u)throw new Error("".concat(n," is not valid"));o=n;var c=u(t,r);s=Object(a.a)(c,t),i.silent||t.map.fire(h.g.events.MODE_CHANGE,{mode:n}),t.store.setDirty(),t.store.render()},cancelDraw:function(){s.stop(),s.trash()},setEditableInit:function(e,n){t.options.editableInit=e,t.options.featureDraggable=n},actionable:function(e){var n=!1;Object.keys(e).forEach(function(t){if(void 0===f[t])throw new Error("Invalid action type");f[t]!==e[t]&&(n=!0),f[t]=e[t]}),n&&t.map.fire(h.g.events.ACTIONABLE,{actions:f})},currentModeName:function(){return o},currentModeRender:function(t,e){return s.render(t,e)},fire:function(t,e){i[t]&&i[t](e)},addEventListeners:function(){t.map.on("mousemove",i.mousemove),t.map.on("mousedown",i.mousedown),t.map.on("mouseup",i.mouseup),t.map.on("data",i.data),t.map.on("touchmove",i.touchmove),t.map.on("touchstart",i.touchstart),t.map.on("touchend",i.touchend),t.container.addEventListener("mouseout",i.mouseout),t.options.keybindings&&t.container.addEventListener("keyup",i.keyup)},removeEventListeners:function(){t.map.off("mousemove",i.mousemove),t.map.off("mousedown",i.mousedown),t.map.off("mouseup",i.mouseup),t.map.off("data",i.data),t.map.off("touchmove",i.touchmove),t.map.off("touchstart",i.touchstart),t.map.off("touchend",i.touchend),t.container.removeEventListener("mouseout",i.mouseout),t.options.keybindings&&t.container.removeEventListener("keyup",i.keyup)},trash:function(t){s.trash(t)},combineFeatures:function(){s.combineFeatures()},uncombineFeatures:function(){s.uncombineFeatures()},getMode:function(){return o}}}},function(t,e,n){"use strict";e.a=function(t,e){var n={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},r={on:function(t,e,r){if(void 0===n[t])throw new Error("Invalid event type: ".concat(t));n[t].push({selector:e,fn:r})},render:function(t){e.store.featureChanged(t)}},i=function(t,i){for(var o=n[t],s=o.length;s--;){var a=o[s];if(a.selector(i)){a.fn.call(r,i),e.store.render(),e.ui.updateMapClasses();break}}};return t.start.call(r),{render:t.render,stop:function(){t.stop&&t.stop()},trash:function(){t.trash&&(t.trash(),e.store.render())},combineFeatures:function(){t.combineFeatures&&t.combineFeatures()},uncombineFeatures:function(){t.uncombineFeatures&&t.uncombineFeatures()},drag:function(t){i("drag",t)},click:function(t){i("click",t)},mousemove:function(t){i("mousemove",t)},mousedown:function(t){i("mousedown",t)},mouseup:function(t){i("mouseup",t)},mouseout:function(t){i("mouseout",t)},keydown:function(t){i("keydown",t)},keyup:function(t){i("keyup",t)},touchstart:function(t){i("touchstart",t)},touchmove:function(t){i("touchmove",t)},touchend:function(t){i("touchend",t)},tap:function(t){i("tap",t)}}}},function(t,e,n){"use strict";e.a=function(t,e){var n=r.a.click(t,null,e),o={mouse:i.g.cursors.NONE};n[0]&&(o.mouse=n[0].properties.active===i.g.activeStates.ACTIVE?i.g.cursors.MOVE:i.g.cursors.POINTER,o.feature=n[0].properties.meta);-1!==e.events.currentModeName().indexOf("draw")&&(o.mouse=i.g.cursors.ADD);return e.ui.queueMapClasses(o),e.ui.updateMapClasses(),n[0]};var r=n(484),i=n(373)},function(t,e,n){"use strict";var r=n(417),i=(n.n(r),n(927)),o=n.n(i),s=n(373),a={Point:0,LineString:1,Polygon:2};function u(t,e){var n=a[t.geometry.type]-a[e.geometry.type];return 0===n&&t.geometry.type===s.g.geojsonTypes.POLYGON?t.area-e.area:n}e.a=function(t){return t.map(function(t){return t.geometry.type===s.g.geojsonTypes.POLYGON&&(t.area=o.a.geometry({type:s.g.geojsonTypes.FEATURE,property:{},geometry:t.geometry})),t}).sort(u).map(function(t){return delete t.area,t})}},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r=n(928);function i(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e,n,i,o,a,u,c=0,l=t.length;if(l>2){for(u=0;u<l;u++)u===l-2?(i=l-2,o=l-1,a=0):u===l-1?(i=l-1,o=0,a=1):(i=u,o=u+1,a=u+2),e=t[i],n=t[o],c+=(s(t[a][0])-s(e[0]))*Math.sin(s(n[1]));c=c*r.RADIUS*r.RADIUS/2}return c}function s(t){return t*Math.PI/180}t.exports.geometry=function t(e){var n,r=0;switch(e.type){case"Polygon":return i(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=i(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}},t.exports.ring=o},function(t,e){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},function(t,e,n){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[[t.point.x-e,t.point.y-e],[t.point.x+e,t.point.y+e]]}},function(t,e,n){"use strict";e.a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null!=n.fineTolerance?n.fineTolerance:i,u=null!=n.grossTolerance?n.grossTolerance:o,c=null!=n.interval?n.interval:s;t.point=t.point||e.point,t.time=t.time||e.time;var l=Object(r.a)(t.point,e.point);return l<a||l<u&&e.time-t.time<c};var r=n(643),i=4,o=12,s=500},function(t,e,n){"use strict";e.a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=null!=n.tolerance?n.tolerance:i,a=null!=n.interval?n.interval:o;return t.point=t.point||e.point,t.time=t.time||e.time,Object(r.a)(t.point,e.point)<s&&e.time-t.time<a};var r=n(643),i=25,o=250},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n(160),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(158),c=n.n(u),l=n(157),A=n.n(l),h=n(159),p=n.n(h),f=n(400),g=function(t){function e(t,n){var r;return o()(this,e),(r=c()(this,A()(e).call(this,t,n))).coordinates=r.coordinates.map(function(t){return t.slice(0,-1)}),r}return p()(e,t),a()(e,[{key:"isValid",value:function(){return 0!==this.coordinates.length&&this.coordinates.every(function(t){return t.length>2})}},{key:"incomingCoords",value:function(t){this.coordinates=t.map(function(t){return t.slice(0,-1)}),this.changed()}},{key:"setCoordinates",value:function(t){this.coordinates=t,this.changed()}},{key:"addCoordinate",value:function(t,e,n){this.changed();var r=t.split(".").map(function(t){return parseInt(t,10)});this.coordinates[r[0]].splice(r[1],0,[e,n])}},{key:"removeCoordinate",value:function(t){this.changed();var e=t.split(".").map(function(t){return parseInt(t,10)}),n=this.coordinates[e[0]];n&&(n.splice(e[1],1),n.length<3&&this.coordinates.splice(e[0],1))}},{key:"getCoordinate",value:function(t){var e=t.split(".").map(function(t){return parseInt(t,10)}),n=this.coordinates[e[0]];return JSON.parse(JSON.stringify(n[e[1]]))}},{key:"getCoordinates",value:function(){return this.coordinates.map(function(t){return t.concat([t[0]])})}},{key:"updateCoordinate",value:function(t,e,n){this.changed();var r=t.split("."),i=parseInt(r[0],10),o=parseInt(r[1],10);if(0===o)this.center=[e,n],this.coordinates[i][o]=this.center;else if(1===o)this.start=[e,n],this.coordinates[i][o]=this.start;else if(2===o){var s=this.center,a=this.start,u=[e,n];this.pos=u;var c=f.a.bearing(s,a),l=f.a.bearing(s,u),A=f.a.distance(s,a),h=f.a.sector(s,A,c,l).geometry.coordinates[0].slice(0,-1);this.coordinates=[h]}void 0===this.coordinates[i]&&(this.coordinates[i]=[])}}]),e}(n(458).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(103),i=(n.n(r),n(30)),o=(n.n(i),n(25)),s=(n.n(o),n(24)),a=(n.n(s),n(74)),u=n.n(a),c=n(101),l=n.n(c),A=n(934),h=n(935),p=n(485),f=n(936),g=n(373).g.interactions;function d(t){var e=this,n=this._selectedCoordinates.filter(function(t){return e._selectedFeatureIds.has(t.feature_id)});this._selectedCoordinates.length===n.length||t.silent||(this._emitSelectionChange=!0),this._selectedCoordinates=n}var y=function(){function t(e){u()(this,t),this._features={},this._featureIds=new p.a,this._selectedFeatureIds=new p.a,this._selectedCoordinates=[],this._changedFeatureIds=new p.a,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=e,this.sources={hot:[],cold:[]},this.render=Object(A.a)(f.a,16,this),this.isDirty=!1}return l()(t,[{key:"createRenderBatch",value:function(){var t=this,e=this.render,n=0;return this.render=function(){n++},function(){t.render=e,n>0&&t.render()}}},{key:"setDirty",value:function(){return this.isDirty=!0,this}},{key:"featureChanged",value:function(t){return this._changedFeatureIds.add(t),this}},{key:"getChangedIds",value:function(){return this._changedFeatureIds.values()}},{key:"clearChangedIds",value:function(){return this._changedFeatureIds.clear(),this}},{key:"getAllIds",value:function(){return this._featureIds.values()}},{key:"add",value:function(t){return this.featureChanged(t.id),this._features[t.id]=t,this._featureIds.add(t.id),this}},{key:"delete",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(h.a)(t).forEach(function(t){e._featureIds.has(t)&&(e._featureIds.delete(t),e._selectedFeatureIds.delete(t),n.silent||-1===e._deletedFeaturesToEmit.indexOf(e._features[t])&&e._deletedFeaturesToEmit.push(e._features[t]),delete e._features[t],e.isDirty=!0)}),d.call(this,n),this}},{key:"get",value:function(t){return this._features[t]}},{key:"getAll",value:function(){var t=this;return Object.keys(this._features).map(function(e){return t._features[e]})}},{key:"select",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(h.a)(t).forEach(function(t){e._selectedFeatureIds.has(t)||(e._selectedFeatureIds.add(t),e._changedFeatureIds.add(t),n.silent||(e._emitSelectionChange=!0))}),this}},{key:"deselect",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(h.a)(t).forEach(function(t){e._selectedFeatureIds.has(t)&&(e._selectedFeatureIds.delete(t),e._changedFeatureIds.add(t),n.silent||(e._emitSelectionChange=!0))}),d.call(this,n),this}},{key:"clearSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.deselect(this._selectedFeatureIds.values(),{silent:t.silent}),this}},{key:"setSelected",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Object(h.a)(t),this.deselect(this._selectedFeatureIds.values().filter(function(e){return-1===t.indexOf(e)}),{silent:n.silent}),this.select(t.filter(function(t){return!e._selectedFeatureIds.has(t)}),{silent:n.silent}),this}},{key:"setSelectedCoordinates",value:function(t){return this._selectedCoordinates=t,this._emitSelectionChange=!0,this}},{key:"clearSelectedCoordinates",value:function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this}},{key:"getSelectedIds",value:function(){return this._selectedFeatureIds.values()}},{key:"getSelected",value:function(){var t=this;return this._selectedFeatureIds.values().map(function(e){return t.get(e)})}},{key:"getSelectedCoordinates",value:function(){var t=this;return this._selectedCoordinates.map(function(e){return{coordinates:t.get(e.feature_id).getCoordinate(e.coord_path)}})}},{key:"isSelected",value:function(t){return this._selectedFeatureIds.has(t)}},{key:"setFeatureProperty",value:function(t,e,n){this.get(t).setProperty(e,n),this.featureChanged(t)}},{key:"storeMapConfig",value:function(){var t=this;g.forEach(function(e){t.ctx.map[e]&&(t._mapInitialConfig[e]=t.ctx.map[e].isEnabled())})}},{key:"restoreMapConfig",value:function(){var t=this;Object.keys(this._mapInitialConfig).forEach(function(e){t._mapInitialConfig[e]?t.ctx.map[e].enable():t.ctx.map[e].disable()})}},{key:"getInitialConfigValue",value:function(t){return void 0===this._mapInitialConfig[t]||this._mapInitialConfig[t]}}]),t}()},function(t,e,n){"use strict";e.a=function(t,e,n){var r,i;function o(){r=!1,i&&(s.apply(n,i),i=!1)}function s(){r?i=arguments:(r=!0,t.apply(n,arguments),setTimeout(o,e))}return s}},function(t,e,n){"use strict";e.a=function(t){return[].concat(t).filter(function(t){return void 0!==t})}},function(t,e,n){"use strict";e.a=function(){var t=this;if(!t.ctx.map||void 0===t.ctx.map.getSource(r.g.sources.HOT))return c();var e=t.ctx.events.currentModeName();t.ctx.ui.queueMapClasses({mode:e});var n=[],i=[];t.isDirty?i=t.getAllIds():(n=t.getChangedIds().filter(function(e){return void 0!==t.get(e)}),i=t.sources.hot.filter(function(e){return e.properties.id&&-1===n.indexOf(e.properties.id)&&void 0!==t.get(e.properties.id)}).map(function(t){return t.properties.id}));t.sources.hot=[];var o=t.sources.cold.length;t.sources.cold=t.isDirty?[]:t.sources.cold.filter(function(t){var e=t.properties.id||t.properties.parent;return-1===n.indexOf(e)});var s=o!==t.sources.cold.length||i.length>0;function a(n,r){var i=t.get(n);(0===i.coordinates.length||i.coordinates[0]&&0===i.coordinates[0].length)&&t.ctx.helpToolTip.updateTooltip("单击开始绘制"),"Rectangle"===i.properties._type_||"Circle"===i.properties._type_?(0===i.coordinates[0].length&&t.ctx.helpToolTip.updateTooltip("按住鼠标拖动绘制"),i.coordinates[0].length>0&&"Rectangle"===i.properties._type_&&t.ctx.helpToolTip.updateTooltip("松开鼠标结束绘制"),i.coordinates[0].length>0&&"Circle"===i.properties._type_&&i.radius&&t.ctx.helpToolTip.updateTooltip(i.radius.toFixed(2)+"公里")):"LineString"===i.properties._type_?2===i.coordinates.length&&t.ctx.helpToolTip.updateTooltip("双击结束绘制"):"Arrow"===i.properties._type_?i.coordinates[0].length>0&&t.ctx.helpToolTip.updateTooltip("单击结束绘制"):"Polygon"===i.properties._type_?2===i.coordinates[0].length?t.ctx.helpToolTip.updateTooltip("单击继续绘制"):i.coordinates[0].length>2&&t.ctx.helpToolTip.updateTooltip("双击结束绘制"):"Triangle"===i.properties._type_?2===i.coordinates[0].length?t.ctx.helpToolTip.updateTooltip("单击继续绘制"):i.coordinates[0].length>2&&t.ctx.helpToolTip.updateTooltip("单击结束绘制"):"Sector"===i.properties._type_&&(2===i.coordinates[0].length?t.ctx.helpToolTip.updateTooltip("单击继续绘制"):i.coordinates[0].length>2&&t.ctx.helpToolTip.updateTooltip("单击结束绘制"));var o=i.internal(e);t.ctx.events.currentModeRender(o,function(e){t.sources[r].push(e)})}n.forEach(function(t){return a(t,"hot")}),i.forEach(function(t){return a(t,"cold")}),s&&t.ctx.map.getSource(r.g.sources.COLD).setData({type:r.g.geojsonTypes.FEATURE_COLLECTION,features:t.sources.cold});t.ctx.map.getSource(r.g.sources.HOT).setData({type:r.g.geojsonTypes.FEATURE_COLLECTION,features:t.sources.hot}),t._emitSelectionChange&&(t.ctx.map.fire(r.g.events.SELECTION_CHANGE,{features:t.getSelected().map(function(t){return t.toGeoJSON()}),points:t.getSelectedCoordinates().map(function(t){return{type:r.g.geojsonTypes.FEATURE,properties:{},geometry:{type:r.g.geojsonTypes.POINT,coordinates:t.coordinates}}})}),t._emitSelectionChange=!1);if(t._deletedFeaturesToEmit.length){var u=t._deletedFeaturesToEmit.map(function(t){return t.toGeoJSON()});t._deletedFeaturesToEmit=[],t.ctx.map.fire(r.g.events.DELETE,{features:u})}function c(){t.isDirty=!1,t.clearChangedIds()}c(),t.ctx.map.fire(r.g.events.RENDER,{})};var r=n(373)},function(t,e,n){"use strict";var r=n(30),i=(n.n(r),n(25)),o=(n.n(i),n(24)),s=(n.n(o),n(103)),a=(n.n(s),n(938)),u=n.n(a),c=n(373),l=["mode","feature","mouse"];e.a=function(t){var e={},n=null,r={mode:null,feature:null,mouse:null},i={mode:null,feature:null,mouse:null};function o(){n&&(n.classList.remove(c.g.classes.ACTIVE_BUTTON),n=null)}function s(t){o();var r=e[t];r&&r&&"trash"!==t&&(r.classList.add(c.g.classes.ACTIVE_BUTTON),n=r)}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement("button");return r.className="".concat(c.g.classes.CONTROL_BUTTON," ").concat(e.className),r.setAttribute("title",e.title),e.container.appendChild(r),r.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation(),r.target!==n?(s(t),e.onActivate()):o()},!0),r}return{setActiveButton:s,queueMapClasses:function(t){i=u()(i,t)},updateMapClasses:function(){if(t.container){var e=[],n=[];l.forEach(function(t){i[t]!==r[t]&&(e.push("".concat(t,"-").concat(r[t])),null!==i[t]&&n.push("".concat(t,"-").concat(i[t])))}),e.length>0&&t.container.classList.remove.apply(t.container.classList,e),n.length>0&&t.container.classList.add.apply(t.container.classList,n),r=u()(r,i)}},addButtons:function(){var n=t.options.controls,r=document.createElement("div");return r.className="".concat(c.g.classes.CONTROL_GROUP," ").concat(c.g.classes.CONTROL_BASE),n?(n[c.g.types.LINE]&&(e[c.g.types.LINE]=a(c.g.types.LINE,{container:r,className:c.g.classes.CONTROL_BUTTON_LINE,title:"LineString tool ".concat(t.options.keybindings?"(l)":""),onActivate:function(){return t.events.changeMode(c.g.modes.DRAW_LINE_STRING)}})),n[c.g.types.POLYGON]&&(e[c.g.types.POLYGON]=a(c.g.types.POLYGON,{container:r,className:c.g.classes.CONTROL_BUTTON_POLYGON,title:"Polygon tool ".concat(t.options.keybindings?"(p)":""),onActivate:function(){return t.events.changeMode(c.g.modes.DRAW_POLYGON)}})),n[c.g.types.POINT]&&(e[c.g.types.POINT]=a(c.g.types.POINT,{container:r,className:c.g.classes.CONTROL_BUTTON_POINT,title:"Marker tool ".concat(t.options.keybindings?"(m)":""),onActivate:function(){return t.events.changeMode(c.g.modes.DRAW_POINT)}})),n[c.g.types.CIRCLE]&&(e[c.g.types.CIRCLE]=a(c.g.types.CIRCLE,{container:r,className:c.g.classes.CONTROL_BUTTON_CIRCLE,title:"Circle tool ".concat(t.options.keybindings&&"(c)"),onActivate:function(){return t.events.changeMode(c.g.modes.DRAW_CIRCLE)}})),n[c.g.types.TRIANGLE]&&(e[c.g.types.TRIANGLE]=a(c.g.types.TRIANGLE,{container:r,className:c.g.classes.CONTROL_BUTTON_TRIANGLE,title:"Triangle tool ".concat(t.options.keybindings&&"t"),onActivate:function(){return t.events.changeMode(c.g.modes.DRAW_TRIANGLE)}})),n[c.g.types.RECTANGLE]&&(e[c.g.types.RECTANGLE]=a(c.g.types.RECTANGLE,{container:r,className:c.g.classes.CONTROL_BUTTON_RECTANGLE,title:"Rectangle tool ".concat(t.options.keybindings&&"r"),onActivate:function(){return t.events.changeMode(c.g.modes.DRAW_RECTANGLE)}})),n[c.g.types.SECTOR]&&(e[c.g.types.SECTOR]=a(c.g.types.SECTOR,{container:r,className:c.g.classes.CONTROL_BUTTON_SECTOR,title:"Sector tool ".concat(t.options.keybindings&&"s"),onActivate:function(){return t.events.changeMode(c.g.modes.DRAW_SECTOR)}})),n[c.g.types.ARROW]&&(e[c.g.types.ARROW]=a(c.g.types.ARROW,{container:r,className:c.g.classes.CONTROL_BUTTON_ARROW,title:"Arrow tool ".concat(t.options.keybindings&&"a"),onActivate:function(){return t.events.changeMode(c.g.modes.DRAW_ARROW)}})),n[c.g.types.BEZIERARROW]&&(e[c.g.types.BEZIERARROW]=a(c.g.types.BEZIERARROW,{container:r,className:c.g.classes.CONTROL_BUTTON_BEZIER_ARROW,title:"BezierArrow tool ".concat(t.options.keybindings&&"b"),onActivate:function(){return t.events.changeMode(c.g.modes.DRAW_BEZIER_ARROW)}})),n.trash&&(e.trash=a("trash",{container:r,className:c.g.classes.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){t.events.trash()}})),n.combine_features&&(e.combine_features=a("combineFeatures",{container:r,className:c.g.classes.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){t.events.combineFeatures()}})),n.uncombine_features&&(e.uncombine_features=a("uncombineFeatures",{container:r,className:c.g.classes.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){t.events.uncombineFeatures()}})),r):r},removeButtons:function(){Object.keys(e).forEach(function(t){var n=e[t];n.parentNode&&n.parentNode.removeChild(n),delete e[t]})}}}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";var r=n(404),i=n(487),o=n(391),s=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.a.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=Object(r.a)(this,t[o],e);return i}return Object(r.a)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=Object(r.b)(this,t[o],e);return i}return Object(r.b)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)Object(r.c)(this,t[n],e);else Object(r.c)(this,t,e)},e}(i.a);e.a=s},function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,n){"use strict";e.a=function(t,e){return[[-1/0,-1/0,1/0,1/0]]}},function(t,e,n){"use strict";n.d(e,"a",function(){return A}),e.b=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var u=a,c=0;c<r;c+=i){o[c]=u*t[c]/180;var l=s*Math.log(Math.tan(Math.PI*(t[c+1]+90)/360));l>u?l=u:l<-u&&(l=-u),o[c+1]=l}return o},e.c=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var u=0;u<r;u+=i)o[u]=180*t[u]/a,o[u+1]=360*Math.atan(Math.exp(t[u+1]/s))/Math.PI-90;return o};var r=n(385),i=n(488),o=n(426),s=6378137,a=Math.PI*s,u=[-a,-a,a,a],c=[-180,-85,180,85],l=function(t){function e(e){t.call(this,{code:e,units:o.b.METERS,extent:u,global:!0,worldExtent:c,getPointResolution:function(t,e){return t/Object(r.b)(e[1]/s)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.a),A=[new l("EPSG:3857"),new l("EPSG:102100"),new l("EPSG:102113"),new l("EPSG:900913"),new l("urn:ogc:def:crs:EPSG:6.18:3:3857"),new l("urn:ogc:def:crs:EPSG::3857"),new l("http://www.opengis.net/gml/srs/epsg.xml#3857")]},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(488),i=n(426),o=[-180,-90,180,90],s=6378137*Math.PI/180,a=function(t){function e(e,n){t.call(this,{code:e,units:i.b.DEGREES,extent:o,axisOrientation:n,global:!0,metersPerUnit:s,worldExtent:o})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.a),u=[new a("CRS:84"),new a("EPSG:4326","neu"),new a("urn:ogc:def:crs:EPSG::4326","neu"),new a("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new a("urn:ogc:def:crs:OGC:1.3:CRS84"),new a("urn:ogc:def:crs:OGC:2:84"),new a("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new a("urn:x-ogc:def:crs:EPSG:4326","neu")]},function(t,e,n){"use strict";e.b=function(){r={}},e.c=function(t){return r[t]||null},e.a=function(t,e){r[t]=e};var r={}},function(t,e,n){"use strict";e.b=function(){r={}},e.a=function(t,e,n){var i=t.getCode(),o=e.getCode();i in r||(r[i]={});r[i][o]=n},e.c=function(t,e){var n;t in r&&e in r[t]&&(n=r[t][e]);return n};n(384);var r={}},function(t,e,n){"use strict";e.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(t,e,n){"use strict";var r=n(382),i=n(480),o=n.n(i),s=n(381),a=n(384),u=function(t){this.rbush_=o()(t,void 0),this.items_={}};u.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(r.c)(e)]=n},u.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var s=t[i],a=e[i],u={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};n[i]=u,this.items_[Object(r.c)(a)]=u}this.rbush_.load(n)},u.prototype.remove=function(t){var e=Object(r.c)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},u.prototype.update=function(t,e){var n=this.items_[Object(r.c)(e)],i=[n.minX,n.minY,n.maxX,n.maxY];Object(s.l)(i,t)||(this.remove(e),this.insert(t,e))},u.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},u.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},u.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},u.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},u.prototype.forEach_=function(t,e,n){for(var r,i=0,o=t.length;i<o;i++)if(r=e.call(n,t[i]))return r;return r},u.prototype.isEmpty=function(){return Object(a.d)(this.items_)},u.prototype.clear=function(){this.rbush_.clear(),this.items_={}},u.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(s.g)(e.minX,e.minY,e.maxX,e.maxY,t)},u.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},e.a=u},function(t,e,n){"use strict";var r=n(382),i=n(646),o=n(552),s=n(410),a=n(553),u=n(389),c=n(404),l=n(391),A=n(381),h=n(653),p=n(384),f=n(489),g={LAYERS:"layers"};h.a},function(t,e,n){"use strict";var r=n(404),i=n(410),o=n(427),s=n(556),a=n(385),u=n(384),c=n(557),l=n(660),A=n(558),h={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},p=["#00f","#0ff","#0f0","#ff0","#f00"];s.a},function(t,e,n){"use strict";e.a={IMAGE:"image",VECTOR:"vector"}},function(t,e,n){"use strict";e.a=function(t){return Array.isArray(t)?Object(r.c)(t):t};var r=n(459)},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"e",function(){return A}),n.d(e,"f",function(){return h}),n.d(e,"d",function(){return p});var r=n(953),i=n(427),o=n(384),s=n(658),a=n(561),u=[0,0,0,1],c="round",l="round",A=10,h=[0,0,0,1],p=1,f=new s.a,g={},d=null,y={};!function(){var t,e,n=60,r=g,i="32px ",s=["monospace","serif"],a=s.length,u="wmytzilWMYTZIL@#/&?$%10";function c(t){for(var n=v(),r=100;r<=700;r+=300){for(var o=r+" ",c=!0,l=0;l<a;++l){var A=s[l];if(n.font=o+i+A,e=n.measureText(u).width,t!=A){n.font=o+i+t+","+A;var h=n.measureText(u).width;c=c&&h!=e}}if(c)return!0}return!1}function l(){var e=!0;for(var i in r)r[i]<n&&(c(i)?(r[i]=n,Object(o.b)(y),d=null,f.clear()):(++r[i],e=!1));e&&(clearInterval(t),t=void 0)}}();function v(){return d||(d=Object(i.a)(1,1)),d}var m,C;C=y;Object(a.b)()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r,i,o=(i={},function(t){if(r||(r=document.createElement("div").style),!(t in i)){r.font=t;var e=r.fontFamily;if(r.font="",!e)return null;i[t]=e.split(/,\s?/)}return i[t]})},function(t,e,n){"use strict";e.a={FRACTION:"fraction",PIXELS:"pixels"}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(459),i=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function o(t,e,n){return e+":"+t+":"+(n?Object(r.b)(n):"null")}i.prototype.clear=function(){this.cache_={},this.cacheSize_=0},i.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},i.prototype.get=function(t,e,n){var r=o(t,e,n);return r in this.cache_?this.cache_[r]:null},i.prototype.set=function(t,e,n,r){var i=o(t,e,n);this.cache_[i]=r,++this.cacheSize_},i.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var s=new i},function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";var r=n(490),i=function(t){function e(e){var n=e||{};t.call(this,n),this.type=r.a.IMAGE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n(491).a);i.prototype.getSource},function(t,e,n){"use strict";var r=n(490),i=n(491),o=n(662),s=n(384),a=function(t){function e(e){var n=e||{},i=Object(s.a)({},n);delete i.preload,delete i.useInterimTilesOnError,t.call(this,i),this.setPreload(void 0!==n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=r.a.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o.a.PRELOAD)},e.prototype.setPreload=function(t){this.set(o.a.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(o.a.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(o.a.USE_INTERIM_TILES_ON_ERROR,t)},e}(i.a);a.prototype.getSource},function(t,e,n){"use strict";e.a={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},function(t,e,n){"use strict";var r=n(564),i=n(428),o=function(t){function e(e){t.call(this,{handleEvent:s});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.a);function s(t){var e=!1;if(t.type==r.a.DBLCLICK){var n=t.originalEvent,o=t.map,s=t.coordinate,a=n.shiftKey?-this.delta_:this.delta_,u=o.getView();Object(i.f)(u,a,s,this.duration_),t.preventDefault(),e=!0}return!e}e.a=o},function(t,e,n){"use strict";e.a={ACTIVE:"active"}},function(t,e,n){"use strict";var r=n(963),i=n(492),o=n(429),s=n(407),a=n(428),u=function(t){function e(e){var n=e||{};t.call(this,{stopDown:s.a}),this.condition_=n.condition?n.condition:o.a,this.lastAngle_=void 0,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(Object(o.d)(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==r.a){var i=e.getSize(),s=t.pixel,u=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(void 0!==this.lastAngle_){var c=u-this.lastAngle_,l=n.getRotation();Object(a.d)(n,l-c)}this.lastAngle_=u}}},e.prototype.handleUpEvent=function(t){if(!Object(o.d)(t))return!0;var e=t.map.getView();e.setHint(i.a.INTERACTING,-1);var n=e.getRotation();return Object(a.c)(e,n,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!!Object(o.d)(t)&&(!(!Object(o.c)(t)||!this.condition_(t))&&(t.map.getView().setHint(i.a.INTERACTING,1),this.lastAngle_=void 0,!0))},e}(n(493).b);e.a=u},function(t,e,n){"use strict";e.a=function(t,e){return void 0!==t?0:void 0};n(385)},function(t,e,n){"use strict";e.a=function(t,e,n){var r=void 0!==n?t.toFixed(n):""+t,i=r.indexOf(".");return(i=-1===i?r.length:i)>e?r:new Array(1+e-i).join("0")+r}},function(t,e,n){"use strict";var r=n(565),i=n(391),o=n(966),s=n(429),a=n(428),u=function(t){function e(e){t.call(this,{handleEvent:c});var n=e||{};this.defaultCondition_=function(t){return Object(s.e)(t)&&Object(s.g)(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.a);function c(t){var e=!1;if(t.type==i.a.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==o.a.DOWN||n==o.a.LEFT||n==o.a.RIGHT||n==o.a.UP)){var s=t.map.getView(),u=s.getResolution()*this.pixelDelta_,c=0,l=0;n==o.a.DOWN?l=-u:n==o.a.LEFT?c=-u:n==o.a.RIGHT?c=u:l=u;var A=[c,l];Object(r.b)(A,s.getRotation()),Object(a.b)(s,A,this.duration_),t.preventDefault(),e=!0}}return!e}e.a=u},function(t,e,n){"use strict";e.a={LEFT:37,UP:38,RIGHT:39,DOWN:40}},function(t,e,n){"use strict";var r=n(391),i=n(429),o=n(428),s=function(t){function e(e){t.call(this,{handleEvent:a});var n=e||{};this.condition_=n.condition?n.condition:i.g,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.a);function a(t){var e=!1;if(t.type==r.a.KEYDOWN||t.type==r.a.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,s=n=="+".charCodeAt(0)?this.delta_:-this.delta_,a=i.getView();Object(o.f)(a,s,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}e.a=s},function(t,e,n){"use strict";var r=n(492),i=n(407),o=n(428),s=n(493),a=function(t){function e(e){var n=e||{},r=n;r.stopDown||(r.stopDown=i.a),t.call(this,r),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,a=n.clientY-r.clientY,u=Math.sqrt(i*i+a*a);void 0!==this.lastDistance_&&(e=this.lastDistance_/u),this.lastDistance_=u;var c=t.map,l=c.getView(),A=l.getResolution(),h=l.getMaxResolution(),p=l.getMinResolution(),f=A*e;f>h?(e=h/A,f=h):f<p&&(e=p/A,f=p),1!=e&&(this.lastScaleDelta_=e);var g=c.getViewport().getBoundingClientRect(),d=Object(s.a)(this.targetPointers);d[0]-=g.left,d[1]-=g.top,this.anchor_=c.getCoordinateFromPixel(d),c.render(),Object(o.g)(l,f,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(r.a.INTERACTING,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var i=this.lastScaleDelta_-1;Object(o.e)(e,n,this.anchor_,this.duration_,i)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(r.a.INTERACTING,1),!0}return!1},e}(s.b);e.a=a},function(t,e,n){"use strict";var r=n(492),i=n(429),o=n(460),s=n(391),a=n(559),u=n(428),c=n(385),l="trackpad",A="wheel",h=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:i.b,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(r.a.INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==s.a.WHEEL&&e!==s.a.MOUSEWHEEL)return!0;t.preventDefault();var n,i=t.map,u=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==s.a.WHEEL?(n=u.deltaY,a.c&&u.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=a.b),u.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==s.a.MOUSEWHEEL&&(n=-u.wheelDeltaY,a.e&&(n/=3)),0===n)return!1;var c=Date.now();if(void 0===this.startTime_&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?l:A),this.mode_===l){var h=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):h.setHint(r.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var p=h.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),f=h.getMinResolution(),g=h.getMaxResolution(),d=0;if(p<f?(p=Math.max(p,f/this.trackpadZoomBuffer_),d=1):p>g&&(p=Math.min(p,g*this.trackpadZoomBuffer_),d=-1),this.lastAnchor_){var y=h.calculateCenterZoom(p,this.lastAnchor_);h.setCenter(h.constrainCenter(y))}return h.setResolution(p),0===d&&this.constrainResolution_&&h.animate({resolution:h.constrainResolution(p,n>0?-1:1),easing:o.b,anchor:this.lastAnchor_,duration:this.duration_}),d>0?h.animate({resolution:f,easing:o.b,anchor:this.lastAnchor_,duration:500}):d<0&&h.animate({resolution:g,easing:o.b,anchor:this.lastAnchor_,duration:500}),this.startTime_=c,!1}this.delta_+=n;var v=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),v),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=Object(c.a)(this.delta_,-1,1);Object(u.f)(e,-n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(u.a);e.a=h},function(t,e,n){"use strict";var r=n(460),i=n(429),o=n(381),s=function(t){function e(e){var n=e||{},r=n.condition?n.condition:i.f;t.call(this,{condition:r,className:n.className||"ol-dragzoom",onBoxEnd:a}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n(971).a);function a(){var t=this.getMap(),e=t.getView(),n=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var s=e.calculateExtent(n),a=Object(o.j)([t.getPixelFromCoordinate(Object(o.p)(i)),t.getPixelFromCoordinate(Object(o.v)(i))]),u=e.getResolutionForExtent(a,n);Object(o.A)(s,1/u),i=s}var c=e.constrainResolution(e.getResolutionForExtent(i,n)),l=Object(o.q)(i);l=e.constrainCenter(l),e.animate({resolution:c,center:l,duration:this.duration_,easing:r.b})}e.a=s},function(t,e,n){"use strict";var r=n(438),i=n(429),o=n(407),s=n(493),a=n(972),u="boxstart",c="boxdrag",l="boxend",A=function(t){function e(e,n,r){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.a),h=function(t){function e(e){t.call(this);var n=e||{};this.box_=new a.a(n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:o.c,this.startPixel_=null,this.condition_=n.condition?n.condition:i.b,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Object(i.d)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new A(c,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Object(i.d)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new A(l,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Object(i.d)(t)&&(!(!Object(i.c)(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new A(u,t.coordinate,t)),!0))},e}(s.b);e.a=h},function(t,e,n){"use strict";var r=n(648),i=n(494),o=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new i.a([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(r.a);e.a=o},function(t,e,n){"use strict";var r=n(381),i=n(430),o=n(393),s=n(418),a=n(567),u=n(461),c=n(419),l=n(439),A=n(462),h=function(t){function e(e,n){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.b)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return Object(a.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(A.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,i.a.XY)},e.prototype.getType=function(){return o.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.a);e.a=h},function(t,e,n){"use strict";e.a=function(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}},function(t,e,n){"use strict";var r=n(407),i=n(976),o=n(410),s=n(427),a=n(404),u=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:r.c,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(s.b)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(s.b)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Object(a.e)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==r.c&&this.listenerKeys.push(Object(a.a)(t,i.a.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"===typeof t?document.getElementById(t):t},e}(o.a);e.a=u},function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,n){"use strict";var r=n(382),i=n(570),o=n(554),s=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return o.a.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(a(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(a(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(r.b)()},e.prototype.readFeaturesFromObject=function(t,e){return Object(r.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(a(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(r.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(a(t))},e.prototype.readProjectionFromObject=function(t){return Object(r.b)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(r.b)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(r.b)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(r.b)()},e}(i.a);function a(t){if("string"===typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}e.a=s},function(t,e,n){"use strict";var r=n(404),i=n(391),o=n(381),s=n(665),a=n(393),u=n(384),c=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(r.c)(this.geometries_[t],i.a.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(r.a)(this.geometries_[t],i.a.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<Object(o.b)(this.getExtent(),t,e))return r;for(var i=this.geometries_,s=0,a=i.length;s<a;++s)r=i[s].closestPointXY(t,e,n,r);return r},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)if(n[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Object(o.h)(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)Object(o.m)(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return l(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(u.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n))return this.simplifiedGeometryCache[n];for(var r=[],i=this.geometries_,o=!1,s=0,a=i.length;s<a;++s){var c=i[s],l=c.getSimplifiedGeometry(t);r.push(l),l!==c&&(o=!0)}if(o){var A=new e(null);return A.setGeometriesArray(r),this.simplifiedGeometryCache[n]=A,A}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return a.a.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var r=n;r||(r=Object(o.q)(this.getExtent()));for(var i=this.geometries_,s=0,a=i.length;s<a;++s)i[s].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(l(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(s.a);function l(t){for(var e=[],n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}e.a=c},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=t[e],o=t[e+1],s=0,a=e+r;a<n;a+=r){var u=t[a],c=t[a+1];s+=Math.sqrt((u-i)*(u-i)+(c-o)*(c-o)),i=u,o=c}return s}e.a=r},function(t,e,n){"use strict";var r=n(657),i=n(407),o=n(672),s=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:256,this.maxSize_=void 0!==e.maxSize?e.maxSize:void 0!==r.a?r.a:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new o.a(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new o.a(this.currentHitSize_,this.space_)]};s.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var n=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,n)},s.prototype.getInfo_=function(t,e){for(var n=0,r=t.length;n<r;++n){var i=t[n].get(e);if(i)return i}return null},s.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},s.prototype.add=function(t,e,n,r,o,s){if(e+this.space_>this.maxSize_||n+this.space_>this.maxSize_)return null;var a=this.add_(!1,t,e,n,r,s);if(!a)return null;var u=void 0!==o?o:i.c,c=this.add_(!0,t,e,n,u,s);return this.mergeInfos_(a,c)},s.prototype.add_=function(t,e,n,r,i,s){var a,u,c,l,A=t?this.hitAtlases_:this.atlases_;for(c=0,l=A.length;c<l;++c){if(u=(a=A[c]).add(e,n,r,i,s))return u;if(!u&&c===l-1){var h=void 0;t?(h=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=h):(h=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=h),a=new o.a(h,this.space_),A.push(a),++l}}return null}},function(t,e,n){"use strict";var r=n(563),i=n(982),o=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new r.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:i.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};o.prototype.clone=function(){return new o({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},o.prototype.getOverflow=function(){return this.overflow_},o.prototype.getFont=function(){return this.font_},o.prototype.getMaxAngle=function(){return this.maxAngle_},o.prototype.getPlacement=function(){return this.placement_},o.prototype.getOffsetX=function(){return this.offsetX_},o.prototype.getOffsetY=function(){return this.offsetY_},o.prototype.getFill=function(){return this.fill_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getStroke=function(){return this.stroke_},o.prototype.getText=function(){return this.text_},o.prototype.getTextAlign=function(){return this.textAlign_},o.prototype.getTextBaseline=function(){return this.textBaseline_},o.prototype.getBackgroundFill=function(){return this.backgroundFill_},o.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},o.prototype.getPadding=function(){return this.padding_},o.prototype.setOverflow=function(t){this.overflow_=t},o.prototype.setFont=function(t){this.font_=t},o.prototype.setMaxAngle=function(t){this.maxAngle_=t},o.prototype.setOffsetX=function(t){this.offsetX_=t},o.prototype.setOffsetY=function(t){this.offsetY_=t},o.prototype.setPlacement=function(t){this.placement_=t},o.prototype.setFill=function(t){this.fill_=t},o.prototype.setRotation=function(t){this.rotation_=t},o.prototype.setScale=function(t){this.scale_=t},o.prototype.setStroke=function(t){this.stroke_=t},o.prototype.setText=function(t){this.text_=t},o.prototype.setTextAlign=function(t){this.textAlign_=t},o.prototype.setTextBaseline=function(t){this.textBaseline_=t},o.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},o.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},o.prototype.setPadding=function(t){this.padding_=t},e.a=o},function(t,e,n){"use strict";e.a={POINT:"point",LINE:"line"}},function(t,e,n){"use strict";var r=n(498),i={"gl-draw-polygon-fill-inactive":new r.e({fill:new r.b({color:"rgba(59,178,208,0.01)"}),stroke:new r.d({color:"rgba(59,178,208,1)",width:2,lineJoin:"round",lineCap:"round"})}),"gl-draw-polygon-fill-active":new r.e({fill:new r.b({color:"rgba(251,176,59,0.01)"}),stroke:new r.d({color:"rgba(210,12,12,1)",width:1,lineDash:[[2]],lineJoin:"round",lineCap:"round"})}),"gl-draw-polygon-midpoint":new r.e({image:new r.a({radius:3,fill:new r.b({color:"rgba(251,176,59,1)"})})}),"gl-draw-polygon-stroke-inactive":new r.e({stroke:new r.d({color:"rgba(59,178,208,1)",width:1,lineJoin:"round",lineCap:"round"})}),"gl-draw-polygon-stroke-active":new r.e({stroke:new r.d({color:"rgba(210,12,12,1)",width:1,lineDash:[[2]],lineJoin:"round",lineCap:"round"})}),"gl-draw-line-inactive":new r.e({stroke:new r.d({color:"rgba(59,178,208,1)",width:1,lineJoin:"round",lineCap:"round"})}),"gl-draw-line-active":new r.e({stroke:new r.d({color:"rgba(210,12,12,1)",width:1,lineDash:[[2]],lineJoin:"round",lineCap:"round"})}),"gl-draw-polygon-and-line-vertex-stroke-inactive":new r.e({image:new r.a({radius:5,fill:new r.b({color:"rgba(255,255,255,1)"})})}),"gl-draw-polygon-and-line-vertex-inactive":new r.e({image:new r.a({radius:3,fill:new r.b({color:"rgba(210,12,12,1)"})})}),"gl-draw-point-point-stroke-inactive":new r.e({image:new r.a({radius:5,fill:new r.b({color:"rgba(255,255,255,1)"})})}),"gl-draw-point-inactive":new r.e({image:new r.a({radius:3,fill:new r.b({color:"rgba(59,178,208,1)"})})}),"gl-draw-point-stroke-active":new r.e({image:new r.a({radius:10,fill:new r.b({color:"rgba(255,255,255,1)"})})}),"gl-draw-point-active":new r.e({image:new r.a({radius:7,fill:new r.b({color:"rgba(210,12,12,1)"})})}),"gl-draw-polygon-fill-static":new r.e({fill:new r.b({color:"rgba(59,178,208,0.1)"}),stroke:new r.d({color:"rgba(59,178,208,1)",width:1,lineJoin:"round",lineCap:"round"})}),"gl-draw-polygon-stroke-static":new r.e({stroke:new r.d({color:"rgba(59,178,208,1)",width:2,lineJoin:"round",lineCap:"round"})}),"gl-draw-line-static":new r.e({stroke:new r.d({color:"rgba(59,178,208,1)",width:2,lineJoin:"round",lineCap:"round"})}),"gl-draw-point-static":new r.e({image:new r.a({radius:5,fill:new r.b({color:"rgba(59,178,208,1)"})})})};e.a={generateStyle:function(t){var e=t.getProperties();return"Polygon"===e["meta:type"]&&"false"===e.active?new r.e({fill:new r.b({color:e.inactiveColor}),stroke:new r.d({color:e.inactiveLineColor,width:e.inactiveLineWidth,lineJoin:"round",lineCap:"round"})}):"Polygon"===e["meta:type"]&&"true"===e.active?new r.e({fill:new r.b({color:e.activeColor}),stroke:new r.d({color:e.activeLineColor,width:e.activeLineWidth,lineDash:[[2]],lineJoin:"round",lineCap:"round"})}):"LineString"===e["meta:type"]&&"false"===e.active?new r.e({stroke:new r.d({color:e.inactiveColor,width:e.inactiveWidth,lineJoin:"round",lineCap:"round"})}):"LineString"===e["meta:type"]&&"true"===e.active?new r.e({stroke:new r.d({color:e.activeColor,width:e.activeWidth,lineDash:[[2]],lineJoin:"round",lineCap:"round"})}):"midpoint"===e.meta&&"Point"===e["meta:type"]?i["gl-draw-polygon-midpoint"]:"static"!==e.mode&&"vertex"===e.meta&&"false"===e.active?new r.e({image:new r.a({radius:e.inactiveRadius,fill:new r.b({color:e.inactiveColor})})}):"static"!==e.mode&&"vertex"===e.meta&&"true"===e.active?new r.e({image:new r.a({radius:e.activeRadius,fill:new r.b({color:e.activeColor})})}):"static"!==e.mode&&"Point"===e["meta:type"]&&"true"===e.active?new r.e({image:new r.a({radius:e.activeRadius,fill:new r.b({color:e.activeColor})})}):"static"!==e.mode&&"Point"===e["meta:type"]&&"false"===e.active?new r.e({image:new r.a({radius:e.inactiveRadius,fill:new r.b({color:e.inactiveColor})})}):"static"===e.mode&&"Point"===e["meta:type"]&&"false"===e.active?new r.e({image:new r.a({radius:e.inactiveRadius,fill:new r.b({color:e.inactiveColor})})}):void 0}}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(985),u=function(){function t(e){var n=this;i()(this,t),this.ctx=e,this.textId,this.marker=new a.a(e.map.type,e),this.handler=function(t){n.textId&&n.marker.removeMarker(n.textId),n.textId=n.marker.addMarker(t)}}return s()(t,[{key:"addTooltip",value:function(t,e){t?this.textId=this.marker.addMarker({lngLat:{lng:t[0],lat:t[1]}},e):this.ctx.map.on("mousemove",this.handler)}},{key:"updateTooltip",value:function(t){this.marker.tooltipText=t}},{key:"removeTooltip",value:function(){this.ctx.map&&this.ctx.map.off("mousemove",this.handler),this.marker.removeMarker(this.textId)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(102),u=function(){function t(e,n){i()(this,t),this.type=e,this.ctx=n,this.tooltipText="单击开始进行绘制"}return s()(t,[{key:"addMarker",value:function(t,e){switch(this.type){case"mapbox":case"ol":return a.a.modules.text().addText({point:[t.lngLat.lng,t.lngLat.lat],htmlText:this.tooltipText,style:"background-color: #808080; color: white; padding: 3px 7px; opacity: 0.8; border-radius: 7px;",anchor:e||"left",offset:[20,-5]});case"dom":break;default:return}}},{key:"removeMarker",value:function(t){switch(this.type){case"mapbox":case"ol":a.a.modules.text().removeTextById({id:t});break;case"dom":break;default:return}}}]),t}()},function(t,e,n){"use strict";var r=n(373),i=n(987),o=n(499),s={defaultMode:r.g.modes.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:i.a,modes:o.default,controls:{},userProperties:!1},a={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0,circle:!0,triangle:!0,rectangle:!0,sector:!0,arrow:!0,bezier_arrow:!0},u={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1,circle:!1,triangle:!1,rectangle:!1,sector:!1,arrow:!1,bezier_arrow:!1};function c(t,e){return t.map(function(t){return t.source?t:l(t,{id:"".concat(t.id,".").concat(e),source:"hot"===e?r.g.sources.HOT:r.g.sources.COLD})})}function l(){for(var t=arguments,e={},n=function(n){var r=t[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&("styles"==i&&e.styles?e.styles.forEach(function(t,n){r.styles.forEach(function(r){t.id==r.id&&(e.styles[n]=r)})}):e[i]=r[i])},r=0;r<arguments.length;r++)n(r);return e}e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l(t);return t.controls||(e.controls={}),!1===t.displayControlsDefault?e.controls=l(u,t.controls):e.controls=l(a,t.controls),(e=l(s,e)).styles=c(e.styles,"cold").concat(c(e.styles,"hot")),e}},function(t,e,n){"use strict";e.a=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#D20C0C","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#D20C0C","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#D20C0C"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":10,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":7,"circle-color":"#D20C0C"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}]},function(t,e,n){var r={"./":499,"./btn_ctrl":544,"./btn_ctrl.js":544,"./direct_select":673,"./direct_select.js":673,"./direct_select_draw_cicle":677,"./direct_select_draw_cicle.js":677,"./direct_select_draw_circle":678,"./direct_select_draw_circle.js":678,"./draw_arrow":679,"./draw_arrow.js":679,"./draw_bezier_arrow":680,"./draw_bezier_arrow.js":680,"./draw_circle":681,"./draw_circle.js":681,"./draw_line_string":682,"./draw_line_string.js":682,"./draw_point":683,"./draw_point.js":683,"./draw_polygon":684,"./draw_polygon.js":684,"./draw_rectangle":685,"./draw_rectangle.js":685,"./draw_ring":686,"./draw_ring.js":686,"./draw_sector":687,"./draw_sector.js":687,"./draw_triangle":688,"./draw_triangle.js":688,"./index":499,"./index.js":499,"./mode_interface":546,"./mode_interface.js":546,"./mode_interface_accessors":547,"./mode_interface_accessors.js":547,"./object_to_mode":545,"./object_to_mode.js":545,"./simple_select":689,"./simple_select.js":689};function i(t){return n(o(t))}function o(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=988},function(t,e,n){"use strict";var r=n(373);e.a=function(t,e,n,i){var o=e.geometry.coordinates,s=n.geometry.coordinates;if(o[1]>r.g.LAT_RENDERED_MAX||o[1]<r.g.LAT_RENDERED_MIN||s[1]>r.g.LAT_RENDERED_MAX||s[1]<r.g.LAT_RENDERED_MIN)return null;var a=i.project([o[0],o[1]]),u=i.project([s[0],s[1]]),c=i.unproject([(a.x+u.x)/2,(a.y+u.y)/2]);return{type:r.g.geojsonTypes.FEATURE,properties:{meta:r.g.meta.MIDPOINT,parent:t,lng:c.lng,lat:c.lat,coord_path:n.properties.coord_path},geometry:{type:r.g.geojsonTypes.POINT,coordinates:[c.lng,c.lat]}}}},function(t,e,n){var r=n(991),i=n(994),o=n(995),s={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},a=Object.keys(s);function u(t){for(var e=o(),n=r(t),i=0;i<n.length;i++)e.include(n[i]);return e}t.exports=function(t){return u(t).bbox()},t.exports.polygon=function(t){return u(t).polygon()},t.exports.bboxify=function(t){return i(t).map(function(t){t&&(a.some(function(e){return!!t[e]&&-1!==s[e].indexOf(t.type)})&&(t.bbox=u(t).bbox(),this.update(t)))})}},function(t,e,n){var r=n(674),i=n(992),o=n(993);t.exports=function(t){if(!t)return[];var e=[];return i(r(t)).features.forEach(function(t){t.geometry&&(e=e.concat(o(t.geometry.coordinates)))}),e}},function(t,e){t.exports=function t(e){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.reduce(function(e,n){return e.concat(t(n))},[]),e;case"Feature":return e.geometry?t(e.geometry).map(function(t){var n={type:"Feature",properties:JSON.parse(JSON.stringify(e.properties)),geometry:t};return void 0!==e.id&&(n.id=e.id),n}):e;case"MultiPoint":return e.coordinates.map(function(t){return{type:"Point",coordinates:t}});case"MultiPolygon":return e.coordinates.map(function(t){return{type:"Polygon",coordinates:t}});case"MultiLineString":return e.coordinates.map(function(t){return{type:"LineString",coordinates:t}});case"GeometryCollection":return e.geometries.map(t).reduce(function(t,e){return t.concat(e)},[]);case"Point":case"Polygon":case"LineString":return[e]}}},function(t,e){t.exports=function(t){return function t(e){if(Array.isArray(e)&&e.length&&"number"===typeof e[0])return[e];return e.reduce(function(e,n){return Array.isArray(n)&&Array.isArray(n[0])?e.concat(t(n)):(e.push(n),e)},[])}(t)}},function(t,e){var n=t.exports=function(t){return new r(t)};function r(t){this.value=t}function i(t,e,n){var r=[],i=[],a=!0;return function t(A){var h={},p=!0,f={node:n?o(A):A,node_:A,path:[].concat(r),parent:i[i.length-1],parents:i,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(t,e){f.isRoot||(f.parent.node[f.key]=t),f.node=t,e&&(p=!1)},delete:function(t){delete f.parent.node[f.key],t&&(p=!1)},remove:function(t){u(f.parent.node)?f.parent.node.splice(f.key,1):delete f.parent.node[f.key],t&&(p=!1)},keys:null,before:function(t){h.before=t},after:function(t){h.after=t},pre:function(t){h.pre=t},post:function(t){h.post=t},stop:function(){a=!1},block:function(){p=!1}};if(!a)return f;function g(){if("object"===typeof f.node&&null!==f.node){f.keys&&f.node_===f.node||(f.keys=s(f.node)),f.isLeaf=0==f.keys.length;for(var t=0;t<i.length;t++)if(i[t].node_===A){f.circular=i[t];break}}else f.isLeaf=!0,f.keys=null;f.notLeaf=!f.isLeaf,f.notRoot=!f.isRoot}g();var d=e.call(f,f.node);return void 0!==d&&f.update&&f.update(d),h.before&&h.before.call(f,f.node),p?("object"!=typeof f.node||null===f.node||f.circular||(i.push(f),g(),c(f.keys,function(e,i){r.push(e),h.pre&&h.pre.call(f,f.node[e],e);var o=t(f.node[e]);n&&l.call(f.node,e)&&(f.node[e]=o.node),o.isLast=i==f.keys.length-1,o.isFirst=0==i,h.post&&h.post.call(f,o),r.pop()}),i.pop()),h.after&&h.after.call(f,f.node),f):f}(t).node}function o(t){if("object"===typeof t&&null!==t){var e;if(u(t))e=[];else if("[object Date]"===a(t))e=new Date(t.getTime?t.getTime():t);else if(function(t){return"[object RegExp]"===a(t)}(t))e=new RegExp(t);else if(function(t){return"[object Error]"===a(t)}(t))e={message:t.message};else if(function(t){return"[object Boolean]"===a(t)}(t))e=new Boolean(t);else if(function(t){return"[object Number]"===a(t)}(t))e=new Number(t);else if(function(t){return"[object String]"===a(t)}(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var n=t.constructor&&t.constructor.prototype||t.__proto__||{},r=function(){};r.prototype=n,e=new r}return c(s(t),function(n){e[n]=t[n]}),e}return t}r.prototype.get=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!l.call(e,r)){e=void 0;break}e=e[r]}return e},r.prototype.has=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!l.call(e,r))return!1;e=e[r]}return!0},r.prototype.set=function(t,e){for(var n=this.value,r=0;r<t.length-1;r++){var i=t[r];l.call(n,i)||(n[i]={}),n=n[i]}return n[t[r]]=e,e},r.prototype.map=function(t){return i(this.value,t,!0)},r.prototype.forEach=function(t){return this.value=i(this.value,t,!1),this.value},r.prototype.reduce=function(t,e){var n=1===arguments.length,r=n?this.value:e;return this.forEach(function(e){this.isRoot&&n||(r=t.call(this,r,e))}),r},r.prototype.paths=function(){var t=[];return this.forEach(function(e){t.push(this.path)}),t},r.prototype.nodes=function(){var t=[];return this.forEach(function(e){t.push(this.node)}),t},r.prototype.clone=function(){var t=[],e=[];return function n(r){for(var i=0;i<t.length;i++)if(t[i]===r)return e[i];if("object"===typeof r&&null!==r){var a=o(r);return t.push(r),e.push(a),c(s(r),function(t){a[t]=n(r[t])}),t.pop(),e.pop(),a}return r}(this.value)};var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function a(t){return Object.prototype.toString.call(t)}var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)};c(s(r.prototype),function(t){n[t]=function(e){var n=[].slice.call(arguments,1),i=new r(e);return i[t].apply(i,n)}});var l=Object.hasOwnProperty||function(t,e){return e in t}},function(t,e){function n(t){if(!(this instanceof n))return new n(t);this._bbox=t||[1/0,1/0,-1/0,-1/0],this._valid=!!t}t.exports=n,n.prototype.include=function(t){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[0]),this._bbox[3]=Math.max(this._bbox[3],t[1]),this},n.prototype.equals=function(t){var e;return e=t instanceof n?t.bbox():t,this._bbox[0]==e[0]&&this._bbox[1]==e[1]&&this._bbox[2]==e[2]&&this._bbox[3]==e[3]},n.prototype.center=function(t){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},n.prototype.union=function(t){var e;return this._valid=!0,e=t instanceof n?t.bbox():t,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[2]),this._bbox[3]=Math.max(this._bbox[3],e[3]),this},n.prototype.bbox=function(){return this._valid?this._bbox:null},n.prototype.contains=function(t){if(!t)return this._fastContains();if(!this._valid)return null;var e=t[0],n=t[1];return this._bbox[0]<=e&&this._bbox[1]<=n&&this._bbox[2]>=e&&this._bbox[3]>=n},n.prototype.intersect=function(t){return this._valid?(e=t instanceof n?t.bbox():t,!(this._bbox[0]>e[2]||this._bbox[2]<e[0]||this._bbox[3]<e[1]||this._bbox[1]>e[3])):null;var e},n.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var t="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",t)},n.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null}},function(t,e,n){"use strict";e.a=function(t,e,n){var s=[];s[0]=[e.x,e.y],s[3]=[n.x,n.y];var a=Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y));if(0===a)return;var u=-(n.x-e.x)/a,c=(n.y-e.y)/a,l=e.x+r,A=e.y+a-o,h=e.x+i,p=e.y+a-o,f=e.x-r,g=e.y+a-o,d=e.x-i,y=e.y+a-o;s[1]=[e.x+(l-e.x)*c-(A-e.y)*u,e.y+(l-e.x)*u+(A-e.y)*c],s[2]=[e.x+(h-e.x)*c-(p-e.y)*u,e.y+(h-e.x)*u+(p-e.y)*c],s[4]=[e.x+(d-e.x)*c-(y-e.y)*u,e.y+(d-e.x)*u+(y-e.y)*c],s[5]=[e.x+(f-e.x)*c-(g-e.y)*u,e.y+(f-e.x)*u+(g-e.y)*c],s[6]=s[0];for(var v=0;v<s.length;v++){var m=t.map.unproject(s[v]);s[v]=[m.lng,m.lat]}return s};var r=10,i=22,o=36},function(t,e,n){"use strict";e.a=function(t,e,n,i){var o=[],s=null;if(void 0===i){var u=t.map.unproject([e.x,e.y]);if(o[0]=[u.lng,u.lat],!(s=a(t,e,n)))return o;(o=o.concat(s)).push(o[0])}else{if(!(s=a(t,i,n)))return o;var c=t.map.project(s[0]),l=t.map.project(s[4]),A=[e.x,i.x,c.x],h=[e.y,i.y,c.y],p=[l.x,i.x,e.x],f=[l.y,i.y,e.y],g=Object(r.a)(t,A,h),d=Object(r.a)(t,p,f);o=o.concat(g).concat(s).concat(d)}return o};var r=n(998),i=10,o=22,s=36;function a(t,e,n){var r=new Array(5);r[2]=[n.x,n.y];var a=Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y));if(0!==a){var u=-(n.x-e.x)/a,c=(n.y-e.y)/a,l=e.x+i,A=e.y+a-s,h=e.x+o,p=e.y+a-s,f=e.x-i,g=e.y+a-s,d=e.x-o,y=e.y+a-s;r[0]=[e.x+(l-e.x)*c-(A-e.y)*u,e.y+(l-e.x)*u+(A-e.y)*c],r[1]=[e.x+(h-e.x)*c-(p-e.y)*u,e.y+(h-e.x)*u+(p-e.y)*c],r[3]=[e.x+(d-e.x)*c-(y-e.y)*u,e.y+(d-e.x)*u+(y-e.y)*c],r[4]=[e.x+(f-e.x)*c-(g-e.y)*u,e.y+(f-e.x)*u+(g-e.y)*c];for(var v=0;v<r.length;v++){var m=t.map.unproject(r[v]);r[v]=[m.lng,m.lat]}return r}}},function(t,e,n){"use strict";e.a=function(t,e,n){for(var r=[],o=0;o<1;o+=.01){var s=i()(e,o),a=i()(n,o),u=t.map.unproject([s,a]);r.push([u.lng,u.lat])}return r};var r=n(999),i=n.n(r)},function(t,e){var n={1:function(t){return t[0]},2:function(t,e){return t[0]+(t[1]-t[0])*e},3:function(t,e){var n=1-e;return(t[0]*n+t[1]*e)*n+(t[1]*n+t[2]*e)*e},4:function(t,e){var n=1-e,r=t[1]*n+t[2]*e;return((t[0]*n+t[1]*e)*n+r*e)*n+(r*n+(t[2]*n+t[3]*e)*e)*e}};function r(t){if(!(t=0|+t))throw new Error("Cannot create a interpolator with no elements");if(n[t])return n[t];for(var e=["var ut = 1 - t",""],r=t;r--;){for(var i=0;i<r;i+=1)r+1===t?e.push("var p"+i+" = arr["+i+"] * ut + arr["+(i+1)+"] * t"):r>1?e.push("p"+i+" = p"+i+" * ut + p"+(i+1)+" * t"):e.push("return p"+i+" * ut + p"+(i+1)+" * t");r>1&&e.push("")}return e=["return function bezier"+t+"(arr, t) {",e.map(function(t){return"  "+t}).join("\n"),"}"].join("\n"),Function(e)()}t.exports=function(t,e){return r(t.length)(t,e)},t.exports.prepare=r},function(t,e,n){"use strict";var r=n(400),i=n(543);e.a=function(t,e,n){n=n||e/2;for(var o=Math.floor(128),s=e/6250,a=n/6250,u=t[1]*Math.PI/180,c=t[0]*Math.PI/180,l=[],A=[],h=0;h<o;h++){var p=2.8125*h*Math.PI/180,f=Math.asin(Math.sin(u)*Math.cos(s)+Math.cos(u)*Math.sin(s)*Math.cos(p)),g=c+Math.atan2(Math.sin(p)*Math.sin(s)*Math.cos(u),Math.cos(s)-Math.sin(u)*Math.sin(f)),d=180*f/Math.PI,y=[180*g/Math.PI,d];l.push(y)}l.push(l[0]);for(var v=0;v<o;v++){var m=2.8125*v*Math.PI/180,C=Math.asin(Math.sin(u)*Math.cos(a)+Math.cos(u)*Math.sin(a)*Math.cos(m)),I=c+Math.atan2(Math.sin(m)*Math.sin(a)*Math.cos(u),Math.cos(a)-Math.sin(u)*Math.sin(C)),_=180*C/Math.PI,b=[180*I/Math.PI,_];A.push(b)}A.push(A[0]);var w=r.a.polygon([l]),E=r.a.polygon([A]);return Object(i.a)(E,w).geometry.coordinates}},function(t,e,n){var r=n(186),i=n(35);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(3)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){"use strict";e.a=function(t,e){var n=e.getBoundingClientRect();return new i.a(t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0))};var r=n(529),i=n.n(r)},function(t,e,n){"use strict";var r=n(1005),i=n.n(r),o=n(674),s=n.n(o),a=n(549),u=n.n(a),c=n(484),l=n(1006),A=n.n(l),h=n(373),p=n(485),f=n(551),g=n(550),d=n(548),y=n(486),v={Polygon:f.a,LineString:g.a,Point:d.a,MultiPolygon:y.a,MultiLineString:y.a,MultiPoint:y.a};e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.modes=h.g.modes,e.getFeatureIdsAt=function(e){return c.a.click({point:e},null,t).map(function(t){return t.properties.id})},e.getSelectedIds=function(){return t.store.getSelectedIds()},e.getSelected=function(){return{type:h.g.geojsonTypes.FEATURE_COLLECTION,features:t.store.getSelectedIds().map(function(e){return t.store.get(e)}).map(function(t){return t.toGeoJSON()})}},e.getSelectedPoints=function(){return{type:h.g.geojsonTypes.FEATURE_COLLECTION,features:t.store.getSelectedCoordinates().map(function(t){return{type:h.g.geojsonTypes.FEATURE,properties:{},geometry:{type:h.g.geojsonTypes.POINT,coordinates:t.coordinates}}})}},e.set=function(n){if(void 0===n.type||n.type!==h.g.geojsonTypes.FEATURE_COLLECTION||!Array.isArray(n.features))throw new Error("Invalid FeatureCollection");var r=t.store.createRenderBatch(),i=t.store.getAllIds().slice(),o=e.add(n),s=new p.a(o);return(i=i.filter(function(t){return!s.has(t)})).length&&e.delete(i),r(),o},e.add=function(e){var n=A.a.hint(e,{precisionWarning:!1}).filter(function(t){return"message"!==t.level});if(n.length)throw new Error(n[0].message);var r=JSON.parse(JSON.stringify(s()(e))).features.map(function(e){if(e.id=e.id||u()(),null===e.geometry)throw new Error("Invalid geometry: null");if(void 0===t.store.get(e.id)||t.store.get(e.id).type!==e.geometry.type){var n=v[e.geometry.type];if(void 0===n)throw new Error("Invalid geometry type: ".concat(e.geometry.type,"."));var r=new n(t,e);t.store.add(r)}else{var o=t.store.get(e.id);o.properties=e.properties,i()(o.getCoordinates(),e.geometry.coordinates)||o.incomingCoords(e.geometry.coordinates)}return e.id});return t.store.render(),r},e.get=function(e){var n=t.store.get(e);if(n)return n.toGeoJSON()},e.getAll=function(){return{type:h.g.geojsonTypes.FEATURE_COLLECTION,features:t.store.getAll().map(function(t){return t.toGeoJSON()})}},e.delete=function(n){return t.store.delete(n,{silent:!0}),e.getMode()!==h.g.modes.DIRECT_SELECT||t.store.getSelectedIds().length?t.store.render():t.events.changeMode(h.g.modes.SIMPLE_SELECT,void 0,{silent:!0}),e},e.deleteAll=function(){return t.store.delete(t.store.getAllIds(),{silent:!0}),e.getMode()===h.g.modes.DIRECT_SELECT?t.events.changeMode(h.g.modes.SIMPLE_SELECT,void 0,{silent:!0}):(t.store.render(),t.events.changeMode(h.g.modes.SIMPLE_SELECT,void 0,{silent:!0})),e},e.changeMode=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n===h.g.modes.DIRECT_SELECT&&e.getMode()===h.g.modes.DIRECT_SELECT&&r.featureId===t.store.getSelectedIds()[0]?e:(t.events.changeMode(n,r,{silent:!0}),e)},e.cancelDraw=function(){t.events.cancelDraw()},e.getMode=function(){return t.events.getMode()},e.trash=function(){return t.events.trash({silent:!0}),e},e.combineFeatures=function(){return t.events.combineFeatures({silent:!0}),e},e.uncombineFeatures=function(){return t.events.uncombineFeatures({silent:!0}),e},e.setFeatureProperty=function(n,r,i){return t.store.setFeatureProperty(n,r,i),e},e.setEditableInit=function(e,n){t.events.setEditableInit(e,n)},e}},function(t,e,n){(function(t,n){var r=200,i="__lodash_hash_undefined__",o=1,s=2,a=9007199254740991,u="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",A="[object Boolean]",h="[object Date]",p="[object Error]",f="[object Function]",g="[object GeneratorFunction]",d="[object Map]",y="[object Number]",v="[object Null]",m="[object Object]",C="[object Proxy]",I="[object RegExp]",_="[object Set]",b="[object String]",w="[object Symbol]",E="[object Undefined]",B="[object ArrayBuffer]",x="[object DataView]",O=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[u]=N[c]=N[B]=N[A]=N[x]=N[h]=N[p]=N[f]=N[d]=N[y]=N[m]=N[I]=N[_]=N[b]=N["[object WeakMap]"]=!1;var S="object"==typeof t&&t&&t.Object===Object&&t,M="object"==typeof self&&self&&self.Object===Object&&self,L=S||M||Function("return this")(),k="object"==typeof e&&e&&!e.nodeType&&e,F=k&&"object"==typeof n&&n&&!n.nodeType&&n,P=F&&F.exports===k,U=P&&S.process,D=function(){try{return U&&U.binding&&U.binding("util")}catch(t){}}(),R=D&&D.isTypedArray;function Q(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function j(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var G,z,V,K=Array.prototype,Y=Function.prototype,X=Object.prototype,W=L["__core-js_shared__"],Z=Y.toString,J=X.hasOwnProperty,q=(G=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",$=X.toString,tt=RegExp("^"+Z.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=P?L.Buffer:void 0,nt=L.Symbol,rt=L.Uint8Array,it=X.propertyIsEnumerable,ot=K.splice,st=nt?nt.toStringTag:void 0,at=Object.getOwnPropertySymbols,ut=et?et.isBuffer:void 0,ct=(z=Object.keys,V=Object,function(t){return z(V(t))}),lt=Dt(L,"DataView"),At=Dt(L,"Map"),ht=Dt(L,"Promise"),pt=Dt(L,"Set"),ft=Dt(L,"WeakMap"),gt=Dt(Object,"create"),dt=Ht(lt),yt=Ht(At),vt=Ht(ht),mt=Ht(pt),Ct=Ht(ft),It=nt?nt.prototype:void 0,_t=It?It.valueOf:void 0;function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Bt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Et;++e<n;)this.add(t[e])}function xt(t){var e=this.__data__=new wt(t);this.size=e.size}function Ot(t,e){var n=Vt(t),r=!n&&zt(t),i=!n&&!r&&Kt(t),o=!n&&!r&&!i&&Jt(t),s=n||r||i||o,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=a.length;for(var c in t)!e&&!J.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||jt(c,u))||a.push(c);return a}function Tt(t,e){for(var n=t.length;n--;)if(Gt(t[n][0],e))return n;return-1}function Nt(t){return null==t?void 0===t?E:v:st&&st in Object(t)?function(t){var e=J.call(t,st),n=t[st];try{t[st]=void 0;var r=!0}catch(t){}var i=$.call(t);r&&(e?t[st]=n:delete t[st]);return i}(t):function(t){return $.call(t)}(t)}function St(t){return Zt(t)&&Nt(t)==u}function Mt(t,e,n,r,i){return t===e||(null==t||null==e||!Zt(t)&&!Zt(e)?t!==t&&e!==e:function(t,e,n,r,i,a){var l=Vt(t),f=Vt(e),g=l?c:Qt(t),v=f?c:Qt(e),C=(g=g==u?m:g)==m,E=(v=v==u?m:v)==m,O=g==v;if(O&&Kt(t)){if(!Kt(e))return!1;l=!0,C=!1}if(O&&!C)return a||(a=new xt),l||Jt(t)?Ft(t,e,n,r,i,a):function(t,e,n,r,i,a,u){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case B:return!(t.byteLength!=e.byteLength||!a(new rt(t),new rt(e)));case A:case h:case y:return Gt(+t,+e);case p:return t.name==e.name&&t.message==e.message;case I:case b:return t==e+"";case d:var c=j;case _:var l=r&o;if(c||(c=H),t.size!=e.size&&!l)return!1;var f=u.get(t);if(f)return f==e;r|=s,u.set(t,e);var g=Ft(c(t),c(e),r,i,a,u);return u.delete(t),g;case w:if(_t)return _t.call(t)==_t.call(e)}return!1}(t,e,g,n,r,i,a);if(!(n&o)){var T=C&&J.call(t,"__wrapped__"),N=E&&J.call(e,"__wrapped__");if(T||N){var S=T?t.value():t,M=N?e.value():e;return a||(a=new xt),i(S,M,n,r,a)}}if(!O)return!1;return a||(a=new xt),function(t,e,n,r,i,s){var a=n&o,u=Pt(t),c=u.length,l=Pt(e).length;if(c!=l&&!a)return!1;for(var A=c;A--;){var h=u[A];if(!(a?h in e:J.call(e,h)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var f=!0;s.set(t,e),s.set(e,t);for(var g=a;++A<c;){h=u[A];var d=t[h],y=e[h];if(r)var v=a?r(y,d,h,e,t,s):r(d,y,h,t,e,s);if(!(void 0===v?d===y||i(d,y,n,r,s):v)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var m=t.constructor,C=e.constructor;m!=C&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof C&&C instanceof C)&&(f=!1)}return s.delete(t),s.delete(e),f}(t,e,n,r,i,a)}(t,e,n,r,Mt,i))}function Lt(t){return!(!Wt(t)||q&&q in t)&&(Yt(t)?tt:O).test(Ht(t))}function kt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||X,e!==r)return ct(t);var e,n,r,i=[];for(var o in Object(t))J.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Ft(t,e,n,r,i,a){var u=n&o,c=t.length,l=e.length;if(c!=l&&!(u&&l>c))return!1;var A=a.get(t);if(A&&a.get(e))return A==e;var h=-1,p=!0,f=n&s?new Bt:void 0;for(a.set(t,e),a.set(e,t);++h<c;){var g=t[h],d=e[h];if(r)var y=u?r(d,g,h,e,t,a):r(g,d,h,t,e,a);if(void 0!==y){if(y)continue;p=!1;break}if(f){if(!Q(e,function(t,e){if(o=e,!f.has(o)&&(g===t||i(g,t,n,r,a)))return f.push(e);var o})){p=!1;break}}else if(g!==d&&!i(g,d,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function Pt(t){return function(t,e,n){var r=e(t);return Vt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,qt,Rt)}function Ut(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Dt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Lt(n)?n:void 0}bt.prototype.clear=function(){this.__data__=gt?gt(null):{},this.size=0},bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bt.prototype.get=function(t){var e=this.__data__;if(gt){var n=e[t];return n===i?void 0:n}return J.call(e,t)?e[t]:void 0},bt.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:J.call(e,t)},bt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gt&&void 0===e?i:e,this},wt.prototype.clear=function(){this.__data__=[],this.size=0},wt.prototype.delete=function(t){var e=this.__data__,n=Tt(e,t);return!(n<0)&&(n==e.length-1?e.pop():ot.call(e,n,1),--this.size,!0)},wt.prototype.get=function(t){var e=this.__data__,n=Tt(e,t);return n<0?void 0:e[n][1]},wt.prototype.has=function(t){return Tt(this.__data__,t)>-1},wt.prototype.set=function(t,e){var n=this.__data__,r=Tt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Et.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(At||wt),string:new bt}},Et.prototype.delete=function(t){var e=Ut(this,t).delete(t);return this.size-=e?1:0,e},Et.prototype.get=function(t){return Ut(this,t).get(t)},Et.prototype.has=function(t){return Ut(this,t).has(t)},Et.prototype.set=function(t,e){var n=Ut(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Bt.prototype.add=Bt.prototype.push=function(t){return this.__data__.set(t,i),this},Bt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.clear=function(){this.__data__=new wt,this.size=0},xt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},xt.prototype.get=function(t){return this.__data__.get(t)},xt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wt){var i=n.__data__;if(!At||i.length<r-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Et(i)}return n.set(t,e),this.size=n.size,this};var Rt=at?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}(at(t),function(e){return it.call(t,e)}))}:function(){return[]},Qt=Nt;function jt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||T.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gt(t,e){return t===e||t!==t&&e!==e}(lt&&Qt(new lt(new ArrayBuffer(1)))!=x||At&&Qt(new At)!=d||ht&&"[object Promise]"!=Qt(ht.resolve())||pt&&Qt(new pt)!=_||ft&&"[object WeakMap]"!=Qt(new ft))&&(Qt=function(t){var e=Nt(t),n=e==m?t.constructor:void 0,r=n?Ht(n):"";if(r)switch(r){case dt:return x;case yt:return d;case vt:return"[object Promise]";case mt:return _;case Ct:return"[object WeakMap]"}return e});var zt=St(function(){return arguments}())?St:function(t){return Zt(t)&&J.call(t,"callee")&&!it.call(t,"callee")},Vt=Array.isArray;var Kt=ut||function(){return!1};function Yt(t){if(!Wt(t))return!1;var e=Nt(t);return e==f||e==g||e==l||e==C}function Xt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function Wt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Zt(t){return null!=t&&"object"==typeof t}var Jt=R?function(t){return function(e){return t(e)}}(R):function(t){return Zt(t)&&Xt(t.length)&&!!N[Nt(t)]};function qt(t){return null!=(e=t)&&Xt(e.length)&&!Yt(e)?Ot(t):kt(t);var e}n.exports=function(t,e){return Mt(t,e)}}).call(e,n(192),n(78)(t))},function(t,e,n){var r=n(1007),i=n(1009);t.exports.hint=function(t,e){var n,o=[];if("object"===typeof t)n=t;else{if("string"!==typeof t)return[{message:"Expected string or object as input",line:0}];try{n=r.parse(t)}catch(t){var s=t.message.match(/line (\d+)/);return[{line:parseInt(s[1],10)-1,message:t.message,error:t}]}}return o=o.concat(i.hint(n,e))}},function(t,e,n){(function(t,r){var i=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,12],n=[1,13],r=[1,9],i=[1,10],o=[1,11],s=[1,14],a=[1,15],u=[14,18,22,24],c=[18,22],l=[22,24],A={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(t,e,n,r,i,o,s){var a=o.length-1;switch(i){case 1:this.$=t.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(t);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[a-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=o[a-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[o[a-2],o[a]];break;case 16:this.$={},this.$[o[a][0]]=o[a][1];break;case 17:this.$=o[a-2],void 0!==o[a-2][o[a][0]]&&(this.$.__duplicateProperties__||Object.defineProperty(this.$,"__duplicateProperties__",{value:[],enumerable:!1}),this.$.__duplicateProperties__.push(o[a][0])),o[a-2][o[a][0]]=o[a][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[o[a]];break;case 21:this.$=o[a-2],o[a-2].push(o[a])}},table:[{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,12:1,13:2,15:7,16:8,17:s,23:a},{1:[3]},{14:[1,16]},t(u,[2,7]),t(u,[2,8]),t(u,[2,9]),t(u,[2,10]),t(u,[2,11]),t(u,[2,12]),t(u,[2,3]),t(u,[2,4]),t(u,[2,5]),t([14,18,21,22,24],[2,1]),t(u,[2,2]),{3:20,4:e,18:[1,17],19:18,20:19},{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:23,15:7,16:8,17:s,23:a,24:[1,21],25:22},{1:[2,6]},t(u,[2,13]),{18:[1,24],22:[1,25]},t(c,[2,16]),{21:[1,26]},t(u,[2,18]),{22:[1,28],24:[1,27]},t(l,[2,20]),t(u,[2,14]),{3:20,4:e,20:29},{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:30,15:7,16:8,17:s,23:a},t(u,[2,19]),{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:31,15:7,16:8,17:s,23:a},t(c,[2,17]),t(c,[2,15]),t(l,[2,21])],defaultActions:{16:[2,6]},parseError:function(t,e){if(!e.recoverable){function n(t,e){this.message=t,this.hash=e}throw n.prototype=Error,new n(t,e)}this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,u=0,c=0,l=i.slice.call(arguments,1),A=Object.create(this.lexer),h={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(h.yy[p]=this.yy[p]);A.setInput(t,h.yy),h.yy.lexer=A,h.yy.parser=this,"undefined"==typeof A.yylloc&&(A.yylloc={});var f=A.yylloc;i.push(f);var g=A.options&&A.options.ranges;"function"===typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var d,y,v,m,C,I,_,b,w,E=function(){var t;return"number"!==typeof(t=A.lex()||1)&&(t=e.symbols_[t]||t),t},B={};;){if(v=n[n.length-1],this.defaultActions[v]?m=this.defaultActions[v]:(null!==d&&"undefined"!=typeof d||(d=E()),m=o[v]&&o[v][d]),"undefined"===typeof m||!m.length||!m[0]){var x="";for(I in w=[],o[v])this.terminals_[I]&&I>2&&w.push("'"+this.terminals_[I]+"'");x=A.showPosition?"Parse error on line "+(a+1)+":\n"+A.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(x,{text:A.match,token:this.terminals_[d]||d,line:A.yylineno,loc:f,expected:w})}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+d);switch(m[0]){case 1:n.push(d),r.push(A.yytext),i.push(A.yylloc),n.push(m[1]),d=null,y?(d=y,y=null):(u=A.yyleng,s=A.yytext,a=A.yylineno,f=A.yylloc,c>0&&c--);break;case 2:if(_=this.productions_[m[1]][1],B.$=r[r.length-_],B._$={first_line:i[i.length-(_||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(_||1)].first_column,last_column:i[i.length-1].last_column},g&&(B._$.range=[i[i.length-(_||1)].range[0],i[i.length-1].range[1]]),"undefined"!==typeof(C=this.performAction.apply(B,[s,u,a,h.yy,m[1],r,i].concat(l))))return C;_&&(n=n.slice(0,-1*_*2),r=r.slice(0,-1*_),i=i.slice(0,-1*_)),n.push(this.productions_[m[1]][0]),r.push(B.$),i.push(B._$),b=o[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},h={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function p(){this.yy={}}return A.lexer=h,p.prototype=A,A.Parser=p,new p}();e.parser=i,e.Parser=i.Parser,e.parse=function(){return i.parse.apply(i,arguments)},e.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),t.exit(1));var i=n(691).readFileSync(n(1008).normalize(r[1]),"utf8");return e.parser.parse(i)},"undefined"!==typeof r&&n.c[n.s]===r&&e.main(t.argv.slice(1))}).call(e,n(690),n(78)(t))},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var o=e.isAbsolute(t),s="/"===i(t,-1);return(t=n(r(t.split("/"),function(t){return!!t}),!o).join("/"))||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!==typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(690))},function(t,e,n){var r=n(1010);t.exports.hint=function(t,e){var n=[],i=0,o=10,s=6;function a(t){if(e&&!1===e.noDuplicateMembers||!t.__duplicateProperties__||n.push({message:"An object contained duplicate members, making parsing ambigous: "+t.__duplicateProperties__.join(", "),line:t.__line__}),!c(t,"type","string"))if(g[t.type])t&&g[t.type](t);else{var r=d[t.type.toLowerCase()];void 0!==r?n.push({message:"Expected "+r+" but got "+t.type+" (case sensitive)",line:t.__line__}):n.push({message:"The type "+t.type+" is unknown",line:t.__line__})}}function u(t,e){return t.every(function(t){return null!==t&&typeof t===e})}function c(t,e,r){if("undefined"===typeof t[e])return n.push({message:'"'+e+'" member required',line:t.__line__});if("array"===r){if(!Array.isArray(t[e]))return n.push({message:'"'+e+'" member should be an array, but is an '+typeof t[e]+" instead",line:t.__line__})}else{if("object"===r&&t[e]&&t[e].constructor!==Object)return n.push({message:'"'+e+'" member should be '+r+", but is an "+t[e].constructor.name+" instead",line:t.__line__});if(r&&typeof t[e]!==r)return n.push({message:'"'+e+'" member should be '+r+", but is an "+typeof t[e]+" instead",line:t.__line__})}}function l(t,r){if(!Array.isArray(t))return n.push({message:"position should be an array, is a "+typeof t+" instead",line:t.__line__||r});if(t.length<2)return n.push({message:"position must have 2 or more elements",line:t.__line__||r});if(t.length>3)return n.push({message:"position should not have more than 3 elements",level:"message",line:t.__line__||r});if(!u(t,"number"))return n.push({message:"each element in a position must be a number",line:t.__line__||r});if(e&&e.precisionWarning){if(i===o)return i+=1,n.push({message:"truncated warnings: we've encountered coordinate precision warning "+o+" times, no more warnings will be reported",level:"message",line:t.__line__||r});i<o&&t.forEach(function(e){var o=0,a=String(e).split(".")[1];if(void 0!==a&&(o=a.length),o>s)return i+=1,n.push({message:"precision of coordinates should be reduced",level:"message",line:t.__line__||r})})}}function A(t,e,r,i){if(void 0===i&&void 0!==t.__line__&&(i=t.__line__),0===r)return l(t,i);if(1===r&&e)if("LinearRing"===e){if(!Array.isArray(t[t.length-1]))return n.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:i}),!0;if(t.length<4&&n.push({message:"a LinearRing of coordinates needs to have four or more positions",line:i}),t.length&&(t[t.length-1].length!==t[0].length||!t[t.length-1].every(function(e,n){return t[0][n]===e})))return n.push({message:"the first and last positions in a LinearRing of coordinates must be the same",line:i}),!0}else if("Line"===e&&t.length<2)return n.push({message:"a line needs to have two or more coordinates to be valid",line:i});if(Array.isArray(t))return t.map(function(t){return A(t,e,r-1,t.__line__||i)}).some(function(t){return t});n.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:i})}function h(t){t.crs&&("object"===typeof t.crs&&t.crs.properties&&"urn:ogc:def:crs:OGC:1.3:CRS84"===t.crs.properties.name?n.push({message:"old-style crs member is not recommended, this object is equivalent to the default and should be removed",line:t.__line__}):n.push({message:"old-style crs member is not recommended",line:t.__line__}))}function p(t){if(t.bbox)return Array.isArray(t.bbox)?(u(t.bbox,"number")||n.push({message:"each element in a bbox member must be a number",line:t.bbox.__line__}),4!==t.bbox.length&&6!==t.bbox.length&&n.push({message:"bbox must contain 4 elements (for 2D) or 6 elements (for 3D)",line:t.bbox.__line__}),n.length):void n.push({message:"bbox member must be an array of numbers, but is a "+typeof t.bbox,line:t.__line__})}function f(t){h(t),p(t),void 0!==t.id&&"string"!==typeof t.id&&"number"!==typeof t.id&&n.push({message:'Feature "id" member must have a string or number value',line:t.__line__}),void 0!==t.features&&n.push({message:'Feature object cannot contain a "features" member',line:t.__line__}),void 0!==t.coordinates&&n.push({message:'Feature object cannot contain a "coordinates" member',line:t.__line__}),"Feature"!==t.type&&n.push({message:"GeoJSON features must have a type=feature member",line:t.__line__}),c(t,"properties","object"),c(t,"geometry","object")||t.geometry&&a(t.geometry)}var g={Point:function(t){var e;h(t),p(t),void 0!==(e=t).properties&&n.push({message:'geometry object cannot contain a "properties" member',line:e.__line__}),void 0!==e.geometry&&n.push({message:'geometry object cannot contain a "geometry" member',line:e.__line__}),void 0!==e.features&&n.push({message:'geometry object cannot contain a "features" member',line:e.__line__}),c(t,"coordinates","array")||l(t.coordinates)},Feature:f,MultiPoint:function(t){h(t),p(t),c(t,"coordinates","array")||A(t.coordinates,"",1)},LineString:function(t){h(t),p(t),c(t,"coordinates","array")||A(t.coordinates,"Line",1)},MultiLineString:function(t){h(t),p(t),c(t,"coordinates","array")||A(t.coordinates,"Line",2)},FeatureCollection:function(t){if(h(t),p(t),void 0!==t.properties&&n.push({message:'FeatureCollection object cannot contain a "properties" member',line:t.__line__}),void 0!==t.coordinates&&n.push({message:'FeatureCollection object cannot contain a "coordinates" member',line:t.__line__}),!c(t,"features","array")){if(!u(t.features,"object"))return n.push({message:"Every feature must be an object",line:t.__line__});t.features.forEach(f)}},GeometryCollection:function(t){h(t),p(t),c(t,"geometries","array")||(u(t.geometries,"object")||n.push({message:"The geometries array in a GeometryCollection must contain only geometry objects",line:t.__line__}),1===t.geometries.length&&n.push({message:"GeometryCollection with a single geometry should be avoided in favor of single part or a single object of multi-part type",line:t.geometries.__line__}),t.geometries.forEach(function(e){e&&("GeometryCollection"===e.type&&n.push({message:"GeometryCollection should avoid nested geometry collections",line:t.geometries.__line__}),a(e))}))},Polygon:function(t){h(t),p(t),c(t,"coordinates","array")||A(t.coordinates,"LinearRing",2)||r(t,n)},MultiPolygon:function(t){h(t),p(t),c(t,"coordinates","array")||A(t.coordinates,"LinearRing",3)||r(t,n)}},d=Object.keys(g).reduce(function(t,e){return t[e.toLowerCase()]=e,t},{});return"object"!==typeof t||null===t||void 0===t?(n.push({message:"The root of a GeoJSON object must be an object.",line:0}),n):(a(t),n.forEach(function(t){({}).hasOwnProperty.call(t,"line")&&void 0===t.line&&delete t.line}),n)}},function(t,e){function n(t){return t*Math.PI/180}function r(t){var e=0;if(t.length>2)for(var r,i,o=0;o<t.length-1;o++)r=t[o],e+=n((i=t[o+1])[0]-r[0])*(2+Math.sin(n(r[1]))+Math.sin(n(i[1])));return e>=0}function i(t){if(t&&t.length>0){if(r(t[0]))return!1;if(!t.slice(1,t.length).every(r))return!1}return!0}t.exports=function(t,e){(function(t){return"Polygon"===t.type?i(t.coordinates):"MultiPolygon"===t.type?t.coordinates.every(i):void 0})(t)||e.push({message:"Polygons and MultiPolygons should follow the right-hand rule",level:"message",line:t.__line__})}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=function(){function t(){i()(this,t),this.cursor=-1,this.recordes=[]}return s()(t,[{key:"addRecord",value:function(t){if(t){this.cursor+1<this.recordes.length&&(this.recordes=this.recordes.slice(0,this.cursor+1)),this.recordes.push(t);var e=this.recordes.length;this.cursor=e-1}return this}},{key:"undoRecord",value:function(){var t=this.recordes.length,e=null;return 0===t?this.cursor=-1:t>0&&this.cursor>-1&&(e=this.recordes[this.cursor],this.cursor=this.cursor-1),e}},{key:"redoRecord",value:function(){var t=this.recordes.length,e=null;return 0===t&&(this.cursor=-1),t>0&&this.cursor<t-1&&(e=this.recordes[this.cursor+1],this.cursor=this.cursor+1),e}},{key:"getCurrentRecord",value:function(){var t=this.recordes.length,e=null;return 0===t?null:(this.cursor>-1&&this.cursor<t&&(e=this.recordes[this.cursor]),e)}},{key:"getAllRecords",value:function(){return this.recordes}},{key:"clear",value:function(){this.cursor=-1,this.recordes=[]}}]),t}()},function(t,e,n){"use strict";var r,i,o=n(75),s=(n.n(o),n(164)),a=n.n(s),u=n(373),c=n(1013),l={type:(r={},a()(r,u.g.events.DELETE,1),a()(r,u.g.events.UPDATE,2),a()(r,u.g.events.CREATE,3),a()(r,u.g.events.REPLACE,4),r),action:(i={},a()(i,u.g.updateActions.MOVE,1),a()(i,u.g.updateActions.CHANGE_COORDINATES,2),a()(i,u.g.updateActions.CHANGE_PROPERTIES,3),i)};e.a=function(t){var e=t.draw,n=t.map,r=t.history,i=Object.assign({},{onDrawCreate:function(t){e.ctx.helpToolTip.removeTooltip();var i=new c.a(3,0,t.features);r.addRecord(i),n.fire(u.g.events.RECORD_CREATE,{record:i})},onDrawUpdate:function(t){var e=new c.a(2,l.action[t.action]||0,t.features,t.prevFeatures);r.addRecord(e),n.fire(u.g.events.RECORD_CREATE,{record:e})},onDrawDelete:function(t){var e=new c.a(1,0,t.features);r.addRecord(e),n.fire(u.g.events.RECORD_CREATE,{record:e})},onDrawCombine:function(t){var e=new c.a(4,0,t.createdFeatures,t.deletedFeatures);r.addRecord(e),n.fire(u.g.events.RECORD_CREATE,{record:e})},onDrawUncombine:function(t){var e=new c.a(4,0,t.createdFeatures,t.deletedFeatures);r.addRecord(e),n.fire(u.g.events.RECORD_CREATE,{record:e})},onDrawReplace:function(t){var e=new c.a(4,0,t.createdFeatures,t.deletedFeatures);r.addRecord(e),n.fire(u.g.events.RECORD_CREATE,{record:e})}});return{addEventListeners:function(){n&&(n.on(u.g.events.CREATE,i.onDrawCreate),n.on(u.g.events.UPDATE,i.onDrawUpdate),n.on(u.g.events.DELETE,i.onDrawDelete),n.on(u.g.events.COMBINE_FEATURES,i.onDrawCombine),n.on(u.g.events.UNCOMBINE_FEATURES,i.onDrawUncombine),n.on(u.g.events.REPLACE,i.onDrawReplace))},removeEventListeners:function(){n&&(n.off(u.g.events.CREATE,i.onDrawCreate),n.off(u.g.events.UPDATE,i.onDrawUpdate),n.off(u.g.events.DELETE,i.onDrawDelete),n.off(u.g.events.COMBINE_FEATURES,i.onDrawCombine),n.off(u.g.events.UNCOMBINE_FEATURES,i.onDrawUncombine),n.off(u.g.events.REPLACE,i.onDrawReplace))},undoHistory:function(){if(e&&r){var t=r.undoRecord();if(t){var i=t.getType(),o=t.getFeatures(),s=t.getPrevFeatures();switch(i){case 1:if(o.length>0){o.map(function(t){e.add(Object.assign({},t,{type:t.type||u.g.geojsonTypes.FEATURE}))});var a=o.map(function(t){return t.id});e.changeMode(u.g.modes.SIMPLE_SELECT,{featureIds:a})}break;case 2:if(o.length>0){var c=o.map(function(t){return t.id});e.delete(c)}if(s.length>0){s.map(function(t){e.add(Object.assign({},t,{type:t.type||u.g.geojsonTypes.FEATURE}))});var l=s.map(function(t){return t.id});e.changeMode(u.g.modes.SIMPLE_SELECT,{featureIds:l})}break;case 3:if(o.length>0){var A=o.map(function(t){return t.id});e.delete(A)}break;case 4:if(o.length>0){var h=o.map(function(t){return t.id});e.delete(h)}if(s.length>0){s.map(function(t){e.add(Object.assign({},t,{type:t.type||u.g.geojsonTypes.FEATURE}))});var p=s.map(function(t){return t.id});e.changeMode(u.g.modes.SIMPLE_SELECT,{featureIds:p})}}n.fire(u.g.events.UNDO,{record:t})}}},redoHistory:function(){if(e&&r){var t=r.redoRecord();if(t){e.getAll();var i=t.getType(),o=t.getFeatures(),s=t.getPrevFeatures();switch(i){case 3:if(o.length>0){o.map(function(t){e.add(Object.assign({},t,{type:t.type||u.g.geojsonTypes.FEATURE}))});var a=o.map(function(t){return t.id});e.changeMode(u.g.modes.SIMPLE_SELECT,{featureIds:a})}break;case 2:if(s.length>0){var c=s.map(function(t){return t.id});e.delete(c)}if(o.length>0){o.map(function(t){e.add(Object.assign({},t,{type:t.type||u.g.geojsonTypes.FEATURE}))});var l=o.map(function(t){return t.id});e.changeMode(u.g.modes.SIMPLE_SELECT,{featureIds:l})}break;case 1:if(o.length>0){var A=o.map(function(t){return t.id});e.delete(A)}break;case 4:if(s.length>0){var h=s.map(function(t){return t.id});e.delete(h)}if(o.length>0){o.map(function(t){e.add(Object.assign({},t,{type:t.type||u.g.geojsonTypes.FEATURE}))});var p=o.map(function(t){return t.id});e.changeMode(u.g.modes.SIMPLE_SELECT,{featureIds:p})}}n.fire(u.g.events.REDO,{record:t})}}}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];i()(this,t),this.type=e,this.action=n,this.features=r,this.prevFeatures=o}return s()(t,[{key:"getType",value:function(){return this.type}},{key:"getAction",value:function(){return this.action}},{key:"getFeatures",value:function(){return this.features}},{key:"getPrevFeatures",value:function(){return this.prevFeatures}}]),t}()},function(t,e,n){"use strict";e.a={classes:{CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_CIRCLE:"mapbox-gl-draw_circle",CONTROL_BUTTON_TRIANGLE:"mapbox-gl-draw_triangle",CONTROL_BUTTON_RECTANGLE:"mapbox-gl-draw_rectangle",CONTROL_BUTTON_SECTOR:"mapbox-gl-draw_sector",CONTROL_BUTTON_ARROW:"mapbox-gl-draw_arrow",CONTROL_BUTTON_BEZIER_ARROW:"mapbox-gl-draw_bezier_arrow",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},sources:{HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},cursors:{ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},types:{CIRCLE:"circle",POLYGON:"polygon",LINE:"line_string",POINT:"point",TRIANGLE:"triangle",RECTANGLE:"rectangle",SECTOR:"sector",ARROW:"arrow",BEZIERARROW:"bezier_arrow"},geojsonTypes:{CIRCLE:"Circle",TRIANGLE:"Triangle",RECTANGLE:"Rectangle",SECTOR:"Sector",ARROW:"Arrow",BEZIERARROW:"BezierArrow",FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},modes:{DRAW_CIRCLE:"draw_circle",DRAW_TRIANGLE:"draw_triangle",DRAW_RECTANGLE:"draw_rectangle",DRAW_SECTOR:"draw_sector",DRAW_ARROW:"draw_arrow",DRAW_BEZIER_ARROW:"draw_bezier_arrow",DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},events:{CREATE:"draw.create",CLICK:"draw.click",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine",REPLACE:"draw.replace",RECORD_CREATE:"draw.record.create",UNDO:"draw.undo",REDO:"draw.redo",SELECTED:"draw.selected"},updateActions:{MOVE:"move",CHANGE_COORDINATES:"change_coordinates",CHANGE_PROPERTIES:"change_properties"},meta:{FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},activeStates:{ACTIVE:"true",INACTIVE:"false"},interactions:["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],LAT_MIN:-90,LAT_RENDERED_MIN:-85,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270,drawStyles:{"polygon-fill-inactive":{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},"polygon-fill-active":{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},"polygon-midpoint":{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},"polygon-stroke-inactive":{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},"polygon-stroke-active":{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#D20C0C","line-dasharray":[.2,2],"line-width":2}},"line-inactive":{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},"line-active":{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#D20C0C","line-dasharray":[.2,2],"line-width":2}},"polygon-and-line-vertex-stroke-inactive":{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},"polygon-and-line-vertex-inactive":{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#D20C0C"}},"point-point-stroke-inactive":{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},"point-inactive":{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},"point-stroke-active":{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},"point-active":{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#D20C0C"}},"polygon-fill-static":{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},"polygon-stroke-static":{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},"line-static":{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},"point-static":{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}}}},function(t,e,n){var r=n(157);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){var r=n(694),i=n(695);t.exports=function(t,e){return t&&r(t,i(e))}},function(t,e,n){var r=n(1018)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(696),i=n(188),o=n(697),s=Math.ceil,a=Math.max;t.exports=function(t,e,n){e=(n?i(t,e,n):void 0===e)?1:a(o(e),0);var u=null==t?0:t.length;if(!u||e<1)return[];for(var c=0,l=0,A=Array(s(u/e));c<u;)A[l++]=r(t,c,c+=e);return A}},function(t,e,n){var r=n(1021),i=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t===t?t:0:0===t?t:0}},function(t,e,n){var r=n(16),i=n(463),o=NaN,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=u.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):a.test(t)?o:+t}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}},function(t,e,n){n(525)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){"use strict";var r=n(1025),i=n(1026),o=n(1027);const s=t=>t[0],a=t=>t[1];e.a=class{constructor(t,e=s,n=a,i=64,o=Float64Array){this.nodeSize=i,this.points=t;const u=t.length<65536?Uint16Array:Uint32Array,c=this.ids=new u(t.length),l=this.coords=new o(2*t.length);for(let r=0;r<t.length;r++)c[r]=r,l[2*r]=e(t[r]),l[2*r+1]=n(t[r]);Object(r.a)(c,l,i,0,c.length-1,0)}range(t,e,n,r){return Object(i.a)(this.ids,this.coords,t,e,n,r,this.nodeSize)}within(t,e,n){return Object(o.a)(this.ids,this.coords,t,e,n,this.nodeSize)}}},function(t,e,n){"use strict";function r(t,e,n,r){i(t,n,r),i(e,2*n,2*r),i(e,2*n+1,2*r+1)}function i(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}e.a=function t(e,n,i,o,s,a){if(s-o<=i)return;const u=o+s>>1;!function t(e,n,i,o,s,a){for(;s>o;){if(s-o>600){const r=s-o+1,u=i-o+1,c=Math.log(r),l=.5*Math.exp(2*c/3),A=.5*Math.sqrt(c*l*(r-l)/r)*(u-r/2<0?-1:1),h=Math.max(o,Math.floor(i-u*l/r+A)),p=Math.min(s,Math.floor(i+(r-u)*l/r+A));t(e,n,i,h,p,a)}const u=n[2*i+a];let c=o,l=s;for(r(e,n,o,i),n[2*s+a]>u&&r(e,n,o,s);c<l;){for(r(e,n,c,l),c++,l--;n[2*c+a]<u;)c++;for(;n[2*l+a]>u;)l--}n[2*o+a]===u?r(e,n,o,l):r(e,n,++l,s),l<=i&&(o=l+1),i<=l&&(s=l-1)}}(e,n,u,o,s,a%2);t(e,n,i,o,u-1,a+1);t(e,n,i,u+1,s,a+1)}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i,o,s){const a=[0,t.length-1,0],u=[];let c,l;for(;a.length;){const A=a.pop(),h=a.pop(),p=a.pop();if(h-p<=s){for(let s=p;s<=h;s++)c=e[2*s],l=e[2*s+1],c>=n&&c<=i&&l>=r&&l<=o&&u.push(t[s]);continue}const f=Math.floor((p+h)/2);c=e[2*f],l=e[2*f+1],c>=n&&c<=i&&l>=r&&l<=o&&u.push(t[f]);const g=(A+1)%2;(0===A?n<=c:r<=l)&&(a.push(p),a.push(f-1),a.push(g)),(0===A?i>=c:o>=l)&&(a.push(f+1),a.push(h),a.push(g))}return u}},function(t,e,n){"use strict";function r(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}e.a=function(t,e,n,i,o,s){const a=[0,t.length-1,0],u=[],c=o*o;for(;a.length;){const l=a.pop(),A=a.pop(),h=a.pop();if(A-h<=s){for(let o=h;o<=A;o++)r(e[2*o],e[2*o+1],n,i)<=c&&u.push(t[o]);continue}const p=Math.floor((h+A)/2),f=e[2*p],g=e[2*p+1];r(f,g,n,i)<=c&&u.push(t[p]);const d=(l+1)%2;(0===l?n-o<=f:i-o<=g)&&(a.push(h),a.push(p-1),a.push(d)),(0===l?n+o>=f:i+o>=g)&&(a.push(p+1),a.push(A),a.push(d))}return u}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAABwCAYAAABvnamzAAAAAXNSR0IArs4c6QAADRJJREFUeAHt3UuIW9cdx/FzjuZh4owhjmekMc2rXQyJDbGpF+miwTaGQHCgi1DjTbKMH+2iLsHGE3s0noxrp4mzKM5jmWyMQwuFhEAg2CFZNIuUuJCkzKLUTYpHmnEc8NTF87qn//+dytJoJI00unpdf7WRdO/Vvef/ufCbo7lH51rTgY+09+7NM1MPB3PBkLd2yAR+yBrzsDF+g7G2z3jTZ6zv8/psTE8HlkiTEWgXgTlrzYzxdsaEz37GGHvTG3PVODthvZ9wPW7i4LGBq2lrg3ZpdLXtkNxo/8fQ2em+G3MLP/eB2S3gu+REbJFw623/ltNCBO4OAQnJWel4fC0dksvWmUsbe7o+mzjaL2HZ3o+2DcDkeGZrMG/2Sa9uj/y12SHPXe1NSesQQCAvYBckXL6Q3uLHrttczA6nvsqva59XbRWAA+PZZLDo91sfPCc9vO3tw0RLEECgHgHpIX7prXvXJeyFqeFktp59RfnZtgjA5FhmdxD4IxJ6T9HTi/L0si8E2k1AeobWfOScPZc9kbrU6ta1NAA3jWX22kU/7I1/otUQHB8BBJorYI393Cfs+PUTqQ+ae+T80VoSgP1jk8/KlduXpMf3eL4pvEIAgbtRQELoivQKX54a2fynZtff1ABMnZ58bGHOnJevuTubXSjHQwCBdhewn3T1mMOZ44PfNKulTQnA5O8z6xdv+ZMyfOU3xvvuZhXHcRBAoMMErJ2X4TSvJ9bbU9kXU7ca3fqGB6B83X3aB/4tKeqBRhfD/hFAICYC1nxnnT0wfWLww0ZW1LAA/Onbvvtfk5nT0uv7rfT6GnacRuKwbwQQaKGAtXJ91Lz20GDq+F9fkJ5hAx4NCabNZ248OH979iJXdxtwxtglAneZgF4t7l7Xu+/asY3fRl165AGYHM08s2iCdyS574u6sewPAQTuUgFrfkgY93x2JPV+lAIuyp0NnJo8tOj9nwm/KFXZFwIIaKZotmjGRKkRWQAOpCdH5dccOsQlsn1GWSj7QgCBThfwTjNGsyaqSuoOK52aatNo5q3AyDAXHggggECDBTRrNHM0e+o9VF3/A9QGnB/NXJCLHb+styF8HgEEEKhFQC6OvHd4JLW/nnkI6wpATWHjgxdqaTTbIoAAApEJWPf29ZHUgbXub81dyPB7OOG3Vnc+hwACUQhIBtXzP8E19QD1SszSBY8oKmAfCCCAQH0CMr3W4amTg2/UupeaAzAc56dDXbjaW6s12yOAQMMEbJCw9he1jhOsKQD1Fx5zs7evMM6vYWeRHSOAwFoFZLB0T++6bbX8YqTq/wHqb3v1522E31rPDp9DAIGGCshgac0ozapqj1N1AOrEBvy2t1pWtkMAgVYIaEaFk7BUefCqvgIvTWllPmBWlypV2QwBBFonILPIyK0591YzldaqARhOZvrf4O/y1Zf5/Fp3SjkyAgjUIiDzCSbucY+uNqnqql+Bw5mcCb9a6NkWAQRaLSCZFWbXKu2o2AMM7+Exb+Sqb/X/VFzleKxGAAEEmiMg0+t3dZttle4xUrEHGN7AiPBrzsniKAggEK2AZNfSTdjK77ZsAIa3ruTubeXlWIMAAh0g4HcuZVnpppYNQL1vb+mPsBQBBBDoIIEKWVYyADeNZfZy0/IOOsE0FQEEygpolmmmldqgZADaRT9camOWIYAAAp0oUC7TVgRgciyzm198dOIpps0IIFBOQDNNs614/YoAlGmujhRvxHsEEECg0wVKZduycYAD49lkMB/8W6a66ur0Ymk/AgggsFzALrhu96Op4WQ2t3xZDzBY9PsJvxwNzwggEC8B37WUcfmqlgWg9cFz+VW8QgABBOIlUJxxdwIwOZ7ZKpeLt8erXKpBAAEE8gKacZp1uSV3AjCYN/tyC3lGAAEE4ipQmHV3AlD+97cnrgVTFwIIIJAXyGddGIBDZ6f7vDE78hvwCgEEEIingGadZp5WFwbg97cXnuTqbzxPNlUhgECxgO9ayrz/B6Cs3lW8Ce8RQACBGAuEmRf2AK33BGCMzzSlIYDAcoFc5rm0985Ys2X5at4hgAACMRaQzNPss8nfZX+8OLv4jxiXSmkIIIDACoFEb+InLpgLhlasYQECCCAQcwHNPuetJQBjfqIpDwEEVgpo9jmZ+p4AXGnDEgQQiLuAZJ+Tm6g/Evc6qQ8BBBAoFtDsk2EwdkPxCt4jgAAC8RewG3Qc4L3xL5QKEUAAgRUC9zrjTfibuBWrWIAAAgjEWUCyTwZBewIwzieZ2hBAoLSAZJ+TCQIJwNI8LEUAgRgLaPaFvwWOcY2UhgACCJQVkGEwZqbsWlYggAACMRXQ7JOLIJYAjOkJpiwEEKggINmnM8EQgBWMWIUAAjEVWOoBegIwpueXshBAoIKA99IDNPZmhU1YhQACCMRUwN50coOQqzGtjrIQQACBsgKafc44O1F2C1YggAACcRWQ7HMyNz4BGNcTTF0IIFBWQLPPuR5HAJYlYgUCCMRVQLPPHTw2cFUGBM7GtUjqQgABBIoFNPM0+1za2kBmhPm6eAPeI4AAArEVkMzT7At/Cyxz41+ObaEUhgACCBQJ5DIvNxkCAVgExFsEEIivgHXmklYXBuD967o+lQHRC/Etl8oQQACBnIBd2NjT9Zm+CwNw4mj/jDXmi9xqnhFAAIG4CmjWaeZpfbmvwPLSfhzXgqkLAQQQyAvks+5OALpuczG/Aa8QQACBeAoUZt2dAMwOp76SsTFfxrNkqkIAAQTke65knGZdzuJOAOoCb927uRU8I4AAAnETKM64ZQHoEvYCV4PjdsqpBwEElgTswlLG5T2WBeDUcDIrXcSP8qt5hQACCMRDQLNNM66wmmUBqCucs+cKN+A1AgggEAeBUtkmQ2JWPvrTk3/xxj+xcg1LEEAAgc4TsMZ+Pp0e/Flxy1f0AHUDn7DjxRvyHgEEEOhUgXKZVrIHqEX2j167IndOf7xTC6bdCCCAgApIyF2ZTm/eXkqjZA8w3NDZl0t9gGUIIIBAJwnIxY+yWVa2B6gFbkpPyiwxfmcnFUtbEUAAgbyA/eR6enBX/v3yV+V7gLJdV485LEOn55d/hHcIIIBABwhIdoUZVqGpFQMwc3zwG5kt+vUKn2cVAggg0J4Ckl1hhlVoXcUA1M8l1ttT8l/E7yrsg1UIIIBAewlIZoXZtUqrVg3A7IupW9bZA/JVWO4jzAMBBBBocwHJKs0sza7VWrpqAOoOpk8MfihfhV9bbWesRwABBFouIFkVZlYVDakqAHU/Dw2mjuto6ir2ySYIIIBASwQ0ozSrqj14xWEwxTvZfObGg3Ozt69Ib/C+4nW8RwABBFoqYM0PPb3rtl07tvHbattRdQ9Qd6g7Thj3vIytDqo9ANshgAACjRewgWZTLeGnbaopAPUD2ZHU+86ZX+trHggggEA7CGgmaTbV2paaA1APMHVy8A1nZHgMDwQQQKDFAppFmklraUZN/wMsPsCm0cxbxgcvFC/nPQIIINAUAevevj6SOrDWY62pB5g72K9OJg/JVZf3cu95RgABBJoloNmjGVTP8eoKwLS1weGR1H4jKVxPI/gsAgggUJOAZI5mj2ZQTZ8r2riur8CF+xpIT44Gxp8sXMZrBBBAIGqB8H9+6cGRKPYbWQBqYwZOTR4KAvMHmUKrrp5lFIWxDwQQiJuADfRq71oveJTSiDQA9QDJ0cwziyZ4h8HSpbhZhgACaxKQQc46zm8tQ10qHS/yANSD6S9G5m/PXuTGSpXoWYcAAtUI6M/butf17qt1kHM1+27IV1Vt6IODqSflFyOvMotMNaeBbRBAYIVAOAOVfVWzpBHhp8drSA+wsJD+scmnfeBlvKB5oHA5rxFAAIGyAjKfn05pVe2sLmX3s8qKhvQAC4+pBSTucY9K1r4ivUGm1y/E4TUCCCwXCDPCvqKZ0ejw0wM3vAdYWF3q9ORjC3PmPDdaKlThNQIILAnYT/QeHqtNYx+lVlMDMNdw+Vr8rAn8S9x3OCfCMwJ3r4DctvJvRm7DKz2+PzZboSUBmCty01hmr130w1wtzonwjMDdI6BXd33Cjl8/kfqgVVW3NABzRSfHMruDwB+RHuFT8vW4K7ecZwQQiJuAXZAe30fO2XPZE6lLra6uLQIwhzAwnk0Gi36/9cFzEobbc8t5RgCBzhaQ0PtS7lT0rkvYC1PDyWy7VNNWAViIkhzPbA3mzT7pEe6R29HtoGdYqMNrBNpdQHp6xnwh11k/dt3mYnY49VU7trhtA7AQa+jsdN/3txdkYLXZZb3fJdeut0gPsbdwG14jgEDrBKSHNytjfb/21l6WVly+f13XpxNH+2da16LqjtwRAVhcStp79+aZqYeDuWBIwIfkivKQDBp/RP7abJBt75UT0Wes75OQ7JP3PcWf5z0CCFQtMCfhNmO8nZGOhwbaf+Tb2E3v7T/lyu2EdEgmXI+bOHhs4Gq9U1NV3aIIN/wfnY1Qb815IJcAAAAASUVORK5CYII="},function(t,e,n){"use strict";e.a={data:null,before:null,minZoom:9,maxZoom:14,opacity:.7,colorIsFromFeature:!1,colorField:null,color:"white",translate:[0,0],pattern:null,heightIsFromFeature:!1,heightField:null,height:30,baseIsFromFeature:!1,baseField:null,base:0,verticalGradient:!0}},function(t,e,n){var r=n(8),i=n(191)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){var r=n(40);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,s=e?o:-1,a=Object(n);(e?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},function(t,e,n){var r=n(712),i=n(1059);t.exports=function(t,e){var n=[];if(!t||!t.length)return n;var o=-1,s=[],a=t.length;for(e=r(e,3);++o<a;){var u=t[o];e(u,o,t)&&(n.push(u),s.push(o))}return i(t,s),n}},function(t,e,n){var r=n(1034),i=n(1045),o=n(716);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(183),i=n(713),o=1,s=2;t.exports=function(t,e,n,a){var u=n.length,c=u,l=!a;if(null==t)return!c;for(t=Object(t);u--;){var A=n[u];if(l&&A[2]?A[1]!==t[A[0]]:!(A[0]in t))return!1}for(;++u<c;){var h=(A=n[u])[0],p=t[h],f=A[1];if(l&&A[2]){if(void 0===p&&!(h in t))return!1}else{var g=new r;if(a)var d=a(p,f,h,t,e,g);if(!(void 0===d?i(f,p,o|s,a,g):d))return!1}}return!0}},function(t,e,n){var r=n(183),i=n(714),o=n(1041),s=n(1044),a=n(58),u=n(18),c=n(81),l=n(120),A=1,h="[object Arguments]",p="[object Array]",f="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,d,y,v){var m=u(t),C=u(e),I=m?p:a(t),_=C?p:a(e),b=(I=I==h?f:I)==f,w=(_=_==h?f:_)==f,E=I==_;if(E&&c(t)){if(!c(e))return!1;m=!0,b=!1}if(E&&!b)return v||(v=new r),m||l(t)?i(t,e,n,d,y,v):o(t,e,I,n,d,y,v);if(!(n&A)){var B=b&&g.call(t,"__wrapped__"),x=w&&g.call(e,"__wrapped__");if(B||x){var O=B?t.value():t,T=x?e.value():e;return v||(v=new r),y(O,T,n,d,v)}}return!!E&&(v||(v=new r),s(t,e,n,d,y,v))}},function(t,e,n){var r=n(184),i=n(1037),o=n(1038);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(76),i=n(195),o=n(80),s=n(714),a=n(1042),u=n(1043),c=1,l=2,A="[object Boolean]",h="[object Date]",p="[object Error]",f="[object Map]",g="[object Number]",d="[object RegExp]",y="[object Set]",v="[object String]",m="[object Symbol]",C="[object ArrayBuffer]",I="[object DataView]",_=r?r.prototype:void 0,b=_?_.valueOf:void 0;t.exports=function(t,e,n,r,_,w,E){switch(n){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!w(new i(t),new i(e)));case A:case h:case g:return o(+t,+e);case p:return t.name==e.name&&t.message==e.message;case d:case v:return t==e+"";case f:var B=a;case y:var x=r&c;if(B||(B=u),t.size!=e.size&&!x)return!1;var O=E.get(t);if(O)return O==e;r|=l,E.set(t,e);var T=s(B(t),B(e),r,_,w,E);return E.delete(t),T;case m:if(b)return b.call(t)==b.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(194),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,s,a,u){var c=n&i,l=r(t),A=l.length;if(A!=r(e).length&&!c)return!1;for(var h=A;h--;){var p=l[h];if(!(c?p in e:o.call(e,p)))return!1}var f=u.get(t);if(f&&u.get(e))return f==e;var g=!0;u.set(t,e),u.set(e,t);for(var d=c;++h<A;){var y=t[p=l[h]],v=e[p];if(s)var m=c?s(v,y,p,e,t,u):s(y,v,p,t,e,u);if(!(void 0===m?y===v||a(y,v,n,s,u):m)){g=!1;break}d||(d="constructor"==p)}if(g&&!d){var C=t.constructor,I=e.constructor;C!=I&&"constructor"in t&&"constructor"in e&&!("function"==typeof C&&C instanceof C&&"function"==typeof I&&I instanceof I)&&(g=!1)}return u.delete(t),u.delete(e),g}},function(t,e,n){var r=n(715),i=n(56);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],s=t[o];e[n]=[o,s,r(s)]}return e}},function(t,e,n){var r=n(713),i=n(1047),o=n(1053),s=n(579),a=n(715),u=n(716),c=n(464),l=1,A=2;t.exports=function(t,e){return s(t)&&a(e)?u(c(t),e):function(n){var s=i(n,t);return void 0===s&&s===e?o(n,t):r(e,s,l|A)}}},function(t,e,n){var r=n(577);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(1049)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=o},function(t,e,n){var r=n(1050),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(184),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(1052);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(76),i=n(717),o=n(18),s=n(463),a=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-a?"-0":n}},function(t,e,n){var r=n(1054),i=n(1055);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(578),i=n(116),o=n(18),s=n(117),a=n(121),u=n(464);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,A=!1;++c<l;){var h=u(e[c]);if(!(A=null!=t&&n(t,h)))break;t=t[h]}return A||++c!=l?A:!!(l=null==t?0:t.length)&&a(l)&&s(h,l)&&(o(t)||i(t))}},function(t,e,n){var r=n(1057),i=n(1058),o=n(579),s=n(464);t.exports=function(t){return o(t)?r(s(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(577);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(1060),i=n(117),o=Array.prototype.splice;t.exports=function(t,e){for(var n=t?e.length:0,s=n-1;n--;){var a=e[n];if(n==s||a!==u){var u=a;i(a)?o.call(t,a,1):r(t,a)}}return t}},function(t,e,n){var r=n(578),i=n(1061),o=n(1062),s=n(464);t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[s(i(e))]}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(577),i=n(696);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},function(t,e,n){var r=n(1064),i=n(697),o=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var a=null==n?0:i(n);return a<0&&(a=o(s+a,0)),r(t,e,a)}},function(t,e,n){var r=n(1065),i=n(1066),o=n(1067);t.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e){t.exports=function(t){return t!==t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e,n){"use strict";n(374),n(720),n(722),n(441),n(392),n(723),n(586),n(511),n(728),n(397),n(724),n(1076),n(1079),n(725),n(387),n(371),n(509),n(584),n(507),n(442),n(1080),n(469),n(470),n(508),n(719),n(729),n(1081),n(1082),n(589),n(512),n(592),n(412),n(1091),n(414),n(1092);var r=n(1093);n.d(e,"a",function(){return r.a});n(1094),n(1095),n(1096);var i=n(734);n.d(e,"b",function(){return i.a});n(735),n(510),n(1097),n(1098),n(1099),n(737),n(1100),n(588),n(738),n(1101),n(593),n(733),n(506)},function(t,e,n){"use strict";e.a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}if(!t&&!e&&!n)return new r.a(o.a);return new r.a(t,e,n)};var r=n(371),i=n(583),o=n(718)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(370),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n(466).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(370),i=function(t){function e(e,n){return t.call(this)||this}return r.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(387).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(370),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e}(n(467).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(370),i=n(1074),o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=i.a.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(i.a.clearImmediate(n),e.scheduled=void 0)},e}(n(466).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=1,i={};var o={setImmediate:function(t){var e=r++;return i[e]=t,Promise.resolve().then(function(){return function(t){var e=i[t];e&&e()}(e)}),e},clearImmediate:function(t){delete i[t]}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(370),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(467).a)},function(t,e,n){"use strict";var r=n(1077);r.a},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(370),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(n(466).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(370),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(467).a)},function(t,e,n){"use strict";var r=n(370),i=n(466),o=(n(467).a,function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=r,i.active=!0,i.index=e.index=r,i}return r.a(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(i.a))},function(t,e,n){"use strict";n(374)},function(t,e,n){"use strict";n(374),n(511),n(406),n(580),n(396),n(413)},function(t,e,n){"use strict";n(374),n(511),n(406),n(580),n(413),n(396)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(581),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(471),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"===typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(441),i=function(t){return function(e){var n=t[r.a]();if("function"!==typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},function(t,e,n){"use strict";e.a=function(t,e){return new r.a(function(n){var r=new i.a;return r.add(e.schedule(function(){var i=t[o.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})};var r=n(374),i=n(387),o=n(441)},function(t,e,n){"use strict";e.a=function(t,e){return new r.a(function(n){var r=new i.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})};var r=n(374),i=n(387)},function(t,e,n){"use strict";e.a=function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,s=new i.a;return s.add(function(){r&&"function"===typeof r.return&&r.return()}),s.add(e.schedule(function(){r=t[o.a](),s.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),s})};var r=n(374),i=n(387),o=n(471)},function(t,e,n){"use strict";e.a=function(t){return t&&"function"===typeof t[r.a]};var r=n(441)},function(t,e,n){"use strict";e.a=function(t){return t&&"function"===typeof t[r.a]};var r=n(471)},function(t,e,n){"use strict";n(374),n(396),n(406),n(582),n(414)},function(t,e,n){"use strict";n(374),n(396),n(465),n(406)},function(t,e,n){"use strict";e.a=function t(e,n,a){if(a)return t(e,n).pipe(Object(s.a)(function(t){return Object(i.a)(t)?a.apply(void 0,t):a(t)}));return new r.a(function(t){var r,i=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1===e.length?e[0]:e)};try{r=e(i)}catch(e){return void t.error(e)}if(Object(o.a)(n))return function(){return n(i,r)}})};var r=n(374),i=n(396),o=n(465),s=n(406)},function(t,e,n){"use strict";n(374),n(442),n(413)},function(t,e,n){"use strict";n(592),n(412)},function(t,e,n){"use strict";n(374),n(397),n(513)},function(t,e,n){"use strict";n(374),n(414),n(396),n(412)},function(t,e,n){"use strict";n(374),n(387)},function(t,e,n){"use strict";n(736),n(590),n(443),n(374)},function(t,e,n){"use strict";n(374)},function(t,e,n){"use strict";n(374),n(414),n(412)},function(t,e,n){"use strict";n(739),n(1103),n(1104),n(1105),n(1106),n(1107),n(1108),n(1109),n(1110),n(1111),n(1112),n(732),n(740),n(1113),n(1114),n(1115),n(1116),n(473),n(1117),n(1118),n(1119),n(1120),n(742),n(1121),n(1122),n(1123),n(1124),n(1125),n(1126),n(1127);var r=n(443);n.d(e,"a",function(){return r.a});n(1128),n(743),n(1129),n(1130),n(722),n(1131),n(1132),n(1133);var i=n(406);n.d(e,"b",function(){return i.a});n(1134),n(1135),n(1136),n(1137),n(591),n(472),n(1138),n(1139),n(1140),n(444),n(726),n(1141),n(1142),n(1143),n(1144),n(1145),n(1146),n(1147),n(1148),n(1149),n(515),n(1150),n(1151),n(1152),n(1153),n(585),n(1154),n(1155),n(596),n(1156),n(1157),n(1158),n(1159),n(1160),n(1161),n(1162),n(1163),n(1164),n(1165),n(1167);var o=n(597);n.d(e,"c",function(){return o.a});n(1168),n(594),n(595);var s=n(1169);n.d(e,"d",function(){return s.a});n(1170);var a=n(1171);n.d(e,"e",function(){return a.a});n(744),n(1172),n(514),n(1173),n(1174),n(745),n(1175),n(1176),n(1177),n(1178),n(1179),n(1180),n(1181),n(1182),n(1183),n(1184)},function(t,e,n){"use strict";n(397),n(739),n(738)},function(t,e,n){"use strict";var r=n(370),i=n(375),o=n(376);i.a},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a,i.a},function(t,e,n){"use strict";var r=n(370),i=(n(397),n(371));n(413);var o=function(){return function(){this.buffer=[]}}();i.a;function s(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function a(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(u,n,{subscriber:r,context:o})),this.schedule(t,e))}function u(t){var e=t.subscriber,n=t.context;e.closeContext(n)}},function(t,e,n){"use strict";var r=n(370),i=n(387),o=n(376),s=n(375);s.a},function(t,e,n){"use strict";var r=n(370),i=n(387),o=n(375),s=n(376);o.a},function(t,e,n){"use strict";var r=n(370),i=n(375),o=n(421),s=n(376);i.a},function(t,e,n){"use strict";n(589)},function(t,e,n){"use strict";n(396),n(589),n(414)},function(t,e,n){"use strict";n(512)},function(t,e,n){"use strict";n(740)},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a},function(t,e,n){"use strict";var r=n(370),i=n(375),o=n(376);i.a},function(t,e,n){"use strict";var r=n(370),i=n(371);n(397);i.a;function o(t){t.debouncedNext()}},function(t,e,n){"use strict";var r=n(370),i=(n(397),n(741),n(371)),o=n(509);i.a;var s=function(){return function(t,e){this.time=t,this.notification=e}}()},function(t,e,n){"use strict";var r=n(370),i=n(371),o=n(374),s=n(375),a=n(376);s.a,o.a;var u=function(t){function e(e,n){var r=t.call(this)||this;return r.parent=e,r.source=n,r.sourceSubscribed=!1,r}return r.a(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(i.a)},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a},function(t,e,n){"use strict";var r=n(370),i=n(375),o=n(376);i.a},function(t,e,n){"use strict";n(742)},function(t,e,n){"use strict";n(469),n(443),n(514),n(473),n(594)},function(t,e,n){"use strict";n(512),n(510)},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a},function(t,e,n){"use strict";var r=n(370),i=n(375),o=n(376);i.a},function(t,e,n){"use strict";var r=n(370),i=n(375),o=n(421),s=n(376);n(406),n(414);i.a},function(t,e,n){"use strict";var r=n(370),i=n(375),o=n(376);i.a},function(t,e,n){"use strict";var r=n(370),i=n(371),o=n(387);i.a},function(t,e,n){"use strict";n(743)},function(t,e,n){"use strict";n(470),n(443),n(594),n(473),n(514),n(442)},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a},function(t,e,n){"use strict";n(470),n(443),n(595),n(514),n(473),n(442)},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a},function(t,e,n){"use strict";var r=n(370),i=n(371),o=n(509);i.a},function(t,e,n){"use strict";n(515)},function(t,e,n){"use strict";n(734)},function(t,e,n){"use strict";n(472)},function(t,e,n){"use strict";var r=n(370),i=n(376),o=n(375),s=n(421);o.a},function(t,e,n){"use strict";n(515)},function(t,e,n){"use strict";var r=n(370),i=(n(414),n(396),n(375)),o=n(421),s=n(376);i.a},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a},function(t,e,n){"use strict";n(736),n(443)},function(t,e,n){"use strict";n(406)},function(t,e,n){"use strict";n(392),n(444)},function(t,e,n){"use strict";n(723),n(444)},function(t,e,n){"use strict";n(511),n(444)},function(t,e,n){"use strict";n(586),n(444)},function(t,e,n){"use strict";n(396),n(737)},function(t,e,n){"use strict";var r=n(370),i=n(371);n(412);i.a},function(t,e,n){"use strict";var r=n(370),i=n(392),o=n(375),s=n(376);o.a},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a},function(t,e,n){"use strict";var r=n(370),i=n(392),o=n(375),s=n(376);o.a},function(t,e,n){"use strict";var r=n(370),i=n(375);n(376);i.a},function(t,e,n){"use strict";var r=n(370),i=n(371);n(397);i.a;function o(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a;var o=function(t){function e(e,n){var r=t.call(this,e)||this;return r.parent=n,r}return r.a(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(i.a)},function(t,e,n){"use strict";n(444),n(585),n(392)},function(t,e,n){"use strict";n(586)},function(t,e,n){"use strict";var r=n(370),i=n(371),o=n(470);i.a},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a},function(t,e,n){"use strict";var r=n(370),i=n(371);n(469);i.a},function(t,e,n){"use strict";var r=n(370),i=n(375),o=n(421),s=n(376);i.a},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a},function(t,e,n){"use strict";n(512),n(413)},function(t,e,n){"use strict";n(1166)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(370),i=n(374),o=n(728),s=n(513),a=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=o.a);var i=t.call(this)||this;return i.source=e,i.delayTime=n,i.scheduler=r,(!Object(s.a)(n)||n<0)&&(i.delayTime=0),r&&"function"===typeof r.schedule||(i.scheduler=o.a),i}return r.a(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.a),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(i.a)},function(t,e,n){"use strict";n(597),n(442)},function(t,e,n){"use strict";n(597)},function(t,e,n){"use strict";e.a=function(t){return function(e){return e.lift(new s(t))}};var r=n(370),i=n(375),o=n(376);var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new a(t),r=Object(o.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),a=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(i.a)},function(t,e,n){"use strict";var r=n(370),i=n(371);i.a},function(t,e,n){"use strict";e.a=function(t,e,n){return function(r){return r.lift(new a(t,e,n))}};var r=n(370),i=n(371),o=n(507),s=n(465);var a=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))},t}(),u=function(t){function e(e,n,r,i){var a=t.call(this,e)||this;return a._tapNext=o.a,a._tapError=o.a,a._tapComplete=o.a,a._tapError=r||o.a,a._tapComplete=i||o.a,Object(s.a)(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||o.a,a._tapError=n.error||o.a,a._tapComplete=n.complete||o.a),a}return r.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(i.a)},function(t,e,n){"use strict";var r=n(370),i=n(371);n(397),n(744);i.a;function o(t){t.subscriber.clearThrottle()}},function(t,e,n){"use strict";n(397),n(596),n(592),n(406)},function(t,e,n){"use strict";n(397),n(729),n(745),n(588)},function(t,e,n){"use strict";n(397),n(406)},function(t,e,n){"use strict";n(515)},function(t,e,n){"use strict";var r=n(370),i=n(392),o=n(375);n(376);o.a},function(t,e,n){"use strict";var r=n(370),i=n(371),o=n(392);i.a},function(t,e,n){"use strict";var r=n(370),i=n(392),o=(n(397),n(371));n(513),n(413);var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return r.a(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(i.a);o.a;function a(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function u(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o={action:this,subscription:null},s={subscriber:n,window:n.openWindow(),context:o};o.subscription=r.schedule(c,e,s),this.add(o.subscription),this.schedule(t,i)}function c(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}},function(t,e,n){"use strict";var r=n(370),i=n(392),o=n(387),s=n(375),a=n(376);s.a},function(t,e,n){"use strict";var r=n(370),i=n(392),o=n(375),s=n(376);o.a},function(t,e,n){"use strict";var r=n(370),i=n(375),o=n(376);i.a},function(t,e,n){"use strict";n(593)},function(t,e,n){"use strict";n(593)},function(t,e,n){var r=n(598);(t.exports=n(107)(!1)).push([t.i,"/* dark-blue */\r\n.cluster-img {\r\n    position: absolute;\r\n    z-index: 3;\r\n}\r\n\r\n.img-dark-blue {\r\n    width: 58px;\r\n    height: 58px;\r\n    top: 21px;\r\n    left: 21.5px;\r\n    background: url("+r(n(747))+") no-repeat center;\r\n    display: flex;\r\n    align-items: center;\r\n    pointer-events: auto;/*为避免多图层时，marker部分，重叠。marker最外层皆为pointer-events: none*/\r\n}\r\n\r\n.dark-blue .sprite-icon {\r\n    width: 58px;\r\n    height: 58px;\r\n    margin: 0 auto;\r\n    pointer-events: none;\r\n}\r\n\r\n.police-container {\r\n    border: none;\r\n    border-radius: 50%;\r\n    background-color: rgba(149, 195, 254, 0.3);\r\n    box-shadow: 0 0 18px 0 rgba(184, 236, 255, 0.2), inset 0 0 14px 0 rgba(0, 188, 255, 0.2);\r\n}\r\n\r\n.police-active {\r\n    background: url("+r(n(748))+") no-repeat center;\r\n}\r\n\r\n.thumbnail {\r\n    display: inline-block;\r\n    position: absolute;\r\n    width: 26px;\r\n    height: 26px;\r\n    border: none;\r\n    transition: all .2s linear;\r\n    pointer-events: auto; /*父级允许穿透，这里需要设置接受鼠标事件*/\r\n}\r\n\r\n.thumbnail-li {\r\n    position: absolute;\r\n    list-style: none;\r\n    width: 100px;\r\n    height: 100px;\r\n    pointer-events: none; /*需要设置允许事件穿透，否则叠加在下方的元素的事件会被遮挡*/\r\n}\r\n\r\n.dark-blue .thumbnail-spread {\r\n    background: url("+r(n(747))+") no-repeat center;\r\n    background-size: 94%; /*设置100%会导致旋转后，尖角被遮挡*/\r\n}\r\n\r\n.dark-blue .thumbnail-spread:hover {\r\n    background: url("+r(n(748))+") no-repeat center;\r\n    background-size: 94%; /*设置100%会导致旋转后，尖角被遮挡*/\r\n}\r\n\r\n.thumbnails {\r\n    transform: rotate(-45deg);\r\n    transform-origin: 50% 50%;\r\n    height: 100px;\r\n    padding-inline-start: 0px;\r\n    margin-bottom: 0;\r\n    opacity: 1;\r\n    transition: all .2s linear;\r\n    pointer-events: none; /*防止覆盖物重叠时事件冲突*/\r\n}\r\n\r\n.thumbnails-rotate {\r\n    transform: rotate(45deg);\r\n}\r\n\r\n.thumbnails-rotate-out {\r\n    transform: rotate(-45deg);\r\n}\r\n\r\n.custom-hide {\r\n    opacity: 0;\r\n}\r\n\r\n.count-box {\r\n    position: absolute;\r\n    z-index: 3;\r\n    top: 52px;\r\n    left: 65px;\r\n    height: 22px;\r\n    box-sizing: border-box;\r\n    padding: 0 8px;\r\n    border-radius: 12px;\r\n    color: #fff;\r\n    font-weight: normal;\r\n    font-size: 12px;\r\n    line-height: 22px;\r\n    white-space: nowrap;\r\n    text-align: center;\r\n    overflow: hidden;\r\n    -webkit-transform-origin: 100% 0;\r\n    -ms-transform-origin: 100% 0;\r\n    transform-origin: 100% 0;\r\n}\r\n\r\n.dark-blue-count-color {\r\n    background-image: linear-gradient(-122deg, #2F8DF9 0%, #2A259C 100%);\r\n    -webkit-box-shadow: 0 0 6px 0 #2E83F0;\r\n    box-shadow: 0 0 6px 0 #2E83F0;\r\n}\r\n\r\n/* dark-blue-circle */\r\n\r\n.dark-blue-circle-target {\r\n    width: 38px;\r\n    height: 38px;\r\n    top: 31px;\r\n    left: 31px;\r\n    border-radius: 50%;\r\n    box-sizing: border-box;\r\n    text-align: center;\r\n    background-color: #325BDF;\r\n    border: 3px solid #9db1f2;\r\n    /*box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.60);*/\r\n    display: flex;\r\n    align-items: center;\r\n    pointer-events: auto;/*为避免多图层时，marker部分，重叠。marker最外层皆为pointer-events: none*/\r\n}\r\n\r\n.dark-blue-circle-target:hover {\r\n    background-color: #E0E7FE;\r\n}\r\n\r\n.dark-blue-circle .sprite-icon {\r\n    width: 34px;\r\n    height: 34px;\r\n    margin: 0 auto;\r\n    pointer-events: none;\r\n}\r\n\r\n.count-box-circle {\r\n    position: absolute;\r\n    z-index: 3;\r\n    top: 48px;\r\n    left: 60px;\r\n    height: 18px;\r\n    line-height: 18px;\r\n    box-sizing: border-box;\r\n    padding: 0 6px;\r\n    border-radius: 12px;\r\n    color: #325BDF;\r\n    font-weight: normal;\r\n    font-size: 12px;\r\n    white-space: nowrap;\r\n    text-align: center;\r\n    overflow: hidden;\r\n    -webkit-transform-origin: 100% 0;\r\n    -ms-transform-origin: 100% 0;\r\n    transform-origin: 100% 0;\r\n}\r\n\r\n.count-color {\r\n    background: #E0E7FE;\r\n    box-shadow: 0 0 3px 0 #182E75;\r\n    border-radius: 11px;\r\n}\r\n\r\n.dark-blue-circle .thumbnail {\r\n    display: inline-block;\r\n    position: absolute;\r\n    width: 26px;\r\n    height: 26px;\r\n    border-radius: 50%;\r\n    transition: all .2s linear;\r\n    pointer-events: auto; /*父级允许穿透，这里需要设置接受鼠标事件*/\r\n}\r\n\r\n.dark-blue-circle .thumbnail-spread {\r\n    background-color: #325BDF;\r\n}\r\n\r\n.dark-blue-circle .thumbnail-spread:hover {\r\n    background-color: #E0E7FE;\r\n    border: 3px solid #9db1f2;\r\n}",""])},function(t,e,n){var r=n(1187),i=n(1189),o=n(199),s=n(188),a=o(function(t,e){if(null==t)return[];var n=e.length;return n>1&&s(t,e[0],e[1])?e=[]:n>2&&s(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])});t.exports=a},function(t,e,n){var r=n(122),i=n(1188);t.exports=function t(e,n,o,s,a){var u=-1,c=e.length;for(o||(o=i),a||(a=[]);++u<c;){var l=e[u];n>0&&o(l)?n>1?t(l,n-1,o,s,a):r(a,l):s||(a[a.length]=l)}return a}},function(t,e,n){var r=n(76),i=n(116),o=n(18),s=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(s&&t&&t[s])}},function(t,e,n){var r=n(717),i=n(712),o=n(1190),s=n(1191),a=n(41),u=n(1192),c=n(114);t.exports=function(t,e,n){var l=-1;e=r(e.length?e:[c],a(i));var A=o(t,function(t,n,i){return{criteria:r(e,function(e){return e(t)}),index:++l,value:t}});return s(A,function(t,e){return u(t,e,n)})}},function(t,e,n){var r=n(710),i=n(40);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(1193);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,s=e.criteria,a=o.length,u=n.length;++i<a;){var c=r(o[i],s[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(463);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t===t,s=r(t),a=void 0!==e,u=null===e,c=e===e,l=r(e);if(!u&&!l&&!s&&t>e||s&&a&&c&&!u&&!l||i&&a&&c||!n&&c||!o)return 1;if(!i&&!s&&!l&&t<e||l&&n&&o&&!i&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}},function(t,e,n){var r=n(1195);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0};n(108)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(107)(!1)).push([t.i,".popup-bottom {\r\n    background-color: white;\r\n    -webkit-filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\r\n    filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\r\n    padding: 15px;\r\n    border-radius: 10px;\r\n    border: 1px solid #cccccc;\r\n    left: 0;\r\n    min-width: 100px;\r\n}\r\n.popup-bottom:after,\r\n.popup-bottom:before {\r\n    top: 100%;\r\n    border: solid transparent;\r\n    content: ' ';\r\n    height: 0;\r\n    width: 0;\r\n    position: absolute;\r\n    /* pointer-events: none; */\r\n}\r\n.popup-bottom:after {\r\n    border-top-color: white;\r\n    border-width: 10px;\r\n    left: 50%;\r\n    margin-left: -10px;\r\n}\r\n.popup-bottom:before {\r\n    border-width: 11px;\r\n    left: 50%;\r\n    margin-left: -11px;\r\n}\r\n.popup-closer {\r\n    text-decoration: none;\r\n    position: absolute;\r\n    top: 2px;\r\n    right: 8px;\r\n}\r\n.popup-closer:after {\r\n    content: '\\2716';\r\n}\r\n\r\n.popup-top {\r\n    background-color: white;\r\n    -webkit-filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\r\n    filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\r\n    padding: 15px;\r\n    border-radius: 10px;\r\n    border: 1px solid #cccccc;\r\n    left: 0;\r\n    min-width: 100px;\r\n}\r\n.popup-top:after,\r\n.popup-top:before {\r\n    bottom: 100%;\r\n    border: solid transparent;\r\n    content: ' ';\r\n    height: 0;\r\n    width: 0;\r\n    position: absolute;\r\n    /* pointer-events: none; */\r\n}\r\n.popup-top:after {\r\n    border-bottom-color: white;\r\n    border-width: 10px;\r\n    left: 50%;\r\n    margin-left: -10px;\r\n}\r\n.popup-top:before {\r\n    border-width: 11px;\r\n    left: 50%;\r\n    margin-left: -11px;\r\n}\r\n\r\n.popup-left {\r\n    background-color: white;\r\n    -webkit-filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\r\n    filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\r\n    padding: 15px;\r\n    border-radius: 10px;\r\n    border: 1px solid #cccccc;\r\n    left: -50px;\r\n    min-width: 100px;\r\n}\r\n.popup-left:after,\r\n.popup-left:before {\r\n    right: 100%;\r\n    border: solid transparent;\r\n    content: ' ';\r\n    height: 0;\r\n    width: 0;\r\n    position: absolute;\r\n    /* pointer-events: none; */\r\n}\r\n.popup-left:after {\r\n    border-right-color: white;\r\n    border-width: 10px;\r\n    top: calc(50% - 10px);\r\n    margin-left: -10px;\r\n}\r\n.popup-left:before {\r\n    border-width: 11px;\r\n    top: 50%;\r\n    margin-left: -11px;\r\n}\r\n\r\n.popup-right {\r\n    background-color: white;\r\n    -webkit-filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\r\n    filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\r\n    padding: 15px;\r\n    border-radius: 10px;\r\n    border: 1px solid #cccccc;\r\n    left: -50px;\r\n    min-width: 100px;\r\n}\r\n.popup-right:after,\r\n.popup-right:before {\r\n    left: 100%;\r\n    border: solid transparent;\r\n    content: ' ';\r\n    height: 0;\r\n    width: 0;\r\n    position: absolute;\r\n    /* pointer-events: none; */\r\n}\r\n.popup-right:after {\r\n    border-left-color: white;\r\n    border-width: 10px;\r\n    top: calc(50% - 10px);\r\n}\r\n.popup-left:before {\r\n    border-width: 11px;\r\n    top: 50%;\r\n}\r\n.popup-content:before,\r\n.popup-content:after {\r\n    display: table;\r\n    content: \"\";\r\n}\r\n.popup-content:after {\r\n    clear: both;\r\n}\r\n.popup-content {\r\n    *zoom: 1;\r\n}",""])},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(160),i=(n.n(r),n(105)),o=(n.n(i),n(24)),s=(n.n(o),n(74)),a=n.n(s),u=n(101),c=n.n(u),l=function(){function t(e,n){if(a()(this,t),!e)throw"轮播图元素必须传递";this.interval,this._init(e,n)}return c()(t,[{key:"_init",value:function(t,e){t&&"string"!==typeof t&&t.length&&t[t.length-1]?[].push.apply(this,t):t&&"string"!==typeof t&&[].push.apply(this,[t]),e&&"[object Object]"==={}.toString.call(e)&&(this.options=e);for(var n=0,r=this.length;n<r;n++){var i=this[n];if(i||1===i.nodeType||i.nodeName){i.index=0,i.silder_main=i.getElementsByTagName("*");for(var o=0,s=i.silder_main.length;o<s;o++){var a=i.silder_main[o];if(this.hasClass(a,"silder-main")){i.silder_main=a;break}}i.data_len=e.data.length,i.js_silder_ctrl=i.children[0],i.data=e.data,i.callback=e.callback,i.conLen=e.conLen,i.titLen=e.titLen,i.auto=e.auto;for(var u=i.js_silder_ctrl.children,c=0,l=u.length;c<l;c++)this._samllControllBtnBindEvent(u[c],i);this._createSmallControllBtn(i),this.options&&this.options.auto&&this._autoPlay(i)}}}},{key:"_createSmallControllBtn",value:function(t){var e=t.js_silder_ctrl,n=t.conLen||600;e.style.width="".concat(n,"px");var r=e.children[e.children.length-2],i=87;t.auto||(i-=39);var o=n-i;r.style.width="".concat(o,"px");var s=t.titLen||40;this.removeAllChild(r);for(var a=0,u=t.data_len;a<u;a++){var c=(o-s*u)/(u-1),l=document.createElement("span");l.className="silder-ctrl-con",0==a&&(l.className="silder-ctrl-con current"),l.innerHTML=t.data[a].dateTime,l.style.width="".concat(s,"px"),l.setAttribute("data-num",a+1),a<u-1&&(l.style.marginRight="".concat(c,"px")),this._samllControllBtnBindEvent(l,t),r.appendChild(l)}t.callback(0)}},{key:"removeAllChild",value:function(t){for(;t.hasChildNodes();)t.removeChild(t.firstChild)}},{key:"_samllControllBtnBindEvent",value:function(t,e){var n=this;t.onclick=function(t){t.stopPropagation();var r=this.className,i=this.getAttribute("data-num")-1,o=e.data_len;if("silder-ctrl-main"!=r){if("silder-ctrl-puash"==r)return clearInterval(e.timer),void(this.className="silder-ctrl-play");if("silder-ctrl-play"==r)return this.className="silder-ctrl-puash",clearInterval(e.timer),e.timer=setInterval(function(){n._play(e),n._setCtrlBtnStyle(e.index,e)},n.interval),void(window.clearId=e.timer);/silder-ctrl-prev/g.test(r)?(e.index--,e.index<0&&(e.index=o-1)):/silder-ctrl-next/g.test(r)?n._play(e):e.index=i,n._setCtrlBtnStyle(e.index,e)}}}},{key:"_play",value:function(t){var e=t.index,n=t.data_len;t.index=++e,e>n-1&&(t.index=e=0)}},{key:"_setCtrlBtnStyle",value:function(t,e){var n=e.js_silder_ctrl.children[e.js_silder_ctrl.children.length-2].children;e.callback(t);for(var r=0,i=n.length;r<i;r++)n[r].className="silder-ctrl-con";n[t].className="silder-ctrl-con current"}},{key:"_autoPlay",value:function(t){var e=this,n=this;n.interval=this.options.time?this.options.time:2e3,t.timer&&clearInterval(t.timer),t.timer=null,t.timer=setInterval(function(){n._play(t),n._setCtrlBtnStyle(t.index,t)},n.interval),window.clearId=t.timer,t.onmouseover=function(){clearInterval(t.timer)},t.onmouseleave=function(){"silder-ctrl-play"!=t.js_silder_ctrl.children[0].className&&(clearInterval(t.timer),t.timer=setInterval(function(){n._play(t),n._setCtrlBtnStyle(t.index,t)},e.interval),window.clearId=t.timer)}}},{key:"$",value:function(t){var e=t.indexOf(".");if(t.indexOf("#")>-1)return document.getElementById(t.substr(1));if(e>-1){var n=t.substr(e+1);if(document.getElementsByClassName){var r=document.getElementsByClassName(n);return 1==r.length?r[0]:r}for(var i=e>0?t.substr(0,e):"*",o=document.getElementsByTagName(i),s=[],a=0,u=o.length;a<u;a++)this.hasClass(o[a],n)&&s.push(o[a]);return 1==s.length?s[0]:s}return document.getElementsByTagName(t)}},{key:"hasClass",value:function(t,e){var n=t.className.split(" ");for(var r in n)if(n[r]==e)return!0;return!1}},{key:"getStyle",value:function(t,e){return t.currentStyle?t.currentStyle[e]:t.ownerDocument.defaultView.getComputedStyle(t,null)[e]}},{key:"animate",value:function(t,e,n){var r=this;clearInterval(t.timer),t.timer=setInterval(function(){var i=!0;for(var o in e){var s=parseInt(r.getStyle(t,o)),a=(parseInt(e[o])-s)/10;a=a>0?Math.ceil(a):Math.floor(a),s!=e[o]&&(i=!1),"zIndex"==o?t.style.zIndex=e[o]:t.style[o]="".concat(s+a,"px")}i&&(clearInterval(t.timer),n&&n.call(window))},20)}}]),t}()},function(t,e,n){var r=n(1198);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0};n(108)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(598);(t.exports=n(107)(!1)).push([t.i,"/*时间轴-开始*/\r\n.js-silder {\r\n\tposition: absolute;\r\n\toverflow: hidden;\r\n\ttop:80px;\r\n\tright:80px;\r\n\tz-index: 200;\r\n\tbackground:rgba(255,255,255,.7);\r\n\tpadding-left:5px;\r\n\t-moz-box-shadow:1px 1px 1px #999999;\r\n\t-webkit-box-shadow:1px 1px 1px #999999;\r\n\tbox-shadow:1px 1px 1px #999999;\r\n\t/*height: 36px;*/\r\n}\r\n\r\n.js-silder-ctrl {\r\n\tposition: relative;\r\n}\r\n\r\n.silder-ctrl-prev,\r\n.silder-ctrl-next {\r\n\tfloat:left;\r\n\twidth: 24px;\r\n\theight: 24px;\r\n\tmargin-top:5px;\r\n\tcursor: pointer;\r\n\tbackground: url("+r(n(600))+") no-repeat -10px -10px;\r\n}\r\n\r\n.silder-ctrl-prev {\r\n\tbackground-position:-186px -10px;\r\n}\r\n\r\n.silder-ctrl-prev:hover {\r\n\tbackground-position:-230px -10px;\r\n}\r\n\r\n.silder-ctrl-next {\r\n\tright: 0;\r\n}\r\n\r\n.silder-ctrl-next:hover {\r\n\tbackground-position:-54px -10px;\r\n}\r\n\r\n.silder-ctrl-con {\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\toverflow: hidden;\r\n\tborder: solid 1px #333;\r\n\tbackground: #fff;\r\n\tborder-radius: 10px;\r\n\tline-height: 22px;\r\n\ttext-align: center;\r\n\tfont-size: 10px;\r\n\toutline: none;\r\n\t-moz-user-select: none; /*火狐*/\r\n    -webkit-user-select: none; /*webkit浏览器*/\r\n    -ms-user-select: none; /*IE10*/\r\n    -khtml-user-select: none; /*早期浏览器*/\r\n    user-select: none;\r\n    box-sizing:border-box;\r\n\t-moz-box-sizing:border-box; /* Firefox */\r\n\t-webkit-box-sizing:border-box; /* Safari */\r\n }\r\n\r\n .silder-ctrl-con:first-child {\r\n \tmargin-left: 0;\r\n }\r\n\r\n .silder-ctrl-con:last-child {\r\n \tmargin-right: 0;\r\n }\r\n\r\n .current {\r\n \tbackground: #ff0000;\r\n \tborder: solid 1px #ff0000;\r\n \tborder-radius: 10px;\r\n \tcolor:#fff;\r\n }\r\n .silder-ctrl-main {\r\n \twidth: 500px;\r\n \tmargin-top: 5px;\r\n \theight: 24px;\r\n \tfloat: left;\r\n \tbackground: url("+r(n(1199))+") repeat-x center center;\r\n }\r\n\r\n .silder-ctrl-puash,.silder-ctrl-play {\r\n \twidth: 24px;\r\n \theight: 24px;\r\n \tcursor: pointer;\r\n \tdisplay: inline-block;\r\n \tmargin: 5px 10px 5px 5px;\r\n \tfloat: left;\r\n }\r\n/*暂停开始*/\r\n .silder-ctrl-puash {\r\n \tbackground: url("+r(n(600))+") -274px -10px;\r\n }\r\n\r\n .silder-ctrl-puash:hover {\r\n \tbackground-position:-318px -10px;\r\n }\r\n\r\n .silder-ctrl-play {\r\n \tbackground: url("+r(n(600))+") -98px -10px;\r\n }\r\n\r\n .silder-ctrl-play:hover {\r\n \tbackground-position:-142px -10px;\r\n }\r\n.text-container {\r\n    display: block;\r\n    font-size: 10px;\r\n    background-color: rgba(232, 0, 0, .7);\r\n    color: #fff;\r\n    padding: 2px 4px;\r\n    border: 1px solid rgba(232, 0, 0, 1);\r\n    border-radius: 3px;\r\n}\r\n/*时间轴-结束 */",""])},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAyCAYAAAC6VTBiAAAAM0lEQVR42u3SsQ0AIAwDwUxo2RPB5mSIIBr+pG9duQoA8AFJa1olOdPujNje0zgFAOClBqAico73LCxJAAAAAElFTkSuQmCC"},function(t,e,n){var r=n(8);r(r.P,"Array",{fill:n(433)}),n(174)("fill")},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r="undefined"===typeof window?{}:window,i=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame||function(t){return r.setTimeout(t,1e3/60)};r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=function(){function t(){i()(this,t),this.canvasListener={};var e=this;this.fn=function(t){e._handler(t)}}return s()(t,[{key:"addEvent",value:function(t,e){this.canvasListener[t]=e,this.animationCanvas.addEventListener(t,this.fn)}},{key:"removeEvent",value:function(t){this.animationCanvas.removeEventListener(t,this.fn),this.canvasListener[t]&&delete this.canvasListener[t]}},{key:"_handler",value:function(t){var e=[t.layerX,t.layerY],n=this.canvasCollect,r=this._queryRenderedFeatures(e,n);this.canvasListener[t.type].call(this,t,r)}},{key:"_queryRenderedFeatures",value:function(t,e){var n=this,r={point:[],line:[]};return e.markLines.forEach(function(i){var o=[i.from.pixel.x,i.from.pixel.y],s=[i.to.pixel.x,i.to.pixel.y],a=e.markerRadius>8?e.markerRadius:8;if(n._distence(o,t)<=a?r.point.push(i):n._distence(s,t)<=a&&r.point.push(i),0===r.point.length)for(var u=e.lineWidth>8?e.lineWidth:8,c=0;c<i.path.length-1;c++){n._pointOnLine(t,i.path[c],i.path[c+1],u)&&r.line.push(i)}}),r}},{key:"_pointOnLine",value:function(t,e,n,r){if(e[0]>n[0]){var i=[n,e];e=i[0],n=i[1]}if(t[0]<e[0]||t[0]>n[0])return!1;var o=(n[1]-e[1])/(n[0]-e[0]),s=n[1]-o*n[0],a=t[0]+o*t[1],u=[];return u[0]=(a-o*s)/(o*o+1),u[1]=o*u[0]+s,!(this._distence(u,t)-r/2>0)}},{key:"_distence",value:function(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.pow(n*n+r*r,.5)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=function(){function t(e,n,r,o,s){i()(this,t),this.restrictX=e||0,this.restrictY=n||0,this.callback=r||null,this.handler=o,this.root=s,this.object=null,this.init()}return s()(t,[{key:"init",value:function(){var t=this;this.handler.onmousedown=function(e){t.root.contains(e.target)&&(t.object=this,t.start(e))},this.handler.root=this.root||this.handler;var e=this.handler.root;e.onDragStart=this.callback.dragStart||new Function,e.onDrag=this.callback.onDrag||new Function,e.onDragEnd=this.callback.onDragEnd||new Function}},{key:"start",value:function(t){var e=this,n=this.object;n.style.cursor="move";var r=(t=t||this.fixEvent(window.event)).pageX,i=t.pageY;n.lastMouseX=r,n.lastMouseY=i;var o=n.root.offsetLeft,s=n.root.offsetTop;n.root.style.left=o+"px",n.root.style.top=s+"px",window.document.onmouseup=function(t){e.end(t)},window.document.onmousemove=function(t){e.drag(t)},n.root.onDragStart(o,s)}},{key:"drag",value:function(t){var e=(t=t||this.fixEvent(window.event)).pageX,n=t.pageY,r=this.object.root,i=r.style.left?parseInt(r.style.left):0,o=r.style.top?parseInt(r.style.top):0;i<=-1&&(i=-1),o<=-1&&(o=-1),i>=this.restrictX&&(i=this.restrictX),o>=this.restrictY&&(o=this.restrictY);var s=e-this.object.lastMouseX+i,a=n-this.object.lastMouseY+o;r.style.left=s+"px",r.style.top=a+"px",this.object.root.onDrag(s,a),this.object.lastMouseX=e,this.object.lastMouseY=n}},{key:"end",value:function(){var t=this,e=this.object.root.style.left?parseInt(this.object.root.style.left):0,n=this.object.root.style.top?parseInt(this.object.root.style.top):0;this.object.root.onDragEnd(e,n),window.setTimeout(function(){t.callback(e,n)}),window.document.onmousemove=null,window.document.onmouseup=null,this.object=null}},{key:"fixEvent",value:function(t){return t.pageX=t.clientX+window.document.documentElement.scrollLeft,t.pageY=t.clientY+window.document.documentElement.scrollTop,t}}]),t}()},function(t,e,n){"use strict";var r=n(1205);function i(t,e,n){this.options=n||{},this._onDown=this._onDown.bind(this),this._onMove=this._onMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._swiper=document.createElement("div"),this._swiper.className="compare-swiper",this._container=document.createElement("div"),this._container.className="mapboxgl-compare",this._container.appendChild(this._swiper),t.getContainer().appendChild(this._container),this._clippedMap=e,this._bounds=e.getContainer().getBoundingClientRect(),this._setPosition(this._bounds.width/2),r(t,e),e.on("resize",function(){this._bounds=e.getContainer().getBoundingClientRect(),this._x&&this._setPosition(this._x)}.bind(this)),this.options&&this.options.mousemove&&(t.getContainer().addEventListener("mousemove",this._onMove),e.getContainer().addEventListener("mousemove",this._onMove)),this._swiper.addEventListener("mousedown",this._onDown),this._swiper.addEventListener("touchstart",this._onDown)}i.prototype={_setPointerEvents:function(t){this._container.style.pointerEvents=t,this._swiper.style.pointerEvents=t},_onDown:function(t){t.touches?(document.addEventListener("touchmove",this._onMove),document.addEventListener("touchend",this._onTouchEnd)):(document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onMouseUp))},_setPosition:function(t){var e="translate("+(t=Math.min(t,this._bounds.width))+"px, 0)";this._container.style.transform=e,this._container.style.WebkitTransform=e,this._clippedMap.getContainer().style.clip="rect(0, 999em, "+this._bounds.height+"px,"+t+"px)",this._x=t},_onMove:function(t){this.options&&this.options.mousemove&&this._setPointerEvents(t.touches?"auto":"none"),this._setPosition(this._getX(t))},_onMouseUp:function(){document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onMouseUp)},_onTouchEnd:function(){document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onTouchEnd)},_getX:function(t){var e=(t=t.touches?t.touches[0]:t).clientX-this._bounds.left;return e<0&&(e=0),e>this._bounds.width&&(e=this._bounds.width),e}},e.a=i},function(t,e){function n(t,e){e.jumpTo({center:t.getCenter(),zoom:t.getZoom(),bearing:t.getBearing(),pitch:t.getPitch()})}t.exports=function(t,e){function r(){t.on("move",o),e.on("move",s)}function i(){t.off("move",o),e.off("move",s)}function o(){i(),n(t,e),r()}function s(){i(),n(e,t),r()}r()}},function(t,e,n){var r=n(1207);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0};n(108)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(107)(!1)).push([t.i,".mapboxgl-compare {\r\n  background-color:#fff;\r\n  position:absolute;\r\n  width:2px;\r\n  height:100%;\r\n  z-index:1;\r\n  }\r\n.mapboxgl-compare .compare-swiper {\r\n  background-color:#3887be;\r\n  box-shadow:inset 0 0 0 2px #fff;\r\n  display:inline-block;\r\n  border-radius:50%;\r\n  position:absolute;\r\n  width:60px;\r\n  height:60px;\r\n  top:50%;\r\n  left:-30px;\r\n  margin:-30px 1px 0;\r\n  color: #fff;\r\n  cursor:ew-resize;\r\n\tbackground-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiICAgd2lkdGg9IjYwIiAgIGhlaWdodD0iNjAiICAgdmVyc2lvbj0iMS4xIiAgIHZpZXdCb3g9IjAgMCA2MCA2MCIgICBpZD0ic3ZnNTQzNCIgICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxK2RldmVsK29zeG1lbnUgcjEyOTExIiAgIHNvZGlwb2RpOmRvY25hbWU9Imwtci5zdmciPiAgPG1ldGFkYXRhICAgICBpZD0ibWV0YWRhdGE1NDQ0Ij4gICAgPHJkZjpSREY+ICAgICAgPGNjOldvcmsgICAgICAgICByZGY6YWJvdXQ9IiI+ICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4gICAgICAgIDxkYzp0eXBlICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+ICAgICAgPC9jYzpXb3JrPiAgICA8L3JkZjpSREY+ICA8L21ldGFkYXRhPiAgPGRlZnMgICAgIGlkPSJkZWZzNTQ0MiIgLz4gIDxzb2RpcG9kaTpuYW1lZHZpZXcgICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIgICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IiAgICAgYm9yZGVyb3BhY2l0eT0iMSIgICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiICAgICBncmlkdG9sZXJhbmNlPSIxMCIgICAgIGd1aWRldG9sZXJhbmNlPSIxMCIgICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIgICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTI4NiIgICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijc1MSIgICAgIGlkPSJuYW1lZHZpZXc1NDQwIiAgICAgc2hvd2dyaWQ9InRydWUiICAgICBpbmtzY2FwZTp6b29tPSI0IiAgICAgaW5rc2NhcGU6Y3g9IjI1Ljg4OTgzMSIgICAgIGlua3NjYXBlOmN5PSIzNC4zODE4MzMiICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIgICAgIGlua3NjYXBlOndpbmRvdy15PSIyMyIgICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmc1NDM0IiAgICAgaW5rc2NhcGU6b2JqZWN0LW5vZGVzPSJ0cnVlIiAgICAgaW5rc2NhcGU6c25hcC1zbW9vdGgtbm9kZXM9InRydWUiPiAgICA8aW5rc2NhcGU6Z3JpZCAgICAgICB0eXBlPSJ4eWdyaWQiICAgICAgIGlkPSJncmlkNTk4OSIgLz4gIDwvc29kaXBvZGk6bmFtZWR2aWV3PiAgPHBhdGggICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIiAgICAgZD0iTSAyNSAyNCBMIDE2IDMwIEwgMjUgMzYgTCAyNSAyNCB6IE0gMzUgMjQgTCAzNSAzNiBMIDQ0IDMwIEwgMzUgMjQgeiAiICAgICBpZD0icGF0aDU5OTUiIC8+PC9zdmc+);\r\n  }\r\n",""])},function(t,e,n){"use strict";n.d(e,"a",function(){return S});var r=n(162),i=(n.n(r),n(104)),o=(n.n(i),n(103)),s=(n.n(o),n(1209)),a=n.n(s),u=n(109),c=(n.n(u),n(30)),l=(n.n(c),n(25)),A=(n.n(l),n(24)),h=(n.n(A),n(106)),p=(n.n(h),n(74)),f=n.n(p),g=n(101),d=n.n(g),y=(n(102),n(156)),v=n(601),m=n(602),C=n(1211),I=n(771),_=n(516),b=n(772),w=n(1221),E=n(447),B=n(448),x=n(475),O=n(1249),T=n(386),N=n(1250),S=function(){function t(e){var n=this;f()(this,t),this.id=Object(y.b)(),this._st=e.startTime,this._et=e.endTime,this.to02=!!Object(_.a)(e.toGcj02)&&e.toGcj02,this.st=new Date(e.startTime).getTime(),this.et=new Date(e.endTime).getTime(),this.sr=Object(_.b)(e.speedRate)?e.speedRate:I.a,this.actorProps=this._buildActorProps(e),this.actorVisible=!0,this.routeProps=this._buildRouteProps(e),this.routeVisible=!0,this.autoDirection=!Object(_.a)(e.autoDirection)||e.autoDirection,this.requestList=[],this.lifeCircle={oncreated:e.oncreated,onerror:e.onerror,onkeypointchange:e.onkeypointchange},this.playerUnits={},y.a.bindAll(["runPerspective"],this);var r=(e.gbids?e.gbids:[e.gbid]).map(function(t){return n._buildTrackerViewer(t)});Promise.all(r).then(function(t){n.model=new v.a(n.st,n.et,n.sr),n.controller=new m.a(n.model),n.viewer=new C.a(n.controller),n.controller.addViewer(n.viewer),t.map(function(t){n._createTrackViewer(t)}),n.controller.run(),n.lifeCircle.oncreated&&n.lifeCircle.oncreated(n.id)}).catch(function(t){n.lifeCircle.onerror&&n.lifeCircle.onerror(t)})}return d()(t,[{key:"destroy",value:function(t){if(this.setTimeLoading)t(new Error("正在请求更新数据"),null);else if(this.requestList.length>0)t(new Error("".concat(this.requestList.join(","),"正在加载")),null);else{for(var e in this.controller.pause(),this.controller.removeViewer(this.viewer),this.playerUnits){var n=this.playerUnits[e];this.controller.removeViewer(n),n.destroy()}this.playerUnits={},this.viewer.destroy(),this.viewer=null,this.controller.destroy(),this.controller=null,this.model.destroy(),this.model=null}}},{key:"addActorEvent",value:function(t,e){for(var n in this.playerUnits){this.playerUnits[n].addActorEvent(t,e)}}},{key:"removeActorEvent",value:function(t){for(var e in this.playerUnits){this.playerUnits[e].removeActorEvent(t)}}},{key:"setHistoryTrackProgressBy",value:function(t){this.controller.setBy(t)}},{key:"setHistoryTrackProgressTo",value:function(t){this.controller.setTo(t)}},{key:"setHistoryTrackPerspective",value:function(t){var e=t.type,n=a()(t,["type"]);"NONE_PERSPECTIVE"===e?(this.perspectiveOptions=null,this.controller.removePerspective()):(this.perspectiveOptions={type:e,options:n},this.controller.setPerspective(this.runPerspective))}},{key:"runPerspective",value:function(){if(this.perspectiveOptions){var t=this.perspectiveOptions,e=t.type,n=t.options;switch(e){case"FOLLOWING_PERSPECTIVE":this.runFollowingPerspective(n);break;case"FULL_TRACK_PERSPECTIVE":this.runFullTrackPerspective();break;default:return}}}},{key:"runFollowingPerspective",value:function(t){var e=t.gbid,n=this.playerUnits[e];if(n){var r=n.node;Object(O.a)(r.lngLat)}}},{key:"runFullTrackPerspective",value:function(){var t=this,e={type:"Feature",geometry:{type:"MultiLineString",coordinates:Object.keys(this.playerUnits).reduce(function(e,n){var r=t.playerUnits[n].segmentStore._segments;return e.concat(r.map(function(t){return t.toArray()}))},[])},properties:{}},n=T.a.bbox(e),r=[[n[0],n[1]],[n[2],n[3]]];Object(N.a)(r)}},{key:"addPlayerUnit",value:function(t,e){var n=this;this.playerUnits[t]?e(new Error(t+"已经存在..."),null):Object(b.a)({st:this._st,et:this._et,gbid:t},function(r,i){if(r)e(r,null);else{var o=i.map(function(t){return B.a.transform(t,n.to02)}),s=Object(w.a)(o,{actorProps:n.actorProps,actorVisible:n.actorVisible,routeProps:n.routeProps,routeVisible:n.routeVisible,autoDirection:n.autoDirection,st:n.model.st,et:n.model.et,rules:n.rules});s?e(null,s):e(new Error(t+"构建历史轨迹失败..."),null)}})}},{key:"removePlayerUnit",value:function(t){}},{key:"_buildTrackerViewer",value:function(t,e,n){var r=this;return new Promise(function(i,o){Object(b.a)({st:e||r._st,et:n||r._et,gbid:t},function(e,n){if(e)o(e);else{var s=n.map(function(t){return B.a.transform(t,r.to02)}),a=new x.a,u=!0,c=!1,l=void 0;try{for(var A,h=s[Symbol.iterator]();!(u=(A=h.next()).done);u=!0){var p=A.value;a.add(p)}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}0===a.size()?o(new Error("".concat(t,"构建失败..."))):i({gbid:t,segmentStore:a})}})})}},{key:"_buildActorProps",value:function(t){return{actorTemplate:t.actorContent,actorWidth:t.actorWidth,actorHeight:t.actorHeight,actorIcon:t.actorIcon,actorIconText:t.actorIconText,actorNonBackground:t.actorNonBackground,actorScale:t.actorScale,actorRotation:t.actorRotation,actorOffset:t.actorOffset}}},{key:"_buildRouteProps",value:function(t){var e=[];return this.rules=t.outer?[{field:"__outer__",values:[{value:1,validator:t.outer.filter},{value:0}]}]:[{field:"__outer__",values:[{value:0}]}],t.outer&&(e.push({"line-width":t.trackWidth,"line-color":t.outer.entireTrackColor,"line-pattern":t.outer.entireTrackPattern,filter:["all",["==",E.b.entire.key,E.b.entire.value],["==","__outer__",1]]}),e.push({"line-width":t.trackWidth,"line-color":t.outer.passedTrackColor,"line-pattern":t.outer.passedTrackPattern,filter:["all",["==",E.b.passed.key,E.b.passed.value],["==","__outer__",1]]})),e.push({"line-width":t.trackWidth,"line-color":t.entireTrackColor,"line-pattern":t.entireTrackPattern,filter:["all",["==",E.b.entire.key,E.b.entire.value],["==","__outer__",0]]}),e.push({"line-width":t.trackWidth,"line-color":t.passedTrackColor,"line-pattern":t.passedTrackPattern,filter:["all",["==",E.b.passed.key,E.b.passed.value],["==","__outer__",0]]}),e}},{key:"_createTrackViewer",value:function(t){var e=this,n=t.gbid,r=t.segmentStore,i=Object(w.a)(r,{actorProps:this.actorProps,actorVisible:this.actorVisible,routeProps:this.routeProps,routeVisible:this.routeVisible,autoDirection:this.autoDirection,st:this.st,et:this.et,rules:this.rules});this.playerUnits[n]=i,this.controller.addViewer(i),i.onkeypointchange=function(t){return function(n){e.lifeCircle.onkeypointchange&&e.lifeCircle.onkeypointchange(t,n.properties)}}(n)}},{key:"addHistoryTrackByGbid",value:function(t,e){var n=this;this.setTimeLoading?e(new Error("正在请求更新数据"),null):this.requestList.indexOf(t)>-1?e(new Error("".concat(t,"正在创建")),null):this.playerUnits[t]?e(new Error("".concat(t,"已经存在")),null):(this.requestList.push(t),this._buildTrackerViewer(t).then(function(r){n._createTrackViewer(r);var i=n.requestList.indexOf(t);i>-1&&n.requestList.splice(i,1),e(null,{gbidList:Object.keys(n.playerUnits)})}).catch(function(t){e(new Error(t.message),null)}))}},{key:"removeHistoryTrackByGbid",value:function(t,e){if(this.setTimeLoading)e(new Error("正在请求更新数据"),null);else if(this.requestList.indexOf(t)>-1)e(new Error("".concat(t,"正在创建")),null);else{var n=this.playerUnits[t];n?(this.controller.removeViewer(n),delete this.playerUnits[t],n.destroy(),e(null,{gbidList:Object.keys(this.playerUnits)})):e(new Error("".concat(t,"不存在")),null)}}},{key:"setHistoryTrackPlaybackTime",value:function(t,e,n){var r=this;if(this.setTimeLoading)n(new Error("正在请求更新数据"),null);else if(this.requestList.length>0)n(new Error("".concat(this.requestList.join(","),"正在加载")),null);else{var i=this.model.running;this.controller.pause(),this.setTimeLoading=!0;var o=t,s=e,a=new Date(t).getTime(),u=new Date(e).getTime(),c=Object.keys(this.playerUnits).map(function(t){return r._buildTrackerViewer(t,o,s)});Promise.all(c).then(function(t){r._st=o,r._et=s,r.st=a,r.et=u,r.setTimeLoading=!1,t.map(function(t){var e=t.gbid,n=t.segmentStore;r.playerUnits[e].segmentStore=n,r.playerUnits[e].setAbsoluteTimestamp(a,u)}),r.model.st=a,r.model.et=u,r.controller.rerun(),n(null,{gbidList:Object.keys(r.playerUnits)})}).catch(function(t){r.setTimeLoading=!1,i&&r.controller.run(),n(new Error(t.message),null)})}}}]),t}()},function(t,e,n){var r=n(1210);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(162),i=(n.n(r),n(104)),o=(n.n(i),n(30)),s=(n.n(o),n(74)),a=n.n(s),u=n(101),c=n.n(u),l=n(102),A=n(156),h=n(1212),p=n(1213),f=n(603),g=n(604),d=n(1214),y=(n.n(d),function(){function t(e){a()(this,t),this.parent=Object(h.a)(),this.controller=e,this._setupElement(),A.a.bindAll(["_onfastbackward","_onplayorpause","_onfastforward","_onautoviewport","_onentirebarclick","_onclose"],this),this._bindEvents()}return c()(t,[{key:"destroy",value:function(){this._unbindEvents(),this.parent.removeChild(this.container),this.parent.removeChild(this.playerBorderContainer),this.parent=null}},{key:"render",value:function(t){var e=t.st,n=t.et,r=t.sr,i=t.passed,o=t.running,s=n-e,a=Object(g.b)(e),u=Object(g.b)(e+i),c=Object(g.b)(n),l=Object(g.a)(i),A=Object(g.a)(s);this.absStartTime.innerHTML=a,this.absCurrentTime.innerHTML=u,this.absEndTime.innerHTML=c,this.passedDuration.innerHTML=l,this.entireDuration.innerHTML=A,this.speedRate.innerHTML=1===r?"倍速":r>1?r+"X":"-"+parseInt(1/r)+"X",this.playOrPause.className=o?"history-track-pause":"history-track-play",this.slider.style.left="calc(".concat(100*i/s,"% - 25px)"),this.passedBar.style.left="calc(".concat(100*i/s,"% - 25px)")}},{key:"_setupElement",value:function(){var t=this;this.container=f.a.create("div","history-track-component-container",this.parent),this.playerBorderContainer=f.a.create("div","history-track-player-border",this.parent),this.closeButton=f.a.create("div","history-track-close-button",this.playerBorderContainer),this.fastBackward=f.a.create("div","history-track-fast-backward",this.container),this.playOrPause=f.a.create("div","history-track-play",this.container),this.fastForward=f.a.create("div","history-track-fast-forward",this.container),this.speedRateContainer=f.a.create("div","history-track-speed-rate-container",this.container),this.speedRate=f.a.create("div","history-track-speed-rate",this.speedRateContainer),this.speedRate.innerHTML="倍速",this.speedRateList=f.a.create("div","history-track-speed-rate-list",this.speedRateContainer),this.speedRateBtns=p.a.get().map(function(e){var n=f.a.create("div","history-track-speed-rate-item",t.speedRateList);return n.innerHTML="".concat(e,"X"),n.setAttribute("speed",e),{element:n,speed:e}}),this.progressBarContainer=this._setupProgressBar(this.container)}},{key:"_setupProgressBar",value:function(t){var e=f.a.create("div","history-track-progress-bar",t);return this.durationContainer=f.a.create("div","history-track-duration",e),this.passedDuration=f.a.create("div","history-track-passed-duration",this.durationContainer),this.passedDuration.innerHTML="00:00:00",this.entireDuration=f.a.create("div","history-track-entire-duration",this.durationContainer),this.entireDuration.innerHTML="00:00:00",this.progressContainer=f.a.create("div","history-track-progress-container",e),this.entireBar=f.a.create("div","history-track-entire-bar",this.progressContainer),this.passedBar=f.a.create("div","history-track-passed-bar",this.progressContainer),this.slider=f.a.create("div","history-track-slider",this.progressContainer),f.a.create("div","history-track-slider-wrapper-a",this.slider),f.a.create("div","history-track-slider-wrapper-b",this.slider),f.a.create("div","history-track-slider-wrapper-c",this.slider),this.absTimestampContainer=f.a.create("div","history-track-abs-timestamp",e),this.absStartTime=f.a.create("div","history-track-start-abs",this.absTimestampContainer),this.absStartTime.innerHTML="0000-00-00 00:00:00",this.absCurrentTime=f.a.create("div","history-track-current-abs",this.absTimestampContainer),this.absCurrentTime.innerHTML="0000-00-00 00:00:00",this.absEndTime=f.a.create("div","history-track-end-abs",this.absTimestampContainer),this.absEndTime.innerHTML="0000-00-00 00:00:00",e}},{key:"_bindEvents",value:function(){this.fastBackward.addEventListener("click",this._onfastbackward,!1),this.playOrPause.addEventListener("click",this._onplayorpause,!1),this.fastForward.addEventListener("click",this._onfastforward,!1),this.entireBar.addEventListener("click",this._onentirebarclick,!1),this.closeButton.addEventListener("click",this._onclose,!1);var t=!0,e=!1,n=void 0;try{for(var r,i=this.speedRateBtns[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.delegator=this._speedrateDelegator(o.speed),o.element.addEventListener("click",o.delegator,!1)}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},{key:"_unbindEvents",value:function(){this.fastBackward.removeEventListener("click",this._onfastbackward,!1),this.playOrPause.removeEventListener("click",this._onplayorpause,!1),this.fastForward.removeEventListener("click",this._onfastforward,!1),this.entireBar.removeEventListener("click",this._onentirebarclick,!1),this.closeButton.removeEventListener("click",this._onclose,!1);var t=!0,e=!1,n=void 0;try{for(var r,i=this.speedRateBtns[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.element.removeEventListener("click",o.delegator,!1)}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},{key:"_onfastbackward",value:function(){this.controller.setBy(-5e3)}},{key:"_onplayorpause",value:function(){this.controller.toggleStatus()}},{key:"_onfastforward",value:function(){this.controller.setBy(5e3)}},{key:"_onautoviewport",value:function(){console.log("视角跟随")}},{key:"_onentirebarclick",value:function(t){var e=t.currentTarget.getBoundingClientRect(),n=(t.clientX-e.left)/e.width;this.controller.setByPercent(n)}},{key:"_onclose",value:function(){l.a.modules.HistoryPlayback().remove()}},{key:"_speedrateDelegator",value:function(t){var e=this;return function(){e.controller.setSpeedRate(t)}}}]),t}())},function(t,e,n){"use strict";var r=n(102);function i(){return r.a.map.map._container}var o={mm:i,kd:i,ol:function(){return r.a.map.map.viewport_}};e.a=o.kd},function(t,e,n){"use strict";var r=[20,15,10,5,1,-5,-10,-15,-20];e.a={get:function(){return r.concat()},validate:function(t){return r.indexOf(t)>-1}}},function(t,e,n){var r=n(1215);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0};n(108)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(598);(t.exports=n(107)(!1)).push([t.i,".history-track-component-container {\r\n    width: 100%;\r\n    height: 78px;\r\n    background-color: rgba(35, 30, 72, 0.76);\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    box-sizing: border-box;\r\n    padding: 20px 10px;\r\n    user-select: none;\r\n}\r\n\r\n.history-track-fast-backward,\r\n.history-track-fast-forward {\r\n    width: 24px;\r\n    height: 24px;\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n    background-position: center center;\r\n    cursor: pointer;\r\n}\r\n\r\n.history-track-fast-backward {\r\n    background-image: url("+r(n(1216))+");\r\n}\r\n\r\n.history-track-fast-forward {\r\n    background-image: url("+r(n(1217))+");\r\n}\r\n\r\n.history-track-play,\r\n.history-track-pause {\r\n    width: 24px;\r\n    height: 24px;\r\n    margin: 0 18px;\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n    background-position: center center;\r\n    cursor: pointer;\r\n    position: relative;\r\n}\r\n\r\n.history-track-play {\r\n    background-image: url("+r(n(1218))+");\r\n}\r\n\r\n.history-track-pause {\r\n    background-image: url("+r(n(1219))+");\r\n}\r\n\r\n.history-track-play:before {\r\n    content: '';\r\n    display: block;\r\n    width: 1px;\r\n    height: 1px;\r\n    box-shadow: -3px 0 15px 15px rgba(255,255,255,0.3);\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\n.history-track-speed-rate-container {\r\n    width: 42px;\r\n    height: 24px;\r\n    position: relative;\r\n    margin: 0 40px 0 40px;\r\n}\r\n\r\n.history-track-speed-rate {\r\n    width: 42px;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    background-color: white;\r\n    border-radius: 12px;\r\n    font-size: 12px;\r\n    text-align: center;\r\n}\r\n\r\n.history-track-speed-rate-list {\r\n    display: none;\r\n    position: absolute;\r\n    left: calc(50% - 28px);\r\n    bottom: 24px;\r\n    background-color: rgba(21, 12, 40, 0.8);\r\n    width: 56px;\r\n    color: white;\r\n    font-size: 12px;\r\n    text-align: center;\r\n}\r\n\r\n.history-track-speed-rate-container:hover .history-track-speed-rate-list {\r\n    display: block;\r\n}\r\n\r\n.history-track-speed-rate-item {\r\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2);\r\n    line-height: 30px;\r\n    cursor: pointer;\r\n}\r\n\r\n.history-track-speed-rate-item:hover {\r\n    background-color: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n/* 视角跟随 */\r\n.history-track-auto-viewport {\r\n    width: 24px;\r\n    height: 24px;\r\n    position: relative;\r\n    margin: 0 20px 0 40px;\r\n    cursor: pointer;\r\n    background-position: center center;\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n}\r\n\r\n.history-track-auto-viewport-on {\r\n    background-image: url("+r(n(770))+");\r\n    opacity: 1;\r\n}\r\n\r\n.history-track-auto-viewport-off {\r\n    background-image: url("+r(n(770))+");\r\n    opacity: .6;\r\n}\r\n\r\n.history-track-progress-bar {\r\n    flex: 1;\r\n}\r\n\r\n.history-track-duration, .history-track-abs-timestamp {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    font-size: 12px;\r\n    color: white;\r\n}\r\n\r\n.history-track-progress-container {\r\n    width: 100%;\r\n    padding: 10px 0;\r\n    position: relative;\r\n}\r\n\r\n.history-track-entire-bar {\r\n    width: 100%;\r\n    height: 2px;\r\n    position: relative;\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n    cursor: pointer;\r\n}\r\n\r\n.history-track-entire-bar:before, \r\n.history-track-entire-bar:after {\r\n    content: '';\r\n    display: block;\r\n    background-color: transparent;\r\n    width: 100%;\r\n    height: 3px;\r\n    position: absolute;\r\n    left: 0;\r\n}\r\n\r\n.history-track-entire-bar:before {\r\n    top: -3px;\r\n}\r\n\r\n.history-track-entire-bar:after {\r\n    bottom: -3px;\r\n}\r\n\r\n.history-track-passed-bar {\r\n    width: 0%;\r\n    height: 2px;\r\n    background-color: rgba(255, 255, 255, 1);\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n}\r\n\r\n.history-track-slider {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 25px;\r\n    background-color: rgba(45, 135, 253, 0.1);\r\n    position: absolute;\r\n    left: calc(0% - 25px);\r\n    bottom: -14px;\r\n    cursor: pointer;\r\n    pointer-events: none;\r\n}\r\n\r\n.history-track-slider-wrapper-a {\r\n    width: 36px;\r\n    height: 36px;\r\n    border-radius: 18px;\r\n    background-color:rgba(45, 135, 253, 0.3);\r\n}\r\n\r\n.history-track-slider-wrapper-b {\r\n    width: 18px;\r\n    height: 18px;\r\n    border-radius: 18px;\r\n    background-color:rgba(45, 135, 253, 1);\r\n}\r\n\r\n.history-track-slider-wrapper-c {\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 18px;\r\n    background-color:rgba(255, 255, 255, 1);\r\n}\r\n\r\n.history-track-slider-wrapper-a,\r\n.history-track-slider-wrapper-b,\r\n.history-track-slider-wrapper-c {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\n.history-track-player-border {\r\n    border-top: 10px solid rgba(35, 30, 72, 0.76);\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    pointer-events: none;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.history-track-close-button {\r\n    width: 24px;\r\n    height: 24px;\r\n    background-color: red;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    background-color: rgba(35, 30, 72, 0.76);\r\n    border-radius: 0 0 0 16px;\r\n    pointer-events: auto;\r\n    background-image: url("+r(n(1220))+");\r\n    background-position: center center;\r\n    background-repeat: no-repeat;\r\n    background-size: 30% 30%;\r\n    cursor: pointer;\r\n}\r\n\r\n/* .kmap-marker-container {\r\n\r\n} */\r\n\r\n.kmap-marker-container > .kmap-road-plan-marker-start-img,\r\n.kmap-marker-container > .kmap-road-plan-marker-end-img {\r\n    margin: 0 auto;\r\n}\r\n\r\n.kmap-marker-timestamp {\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    color: black;\r\n    background-color: white;\r\n    border-radius: 3px;\r\n}",""])},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI0IDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsdGVyOnVybCgjQWRvYmVfT3BhY2l0eU1hc2tGaWx0ZXIpO30NCgkuc3Qxe2ZpbGw6I0ZGRkZGRjt9DQoJLnN0MnttYXNrOnVybCgjbWFzay0yKTtmaWxsOiNGRkZGRkY7fQ0KPC9zdHlsZT4NCjx0aXRsZT5xdWljayByZXRyZWF0PC90aXRsZT4NCjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KPGcgaWQ9IuinhumikeaSreaUviI+DQoJPGcgaWQ9Il94MzFf5Y6G5Y+y6L2o6L+5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzU1LjAwMDAwMCwgLTkwMi4wMDAwMDApIj4NCgkJPGcgaWQ9Ikdyb3VwLTEzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcyNS4wMDAwMDAsIDg3MC4wMDAwMDApIj4NCgkJCTxnIGlkPSJHcm91cC0xMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzAuMDAwMDAwLCAxOC4wMDAwMDApIj4NCgkJCQk8ZyBpZD0icXVpY2stcmV0cmVhdCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDkuMDAwMDAwKSI+DQoJCQkJCTxnIGlkPSJSZWN0YW5nbGUiPg0KCQkJCQk8L2c+DQoJCQkJCTxkZWZzPg0KCQkJCQkJPGZpbHRlciBpZD0iQWRvYmVfT3BhY2l0eU1hc2tGaWx0ZXIiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMCIgeT0iMTAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIxMy40Ij4NCgkJCQkJCQk8ZmVDb2xvck1hdHJpeCAgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjEgMCAwIDAgMCAgMCAxIDAgMCAwICAwIDAgMSAwIDAgIDAgMCAwIDEgMCIvPg0KCQkJCQkJPC9maWx0ZXI+DQoJCQkJCTwvZGVmcz4NCgkJCQkJPG1hc2sgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMCIgeT0iMTAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIxMy40IiBpZD0ibWFzay0yIj4NCgkJCQkJCTxnIGNsYXNzPSJzdDAiPg0KCQkJCQkJCTxyZWN0IGlkPSJwYXRoLTEiIHk9IjUiIGNsYXNzPSJzdDEiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIvPg0KCQkJCQkJPC9nPg0KCQkJCQk8L21hc2s+DQoJCQkJCTxwYXRoIGlkPSJDb21iaW5lZC1TaGFwZS1Db3B5LTIiIGNsYXNzPSJzdDIiIGQ9Ik0xMi44LDE3LjhsOS40LDUuNWMwLjYsMC4zLDEuMywwLjEsMS42LTAuNGMwLjEtMC4yLDAuMi0wLjQsMC4yLTAuNnYtMTENCgkJCQkJCWMwLTAuNy0wLjUtMS4yLTEuMi0xLjJjLTAuMiwwLTAuNCwwLjEtMC42LDAuMmwtOS40LDUuNWMtMC42LDAuMy0wLjgsMS4xLTAuNCwxLjZDMTIuNSwxNy41LDEyLjcsMTcuNywxMi44LDE3Ljh6IE0wLjYsMTcuOA0KCQkJCQkJbDkuNCw1LjVjMC42LDAuMywxLjMsMC4xLDEuNi0wLjRjMC4xLTAuMiwwLjItMC40LDAuMi0wLjZ2LTExYzAtMC43LTAuNS0xLjItMS4yLTEuMmMtMC4yLDAtMC40LDAuMS0wLjYsMC4ybC05LjQsNS41DQoJCQkJCQljLTAuNiwwLjMtMC44LDEuMS0wLjQsMS42QzAuMywxNy41LDAuNSwxNy43LDAuNiwxNy44eiIvPg0KCQkJCTwvZz4NCgkJCTwvZz4NCgkJPC9nPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K"},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI0IDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsdGVyOnVybCgjQWRvYmVfT3BhY2l0eU1hc2tGaWx0ZXIpO30NCgkuc3Qxe2ZpbGw6I0ZGRkZGRjt9DQoJLnN0MnttYXNrOnVybCgjbWFzay0yKTtmaWxsOiNGRkZGRkY7fQ0KPC9zdHlsZT4NCjxnIGlkPSLop4bpopHmkq3mlL4iPg0KCTxnIGlkPSJfeDMxX+WOhuWPsui9qOi/uSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTgzOS4wMDAwMDAsIC05MDIuMDAwMDAwKSI+DQoJCTxnIGlkPSJHcm91cC0xMy1Db3B5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MjUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+DQoJCQk8ZyBpZD0iR3JvdXAtMTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwLjAwMDAwMCwgMTguMDAwMDAwKSI+DQoJCQkJPGcgaWQ9ImZhc3QtZm9yd2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODQuMDAwMDAwLCA5LjAwMDAwMCkiPg0KCQkJCQk8ZyBpZD0iUmVjdGFuZ2xlIj4NCgkJCQkJPC9nPg0KCQkJCQk8ZGVmcz4NCgkJCQkJCTxmaWx0ZXIgaWQ9IkFkb2JlX09wYWNpdHlNYXNrRmlsdGVyIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjEwLjMiIHdpZHRoPSIyNCIgaGVpZ2h0PSIxMy40Ij4NCgkJCQkJCQk8ZmVDb2xvck1hdHJpeCAgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjEgMCAwIDAgMCAgMCAxIDAgMCAwICAwIDAgMSAwIDAgIDAgMCAwIDEgMCIvPg0KCQkJCQkJPC9maWx0ZXI+DQoJCQkJCTwvZGVmcz4NCgkJCQkJPG1hc2sgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMCIgeT0iMTAuMyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjEzLjQiIGlkPSJtYXNrLTIiPg0KCQkJCQkJPGcgY2xhc3M9InN0MCI+DQoJCQkJCQkJPHJlY3QgaWQ9InBhdGgtMSIgeT0iNSIgY2xhc3M9InN0MSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+DQoJCQkJCQk8L2c+DQoJCQkJCTwvbWFzaz4NCgkJCQkJPHBhdGggaWQ9IkNvbWJpbmVkLVNoYXBlIiBjbGFzcz0ic3QyIiBkPSJNMTEuMiwxOGwtOS40LDUuNWMtMC42LDAuMy0xLjMsMC4xLTEuNi0wLjRDMC4xLDIyLjksMCwyMi43LDAsMjIuNXYtMTENCgkJCQkJCWMwLTAuNywwLjUtMS4yLDEuMi0xLjJjMC4yLDAsMC40LDAuMSwwLjYsMC4ybDkuNCw1LjVjMC42LDAuMywwLjgsMS4xLDAuNCwxLjZDMTEuNSwxNy44LDExLjMsMTcuOSwxMS4yLDE4eiBNMjMuNCwxOEwxNCwyMy41DQoJCQkJCQljLTAuNiwwLjMtMS4zLDAuMS0xLjYtMC40Yy0wLjEtMC4yLTAuMi0wLjQtMC4yLTAuNnYtMTFjMC0wLjcsMC41LTEuMiwxLjItMS4yYzAuMiwwLDAuNCwwLjEsMC42LDAuMmw5LjQsNS41DQoJCQkJCQljMC42LDAuMywwLjgsMS4xLDAuNCwxLjZDMjMuNywxNy44LDIzLjUsMTcuOSwyMy40LDE4eiIvPg0KCQkJCTwvZz4NCgkJCTwvZz4NCgkJPC9nPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K"},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI0IDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8ZyBpZD0i6KeG6aKR5pKt5pS+Ij4NCgk8ZyBpZD0iX3gzMl/ljoblj7Lovajov7kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03ODkuMDAwMDAwLCAtODg3LjAwMDAwMCkiPg0KCQk8ZyBpZD0iR3JvdXAtMTMtQ29weS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MjUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+DQoJCQk8ZyBpZD0iR3JvdXAtMTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwLjAwMDAwMCwgMTguMDAwMDAwKSI+DQoJCQkJPGcgaWQ9InBsYXkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQyLjAwMDAwMCwgOS4wMDAwMDApIj4NCgkJCQkJPHBhdGggaWQ9Im1lZGlhX3BsYXlfMV8iIGNsYXNzPSJzdDAiIGQ9Ik0xMy44LDNsLTE4LDExYy0wLjYsMC4zLTEuMywwLjItMS42LTAuNEMtNS45LDEzLjQtNiwxMy4yLTYsMTIuOVYtOC45DQoJCQkJCQljMC0wLjcsMC41LTEuMiwxLjItMS4yYzAuMiwwLDAuNCwwLjEsMC42LDAuMkwxMy44LDFjMC42LDAuMywwLjcsMS4xLDAuNCwxLjZDMTQuMSwyLjgsMTQsMi45LDEzLjgsM3oiLz4NCgkJCQk8L2c+DQoJCQk8L2c+DQoJCTwvZz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg=="},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMjQgMjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI0IDIyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8Zz4NCgk8cGF0aCBpZD0icGF0aC0zIiBjbGFzcz0ic3QwIiBkPSJNNi40LDBjMC44LDAsMS40LDAuNiwxLjQsMS40djE5LjJjMCwwLjgtMC42LDEuNC0xLjQsMS40UzUsMjEuNCw1LDIwLjZWMS40QzUsMC42LDUuNiwwLDYuNCwweg0KCQkgTTE3LjQsMGMwLjgsMCwxLjQsMC42LDEuNCwxLjR2MTkuMmMwLDAuOC0wLjYsMS40LTEuNCwxLjRTMTYsMjEuNCwxNiwyMC42VjEuNEMxNiwwLjYsMTYuNiwwLDE3LjQsMHoiLz4NCjwvZz4NCjx0aXRsZT5zdXNwZW5kPC90aXRsZT4NCjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KPGcgaWQ9IuinhumikeaSreaUviI+DQoJPGcgaWQ9Il94MzFf5Y6G5Y+y6L2o6L+5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODAyLjAwMDAwMCwgLTg5OC4wMDAwMDApIj4NCgkJPGcgaWQ9Ikdyb3VwLTEzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcyNS4wMDAwMDAsIDg3MC4wMDAwMDApIj4NCgkJCTxnIGlkPSJHcm91cC0xMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzAuMDAwMDAwLCAxOC4wMDAwMDApIj4NCgkJCQk8ZyBpZD0ic3VzcGVuZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDIuMDAwMDAwLCA5LjAwMDAwMCkiPg0KCQkJCQk8ZyBpZD0iUmVjdGFuZ2xlIj4NCgkJCQkJPC9nPg0KCQkJCQk8ZyBpZD0iQ29tYmluZWQtU2hhcGUiPg0KCQkJCQkJPHBhdGggaWQ9InBhdGgtM18xXyIgY2xhc3M9InN0MCIgZD0iTTExLjQsMWMwLjgsMCwxLjQsMC42LDEuNCwxLjR2MTkuMmMwLDAuOC0wLjYsMS40LTEuNCwxLjRTMTAsMjIuNCwxMCwyMS42VjIuNA0KCQkJCQkJCUMxMCwxLjYsMTAuNiwxLDExLjQsMXogTTIyLjQsMWMwLjgsMCwxLjQsMC42LDEuNCwxLjR2MTkuMmMwLDAuOC0wLjYsMS40LTEuNCwxLjRTMjEsMjIuNCwyMSwyMS42VjIuNEMyMSwxLjYsMjEuNiwxLDIyLjQsMXoNCgkJCQkJCQkiLz4NCgkJCQkJPC9nPg0KCQkJCTwvZz4NCgkJCTwvZz4NCgkJPC9nPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K"},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjhweCIgaGVpZ2h0PSI4cHgiIHZpZXdCb3g9IjAgMCA4IDgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1My4yICg3MjY0MykgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+DQogICAgPHRpdGxlPmNsb3NlPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0i6KeG6aKR5pKt5pS+IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjHljoblj7Lovajov7ktY29weS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTc3My4wMDAwMDAsIC0xNDYuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc2OS4wMDAwMDAsIDE0Mi4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEuODEzOTAwNiwxMC45NzMzMTQ4IEw4LjgzNTgyNTE0LDcuOTgzMjMwOTUgTDExLjgyNTkwOSw0Ljk5MzE0NzEyIEMxMi4wMjgzNDkyLDQuNzUzNDkyNTYgMTIuMDEyMTY4LDQuMzk4Mzg1ODQgMTEuNzg4NzcxMiw0LjE3ODEzNTQ3IEMxMS41NjUzNzQ0LDMuOTU3ODg1MSAxMS4yMTAwNzM5LDMuOTQ2NzQyMjQgMTAuOTczMzE0OCw0LjE1MjU2MTMgTDcuOTk1MjM5MzIsNy4xMzA2MzY3NyBMNS4wMjkxNzIyMiw0LjE3NjU3ODA0IEM0Ljc5MzczNDg0LDMuOTQxMTQwNjUgNC40MTIwMTU0MiwzLjk0MTE0MDY1IDQuMTc2NTc4MDQsNC4xNzY1NzgwNCBDMy45NDExNDA2NSw0LjQxMjAxNTQyIDMuOTQxMTQwNjUsNC43OTM3MzQ4NCA0LjE3NjU3ODA0LDUuMDI5MTcyMjIgTDcuMTMwNjM2NzcsNy45ODMyMzA5NSBMNC4xNzY1NzgwNCwxMC45MzcyODk3IEMzLjk0MTE0MDY2LDExLjE3MjcyNzEgMy45NDExNDA2NiwxMS41NTQ0NDY1IDQuMTc2NTc4MDQsMTEuNzg5ODgzOSBDNC40MTIwMTU0MiwxMi4wMjUzMjEyIDQuNzkzNzM0ODQsMTIuMDI1MzIxMiA1LjAyOTE3MjIyLDExLjc4OTg4MzkgTDcuOTk1MjM5MzIsOC44MzU4MjUxNCBMMTAuOTg1MzIzMiwxMS44MjU5MDkgQzExLjIxNzQ0NDUsMTIuMDU4MDMwMyAxMS41OTM3ODc2LDEyLjA1ODAzMDMgMTEuODI1OTA5LDExLjgyNTkwOSBDMTIuMDU4MDMwMywxMS41OTM3ODc2IDEyLjA1ODAzMDMsMTEuMjE3NDQ0NSAxMS44MjU5MDksMTAuOTg1MzIzMiBMMTEuODEzOTAwNiwxMC45NzMzMTQ4IFoiIGlkPSLot6/lvoQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},function(t,e,n){"use strict";e.a=function(t,e){return new m({actorProps:e.actorProps,actorVisible:e.actorVisible,routeProps:e.routeProps,routeVisible:e.routeVisible,autoDirection:e.autoDirection,segmentStore:t,st:e.st,et:e.et,rules:e.rules})};var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(388),h=n.n(A),p=n(159),f=n.n(p),g=n(102),d=n(605),y=(n(475),n(603)),v=n(604),m=function(t){function e(t){var n;i()(this,e);var r=t.actorProps,o=t.actorVisible,s=t.routeProps,a=t.routeVisible,c=t.autoDirection,A=t.st,h=t.et,p=t.segmentStore,f=t.rules,g=p.getInfo(A,f);return(n=u()(this,l()(e).call(this,{actorProps:r,routeProps:s,node:g.node,segments:g.segments,segmentStore:p})))._buildAbsoluteTimestamp(A,h),!1===o&&n.hideActor(),!1===a&&n.hideRoute(),n.autoDirection=c,n.rules=f,n}return f()(e,t),s()(e,[{key:"_buildAbsoluteTimestamp",value:function(t,e){var n=g.a.modules.customOverlay(),r=g.a.modules.popup(),i=this.segmentStore.firstNode(),o=this.segmentStore.lastNode(),s=y.a.create("div","kmap-marker-container"),a=(y.a.create("div","kmap-road-plan-marker-start-img",s),y.a.create("div","kmap-marker-timestamp",s)),u=y.a.create("div","kmap-marker-container"),c=(y.a.create("div","kmap-road-plan-marker-end-img",u),y.a.create("div","kmap-marker-timestamp",u));s.style.opacity=.8,u.style.opacity=.8,a.innerHTML=Object(v.b)(t),c.innerHTML=Object(v.b)(e),this.sa=a,this.ea=c,this.smt=n.addCustomOverlay({element:s,style:"width:120px;height:37px",offset:[0,0],anchor:"bottom",point:i.lngLat}),this.emt=n.addCustomOverlay({element:u,style:"width:120px;height:37px",offset:[0,0],anchor:"bottom",point:o.lngLat}),this.cmt=r.addPopup({point:i.lngLat,closeOnClick:!1,closeButton:!1,htmlText:'<div class="kmap-marker-timestamp">'.concat(Object(v.b)(t),"</div>"),anchor:"top",offset:[0,20],tipPosition:"top"})}},{key:"_removeAbsoluteTimestamp",value:function(){var t=g.a.modules.customOverlay(),e=g.a.modules.popup();t.removeCustomOverlayById({id:this.smt}),t.removeCustomOverlayById({id:this.emt}),e.removePopup({popup:this.cmt})}},{key:"setAbsoluteTimestamp",value:function(t,e){var n=g.a.modules.customOverlay(),r=g.a.modules.popup(),i=this.segmentStore.firstNode(),o=this.segmentStore.lastNode();n.setCustomOverlayById({id:this.smt,point:i.lngLat}),this.sa.innerHTML=Object(v.b)(t),n.setCustomOverlayById({id:this.emt,point:o.lngLat}),this.ea.innerHTML=Object(v.b)(e),r.setPopupsPropById({id:this.cmt,point:i.lngLat,htmlText:'<div class="kmap-marker-timestamp">'.concat(Object(v.b)(t),"</div>")})}},{key:"destroy",value:function(){this._removeAbsoluteTimestamp(),h()(l()(e.prototype),"destroy",this).call(this)}},{key:"render",value:function(t){var n=t.st+t.passed,r=this.segmentStore.getInfo(n,this.rules),i=g.a.modules.popup();h()(l()(e.prototype),"render",this).call(this,r),i.setPopupsPropById({id:this.cmt,point:r.node.lngLat,htmlText:'<div class="kmap-marker-timestamp">'.concat(Object(v.b)(n),"</div>")});var o=this.activeIndex;this.activeIndex=r.index,this.onkeypointchange&&o!==r.index&&this.onkeypointchange(r.node)}}]),e}(d.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(102),c=n(1223),l=n(774),A=n(1224),h=n(1225),p=n(1226),f=(n.n(p),function(){function t(e,n){o()(this,t),Object.assign(this,Object(l.a)(Object(A.a)(e,[["actorTemplate","template"],["actorWidth","width"],["actorHeight","height"],["actorRotation","rotation"],["actorOffset","offset"]]),c.a)),this.actorIcon=e.actorIcon,this.actorIconText=e.actorIconText,this.actorNonBackground=e.actorNonBackground,this.actorScale=e.actorScale,this.node=n,this.Overlay=u.a.modules.customOverlay(),this.dom=this._createElement(),this.overlayId=this._createOverlay(),this.dragableSlot=null,this.topSlot=null,this.bottomSlot=null}return a()(t,[{key:"setTemplate",value:function(t){return this.dom.innerHTML=t,this}},{key:"setImage",value:function(t){var e=t.template,n=t.icon;this.spriteGroup?this.spriteGroup.setIcon(n):this.setTemplate(e)}},{key:"setWidth",value:function(t){return this.spriteGroup||(this.dom.style.width=t+"px"),this}},{key:"setHeight",value:function(t){return this.spriteGroup||(this.dom.style.height=t+"px"),this}},{key:"setLngLat",value:function(t){return this.node=t,this.Overlay.setCustomOverlayById({id:this.overlayId,point:this.node.lngLat,customProps:JSON.stringify(this.node.properties)}),this.actorIconTextElement&&(this.actorIconTextElement.innerHTML=this.node.properties[this.actorIconText]),this.dragableSlot&&u.a.modules.popup().setPopupsPropById({id:this.dragableSlot,point:this.node.lngLat}),this.topSlot&&u.a.modules.popup().setPopupsPropById({id:this.topSlot,point:this.node.lngLat}),this.bottomSlot&&u.a.modules.popup().setPopupsPropById({id:this.bottomSlot,point:this.node.lngLat}),this}},{key:"setRotation",value:function(t){if(this.spriteGroup){var e=360-Object(h.a)()+t;this.spriteGroup.setRotation(e)}else{var n=this.rotation+(360-Object(h.a)())+t;this.dom.style.transform="rotate(".concat(n,"deg)")}return this}},{key:"setSlot",value:function(t){var e=t.type,n=t.visible,r=t.template,i="",o="",s=[0,0],a="";switch(e){case 0:i="bottom",o="topSlot",s=[0,-10],a="bottom";break;case 1:i="top",o="bottomSlot",s=[0,10],a="top";break;case 2:i="bottom",o="dragableSlot",s=[0,-50],a="bottom";break;default:return}var c=u.a.modules.popup();!1!==n?!0!==n?this[o]&&r&&c.setPopupsPropById({id:this[o],point:this.node.lngLat,htmlText:r}):this[o]?r&&c.setPopupsPropById({id:this[o],point:this.node.lngLat,htmlText:r}):r&&(this[o]=c.addPopup({point:this.node.lngLat,closeOnClick:!1,closeButton:!1,htmlText:r,anchor:i,offset:s,tipPosition:a})):this[o]&&(c.removePopup({popup:this[o]}),this[o]=null)}},{key:"show",value:function(){this.Overlay.showCustomOverlayById({type:"id",id:this.overlayId})}},{key:"hide",value:function(){this.Overlay.hideCustomOverlayById({type:"id",id:this.overlayId})}},{key:"on",value:function(t,e){this.Overlay.addEvent({selector:"#".concat(this.overlayId),event:t,handler:e})}},{key:"off",value:function(t){this.Overlay.removeEvent({selector:"#".concat(this.overlayId),event:t})}},{key:"destroy",value:function(){this.Overlay.removeCustomOverlayById({id:this.overlayId}),this.dragableSlot&&(u.a.modules.popup().removePopup({popup:this.dragableSlot}),this.dragableSlot=null),this.topSlot&&(u.a.modules.popup().removePopup({popup:this.topSlot}),this.topSlot=null),this.bottomSlot&&(u.a.modules.popup().removePopup({popup:this.bottomSlot}),this.bottomSlot=null)}},{key:"_createElement",value:function(){var t=document.createElement("div");if(t.className="TRACKER_ACTOR",this.actorIcon){var e=u.a.spriteManager.getSpriteGroup(this.actorIcon,this.actorScale,this.actorNonBackground);if(!e){var n="".concat(this.actorIcon," is not in sprite");throw console.error(n),new Error(n)}this.spriteGroup=e;e.width,e.height;t.appendChild(e.element),this.actorIconText&&(this.actorIconTextElement=document.createElement("div"),this.actorIconTextElement.className="TRACKER_ACTOR_ICON_TEXT",this.actorIconTextElement.innerHTML=this.node.properties[this.actorIconText],t.appendChild(this.actorIconTextElement))}else t.innerHTML=this.template,t.setAttribute("style","\n                    transform: rotate(".concat(this.rotation,"deg);\n                    width: ").concat(this.width,"px;\n                    height: ").concat(this.height,"px;\n                    overflow: hidden;\n                "));return t}},{key:"_createOverlay",value:function(){return this.Overlay.addCustomOverlay({element:this.dom,style:this.spriteGroup?"":"width:".concat(this.width,"px;height:").concat(this.height,"px"),offset:this.offset,anchor:"center",point:this.node.lngLat,customProps:JSON.stringify(this.node.properties)})}}]),t}())},function(t,e,n){"use strict";e.a={template:"",width:20,height:20,rotation:0,offset:[0,0]}},function(t,e,n){"use strict";e.a=function(t,e){return e.reduce(function(e,n){return e[n[1]]=t[n[0]],e},{})}},function(t,e,n){"use strict";var r=n(102),i=function(){return r.a.map.map.getBearing()};e.a=i},function(t,e,n){var r=n(1227);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0};n(108)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(107)(!1)).push([t.i,".TRACKER_ACTOR {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n.TRACKER_ACTOR_ICON_TEXT {\r\n    max-width: 100px;\r\n    word-break: break-all;\r\n    font-size: 12px;\r\n}",""])},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(388),h=n.n(A),p=n(159),f=n.n(p),g=n(395),d=n(156),y=n(408),v=function(t){function e(t,n){var r;return i()(this,e),(r=u()(this,l()(e).call(this))).data=t,r.painter=n,r.layers=[],r._visible=!0,r.init(),r}return f()(e,t),s()(e,[{key:"init",value:function(){this.setLayerFeature(this.data)}},{key:"buildLayer",value:function(){for(var t in this.painter){var e=this.painter[t],n=e.paint,r=e.filter,i=Object(d.b)();this.map.addLayer({id:i,type:"line",source:this.sourceId,paint:n,layout:{"line-join":"round","line-cap":"round"},filter:r}),this.layers.push(i),y.a.setIdDepts(this.layerId,i)}}},{key:"removeLayer",value:function(){h()(l()(e.prototype),"remove",this).call(this)}},{key:"destroy",value:function(){this.removeLayer()}},{key:"on",value:function(t,n){h()(l()(e.prototype),"addEvent",this).call(this,t,n)}},{key:"off",value:function(t){h()(l()(e.prototype),"removeEvent",this).call(this,t)}},{key:"show",value:function(){this._visible=!0,h()(l()(e.prototype),"show",this).call(this)}},{key:"hide",value:function(){this._visible=!1,h()(l()(e.prototype),"hide",this).call(this)}},{key:"getVisible",value:function(){return this._visible}}]),e}(g.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return B});var r=n(607),i=(n.n(r),n(30)),o=(n.n(i),n(25)),s=(n.n(o),n(24)),a=(n.n(s),n(103)),u=(n.n(a),n(74)),c=n.n(u),l=n(101),A=n.n(l),h=n(158),p=n.n(h),f=n(157),g=n.n(f),d=n(388),y=n.n(d),v=n(159),m=n.n(v),C=n(1230),I=n.n(C),_=(n(102),n(1231)),b=n(555),w=n(498),E=n(408);var B=function(t){function e(t,n){var r;return c()(this,e),(r=p()(this,g()(e).call(this))).data=t,r.painter=n,r.layer=null,r._visible=!0,r.init(),r}return m()(e,t),A()(e,[{key:"init",value:function(){this.setLayerFeature(this.data)}},{key:"buildLayer",value:function(){var t=this;this.layer=new b.a({map:this.map,source:this.layerSource,style:function(e){var n=e.values_,r=Object.keys(t.painter).find(function(e){return function t(e,n){if(!Array.isArray(e))return!0;var r=I()(e),i=r[0],o=r.slice(1);if("all"===i)return o.every(function(e){return t(e,n)});if("any"===i)return 0===o.length||o.some(function(e){return t(e,n)});if("=="===i){var s=o[0],a=o[1];return s=Array.isArray(s)?s[1]:s,n[s]===a}return!0}(t.painter[e].filter,n)}),i=t.painter[r].paint,o={lineJoin:"round",lineCap:"round"};return i["line-width"]&&(o.width=i["line-width"]),i["line-color"]&&(o.color=i["line-color"]),i["line-dash"]&&(o.lineDash=i["line-dash"]),new w.e({stroke:new w.d(o)})}}),E.a.setIdDepts(this.layerId,this.layer.ol_uid)}},{key:"removeLayer",value:function(){y()(g()(e.prototype),"remove",this).call(this)}},{key:"destroy",value:function(){this.removeLayer()}},{key:"on",value:function(t,n){y()(g()(e.prototype),"addEvent",this).call(this,t,n)}},{key:"off",value:function(t){y()(g()(e.prototype),"removeEvent",this).call(this,t)}},{key:"show",value:function(){this._visible=!0,y()(g()(e.prototype),"show",this).call(this)}},{key:"hide",value:function(){this._visible=!1,y()(g()(e.prototype),"hide",this).call(this)}},{key:"getVisible",value:function(){return this._visible}}]),e}(_.a)},function(t,e,n){var r=n(700),i=n(477),o=n(701);t.exports=function(t){return r(t)||i(t)||o()}},function(t,e,n){"use strict";n.d(e,"a",function(){return z});var r=n(167),i=(n.n(r),n(104)),o=(n.n(i),n(30)),s=(n.n(o),n(25)),a=(n.n(s),n(24)),u=(n.n(a),n(103)),c=(n.n(u),n(693)),l=(n.n(c),n(164)),A=n.n(l),h=n(160),p=(n.n(h),n(161)),f=(n.n(p),n(74)),g=n.n(f),d=n(101),y=n.n(d),v=n(158),m=n.n(v),C=n(157),I=n.n(C),_=n(159),b=n.n(_),w=n(422),E=n(408),B=n(102),x=n(156),O=n(505),T=n(667),N=n(645),S=n(555),M=n(576),L=n(405),k=n(1232),F=n(698),P=n(1233),U=n(565),D=n(668),R=n(400),Q=n(1234),j=n(1244),H=n(663);function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var z=function(t){function e(t){var n;if(g()(this,e),(n=m()(this,I()(e).call(this))).type="layer",n.map=B.a.map.map,n.view=B.a.map.view,B.a.layerCollect||(B.a.layerCollect=new M.a),n.layerEvent={},n.sourceId=Object(x.b)(),n.layerId=Object(x.b)(),t){var r=B.a.layerCollect.get(t);n.before=r&&r.layer.ol_uid}return n.defaultIconName="weather-alarm-lev-1-24",B.a.spriteManager.getSpriteImg(n.defaultIconName,1)||(n.defaultIconName="marker-15-6"),n.addCollect(),n}return b()(e,t),y()(e,[{key:"addCollect",value:function(){B.a.layerCollect.add(this)}},{key:"setLayerFeature",value:function(t){t&&t.features&&t.features.length>0&&(this.sources=t,this.clustered&&"backend"!==this.clusterType&&this.updateClusterSources(!0),this.layerSource?this.update():(this.buildSource(),this.buildLayer()))}},{key:"setLayerData",value:function(t){t&&t.length>0?this.setLayerFeature({type:"FeatureCollection",features:t}):x.a.setErrorMessage(this.layerId+":无效的图层数据源")}},{key:"updateClusterSources",value:function(t){B.a.kdIndex||(B.a.kdIndex={});var e=this.view.getMaxZoom(),n=B.a.config.AGGS_CONFIG;if(n&&n.kfront){e=Number(n.kfront.split(",")[1]);var r=B.a.kdIndex[this.layerId]?B.a.kdIndex[this.layerId]:null;r&&!t||(r=new O.a({log:!1,radius:2*B.a.config.CLUSTERED_RADIUS||80,extent:256,maxZoom:e}).setReduceProps("aggsCount").load(this.sources.features),B.a.kdIndex[this.layerId]=r);var i=Math.floor(this.view.getZoom()),o=Object(L.g)(this.map.getView().calculateExtent(this.map.getSize()),"EPSG:"+B.a.config.EPSG,"EPSG:4326");this.sources.features=r.getClusters(o,i)}}},{key:"_toGeojson",value:function(t){return{geometry:{coordinates:"string"==typeof t.locationpoint?JSON.parse(t.locationpoint):t.locationpoint,type:"Point"},type:"Feature",properties:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(n,!0).forEach(function(e){A()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t)}}},{key:"buildSource",value:function(){var t=[];this.sources.features=this.sources.features.filter(function(e){return"Circle"!==e.geometry.type||(t.push(e),!1)}),this.sources={features:this.sources.features.map(function(t){var e=t;return delete e.properties.geometry,e}),type:"FeatureCollection"};var e=(new T.a).readFeatures(this.sources,{dataProjection:"EPSG:4326",featureProjection:"EPSG:"+B.a.config.EPSG});t=t.map(function(t){var e=R.a.centerOfMass(R.a.polygon(t.geometry.coordinates)).geometry.coordinates,n=new P.a([NaN,NaN]),r=Object(U.d)(e,t.geometry.coordinates[0][0]);n.setCenterAndRadius(e,Math.sqrt(r));var i=new D.a({geometry:n});return i.getGeometry().transform("EPSG:4326","EPSG:".concat(B.a.config.EPSG)),i.setProperties(t.properties),i}),e=e.concat(t),this.layerSource=new N.a({features:e}),B.a.sourceStore.set(this.sourceId,this.layerSource)}},{key:"buildLayer",value:function(){var t=this;if(this.layer=new S.a({source:this.layerSource,style:function(e){return Object(k.a)(e,t)}}),this.before){var e=this.map.getLayers();e.forEach(function(n,r){n.ol_uid===t.before&&e.insertAt(r,t.layer)})}else this.map.addLayer(this.layer);this.callback&&this.callback(this.layerId),delete this.callback,E.a.setIdDepts(this.layerId,this.layer.ol_uid),this.showText&&this.buildIconTextVectorLayer()}},{key:"update",value:function(){this.layerSource&&this.layerSource.clear(),this.sources={features:this.sources.features.map(function(t){var e=t;return delete e.properties.geometry,e}),type:"FeatureCollection"};var t=(new T.a).readFeatures(this.sources,{dataProjection:"EPSG:4326",featureProjection:"EPSG:"+B.a.config.EPSG});this.layerSource.addFeatures(t)}},{key:"remove",value:function(){if("function"===typeof this.clearEvent&&this.clearEvent(),this.layer){var t=this.layer.getSource();t&&t.clear(),this.layerSource=null,this.map.removeLayer(this.layer),E.a.removeIdDepts(this.layerId)}this.iconTextLayer&&this.map.removeLayer(this.iconTextLayer)}},{key:"show",value:function(){this.layer&&this.layer.setVisible(!0),this.iconTextLayer&&this.iconTextLayer.setVisible(!0)}},{key:"hide",value:function(){this.layer&&this.layer.setVisible(!1),this.iconTextLayer&&this.iconTextLayer.setVisible(!1)}},{key:"updateCluster",value:function(){this.sources&&(this.updateClusterSources(),this.update())}},{key:"setPaintProperty",value:function(t,e){Object(k.b)(this.layer,t,e)}},{key:"moveLayer",value:function(){}},{key:"addEvent",value:function(t,e){var n=this;this.map&&E.b.on(this.map)(t,this.layerId,function(t,r){if(0!==r.length){var i=[],o=[],s=r[0];if("geometry"===n.layerType)e(t,r);else{var a=s.properties,u={type:"",data:[],location:s.geometry.coordinates,bbox:n.requestPolygon,userTerms:n.userTerms||[],clustered:!0,isPublic:n.isPublic};if(!0===a.cluster)if("frontend"===n.clusterType)B.a.kdIndex[n.layerId].getLeaves(a.cluster_id,Number.MAX_SAFE_INTEGER,0).map(function(t){o.push(t.properties)}),u.type="details",u.data=o;else"backend"===n.clusterType&&(a.aggsName&&a.aggsValue&&("string"==typeof a.aggsValue&&a.aggsValue.indexOf(",")>-1&&(a.aggsValue=JSON.parse(a.aggsValue)),i.push({aggsName:a.aggsName,aggsValue:a.aggsValue})),u.type="aggs",u.data=i);else 1!=a.aggsCount&&a.aggsName&&a.aggsValue?("string"==typeof a.aggsValue&&(a.aggsValue.indexOf("[")>-1?a.aggsValue=JSON.parse(a.aggsValue):a.aggsValue.indexOf(",")>-1&&(a.aggsValue=a.aggsValue.split(","))),i.push({aggsName:a.aggsName,aggsValue:a.aggsValue}),u.type="aggs",u.data=i):(u.type="details",u.clustered=!1,u.data=r.map(function(t){return t.properties}));e(t,u)}}else e(t)})}},{key:"removeEvent",value:function(t){this.map&&E.b.off(this.map)(t,this.layerId)}},{key:"clearEvent",value:function(){E.b.clear(this.layerId)}},{key:"_addTimerDevice",value:function(t){this.dynamic&&(B.a.timerDevice=B.a.timerDevice||new F.a,this.timerDeviceId=x.a.createRandomId(16),(!this.timer||this.timer<15e3)&&(this.timer=15e3),B.a.timerDevice.add(this.timerDeviceId,this.timer,t))}},{key:"_removeTimerDevice",value:function(){this.timerDeviceId&&(B.a.timerDevice.remove(this.timerDeviceId),this.timerDeviceId=null)}},{key:"getChildLayerIds",value:function(){return E.a.getLayerIdsDepts(this.layerId)}},{key:"buildVectorSource",value:function(t){this.sources=new Q.a({maxZoom:24,format:new j.a({idProperty:this.vectorLayerName}),tileLoadFunction:function(t,e){t.setLoader(function(){var n="";if(B.a.config&&B.a.config.TOKEN){var r="".concat(B.a.config.TOKEN,"-").concat((new Date).getTime()).concat(Object(x.b)());n=btoa(r)}fetch(e,{headers:{Authorization:n}}).then(function(e){e.arrayBuffer().then(function(e){var n=t.getFormat();t.setProjection(n.readProjection(e));var r=n.readFeatures(e);t.setFeatures(r)})})})},url:t})}},{key:"buildVectorLayer",value:function(){var t=this;this.layer=new H.a({declutter:!0,source:this.sources,style:function(e){return Object(k.a)(e,t)}}),this.map.addLayer(this.layer),E.a.setIdDepts(this.layerId,this.layer.ol_uid),this.showText&&this.buildIconTextLayer()}},{key:"buildIconTextLayer",value:function(){var t=this;this.iconTextLayer=new H.a({declutter:!0,source:this.sources,style:function(e){return Object(k.a)(e,t,"iconText")}}),this.map.addLayer(this.iconTextLayer)}},{key:"buildIconTextVectorLayer",value:function(){var t=this;this.iconTextLayer=new S.a({source:this.layerSource,style:function(e){return Object(k.a)(e,t,"iconTextVector")}}),this.map.addLayer(this.iconTextLayer)}}]),e}(w.a)},function(t,e,n){"use strict";e.b=function(t,e,n){var r={};r[e]=n,t.setStyle(function(t){return l(t,{},r)})},e.a=function(t,e,n){var r=null;r="iconText"===n||"iconTextVector"===n?function(t,e,n){var r="iconText"===n?"properties_":"values_";if(t[r]&&t[r].aggsCount&&t[r].aggsCount>1)return;var o=null;o=e.iconTextStyle?new i.f({offsetX:e.iconTextStyle.textOffset&&e.iconTextStyle.textOffset[0]||0,offsetY:e.iconTextStyle.textOffset&&e.iconTextStyle.textOffset[0]||20,font:(e.iconTextStyle.textSize||12)+"px sans-serif",placement:"point",textAlign:"center",text:t[r][e.showText],backgroundFill:new i.b({color:e.iconTextStyle.iconColor||"#1569E0"}),padding:e.iconTextStyle.iconTextFitPadding||[0,6,0,6],fill:new i.b({color:e.iconTextStyle.textColor||"#fff"})}):new i.f({offsetX:0,offsetY:20,font:"12px sans-serif",placement:"point",textAlign:"center",text:t[r][e.showText]});return new i.e({text:o})}(t,e,n):"geometry"===e.layerType||"regionLayer"===e.layerType?l(t,e):"mixedLayer"===e.layerType?c(t,e):function(t,e){var n=0;n="vectorTiles"===e.layerType?t.properties_.aggsCount?t.properties_.aggsCount:1:t.values_.aggsCount?t.values_.aggsCount:1;if(1===n)return c(t,e,1);var r=function(t,e){for(var n=e.clusteredFilters||[],r=0,i=n.length;r<i;r++){var o=n[r].count,s=n[r+1]&&n[r+1].count?n[r+1].count:null;if(t<o)return{circleRadius:e.circleRadius||a.circleRadius,circleColor:e.circleColor||a.circleColor,circleStrokeWidth:e.circleStrokeWidth||a.circleStrokeWidth,circleStrokeColor:e.circleStrokeColor||a.circleStrokeColor,countTextColor:e.countTextColor||a.countTextColor,countTextSize:e.countTextSize||a.countTextSize};if(t>=o&&t<=s||!s)return{circleRadius:n[r].circleRadius||e.circleRadius||a.circleRadius,circleColor:n[r].circleColor||e.circleColor||a.circleColor,circleStrokeWidth:n[r].circleStrokeWidth||e.circleStrokeWidth||a.circleStrokeWidth,circleStrokeColor:n[r].circleStrokeColor||e.circleStrokeColor||a.circleStrokeColor,countTextColor:n[r].countTextColor||e.countTextColor||a.countTextColor,countTextSize:n[r].countTextSize||e.countTextSize||a.countTextSize}}return{circleRadius:e.circleRadius||a.circleRadius,circleColor:e.circleColor||a.circleColor,circleStrokeWidth:e.circleStrokeWidth||a.circleStrokeWidth,circleStrokeColor:e.circleStrokeColor||a.circleStrokeColor,countTextColor:e.countTextColor||a.countTextColor,countTextSize:e.countTextSize||a.countTextSize}}(n,e);return new i.e({image:new i.a({radius:r.circleRadius,stroke:new i.d({color:r.circleStrokeColor,width:r.circleStrokeWidth}),fill:new i.b({color:r.circleColor})}),text:new i.f({text:n+"",fill:new i.b({color:r.countTextColor}),font:r.countTextSize+"px sans-serif"})})}(t,e);return r};var r=n(75),i=(n.n(r),n(498)),o=n(102),s="rgba(151,235,241,0.3)",a={circleRadius:18,circleColor:s,circleStrokeWidth:0,circleStrokeColor:s,countTextColor:"#FFF",countTextSize:14},u={fillColor:s,fillOutlineColor:s,fillOpacity:1,fillAntialias:!0,fillTranslate:[0,0],fillTranslateAnchor:"map",lineColor:s,lineOpacity:1,lineTranslate:[0,0],lineTranslateAnchor:"map",lineWidth:4,lineGapWidth:0,lineOffset:[0,0],lineBlur:0,lineDasharray:[[0]],lineCap:"round",circleRadius:5,circleColor:s,circleBlur:0,circleOpacity:1,circleTranslate:[0,0],circleTranslateAnchor:"map",circlePitchScale:"map",circleStrokeWidth:0,circleStrokeColor:s,circleStrokeOpacity:1};new i.b({color:"rgba(59,178,208,0.01)"}),new i.d({color:"rgba(59,178,208,1)",width:2,lineJoin:"round",lineCap:"round"}),new i.b({color:"rgba(251,176,59,0.01)"}),new i.d({color:"rgba(210,12,12,1)",width:1,lineDash:[[2]],lineJoin:"round",lineCap:"round"}),new i.a({radius:3,fill:new i.b({color:"rgba(251,176,59,1)"})}),new i.d({color:"rgba(59,178,208,1)",width:1,lineJoin:"round",lineCap:"round"}),new i.d({color:"rgba(210,12,12,1)",width:1,lineDash:[[2]],lineJoin:"round",lineCap:"round"}),new i.d({color:"rgba(59,178,208,1)",width:1,lineJoin:"round",lineCap:"round"}),new i.d({color:"rgba(210,12,12,1)",width:1,lineDash:[[2]],lineJoin:"round",lineCap:"round"}),new i.a({radius:5,fill:new i.b({color:"rgba(255,255,255,1)"})}),new i.a({radius:3,fill:new i.b({color:"rgba(210,12,12,1)"})}),new i.a({radius:5,fill:new i.b({color:"rgba(255,255,255,1)"})}),new i.a({radius:3,fill:new i.b({color:"rgba(59,178,208,1)"})}),new i.a({radius:10,fill:new i.b({color:"rgba(255,255,255,1)"})}),new i.a({radius:7,fill:new i.b({color:"rgba(210,12,12,1)"})}),new i.b({color:"rgba(59,178,208,0.1)"}),new i.d({color:"rgba(59,178,208,1)",width:1,lineJoin:"round",lineCap:"round"}),new i.d({color:"rgba(59,178,208,1)",width:2,lineJoin:"round",lineCap:"round"}),new i.d({color:"rgba(59,178,208,1)",width:2,lineJoin:"round",lineCap:"round"}),new i.a({radius:5,fill:new i.b({color:"rgba(59,178,208,1)"})});function c(t,e,n){return n||(n="vectorTiles"===e.layerType||"mixedLayer"===e.layerType?t.properties_.aggsCount?t.properties_.aggsCount:1:t.values_.aggsCount?t.values_.aggsCount:1),1===n?e.isPoiLayer?new i.e({image:function(t,e){var n=t.properties_.kindcode,r="";e.icons.map(function(t){t.filter.indexOf(n)>-1&&(r=t.iconName)});var s=o.a.spriteJson[r]?o.a.spriteJson[r]:o.a.spriteJson["point-11"];return new i.c({offset:[s.x,s.y],opacity:1,rotateWithView:!0,rotation:0,scale:1,size:[s.width,s.height],crossOrigin:"anonymous",src:o.a.spriteUrl})}(t,e)}):new i.e({image:h(t,e)}):null}function l(t,e,n,r){var o=t.getGeometry().getType();if(e.icons&&"regionLayer"!==e.layerType)return new i.e({image:h(t,e)});var s="",a=e.defaultStyles||{};switch(n=n||{},o){case"Point":s=p(t,r?{}:a,n,r);break;case"LineString":case"MultiLineString":s=f(t,r?{}:a,n,r);break;case"MultiPoint":s=p(t,r?{}:a,n,r);break;case"MultiPolygon":case"Polygon":case"GeometryCollection":case"Circle":s=g(t,r?{}:a,n,r)}return s}var A=!0;function h(t,e){var n="",r=1,s=t.values_;e.icons&&e.icons.length>0&&(e.icons[0].filter?e.icons.forEach(function(t){t.filter&&(t.filter.forEach(function(t){!function t(e,n){if(e.filter){if(!n[e.key])return void(A=!1);for(var r=0;r<e.filter.length;r++)t(e.filter[r],n[e.key])}else A=A&&n&&n[e.key]===e.value}(t,s)}),A&&(n=t.iconName,r=t.scale||1),A=!0)}):(n=e.icons[0].iconName,r=e.icons[0].scale||1));var a=o.a.spriteJson[n]?o.a.spriteJson[n]:o.a.spriteJson[e.defaultIconName],u=e.view.getZoom();return e.iconSize&&(r=(u-3)*(e.iconSize[1]-e.iconSize[0])/16+e.iconSize[0]),new i.c({offset:[a.x,a.y],opacity:1,rotateWithView:!0,rotation:0,scale:r,size:[a.width,a.height],crossOrigin:"anonymous",src:o.a.spriteUrl})}function p(t,e,n,r){var o,s,a,c;if(r){o=n["circle-radius"]||t.get("circle-radius")||e["circle-radius"]||3,s=n["circle-color"]||t.get("circle-color")||e["circle-color"]||"rgba(210,12,12,1)",a=n["circle-stroke-color"]||t.get("circle-stroke-color")||e["circle-stroke-color"]||s,c=n["circle-stroke-width"]||t.get("circle-stroke-width")||e["circle-stroke-width"]||0;var l={};o&&(l.radius=o),s&&(l.fill=new i.b({color:s}));var A={};return a&&(A.color=a),c&&(A.width=c),l.stroke=new i.d(A),new i.e(Object.assign(r,{image:new i.a(l)}))}return o=n["circle-radius"]||t.get("circle-radius")||e["circle-radius"]||u.circleRadius,s=n["circle-color"]||t.get("circle-color")||e["circle-color"]||u.circleColor,a=n["circle-stroke-color"]||t.get("circle-stroke-color")||e["circle-stroke-color"]||u.circleColor,c=n["circle-stroke-width"]||t.get("circle-stroke-width")||e["circle-stroke-width"]||u.circleStrokeWidth,new i.e({image:new i.a({radius:o,fill:new i.b({color:s}),stroke:new i.d({color:a,width:c})})})}function f(t,e,n,r){var o,s,a,c;if(r){o=n["line-color"]||t.get("line-color")||e["line-color"]||"rgba(210,12,12,1)",s=n["line-dasharray"]||t.get("line-dasharray")||e["line-dasharray"],a=n["line-cap"]||t.get("line-cap")||e["line-cap"],c=n["line-width"]||t.get("line-width")||e["line-width"]||1;var l={};o&&(l.fill=new i.b({color:o}));var A={lineJoin:"round"};return o&&(A.color=o),c&&(A.width=c),s&&(A.lineDash=s),a&&(A.lineCap="round"),l.stroke=new i.d(A),new i.e(Object.assign(r,l))}return o=n["line-color"]||t.get("line-color")||e["line-color"]||u.lineColor,s=n["line-dasharray"]||t.get("line-dasharray")||e["line-dasharray"]||u.lineDasharray,a=n["line-cap"]||t.get("line-cap")||e["line-cap"]||u.lineCap,c=n["line-width"]||t.get("line-width")||e["line-width"]||u.lineWidth,new i.e({fill:new i.b({color:o}),stroke:new i.d({color:o,width:c,lineDash:s,lineJoin:"round",lineCap:a})})}function g(t,e,n,r){var o,s,a;if(r){o=n["fill-color"]||t.get("fill-color")||e["fill-color"],s=n["fill-outline-color"]||t.get("fill-outline-color")||e["fill-outline-color"],a=n["line-width"]||t.get("line-width")||e["line-width"];var c={};o&&(c.fill=new i.b({color:o}));var l={};return s&&(l.color=s),a&&(l.width=a),new i.e(Object.assign(r,c))}return o=n["fill-color"]||t.get("fill-color")||e["fill-color"]||u.fillColor,s=n["fill-outline-color"]||t.get("fill-outline-color")||e["fill-outline-color"]||u.fillOutlineColor,a=n["line-width"]||t.get("line-width")||e["line-width"]||u.lineWidth,new i.e({fill:new i.b({color:o}),stroke:new i.d({color:s,width:a})})}},function(t,e,n){"use strict";var r=n(381),i=n(393),o=n(418),s=n(419),a=function(t){function e(e,n,r){if(t.call(this),void 0!==r&&void 0===n)this.setFlatCoordinates(r,e);else{var i=n||0;this.setCenterAndRadius(e,i,r)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=t-i[0],s=e-i[1],a=o*o+s*s;if(a<r){if(0===a)for(var u=0;u<this.stride;++u)n[u]=i[u];else{var c=this.getRadius()/Math.sqrt(a);n[0]=i[0]+c*o,n[1]=i[1]+c*s;for(var l=2;l<this.stride;++l)n[l]=i[l]}return n.length=this.stride,a}return r},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,r=t-n[0],i=e-n[1];return r*r+i*i<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return Object(r.g)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return i.a.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(r.x)(t,e)){var n=this.getCenter();return t[0]<=n[0]&&t[2]>=n[0]||(t[1]<=n[1]&&t[3]>=n[1]||Object(r.o)(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],r=t.slice();r[e]=r[0]+n;for(var i=1;i<e;++i)r[e+i]=t[i];this.setFlatCoordinates(this.layout,r),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var r=this.flatCoordinates,i=Object(s.a)(r,0,t,this.stride);r[i++]=r[0]+e;for(var o=1,a=this.stride;o<a;++o)r[i++]=r[o];r.length=i,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(o.a);a.prototype.transform,e.a=a},function(t,e,n){"use strict";var r=n(445),i=n(1235),o=n(1236),s=n(517),a=n(1237),u=n(446),c=n(776),l=function(t){function e(e){var n=e.projection||"EPSG:3857",r=e.extent||Object(c.c)(n),s=e.tileGrid||Object(c.b)({extent:r,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});t.call(this,{attributions:e.attributions,cacheSize:void 0!==e.cacheSize?e.cacheSize:128,opaque:!1,projection:n,state:e.state,tileGrid:s,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:i.b,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.format_=e.format?e.format:null,this.sourceTiles_={},this.overlaps_=void 0==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:o.a,this.tileGrids_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTiles_={}},e.prototype.getTile=function(t,e,n,o,s){var a=Object(u.d)(t,e,n);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var c=[t,e,n],l=this.getTileCoordForTileUrlFunction(c,s),A=new i.a(c,null!==l?r.a.IDLE:r.a.EMPTY,this.getRevision(),this.format_,this.tileLoadFunction,l,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(s),this.sourceTiles_,o,s,this.tileClass,this.handleTileChange.bind(this),c[0]);return this.tileCache.set(a,A),A},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),n=this.tileGrids_[e];if(!n){var r=this.tileGrid;n=this.tileGrids_[e]=Object(c.a)(t,void 0,r?r.getTileSize(r.getMinZoom()):void 0)}return n},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,n){var r=this.getTileGridForProjection(n),i=Object(s.b)(r.getTileSize(t),this.tmpSize);return[Math.round(i[0]*e),Math.round(i[1]*e)]},e}(a.a);e.a=l},function(t,e,n){"use strict";e.b=function(t,e){var n=Object(l.a)(e,t.getFormat(),t.onLoad.bind(t),t.onError.bind(t));t.setLoader(n)};var r=n(382),i=n(775),o=n(445),s=n(427),a=n(404),u=n(381),c=n(391),l=n(650),A=n(407),h=function(t){function e(n,r,i,s,l,h,p,f,g,d,y,v,m,C,I){if(t.call(this,n,r,{transition:0}),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=d,this.tileKeys=[],this.extent=null,this.sourceRevision_=i,this.wrappedTileCoord=h,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],h){var _=this.extent=g.getTileCoordExtent(h),b=g.getResolution(I),w=f.getZForResolution(b),E=I!=n[0],B=0;if(f.forEachTileCoord(_,w,function(t){var e=Object(u.t)(_,f.getTileCoordExtent(t)),n=f.getExtent();if(n&&(e=Object(u.t)(e,n,e)),Object(u.w)(e)/b>=.5&&Object(u.s)(e)/b>=.5){++B;var r=t.toString(),i=d[r];if(!i&&!E){var A=p(t,y,v);i=d[r]=new m(t,void 0==A?o.a.EMPTY:o.a.IDLE,void 0==A?"":A,s,l),this.sourceTileListenerKeys_.push(Object(a.a)(i,c.a.CHANGE,C))}!i||E&&i.getState()!=o.a.LOADED||(i.consumers++,this.tileKeys.push(r))}}.bind(this)),E&&B==this.tileKeys.length&&this.finishLoading_(),I<=n[0]&&this.state!=o.a.LOADED)for(;I>g.getMinZoom();){var x=new e(n,r,i,s,l,h,p,f,g,d,y,v,m,A.c,--I);if(x.state==o.a.LOADED){this.interimTile=x;break}}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state=o.a.ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(var e=0,n=this.tileKeys.length;e<n;++e){var r=this.tileKeys[e],i=this.getTile(r);i.consumers--,0==i.consumers&&(delete this.sourceTiles_[r],i.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(a.e),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(a.e),this.sourceTileListenerKeys_.length=0,t.prototype.disposeInternal.call(this)},e.prototype.getContext=function(t){var e=Object(r.c)(t);return e in this.context_||(this.context_[e]=Object(s.a)()),this.context_[e]},e.prototype.getImage=function(t){return-1==this.getReplayState(t).renderedTileRevision?null:this.getContext(t).canvas},e.prototype.getReplayState=function(t){var e=Object(r.c)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[e]},e.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},e.prototype.getTile=function(t){return this.sourceTiles_[t]},e.prototype.load=function(){var t=0,e={};this.state==o.a.IDLE&&this.setState(o.a.LOADING),this.state==o.a.LOADING&&this.tileKeys.forEach(function(n){var i=this.getTile(n);if(i.state==o.a.IDLE&&(i.setLoader(this.loader_),i.load()),i.state==o.a.LOADING){var s=Object(a.a)(i,c.a.CHANGE,function(n){var s=i.getState();if(s==o.a.LOADED||s==o.a.ERROR){var a=Object(r.c)(i);s==o.a.ERROR?e[a]=!0:(--t,delete e[a]),t-Object.keys(e).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(s),++t}}.bind(this)),t-Object.keys(e).length==0&&setTimeout(this.finishLoading_.bind(this),0)},e.prototype.finishLoading_=function(){for(var t=this.tileKeys.length,e=0,n=t-1;n>=0;--n){var r=this.getTile(this.tileKeys[n]).getState();r!=o.a.LOADED&&--t,r==o.a.EMPTY&&++e}t==this.tileKeys.length?(this.loadListenerKeys_.forEach(a.e),this.loadListenerKeys_.length=0,this.setState(o.a.LOADED)):this.setState(e==this.tileKeys.length?o.a.EMPTY:o.a.ERROR)},e}(i.a);e.a=h},function(t,e,n){"use strict";var r=n(382),i=n(775),o=n(445),s=[0,0,4096,4096],a=function(t){function e(e,n,r,i,o,s){t.call(this,e,n,s),this.consumers=0,this.extent_=null,this.format_=i,this.features_=null,this.loader_,this.projection_=null,this.replayGroups_={},this.tileLoadFunction_=o,this.url_=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=o.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getExtent=function(){return this.extent_||s},e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getReplayGroup=function(t,e){return this.replayGroups_[Object(r.c)(t)+","+e]},e.prototype.load=function(){this.state==o.a.IDLE&&(this.setState(o.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},e.prototype.onLoad=function(t,e,n){this.setProjection(e),this.setFeatures(t),this.setExtent(n)},e.prototype.onError=function(){this.setState(o.a.ERROR)},e.prototype.setExtent=function(t){this.extent_=t},e.prototype.setFeatures=function(t){this.features_=t,this.setState(o.a.LOADED)},e.prototype.setProjection=function(t){this.projection_=t},e.prototype.setReplayGroup=function(t,e,n){this.replayGroups_[Object(r.c)(t)+","+e]=n},e.prototype.setLoader=function(t){this.loader_=t},e}(i.a);e.a=a},function(t,e,n){"use strict";var r=n(382),i=n(445),o=n(1238),s=n(1239),a=n(1243),u=n(446),c=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):o.c,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,o=Object(r.c)(n),u=n.getState();u==i.a.LOADING?(this.tileLoadingKeys_[o]=!0,e=a.a.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=u==i.a.ERROR?a.a.TILELOADERROR:u==i.a.LOADED||u==i.a.ABORT?a.a.TILELOADEND:void 0),void 0!=e&&this.dispatchEvent(new s.a(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=Object(o.b)(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Object(o.a)(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var r=Object(u.d)(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(s.b);e.a=c},function(t,e,n){"use strict";e.a=function(t,e){for(var n=t.length,r=new Array(n),a=0;a<n;++a)r[a]=s(t[a],e);return function(t){if(1===t.length)return t[0];return function(e,n,r){if(e){var s=Object(o.e)(e),a=Object(i.d)(s,t.length);return t[a](e,n,r)}}}(r)},e.c=function(t,e,n){return},e.b=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r,i=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(r=i;r<=o;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e};var r=n(389),i=n(385),o=n(446);function s(t,e){var n=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,s=/\{-y\}/g;return function(a,u,c){return a?t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(o,function(){return(-a[2]-1).toString()}).replace(s,function(){var t=a[0],n=e.getFullTileRange(t);return Object(r.a)(n,55),(n.getHeight()+a[2]).toString()}):void 0}}},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(382),i=n(1240),o=n(445),s=n(438),a=n(405),u=n(517),c=n(651),l=n(446),A=n(776),h=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new i.a(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var s,a,u,c=!0,A=n.minX;A<=n.maxX;++A)for(var h=n.minY;h<=n.maxY;++h)a=Object(l.d)(e,A,h),u=!1,i.containsKey(a)&&(u=(s=i.get(a)).getState()===o.a.LOADED)&&(u=!1!==r(s)),u||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return Object(r.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Object(A.d)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(a.b)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r=this.getTileGridForProjection(n),i=this.getTilePixelRatio(e),o=Object(u.b)(r.getTileSize(t),this.tmpSize);return 1==i?o:Object(u.a)(o,i,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=Object(A.e)(r,t,n)),Object(l.f)(t,r)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,n,r){},e}(c.a),p=function(t){function e(e,n){t.call(this,e),this.tile=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a);e.b=h},function(t,e,n){"use strict";var r=n(658),i=n(446),o=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),n=e.tileCoord[0].toString();if(n in t&&t[n].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(i.b)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(Object(i.c)(t.tileCoord)),t.dispose())},this)}},e}(r.a);e.a=o},function(t,e,n){"use strict";var r=n(777),i=n(389),o=n(1242),s=n(411),a=n(381),u=n(385),c=n(517),l=n(446),A=[0,0,0],h=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(i.a)(Object(s.c)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var n=0,u=this.resolutions_.length-1;n<u;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(i.a)(this.origins_.length==this.resolutions_.length,20));var c=t.extent;void 0===c||this.origin_||this.origins_||(this.origin_=Object(a.u)(c)),Object(i.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(i.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r.b,Object(i.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==c?c:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new o.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):c&&this.calculateTileRanges_(c)};h.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var s=r.minY,a=r.maxY;s<=a;++s)n([e,i,s])},h.prototype.forEachTileCoordParentTileRange=function(t,e,n,r,i){var s,a,u,c=null,l=t[0]-1;for(2===this.zoomFactor_?(a=t[1],u=t[2]):c=this.getTileCoordExtent(t,i);l>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),u=Math.floor(u/2),s=Object(o.a)(a,a,u,u,r)):s=this.getTileRangeForExtentAndZ(c,l,r),e.call(n,l,s))return!0;--l}return!1},h.prototype.getExtent=function(){return this.extent_},h.prototype.getMaxZoom=function(){return this.maxZoom},h.prototype.getMinZoom=function(){return this.minZoom},h.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},h.prototype.getResolution=function(t){return this.resolutions_[t]},h.prototype.getResolutions=function(){return this.resolutions_},h.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return Object(o.a)(r,r+1,i,i+1,e)}var s=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},h.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=Object(c.b)(this.getTileSize(t),this.tmpSize_),s=r[0]+e.minX*o[0]*i,u=r[0]+(e.maxX+1)*o[0]*i,l=r[1]+e.minY*o[1]*i,A=r[1]+(e.maxY+1)*o[1]*i;return Object(a.g)(s,l,u,A,n)},h.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=A;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var i=r[1],s=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),Object(o.a)(i,r[1],s,r[2],n)},h.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=Object(c.b)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]+(t[2]+.5)*r[1]*n]},h.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=Object(c.b)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,s=n[1]+t[2]*i[1]*r,u=o+i[0]*r,l=s+i[1]*r;return Object(a.g)(o,s,u,l,e)},h.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},h.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),u=Object(c.b)(this.getTileSize(o),this.tmpSize_),A=r?.5:0,h=r?0:.5,p=Math.floor((t-a[0])/n+A),f=Math.floor((e-a[1])/n+h),g=s*p/u[0],d=s*f/u[1];return r?(g=Math.ceil(g)-1,d=Math.ceil(d)-1):(g=Math.floor(g),d=Math.floor(d)),Object(l.a)(o,g,d,i)},h.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),s=this.getResolution(n),a=Object(c.b)(this.getTileSize(n),this.tmpSize_),u=r?.5:0,A=r?0:.5,h=Math.floor((t-o[0])/s+u),p=Math.floor((e-o[1])/s+A),f=h/a[0],g=p/a[1];return r?(f=Math.ceil(f)-1,g=Math.ceil(g)-1):(f=Math.floor(f),g=Math.floor(g)),Object(l.a)(n,f,g,i)},h.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},h.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},h.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},h.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},h.prototype.getZForResolution=function(t,e){var n=Object(s.d)(this.resolutions_,t,e||0);return Object(u.a)(n,this.minZoom,this.maxZoom)},h.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},e.a=h},function(t,e,n){"use strict";e.a=function(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new r(t,e,n,i)};var r=function(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r};r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.b=r},function(t,e,n){"use strict";e.a={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},function(t,e,n){"use strict";var r=n(389),i=n(1245),o=n.n(i),s=n(570),a=n(554),u=n(430),c=n(393),l=n(571),A=n(669),h=n(573),p=n(670),f=n(495),g=n(494),d=n(569),y=n(488),v=n(426),m=n(1247),C=function(t){function e(e){t.call(this);var n=e||{};this.dataProjection=new y.a({code:"",units:v.b.TILE_PIXELS}),this.featureClass_=n.featureClass?n.featureClass:m.a,this.geometryName_=n.geometryName,this.layerName_=n.layerName?n.layerName:"layer",this.layers_=n.layers?n.layers:null,this.extent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readRawGeometry_=function(t,e,n,i){t.pos=e.geometry;for(var o=t.readVarint()+t.pos,s=1,a=0,u=0,c=0,l=0,A=0;t.pos<o;){if(!a){var h=t.readVarint();s=7&h,a=h>>3}a--,1===s||2===s?(u+=t.readSVarint(),c+=t.readSVarint(),1===s&&l>A&&(i.push(l),A=l),n.push(u,c),l+=2):7===s?l>A&&(n.push(n[A],n[A+1]),l+=2):Object(r.a)(!1,59)}l>A&&(i.push(l),A=l)},e.prototype.createFeature_=function(t,e,n){var r,i=e.type;if(0===i)return null;var o=e.id,a=e.properties;a[this.layerName_]=e.layer.name;var y=[],v=[];this.readRawGeometry_(t,e,y,v);var C=function(t,e){var n;1===t?n=1===e?c.a.POINT:c.a.MULTI_POINT:2===t?n=1===e?c.a.LINE_STRING:c.a.MULTI_LINE_STRING:3===t&&(n=c.a.POLYGON);return n}(i,v.length);if(this.featureClass_===m.a)r=new this.featureClass_(C,y,v,a,o);else{var I;if(C==c.a.POLYGON){for(var _=[],b=0,w=0,E=0,B=v.length;E<B;++E){var x=v[E];Object(d.a)(y,b,x,2)||(_.push(v.slice(w,E)),w=E),b=x}I=_.length>1?new p.a(y,u.a.XY,_):new g.a(y,u.a.XY,v)}else I=C===c.a.POINT?new f.a(y,u.a.XY):C===c.a.LINE_STRING?new l.a(y,u.a.XY):C===c.a.POLYGON?new g.a(y,u.a.XY,v):C===c.a.MULTI_POINT?new h.a(y,u.a.XY):C===c.a.MULTI_LINE_STRING?new A.a(y,u.a.XY,v):null;r=new(0,this.featureClass_),this.geometryName_&&r.setGeometryName(this.geometryName_);var O=Object(s.b)(I,!1,this.adaptOptions(n));r.setGeometry(O),r.setId(o),r.setProperties(a)}return r},e.prototype.getLastExtent=function(){return this.extent_},e.prototype.getType=function(){return a.a.ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var n=this.layers_,r=new o.a(t),i=r.readFields(I,{}),s=[];for(var a in i)if(!n||-1!=n.indexOf(a)){for(var u=i[a],c=0,l=u.length;c<l;++c){var A=w(r,u,c);s.push(this.createFeature_(r,A))}this.extent_=u?[0,0,u.extent,u.extent]:null}return s},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(s.a);function I(t,e,n){if(3===t){var r={keys:[],values:[],features:[]},i=n.readVarint()+n.pos;n.readFields(_,r,i),r.length=r.features.length,r.length&&(e[r.name]=r)}}function _(t,e,n){if(15===t)e.version=n.readVarint();else if(1===t)e.name=n.readString();else if(5===t)e.extent=n.readVarint();else if(2===t)e.features.push(n.pos);else if(3===t)e.keys.push(n.readString());else if(4===t){for(var r=null,i=n.readVarint()+n.pos;n.pos<i;)r=1===(t=n.readVarint()>>3)?n.readString():2===t?n.readFloat():3===t?n.readDouble():4===t?n.readVarint64():5===t?n.readVarint():6===t?n.readSVarint():7===t?n.readBoolean():null;e.values.push(r)}}function b(t,e,n){if(1==t)e.id=n.readVarint();else if(2==t)for(var r=n.readVarint()+n.pos;n.pos<r;){var i=e.layer.keys[n.readVarint()],o=e.layer.values[n.readVarint()];e.properties[i]=o}else 3==t?e.type=n.readVarint():4==t&&(e.geometry=n.pos)}function w(t,e,n){t.pos=e.features[n];var r=t.readVarint()+t.pos,i={layer:e,type:0,properties:{}};return t.readFields(b,i,r),i}e.a=C},function(t,e,n){"use strict";t.exports=i;var r=n(1246);function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;function o(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function s(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function a(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function u(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function l(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function A(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function y(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function v(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function m(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=y(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=m(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=y(this.buf,this.pos)+4294967296*y(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=y(this.buf,this.pos)+4294967296*m(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return s(t,r,e);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return s(t,r,e);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return s(t,r,e);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return s(t,r,e);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return s(t,r,e);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return s(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){var r="",i=e;for(;i<n;){var o,s,a,u=t[i],c=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l>n)break;1===l?u<128&&(c=u):2===l?128===(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)<=127&&(c=null):3===l?(o=t[i+1],s=t[i+2],128===(192&o)&&128===(192&s)&&((c=(15&u)<<12|(63&o)<<6|63&s)<=2047||c>=55296&&c<=57343)&&(c=null)):4===l&&(o=t[i+1],s=t[i+2],a=t[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&((c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,l=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),i+=l}return r}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=o(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),v(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),v(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),v(this.buf,-1&t,this.pos),v(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),v(this.buf,-1&t,this.pos),v(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;if(e.buf[e.pos++]|=n|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&a(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),r.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),r.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&a(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,i.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,u,e)},writePackedSVarint:function(t,e){this.writeMessage(t,c,e)},writePackedBoolean:function(t,e){this.writeMessage(t,h,e)},writePackedFloat:function(t,e){this.writeMessage(t,l,e)},writePackedDouble:function(t,e){this.writeMessage(t,A,e)},writePackedFixed32:function(t,e){this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,f,e)},writePackedFixed64:function(t,e){this.writeMessage(t,g,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,d,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,A=n?i-1:0,h=n?-1:1,p=t[e+A];for(A+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+A],A+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+A],A+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,A=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+A>=1?h/u:h*Math.pow(2,1-A))*u>=2&&(s++,u/=2),s+A>=l?(a=0,s=l):s+A>=1?(a=(e*u-1)*Math.pow(2,i),s+=A):(a=e*Math.pow(2,A-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+p]=255&s,p+=f,s/=256,c-=8);t[n+p-f]|=128*g}},function(t,e,n){"use strict";var r=n(411),i=n(381),o=n(393),s=n(671),a=n(568),u=n(572),c=n(405),l=n(566),A=n(561),h=Object(A.b)(),p=function(t,e,n,r,i){this.extent_,this.id_=i,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=r};p.prototype.get=function(t){return this.properties_[t]},p.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===o.a.POINT?Object(i.i)(this.flatCoordinates_):Object(i.k)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},p.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=Object(i.q)(this.getExtent());this.flatInteriorPoints_=Object(a.a)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},p.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=Object(s.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(a.b)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},p.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(u.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},p.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,n=this.ends_,i=0,o=n.length;i<o;++i){var s=n[i],a=Object(u.a)(t,e,s,2,.5);Object(r.b)(this.flatMidpoints_,a),e=s}}return this.flatMidpoints_},p.prototype.getId=function(){return this.id_},p.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},p.prototype.getGeometry=function(){return this},p.prototype.getSimplifiedGeometry=function(t){return this},p.prototype.getProperties=function(){return this.properties_},p.prototype.getStride=function(){return 2},p.prototype.getStyleFunction=function(){},p.prototype.getType=function(){return this.type_},p.prototype.transform=function(t,e){var n=(t=Object(c.d)(t)).getExtent(),r=t.getWorldExtent(),o=Object(i.s)(r)/Object(i.s)(n);Object(A.a)(h,r[0],r[3],o,-o,0,0,0),Object(l.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,h,this.flatCoordinates_)},p.prototype.getEnds=p.prototype.getEndss=function(){return this.ends_},p.prototype.getFlatCoordinates=p.prototype.getOrientedFlatCoordinates,e.a=p},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(386),u=function(){function t(e,n){i()(this,t),this._prev=e,this._next=n}return s()(t,[{key:"toArray",value:function(){return[this._prev.lngLat,this._next.lngLat]}},{key:"combineProperties",value:function(t){this._next.combineProperties(t)}},{key:"getNodeByDuration",value:function(t){var e=t/this.duration,n=this.distance*e,r=a.a.lineString(this.toArray()),i=a.a.along(r,n,{units:"kilometers"}).geometry.coordinates;return new Node(i,this._prev.timestamp+t,this._prev.properties)}},{key:"destroy",value:function(){this._prev.destroy(),this._next.destroy(),this._prev=null,this._next=null}},{key:"_calculateDistance",value:function(t,e){return a.a.distance(t,e,{units:"kilometers"})}},{key:"_calculateRotation",value:function(t,e){return a.a.bearing(t,e)}},{key:"_calculateDuration",value:function(t,e){return e-t}},{key:"prev",get:function(){return this._prev},set:function(t){this._prev=t}},{key:"next",get:function(){return this._next},set:function(t){this._next=t}},{key:"distance",get:function(){return this._calculateDistance(this._prev.lngLat,this._next.lngLat)}},{key:"rotation",get:function(){return this._calculateRotation(this._prev.lngLat,this._next.lngLat)}},{key:"duration",get:function(){return this._calculateDuration(this._prev.timestamp,this._next.timestamp)}}]),t}()},function(t,e,n){"use strict";var r=n(102),i=(n(405),function(t){r.a.map.map.setCenter(t)});e.a=i},function(t,e,n){"use strict";var r=n(102),i=(n(405),function(t){r.a.map.map.fitBounds(t,{padding:{top:40,bottom:160,left:20,right:20},animate:!1})});e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(160),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(156),c=n(601),l=n(602),A=n(516),h=n(780),p=n(448),f=n(1252),g=n(447),d=1e4,y=function(){function t(e){o()(this,t),this.actorProps={actorTemplate:e.actorContent,actorWidth:e.actorWidth,actorHeight:e.actorHeight,actorIcon:e.actorIcon,actorNonBackground:e.actorNonBackground,actorScale:e.actorScale,actorRotation:e.actorRotation,actorOffset:e.actorOffset},this.routeProps=[{"line-width":e.trackWidth,"line-color":e.entireTrackColor,"line-pattern":e.entireTrackPattern,filter:["==",g.b.entire.key,g.b.entire.value]},{"line-width":e.trackWidth,"line-color":e.passedTrackColor,"line-pattern":e.passedTrackPattern,filter:["==",g.b.passed.key,g.b.passed.value]}],this.actorVisible=!Object(A.a)(e.actorVisible)||e.actorVisible,this.routeVisible=!Object(A.a)(e.trackVisible)||e.trackVisible,this.autoDirection=!Object(A.a)(e.autoDirection)||e.autoDirection,this.id=Object(u.b)(),this.to02=!!Object(A.a)(e.toGcj02)&&e.toGcj02;var n=Date.now(),r=Object(A.b)(e.duration)?e.duration:d;this.model=new c.a(n,n+r,1,e.animationFillMode),this.controller=new l.a(this.model),this.viewer=null,this.lifeCircle={oncreated:e.oninit,onerror:e.onerror,onkeypointchange:e.onkeypointchange},u.a.bindAll(["_loaded","_loaderror"],this),this._load(e.points,e.isPlan)}return a()(t,[{key:"pause",value:function(){this.controller.pause()}},{key:"play",value:function(){this.controller.run()}},{key:"addTrackEvent",value:function(t,e){this.viewer&&this.viewer.addRouteEvent(t,e)}},{key:"removeTrackEvent",value:function(t){this.viewer&&this.viewer.removeRouteEvent(t)}},{key:"setEventTrackProgressBy",value:function(t){this.controller.setBy(t)}},{key:"setEventTrackProgressTo",value:function(t){this.controller.setTo(t)}},{key:"setSlot",value:function(t){this.viewer.actor.setSlot(t)}},{key:"destroy",value:function(){this.controller.removeViewer(this.viewer),this.viewer.destroy(),this.viewer=null,this.controller.destroy(),this.controller=null,this.model.destroy(),this.model=null}},{key:"_load",value:function(t,e){return e?this._loadPlannedData(t):this._loadUnplannedData(t)}},{key:"_loadPlannedData",value:function(t){Object(h.a)({coordinates:t,st:4,engineType:"keda"},this._loaded,this._loaderror)}},{key:"_loadUnplannedData",value:function(t){var e=this;window.requestAnimationFrame(function(){e._buildViewer(t)})}},{key:"_loaded",value:function(t){if(0===t.errcode&&t.data&&t.data.rows&&t.data.rows[0]&&t.data.rows[0].routelatlon){var e=t.data.rows[0].routelatlon.split(";");e.pop();var n=e.map(function(t){return t.split(",").map(function(t){return parseFloat(t)})});this._buildViewer(n)}else this._emitError("路径规划失败...")}},{key:"_loaderror",value:function(t){this._emitError(t.message)}},{key:"_emitError",value:function(t){this.lifeCircle.onerror&&this.lifeCircle.onerror(t)}},{key:"_buildViewer",value:function(t){var e=this,n=this.model.st,r=this.model.et,i=r-n,o=t.length,s=i/(o-1),a=t.map(function(t,e){return new p.a(t,e===o-1?r:n+s*e,{})});this.viewer=Object(f.a)(a,{actorProps:this.actorProps,actorVisible:this.actorVisible,routeProps:this.routeProps,routeVisible:this.routeVisible,autoDirection:this.autoDirection,st:this.model.st}),this.viewer?(this.viewer.onkeypointchange=function(t){e.lifeCircle.onkeypointchange&&e.lifeCircle.onkeypointchange(null,{longitude:t.lngLat[0],latitude:t.lngLat[1]})},this.controller.addViewer(this.viewer),this.controller.run(),this.lifeCircle.oncreated&&this.lifeCircle.oncreated(this.id)):this._emitError("路径规划结果坐标数量不足两个...")}}]),t}()},function(t,e,n){"use strict";e.a=function(t,e){var n=new m.a,r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;n.add(u)}}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return 0===n.size()?null:new C({actorProps:e.actorProps,actorVisible:e.actorVisible,routeProps:e.routeProps,routeVisible:e.routeVisible,autoDirection:e.autoDirection,segmentStore:n,st:e.st})};var r=n(162),i=(n.n(r),n(104)),o=(n.n(i),n(30)),s=(n.n(o),n(74)),a=n.n(s),u=n(101),c=n.n(u),l=n(158),A=n.n(l),h=n(157),p=n.n(h),f=n(388),g=n.n(f),d=n(159),y=n.n(d),v=n(605),m=n(475),C=(n(447),function(t){function e(t){var n;a()(this,e);var r=t.actorProps,i=t.actorVisible,o=t.routeProps,s=t.routeVisible,u=t.autoDirection,c=t.st,l=t.segmentStore,h=l.getInfo(c);return n=A()(this,p()(e).call(this,{actorProps:r,routeProps:o,node:h.node,segments:h.segments,segmentStore:l})),!1===i&&n.hideActor(),!1===s&&n.hideRoute(),n.autoDirection=u,n}return y()(e,t),c()(e,[{key:"render",value:function(t){var n=t.st+t.passed,r=this.segmentStore.getInfo(n);g()(p()(e.prototype),"render",this).call(this,r);var i=this.activeIndex;this.activeIndex=r.index,this.onkeypointchange&&i!==r.index&&this.onkeypointchange(r.node)}}]),e}(v.a))},function(t,e,n){"use strict";var r=["road-tap-100","road-tap-101","road-tap-102","road-tap-103"];e.a=function(t){var e=r[t];return e||null}},function(t,e,n){"use strict";var r=n(102),i=function(){return r.a.map.map.getZoom()};e.a=i},function(t,e,n){"use strict";e.a=function(t){var e=[];return e[0]=t[0]<=r?r:t[0],e[0]=t[0]>=i?i:t[0],e[1]=t[1]<=o?o:t[1],e[1]=t[1]>=s?s:t[1],e};var r=-180,i=180,o=-90,s=90},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(102),c=n(156),l=function(){function t(e){o()(this,t),this.clusterProps=e,this.clusterLayer=null,this.clusterEvents={},this._active=null,this.creating=!1,c.a.bindAll(["_oncreated"],this)}return a()(t,[{key:"destroy",value:function(){this.clusterLayer&&(this.clusterLayer.removeLayer(),this.clusterLayer=null,this.clusterEvents=null)}},{key:"addEvent",value:function(t,e){this.clusterEvents[t]||(this.clusterEvents[t]=e,this.clusterLayer&&this.clusterLayer.addEvent(t,e))}},{key:"removeEvent",value:function(t){this.clusterEvents[t]&&(delete this.clusterEvents[t],this.clusterLayer&&this.clusterLayer.removeEvent(t))}},{key:"_createLayer",value:function(){var t=u.a.modules.SpecificLayer();this.creating=!0,this.clusterLayer=new t(this._buildParams(this.clusterProps),this._oncreated)}},{key:"_oncreated",value:function(t){if("string"===typeof t){var e=u.a.layerCollect.get(t);if(e){for(var n in this.creating=!1,this.clusterEvents)if(this.clusterEvents.hasOwnProperty(n)){var r=this.clusterEvents[n];e.addEvent(n,r)}this._active?e.show():e.hide()}}else this.clusterLayer}},{key:"_buildParams",value:function(t){var e=t.serviceName,n=t.gbids,r=t.terms,i=t.businessTerms,o=t.clusterZoom,s=t.clusterLayerProps,a={serviceNames:[e],isPublic:!0,clustered:!0,dynamic:!1,maxZoom:o,maxClusteredZoom:o};n?a.mixTerms=[{type:"and",terms:n.map(function(t){return{column:"gbid",value:t,termType:"eq",type:"or",filterType:1}})}]:(a.mixTerms=r.map(function(t){return t.filterType=1,t}),i&&(a.isPublic=!1,a.mixTerms=a.mixTerms.concat(i.map(function(t){return t.filterType=0,t}))));return Object.assign(s,a,{aggsOptimizationDisabled:!0})}},{key:"active",get:function(){return this._active},set:function(t){var e=this._active;if(!0===t){if(!0===e||!0===this.creating)return;this.clusterLayer&&null!==e?this.clusterLayer.show():this._createLayer()}else this.clusterLayer&&this.clusterLayer.hide();this._active=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(1258),u=n(1259),c=n(1261),l=n(448),A=n(386),h=n(784),p=5e3,f=!0,g=!0,d=15,y=function(){function t(e,n){i()(this,t),this.renders=e,this.parent=n.parent,this.animation="boolean"===typeof n.animation?n.animation:g,this.maxDuration="number"!==typeof n.maxDuration||isNaN(n.maxDuration)?p:n.maxDuration,this.autoDirection="boolean"===typeof n.autoDirection?n.autoDirection:f,this.animationMinZoom="number"!==typeof n.animationMinZoom||isNaN(n.animationMinZoom)?d:n.animationMinZoom,this.toGcj02="boolean"===typeof n.toGcj02&&n.toGcj02,this.onkeypointchange=n.onkeypointchange,this.ontrackerschange=n.ontrackerschange,this._active=null,this.trackers={},this.actorEvents={},this.routeEvents={}}return s()(t,[{key:"addActorEvent",value:function(t,e){if(!this.actorEvents[t])for(var n in this.actorEvents[t]=e,this.trackers)this.trackers.hasOwnProperty(n)&&this.trackers[n]._actor.on(t,e)}},{key:"removeActorEvent",value:function(t){if(this.actorEvents[t]){for(var e in this.trackers)this.trackers.hasOwnProperty(e)&&this.trackers[e]._actor.off(t);delete this.actorEvents[t]}}},{key:"addRouteEvent",value:function(t,e){if(!this.routeEvents[t])for(var n in this.routeEvents[t]=e,this.trackers)this.trackers.hasOwnProperty(n)&&this.trackers[n]._route.on(t,e)}},{key:"removeRouteEvent",value:function(t){if(this.routeEvents[t]){for(var e in this.trackers)this.trackers.hasOwnProperty(e)&&this.trackers[e]._route.off(t);delete this.routeEvents[t]}}},{key:"getTracker",value:function(t){return this.trackers[t]}},{key:"postMessage",value:function(t){if(t.hasOwnProperty("traceType")&&t.hasOwnProperty("data")){var e=t.data,n=t.traceType,r=e.gbid,i=this.trackers[r];if(0===n){var o=l.a.transform(e,this.toGcj02);if(i)i.controller.insert(o);else{var s=new c.a({animation:this.animation,skip:this.maxDuration}),A=Object(a.a)(this.renders,o.properties),h={actorTemplate:A.actorTemplate||A.actorContent,actorWidth:A.actorWidth,actorHeight:A.actorHeight,actorIcon:A.actorIcon,actorNonBackground:A.actorNonBackground,actorScale:A.actorScale,actorRotation:A.actorRotation,actorOffset:A.actorOffset},p={"line-color":A.trackColor,"line-dash":A.trackIsSolid,"line-pattern":A.trackPattern,"line-width":A.trackWidth};for(var f in this.trackers[r]=new u.a({actorProps:h,trackProps:p,node:o,controller:s,gbid:r,autoDirection:this.autoDirection,target:this}),this.actorEvents){var g=this.actorEvents[f];this.trackers[r]._actor.on(f,g)}for(var d in this.routeEvents){var y=this.routeEvents[d];this.trackers[r]._route.on(d,y)}this._emitTrackers()}}1===n&&i&&(i.destroy(),delete this.trackers[r],this._emitTrackers()),2!==n&&(3===n&&i&&i.controller.setProperties(e),4===n&&"REALTIME_TRACK"!==this.parent.type&&i&&(i.destroy(),delete this.trackers[r],this._emitTrackers()))}}},{key:"removeTracker",value:function(t){this.trackers[t]&&(this.trackers[t].destroy(),delete this.trackers[t])}},{key:"destroy",value:function(){for(var t in this.trackers)this.trackers.hasOwnProperty(t)&&this.trackers[t].destroy();this.trackers=null,this.actorEvents=null,this.routeEvents=null}},{key:"_emitTrackers",value:function(){if(this.ontrackerschange){var t={};for(var e in this.trackers)t[e]=this.trackers[e].node.properties;this.ontrackerschange(t)}}},{key:"active",get:function(){return this._active},set:function(t){var e=this._active;if(!0===t){if(!0===e){var n=Object(h.a)();for(var r in this.trackers)if(this.trackers.hasOwnProperty(r)){var i=this.trackers[r].getNode();if(A.a.booleanPointInPolygon(A.a.point(i.lngLat),n))this.trackers[r].offscreen=!1;else{var o=this.trackers[r];delete this.trackers[r],o.destroy()}}}}else for(var s in this.trackers)if(this.trackers.hasOwnProperty(s)){var a=this.trackers[s];delete this.trackers[s],a.destroy()}this._active=t}}]),t}()},function(t,e,n){"use strict";var r=n(607);n.n(r);e.a=function(t,e){return t.find(function(t){return!t.filter||t.filter.every(function(t){return e[t.key]===t.value})})}},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(102),c=n(156),l=n(773),A=n(606),h=n(1260),p=n(782),f=function(){function t(e){o()(this,t),c.a.bindAll(["_onkeypointchange","_onframe","_onmessagechange"],this),this.gbid=e.gbid,this.target=e.target,this.actorProps=e.actorProps,this.trackProps=e.trackProps,this.controller=e.controller,this.node=e.node,this.controller.insert(this.node),this.autoDirection=e.autoDirection,u.a.routeStore=u.a.routeStore||new h.a,this._actor=new l.a(this.actorProps,this.node),this._route=new A.a({type:"FeatureCollection",features:[]},Object(p.a)([Object.assign({},this.trackProps,{filter:["any",["all"]]})])),this._route.hide(),this._store=u.a.routeStore,this._offscreen=!1,this.controller.on("keypointchange",this._onkeypointchange),this.controller.on("frame",this._onframe),this.controller.on("messagechange",this._onmessagechange)}return a()(t,[{key:"getNode",value:function(){return this.node}},{key:"destroy",value:function(){this.target=null,this.controller.off("keypointchange"),this.controller.off("frame"),this.controller.running=!1,this.controller.destroy(),this.controller=null,this._removeStore(),this._store=null,this._actor.destroy(),this._actor=null,this._route.destroy(),this._route=null}},{key:"showRoute",value:function(){this._route.show()}},{key:"hideRoute",value:function(){this._route.hide(),this._removeStore()}},{key:"_onmessagechange",value:function(t){this.node=t,this._actor.setLngLat(t)}},{key:"_onkeypointchange",value:function(t){this._route.getVisible()?this._store.set(this.gbid,t):this._removeStore(),this.target.onkeypointchange&&this.target.onkeypointchange({gbid:this.gbid,properties:t.next.properties})}},{key:"_onframe",value:function(t){if(this.node=t.next,!this.offscreen&&(this._actor.setLngLat(t.next),this.autoDirection&&this._actor.setRotation(t.rotation),this._route.getVisible())){var e={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiLineString",coordinates:this._store.get(this.gbid).concat([t]).map(function(t){return t.toArray()})},properties:{}}]};this._route.setLayerFeature(e)}}},{key:"_removeStore",value:function(){this._store.remove(this.gbid)}},{key:"offscreen",get:function(){return this._offscreen},set:function(t){this._offscreen=t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(785),u=5e3,c=function(){function t(e){i()(this,t),this.limit=e>0?e:u,this.list={},this.total=0}return s()(t,[{key:"set",value:function(t,e){if(this.list[t]=this.list[t]||new a.a,this.list[t].enqueue(e),this.total+=1,this.total>this.limit){var n=[];for(var r in this.list)this.list.hasOwnProperty(r)&&n.push({id:r,length:this.list[r].size()});var i=n.reduce(function(t,e){return t?e.length>t.length?e:t:e},null);i&&this.list[i.id].dequeue()}}},{key:"get",value:function(t){var e=this.list[t];return e?e.all():[]}},{key:"remove",value:function(t){var e=this.list[t];if(e){var n=e.size();this.total-=n,delete this.list[t],e.destroy()}}},{key:"destroy",value:function(){this.limit=null,this.list=null,this.total=null}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(785),c=n(778),l=n(1262),A=n(769),h=n(774),p=n(1263),f={animation:!0,skip:5e3},g=function(){function t(e){o()(this,t);var n=Object(h.a)(Object(p.a)(e,["animation","skip"]),f);this._animation=n.animation,this._skip=n.skip,this._running=!0,this._queue=new u.a,this._node=null,this._active=null,this._vd=0,this._rd=0,this._ad=0,this._head=!1,this._listeners={},this._onframe=this._onframe.bind(this),this._frame=null,this._modifyFrame()}return a()(t,[{key:"insert",value:function(t){if(null===this._node)return this._node=t,this._node.timestamp=null,void(this._head=!0);if(Object(c.a)(this._node,t)){!0===this._head&&(this._node.timestamp=t.timestamp-(Math.min(this._skip,1e4)-1),this._head=!1);var e=Object.assign({},this._node.properties,t.properties);t.properties=e;var n=new l.a(this._node,t);this._queue.enqueue(n),this._node=t,this._vd+=n.duration,this._rd=n.duration,!1===this.running&&this._queue.size()>10&&(this._removeActive(),this._expend())}this._modifyFrame()}},{key:"setProperties",value:function(t){var e=this._node.properties;Object.assign(e,t),this._node.properties=e,0===this._queue.size()&&null===this._active&&this._listeners.messagechange&&this._listeners.messagechange(this._node)}},{key:"destroy",value:function(){this._frame&&(this._frame.destroy(),this._frame=null),this._listeners={},this._queue.destroy(),this._queue=null}},{key:"on",value:function(t,e){this._listeners[t]=e}},{key:"off",value:function(t){delete this._listeners[t]}},{key:"_onframe",value:function(){if(!this._animation)return this._removeActive(),this._expend(),void this._modifyFrame();this._expend();for(var t=16.777777*this._vd/this._rd;this._active&&t>=this._ad;)t-=this._ad,this._removeActive(),this._expend();if(this._active){this._ad-=t;var e=this._active.getNodeByDuration(this._active.duration-this._ad),n=new l.a(this._active.prev,e);this._listeners.frame&&this._active.duration<this._skip&&this._listeners.frame(n)}this._modifyFrame()}},{key:"_removeActive",value:function(){var t=this._active;if(null!==t&&(this._active=null,this._vd-=t.duration,this._ad=0,t.duration<this._skip&&this._listeners.keypointchange&&this._listeners.keypointchange(t),this._listeners.frame)){var e=new l.a(t.next,t.next);e._rotation=t.rotation,this._listeners.frame(e)}}},{key:"_expend",value:function(){null===this._active&&(this._active=this._queue.dequeue(),this._active&&(this._ad=this._active.duration))}},{key:"_modifyFrame",value:function(){this._frame&&(this._frame.cancel(),this._frame=null),this._running&&(this._active||this._queue.size()>0)&&(this._frame=Object(A.a)(this._onframe))}},{key:"running",get:function(){return this._running},set:function(t){this._running=t,this._modifyFrame()}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(448),u=n(386),c=function(){function t(e,n){i()(this,t),this._prev=e,this._next=n,this._distance=null,this._rotation=null,this._duration=null}return s()(t,[{key:"toArray",value:function(){return[this._prev.lngLat,this._next.lngLat]}},{key:"combineProperties",value:function(t){this._next.combineProperties(t)}},{key:"getNodeByDuration",value:function(t){var e=t/this.duration,n=this.distance*e,r=u.a.lineString(this.toArray()),i=u.a.along(r,n,{units:"kilometers"}).geometry.coordinates;return new a.a(i,this._prev.timestamp+t,this._prev.properties)}},{key:"destroy",value:function(){this.prev.destroy(),this.next.destroy(),this._prev=null,this._next=null,this._distance=null,this._rotation=null,this._duration=null}},{key:"_calculateDistance",value:function(t,e){return u.a.distance(t,e,{units:"kilometers"})}},{key:"_calculateRotation",value:function(t,e){return u.a.bearing(t,e)}},{key:"_calculateDuration",value:function(t,e){return e-t}},{key:"prev",get:function(){return this._prev.clone()}},{key:"next",get:function(){return this._next.clone()}},{key:"distance",get:function(){return null===this._distance?this._calculateDistance(this._prev.lngLat,this._next.lngLat):this._distance}},{key:"rotation",get:function(){return null===this._rotation?this._calculateRotation(this._prev.lngLat,this._next.lngLat):this._rotation}},{key:"duration",get:function(){return null===this._duration?this._calculateDuration(this._prev.timestamp,this._next.timestamp):this._duration}}]),t}()},function(t,e,n){"use strict";e.a=function(t,e){return e.reduce(function(e,n){return e[n]=t[n],e},{})}},function(t,e,n){"use strict";n.d(e,"a",function(){return A});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(102),c=n(156),l=n(1265),A=function(){function t(e){o()(this,t),u.a.clientId=u.a.clientId||Object(c.b)(),this.subscribeUrl=u.a.config.SUBSCRIBE_GPS_DEVICE,this.unsubscribeUrl=u.a.config.UNSUBSCRIBE_GPS_DEVICE,this.clientId=u.a.clientId,this.appName=e.businessTerms?u.a.config.BUSINESS_APPNAME:u.a.config.PUBLIC_APPNAME,this.serviceName=e.businessTerms?e.serviceName:"device_base",this.traceZoom=e.traceZoom,this.traceType=e.traceType,this.gbids=e.gbids,this.terms=e.terms,this.businessTerms=e.businessTerms,this.socketManager=null,this.traceId=null,this.request=null,this.onmessageCallback=null,c.a.bindAll(["_onsuccess","_onerror","_onmessage"],this)}return a()(t,[{key:"subscribe",value:function(t,e){var n=this;this.request=c.a.xhr({type:"POST",url:this.subscribeUrl,body:Object.assign({},this._buildBaseOptions(),this._buildFilterOptions(),t),success:function(t){n._onsuccess(t,e)},error:function(t){n._onerror(t,e)}})}},{key:"unsubscribe",value:function(){this.traceId&&c.a.xhr({type:"POST",url:this.unsubscribeUrl,body:{traceId:this.traceId}})}},{key:"cancel",value:function(){this.request&&(this.request.abort(),this.request=null)}},{key:"send",value:function(t){this.socketManager&&this.traceId&&this.socketManager.send(this.traceId,JSON.stringify(Object.assign({clientId:this.clientId,traceType:this.traceType,traceId:this.traceId,traceZoom:this.traceZoom},t)))}},{key:"destroy",value:function(){this.cancel(),this.socketManager&&this.traceId&&(this.socketManager.unsubscribe(this.traceId),this.socketManager=null,this.unsubscribe())}},{key:"bindMessageCallback",value:function(t){this.onmessageCallback=t}},{key:"_onmessage",value:function(t){this.onmessageCallback&&this.onmessageCallback(t)}},{key:"_onsuccess",value:function(t,e){200===t.status&&"0"===t.code&&t.result?(u.a.socketManager=u.a.socketManager||new l.a,this.traceId=t.result.traceId,this.socketManager=u.a.socketManager,this.socketManager.subscribe(this.traceId,this._onmessage),e(null,t.result.dataList||[])):e(new Error("subscribe service is error"),null)}},{key:"_onerror",value:function(t,e){e(t,null)}},{key:"_buildBaseOptions",value:function(){return{clientId:this.clientId,traceType:this.traceType,appName:this.appName,serviceName:this.serviceName,traceZoom:this.traceZoom}}},{key:"_buildFilterOptions",value:function(){return this.gbids?{gbids:this.gbids}:this.businessTerms?{terms:this.terms,businessTerms:this.businessTerms}:{terms:this.terms}}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(75),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(102),c=n(156),l=n(1266),A=n.n(l),h=n(1267),p=n.n(h),f=function(){function t(){o()(this,t),this._connected={},this._pendding={},this._client=null,c.a.bindAll(["_onnetworkchange","_onconnectsuccess","_onconnecterror"],this),window.addEventListener("online",this._onnetworkchange,!1),window.addEventListener("offline",this._onnetworkchange,!1),this._connect()}return a()(t,[{key:"subscribe",value:function(t,e){var n=this._createDestination(t);if(!this._connected[n]&&!this._pendding[n])if(window.navigator.onLine&&this._client&&this._client.connected){var r=this._client.subscribe(n,e);this._connected[n]={destination:n,onmessage:e,subscription:r}}else this._pendding[n]={destination:n,onmessage:e,subscription:null}}},{key:"unsubscribe",value:function(t){var e=this._createDestination(t),n=this._connected[e],r=this._pendding[e];n&&(n.subscription&&n.subscription.unsubscribe(),delete this._connected[e]),r&&(r.subscription&&r.subscription.unsubscribe(),delete this._pendding[e])}},{key:"send",value:function(t,e){var n=this._createDestination(t);window.navigator.onLine&&this._client&&this._client.connected&&this._client.send(n,null,e)}},{key:"destroy",value:function(){window.navigator.onLine&&this._client&&this._client.connected&&this._client.disconnect(),window.removeEventListener("online",this._onnetworkchange,!1),window.removeEventListener("offline",this._onnetworkchange,!1),this._client=null,this._connected=null,this._pendding=null}},{key:"_onnetworkchange",value:function(){window.navigator.onLine&&this._connect()}},{key:"_onconnectsuccess",value:function(){for(var t in Object.assign(this._pendding,this._connected),this._connected={},this._pendding){var e=this._pendding[t],n=e.destination;e.subscription&&(e.subscription.unsubscribe(),e.subscription=null),e.subscription=this._client.subscribe(n,e.onmessage),this._connected[n]=e,delete this._pendding[n]}}},{key:"_onconnecterror",value:function(){window.navigator.onLine&&this._connect()}},{key:"_connect",value:function(){if(window.navigator.onLine&&(!this._client||!this._client.connected)){var t=new A.a(u.a.config.WS_SERVER),e="public_space-device_base$"+Object(c.b)();this._client=p.a.Stomp.over(t),this._client.debug=!1,this._client.connect({username:e},this._onconnectsuccess,this._onconnecterror)}}},{key:"_createDestination",value:function(t){return"/topic/trace/"+t}}]),t}()},function(t,e){!function(n){if("object"==typeof e&&"undefined"!=typeof t)t.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.SockJS=n()}}(function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n||t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e){(function(n){"use strict";var r=t("./transport-list");e.exports=t("./main")(r),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(t,e){"use strict";function n(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var r=t("inherits"),i=t("./event");r(n,i),e.exports=n},{"./event":4,inherits:54}],3:[function(t,e){"use strict";function n(){i.call(this)}var r=t("inherits"),i=t("./eventtarget");r(n,i),n.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},n.prototype.once=function(t,e){var n=this,r=!1;this.on(t,function i(){n.removeListener(t,i),r||(r=!0,e.apply(this,arguments))})},n.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];for(var o=0;o<e.length;o++)e[o].apply(this,r)}},n.prototype.on=n.prototype.addListener=i.prototype.addEventListener,n.prototype.removeListener=i.prototype.removeEventListener,e.exports.EventEmitter=n},{"./eventtarget":5,inherits:54}],4:[function(t,e){"use strict";function n(t){this.type=t}n.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},n.prototype.stopPropagation=function(){},n.prototype.preventDefault=function(){},n.CAPTURING_PHASE=1,n.AT_TARGET=2,n.BUBBLING_PHASE=3,e.exports=n},{}],5:[function(t,e){"use strict";function n(){this._listeners={}}n.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},n.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);return-1!==r?void(n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t]):void 0}},n.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},e.exports=n},{}],6:[function(t,e){"use strict";function n(t){i.call(this),this.initEvent("message",!1,!1),this.data=t}var r=t("inherits"),i=t("./event");r(n,i),e.exports=n},{"./event":4,inherits:54}],7:[function(t,e){"use strict";function n(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}var r=t("json3"),i=t("./utils/iframe");n.prototype._transportClose=function(t,e){i.postMessage("c",r.stringify([t,e]))},n.prototype._transportMessage=function(t){i.postMessage("t",t)},n.prototype._send=function(t){this._transport.send(t)},n.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=n},{"./utils/iframe":47,json3:55}],8:[function(t,e){"use strict";var n=t("./utils/url"),r=t("./utils/event"),i=t("json3"),o=t("./facade"),s=t("./info-iframe-receiver"),a=t("./utils/iframe"),u=t("./location");e.exports=function(t,e){var c,l={};e.forEach(function(t){t.facadeTransport&&(l[t.facadeTransport.transportName]=t.facadeTransport)}),l[s.transportName]=s,t.bootstrap_iframe=function(){var e;a.currentWindowId=u.hash.slice(1);r.attachEvent("message",function(r){if(r.source===parent&&("undefined"==typeof c&&(c=r.origin),r.origin===c)){var s;try{s=i.parse(r.data)}catch(t){return}if(s.windowId===a.currentWindowId)switch(s.type){case"s":var A;try{A=i.parse(s.data)}catch(t){break}var h=A[0],p=A[1],f=A[2],g=A[3];if(h!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+h+'", the iframe: "'+t.version+'".');if(!n.isOriginEqual(f,u.href)||!n.isOriginEqual(g,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+f+", "+g+")");e=new o(new l[p](f,g));break;case"m":e._send(s.data);break;case"c":e&&e._close(),e=null}}}),a.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:void 0,json3:55}],9:[function(t,e){"use strict";function n(t,e){r.call(this);var n=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(t,e){var r,a;if(200===t){if(a=+new Date-i,e)try{r=o.parse(e)}catch(t){}s.isObject(r)||(r={})}n.emit("finish",r,a),n.removeAllListeners()})}var r=t("events").EventEmitter,i=t("inherits"),o=t("json3"),s=t("./utils/object");i(n,r),n.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=n},{"./utils/object":49,debug:void 0,events:3,inherits:54,json3:55}],10:[function(t,e){"use strict";function n(t){var e=this;i.call(this),this.ir=new a(t,s),this.ir.once("finish",function(t,n){e.ir=null,e.emit("message",o.stringify([t,n]))})}var r=t("inherits"),i=t("events").EventEmitter,o=t("json3"),s=t("./transport/sender/xhr-local"),a=t("./info-ajax");r(n,i),n.transportName="iframe-info-receiver",n.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=n},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:54,json3:55}],11:[function(t,e){(function(n){"use strict";function r(t,e){var r=this;i.call(this);var o=function(){var n=r.ifr=new u(c.transportName,e,t);n.once("message",function(t){if(t){var e;try{e=s.parse(t)}catch(t){return r.emit("finish"),void r.close()}var n=e[0],i=e[1];r.emit("finish",n,i)}r.close()}),n.once("close",function(){r.emit("finish"),r.close()})};n.document.body?o():a.attachEvent("load",o)}var i=t("events").EventEmitter,o=t("inherits"),s=t("json3"),a=t("./utils/event"),u=t("./transport/iframe"),c=t("./info-iframe-receiver");o(r,i),r.enabled=function(){return u.enabled()},r.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:void 0,events:3,inherits:54,json3:55}],12:[function(t,e){"use strict";function n(t,e){var n=this;r.call(this),setTimeout(function(){n.doXhr(t,e)},0)}var r=t("events").EventEmitter,i=t("inherits"),o=t("./utils/url"),s=t("./transport/sender/xdr"),a=t("./transport/sender/xhr-cors"),u=t("./transport/sender/xhr-local"),c=t("./transport/sender/xhr-fake"),l=t("./info-iframe"),A=t("./info-ajax");i(n,r),n._getReceiver=function(t,e,n){return n.sameOrigin?new A(e,u):a.enabled?new A(e,a):s.enabled&&n.sameScheme?new A(e,s):l.enabled()?new l(t,e):new A(e,c)},n.prototype.doXhr=function(t,e){var r=this,i=o.addPath(t,"/info");this.xo=n._getReceiver(t,i,e),this.timeoutRef=setTimeout(function(){r._cleanup(!1),r.emit("finish")},n.timeout),this.xo.once("finish",function(t,e){r._cleanup(!0),r.emit("finish",t,e)})},n.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},n.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},n.timeout=8e3,e.exports=n},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:void 0,events:3,inherits:54}],13:[function(t,e){(function(t){"use strict";e.exports=t.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e){(function(n){"use strict";function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");v.call(this),this.readyState=r.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&d.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{};var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return c.string(i)}}this._server=n.server||c.numberString(1e3);var o=new s(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https"===m.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var u=e.sort();u.forEach(function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<u.length-1&&t===u[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")});var l=A.getOrigin(m.href);this._origin=l?l.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,this._urlInfo={nullOrigin:!g.hasDomain(),sameOrigin:A.isOriginEqual(this.url,m.href),sameScheme:A.isSchemeEqual(this.url,m.href)},this._ir=new _(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function i(t){return 1e3===t||t>=3e3&&4999>=t}t("./shims");var o,s=t("url-parse"),a=t("inherits"),u=t("json3"),c=t("./utils/random"),l=t("./utils/escape"),A=t("./utils/url"),h=t("./utils/event"),p=t("./utils/transport"),f=t("./utils/object"),g=t("./utils/browser"),d=t("./utils/log"),y=t("./event/event"),v=t("./event/eventtarget"),m=t("./location"),C=t("./event/close"),I=t("./event/trans-message"),_=t("./info-receiver");a(r,v),r.prototype.close=function(t,e){if(t&&!i(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==r.CLOSING&&this.readyState!==r.CLOSED){this._close(t||1e3,e||"Normal closure",!0)}},r.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===r.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===r.OPEN&&this._transport.send(l.quote(t))},r.version=t("./version"),r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r.prototype._receiveInfo=function(t,e){if(this._ir=null,t){this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=f.extend(t,this._urlInfo);var n=o.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,this._connect()}else this._close(1002,"Cannot connect to server")},r.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(t.needBody&&(!n.document.body||"undefined"!=typeof n.document.readyState&&"complete"!==n.document.readyState&&"interactive"!==n.document.readyState))return this._transports.unshift(t),void h.attachEvent("load",this._connect.bind(this));var e=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var r=A.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[t.transportName],o=new t(r,this._transUrl,i);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=t.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},r.prototype._transportTimeout=function(){this.readyState===r.CONNECTING&&this._transportClose(2007,"Transport timed out")},r.prototype._transportMessage=function(t){var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return void this.dispatchEvent(new y("heartbeat"))}if(i)try{e=u.parse(i)}catch(t){}if("undefined"!=typeof e)switch(r){case"a":Array.isArray(e)&&e.forEach(function(t){n.dispatchEvent(new I(t))});break;case"m":this.dispatchEvent(new I(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},r.prototype._transportClose=function(t,e){return this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),i(t)||2e3===t||this.readyState!==r.CONNECTING?void this._close(t,e):void this._connect()},r.prototype._open=function(){this.readyState===r.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=r.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new y("open"))):this._close(1006,"Server lost session")},r.prototype._close=function(t,e,n){var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===r.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=r.CLOSING,setTimeout(function(){this.readyState=r.CLOSED,i&&this.dispatchEvent(new y("error"));var o=new C("close");o.wasClean=n||!1,o.code=t||1e3,o.reason=e,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},r.prototype.countRTO=function(t){return t>100?4*t:300+t},e.exports=function(e){return o=p(e),t("./iframe-bootstrap")(r,e),r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:void 0,inherits:54,json3:55,"url-parse":56}],15:[function(){"use strict";function t(){}var e,n=Array.prototype,r=Object.prototype,i=Function.prototype,o=String.prototype,s=n.slice,a=r.toString,u=function(t){return"[object Function]"===r.toString.call(t)},c=function(t){return"[object String]"===a.call(t)},l=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();e=l?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var A=function(t,n,i){for(var o in n)r.hasOwnProperty.call(n,o)&&e(t,o,n[o],i)},h=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};A(i,{bind:function(e){var n=this;if(!u(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=s.call(arguments,1),i=Math.max(0,n.length-r.length),o=[],a=0;i>a;a++)o.push("$"+a);var c=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof c){var t=n.apply(this,r.concat(s.call(arguments)));return Object(t)===t?t:this}return n.apply(e,r.concat(s.call(arguments)))});return n.prototype&&(t.prototype=n.prototype,c.prototype=new t,t.prototype=null),c}}),A(Array,{isArray:function(t){return"[object Array]"===a.call(t)}});var p=Object("a"),f="a"!==p[0]||!(0 in p);A(n,{forEach:function(t){var e=h(this),n=f&&c(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if(!u(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}},!function(t){var e=!0,n=!0;return t&&(t.call("foo",function(t,n,r){"object"!=typeof r&&(e=!1)}),t.call([1],function(){n="string"==typeof this},"x")),!!t&&e&&n}(n.forEach));var g=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);A(n,{indexOf:function(t){var e=f&&c(this)?this.split(""):h(this),n=e.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=function(t){var e=+t;return e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}(arguments[1])),r=r>=0?r:Math.max(0,n+r);n>r;r++)if(r in e&&e[r]===t)return r;return-1}},g);var d=o.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=void 0===/()??/.exec("")[1];o.split=function(e,r){var i=this;if(void 0===e&&0===r)return[];if("[object RegExp]"!==a.call(e))return d.call(this,e,r);var o,s,u,c,l=[],A=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),h=0;for(e=new RegExp(e.source,A+"g"),i+="",t||(o=new RegExp("^"+e.source+"$(?!\\s)",A)),r=void 0===r?-1>>>0:function(t){return t>>>0}(r);(s=e.exec(i))&&!((u=s.index+s[0].length)>h&&(l.push(i.slice(h,s.index)),!t&&s.length>1&&s[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(s[t]=void 0)}),s.length>1&&s.index<i.length&&n.push.apply(l,s.slice(1)),c=s[0].length,h=u,l.length>=r));)e.lastIndex===s.index&&e.lastIndex++;return h===i.length?(c||!e.test(""))&&l.push(""):l.push(i.slice(h)),l.length>r?l.slice(0,r):l}}():"0".split(void 0,0).length&&(o.split=function(t,e){return void 0===t&&0===e?[]:d.call(this,t,e)});var y="\t\n\v\f\r 聽釟€釥庘€€鈥佲€傗€冣€勨€呪€嗏€団€堚€夆€娾€仧銆€\u2028\u2029锘�",v="["+y+"]",m=new RegExp("^"+v+v+"*"),C=new RegExp(v+v+"*$"),I=o.trim&&(y.trim()||!"鈥�".trim());A(o,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(m,"").replace(C,"")}},I);var _=o.substr,b="".substr&&"b"!=="0b".substr(-1);A(o,{substr:function(t,e){return _.call(this,0>t&&(t=this.length+t)<0?0:t,e)}},b)},{}],16:[function(t,e){"use strict";e.exports=[t("./transport/websocket"),t("./transport/xhr-streaming"),t("./transport/xdr-streaming"),t("./transport/eventsource"),t("./transport/lib/iframe-wrap")(t("./transport/eventsource")),t("./transport/htmlfile"),t("./transport/lib/iframe-wrap")(t("./transport/htmlfile")),t("./transport/xhr-polling"),t("./transport/xdr-polling"),t("./transport/lib/iframe-wrap")(t("./transport/xhr-polling")),t("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(t,e){(function(n){"use strict";function r(t,e,n,r){var o=this;i.call(this),setTimeout(function(){o._start(t,e,n,r)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("../../utils/event"),a=t("../../utils/url"),u=n.XMLHttpRequest;o(r,i),r.prototype._start=function(t,e,n,i){var o=this;try{this.xhr=new u}catch(t){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();e=a.addQuery(e,"t="+ +new Date),this.unloadRef=s.unloadAdd(function(){o._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){o.emit("finish",0,""),o._cleanup(!1)})}catch(t){return this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!r.supportsCORS||(this.xhr.withCredentials="true"),i&&i.headers)for(var c in i.headers)this.xhr.setRequestHeader(c,i.headers[c]);this.xhr.onreadystatechange=function(){if(o.xhr){var t,e,n=o.xhr;switch(n.readyState){case 3:try{e=n.status,t=n.responseText}catch(t){}1223===e&&(e=204),200===e&&t&&t.length>0&&o.emit("chunk",e,t);break;case 4:1223===(e=n.status)&&(e=204),(12005===e||12029===e)&&(e=0),o.emit("finish",e,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(t){o.emit("finish",0,""),o._cleanup(!1)}},r.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},r.prototype.close=function(){this._cleanup(!0)},r.enabled=!!u;var c=["Active"].concat("Object").join("X");!r.enabled&&c in n&&(u=function(){try{return new n[c]("Microsoft.XMLHTTP")}catch(t){return null}},r.enabled=!!new u);var l=!1;try{l="withCredentials"in new u}catch(t){}r.supportsCORS=l,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],18:[function(t,e){(function(t){e.exports=t.EventSource}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e){(function(t){"use strict";var n=t.WebSocket||t.MozWebSocket;n&&(e.exports=function(t){return new n(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e){"use strict";function n(t){if(!n.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/eventsource",o,s)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./receiver/eventsource"),s=t("./sender/xhr-cors"),a=t("eventsource");r(n,i),n.enabled=function(){return!!a},n.transportName="eventsource",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:54}],21:[function(t,e){"use strict";function n(t){if(!i.enabled)throw new Error("Transport created when disabled");s.call(this,t,"/htmlfile",i,o)}var r=t("inherits"),i=t("./receiver/htmlfile"),o=t("./sender/xhr-local"),s=t("./lib/ajax-based");r(n,s),n.enabled=function(t){return i.enabled&&t.sameOrigin},n.transportName="htmlfile",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:54}],22:[function(t,e){"use strict";function n(t,e,r){if(!n.enabled())throw new Error("Transport created when disabled");o.call(this);var i=this;this.origin=a.getOrigin(r),this.baseUrl=r,this.transUrl=e,this.transport=t,this.windowId=l.string(8);var s=a.addPath(r,"/iframe.html")+"#"+this.windowId;this.iframeObj=u.createIframe(s,function(t){i.emit("close",1006,"Unable to load an iframe ("+t+")"),i.close()}),this.onmessageCallback=this._message.bind(this),c.attachEvent("message",this.onmessageCallback)}var r=t("inherits"),i=t("json3"),o=t("events").EventEmitter,s=t("../version"),a=t("../utils/url"),u=t("../utils/iframe"),c=t("../utils/event"),l=t("../utils/random");r(n,o),n.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){c.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},n.prototype._message=function(t){if(a.isOriginEqual(t.origin,this.origin)){var e;try{e=i.parse(t.data)}catch(t){return}if(e.windowId===this.windowId)switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var n;try{n=i.parse(e.data)}catch(t){return}this.emit("close",n[0],n[1]),this.close()}}},n.prototype.postMessage=function(t,e){this.iframeObj.post(i.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},n.prototype.send=function(t){this.postMessage("m",t)},n.enabled=function(){return u.iframeEnabled},n.transportName="iframe",n.roundTrips=2,e.exports=n},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:void 0,events:3,inherits:54,json3:55}],23:[function(t,e){(function(n){"use strict";function r(t){if(!r.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/jsonp",a,s)}var i=t("inherits"),o=t("./lib/sender-receiver"),s=t("./receiver/jsonp"),a=t("./sender/jsonp");i(r,o),r.enabled=function(){return!!n.document},r.transportName="jsonp-polling",r.roundTrips=1,r.needBody=!0,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:54}],24:[function(t,e){"use strict";function n(t,e,n,r){o.call(this,t,e,function(t){return function(e,n,r){var o={};"string"==typeof n&&(o.headers={"Content-type":"text/plain"});var s=i.addPath(e,"/xhr_send"),a=new t("POST",s,n,o);return a.once("finish",function(t){return a=null,200!==t&&204!==t?r(new Error("http status "+t)):void r()}),function(){a.close(),a=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}(r),n,r)}var r=t("inherits"),i=t("../../utils/url"),o=t("./sender-receiver");r(n,o),e.exports=n},{"../../utils/url":52,"./sender-receiver":28,debug:void 0,inherits:54}],25:[function(t,e){"use strict";function n(t,e){i.call(this),this.sendBuffer=[],this.sender=e,this.url=t}var r=t("inherits"),i=t("events").EventEmitter;r(n,i),n.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},n.prototype.sendScheduleWait=function(){var t,e=this;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)},n.prototype.sendSchedule=function(){var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t._cleanup()):t.sendScheduleWait()}),this.sendBuffer=[]}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.stop=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=n},{debug:void 0,events:3,inherits:54}],26:[function(t,e){(function(n){"use strict";var r=t("inherits"),i=t("../iframe"),o=t("../../utils/object");e.exports=function(t){function e(e,n){i.call(this,t.transportName,e,n)}return r(e,i),e.enabled=function(e,r){if(!n.document)return!1;var s=o.extend({},r);return s.sameOrigin=!0,t.enabled(s)&&i.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=i.roundTrips+t.roundTrips-1,e.facadeTransport=t,e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:54}],27:[function(t,e){"use strict";function n(t,e,n){i.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}var r=t("inherits"),i=t("events").EventEmitter;r(n,i),n.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){t.emit("message",e)}),e.once("close",function(n,r){t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))})},n.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=n},{debug:void 0,events:3,inherits:54}],28:[function(t,e){"use strict";function n(t,e,n,r,a){var u=i.addPath(t,e),c=this;o.call(this,t,n),this.poll=new s(r,u,a),this.poll.on("message",function(t){c.emit("message",t)}),this.poll.once("close",function(t,e){c.poll=null,c.emit("close",t,e),c.close()})}var r=t("inherits"),i=t("../../utils/url"),o=t("./buffered-sender"),s=t("./polling");r(n,o),n.prototype.close=function(){this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null),this.stop()},e.exports=n},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:void 0,inherits:54}],29:[function(t,e){"use strict";function n(t){i.call(this);var e=this,n=this.es=new o(t);n.onmessage=function(t){e.emit("message",decodeURI(t.data))},n.onerror=function(t){var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}var r=t("inherits"),i=t("events").EventEmitter,o=t("eventsource");r(n,i),n.prototype.abort=function(){this._cleanup(),this._close("user")},n.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},n.prototype._close=function(t){var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)},e.exports=n},{debug:void 0,events:3,eventsource:18,inherits:54}],30:[function(t,e){(function(n){"use strict";function r(t){a.call(this);var e=this;o.polluteGlobalNamespace(),this.id="a"+u.string(6),t=s.addQuery(t,"c="+decodeURIComponent(o.WPrefix+"."+this.id));var i=r.htmlfileEnabled?o.createHtmlfile:o.createIframe;n[o.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(t){e.emit("message",t)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=i(t,function(){e._cleanup(),e._close("permanent")})}var i=t("inherits"),o=t("../../utils/iframe"),s=t("../../utils/url"),a=t("events").EventEmitter,u=t("../../utils/random");i(r,a),r.prototype.abort=function(){this._cleanup(),this._close("user")},r.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete n[o.WPrefix][this.id]},r.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()},r.htmlfileEnabled=!1;var c=["Active"].concat("Object").join("X");if(c in n)try{r.htmlfileEnabled=!!new n[c]("htmlfile")}catch(t){}r.enabled=r.htmlfileEnabled||o.iframeEnabled,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],31:[function(t,e){(function(n){"use strict";function r(t){var e=this;c.call(this),i.polluteGlobalNamespace(),this.id="a"+o.string(6);var s=a.addQuery(t,"c="+encodeURIComponent(i.WPrefix+"."+this.id));n[i.WPrefix][this.id]=this._callback.bind(this),this._createScript(s),this.timeoutId=setTimeout(function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))},r.timeout)}var i=t("../../utils/iframe"),o=t("../../utils/random"),s=t("../../utils/browser"),a=t("../../utils/url"),u=t("inherits"),c=t("events").EventEmitter;u(r,c),r.prototype.abort=function(){if(n[i.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},r.timeout=35e3,r.scriptErrorTimeout=1e3,r.prototype._callback=function(t){this._cleanup(),this.aborting||(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())},r.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},r.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete n[i.WPrefix][this.id]},r.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},r.scriptErrorTimeout))},r.prototype._createScript=function(t){var e,r=this,i=this.script=n.document.createElement("script");if(i.id="a"+o.string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=this._scriptError.bind(this),i.onload=function(){r._abort(new Error("JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){r.loadedOkay=!0;try{i.onclick()}catch(t){}}i&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&n.document.attachEvent)if(s.isOpera())(e=this.script2=n.document.createElement("script")).text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=e.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(t){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0);var a=n.document.getElementsByTagName("head")[0];a.insertBefore(i,a.firstChild),e&&a.insertBefore(e,a.firstChild)},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],32:[function(t,e){"use strict";function n(t,e){i.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,e){n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";n.emit("close",null,r),n._cleanup()})}var r=t("inherits"),i=t("events").EventEmitter;r(n,i),n.prototype._chunkHandler=function(t,e){if(200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&this.emit("message",i)}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=n},{debug:void 0,events:3,inherits:54}],33:[function(t,e){(function(n){"use strict";function r(t){try{return n.document.createElement('<iframe name="'+t+'">')}catch(r){var e=n.document.createElement("iframe");return e.name=t,e}}function i(){(o=n.document.createElement("form")).style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",(s=n.document.createElement("textarea")).name="d",o.appendChild(s),n.document.body.appendChild(o)}var o,s,a=t("../../utils/random"),u=t("../../utils/url");e.exports=function(t,e,n){o||i();var c="a"+a.string(8);o.target=c,o.action=u.addQuery(u.addPath(t,"/jsonp_send"),"i="+c);var l=r(c);l.id=c,l.style.display="none",o.appendChild(l);try{s.value=e}catch(t){}o.submit();var A=function(t){l.onerror&&(l.onreadystatechange=l.onerror=l.onload=null,setTimeout(function(){l.parentNode.removeChild(l),l=null},500),s.value="",n(t))};return l.onerror=function(){A()},l.onload=function(){A()},l.onreadystatechange=function(t){"complete"===l.readyState&&A()},function(){A(new Error("Aborted"))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:void 0}],34:[function(t,e){(function(n){"use strict";function r(t,e,n){var r=this;i.call(this),setTimeout(function(){r._start(t,e,n)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("../../utils/event"),a=t("../../utils/browser"),u=t("../../utils/url");o(r,i),r.prototype._start=function(t,e,r){var i=this,o=new n.XDomainRequest;e=u.addQuery(e,"t="+ +new Date),o.onerror=function(){i._error()},o.ontimeout=function(){i._error()},o.onprogress=function(){i.emit("chunk",200,o.responseText)},o.onload=function(){i.emit("finish",200,o.responseText),i._cleanup(!1)},this.xdr=o,this.unloadRef=s.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(t){this._error()}},r.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},r.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},r.prototype.close=function(){this._cleanup(!0)},r.enabled=!(!n.XDomainRequest||!a.hasDomain()),e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],35:[function(t,e){"use strict";function n(t,e,n,r){i.call(this,t,e,n,r)}var r=t("inherits"),i=t("../driver/xhr");r(n,i),n.enabled=i.enabled&&i.supportsCORS,e.exports=n},{"../driver/xhr":17,inherits:54}],36:[function(t,e){"use strict";function n(){var t=this;r.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},n.timeout)}var r=t("events").EventEmitter;t("inherits")(n,r),n.prototype.close=function(){clearTimeout(this.to)},n.timeout=2e3,e.exports=n},{events:3,inherits:54}],37:[function(t,e){"use strict";function n(t,e,n){i.call(this,t,e,n,{noCredentials:!0})}var r=t("inherits"),i=t("../driver/xhr");r(n,i),n.enabled=i.enabled,e.exports=n},{"../driver/xhr":17,inherits:54}],38:[function(t,e){"use strict";function n(t,e,o){if(!n.enabled())throw new Error("Transport created when disabled");s.call(this);var u=this,c=i.addPath(t,"/websocket");c="https"===c.slice(0,5)?"wss"+c.slice(5):"ws"+c.slice(4),this.url=c,this.ws=new a(this.url,[],o),this.ws.onmessage=function(t){u.emit("message",t.data)},this.unloadRef=r.unloadAdd(function(){u.ws.close()}),this.ws.onclose=function(t){u.emit("close",t.code,t.reason),u._cleanup()},this.ws.onerror=function(t){u.emit("close",1006,"WebSocket connection broken"),u._cleanup()}}var r=t("../utils/event"),i=t("../utils/url"),o=t("inherits"),s=t("events").EventEmitter,a=t("./driver/websocket");o(n,s),n.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)},n.prototype.close=function(){this.ws&&this.ws.close(),this._cleanup()},n.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},n.enabled=function(){return!!a},n.transportName="websocket",n.roundTrips=2,e.exports=n},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:void 0,events:3,inherits:54}],39:[function(t,e){"use strict";function n(t){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",s,a)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./xdr-streaming"),s=t("./receiver/xhr"),a=t("./sender/xdr");r(n,i),n.enabled=o.enabled,n.transportName="xdr-polling",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:54}],40:[function(t,e){"use strict";function n(t){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",o,s)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./receiver/xhr"),s=t("./sender/xdr");r(n,i),n.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&(s.enabled&&t.sameScheme)},n.transportName="xdr-streaming",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:54}],41:[function(t,e){"use strict";function n(t){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",o,s)}var r=t("inherits"),i=t("./lib/ajax-based"),o=t("./receiver/xhr"),s=t("./sender/xhr-cors"),a=t("./sender/xhr-local");r(n,i),n.enabled=function(t){return!t.nullOrigin&&(!(!a.enabled||!t.sameOrigin)||s.enabled)},n.transportName="xhr-polling",n.roundTrips=2,e.exports=n},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],42:[function(t,e){(function(n){"use strict";function r(t){if(!u.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",s,a)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xhr-cors"),u=t("./sender/xhr-local"),c=t("../utils/browser");i(r,o),r.enabled=function(t){return!t.nullOrigin&&(!c.isOpera()&&a.enabled)},r.transportName="xhr-streaming",r.roundTrips=2,r.needBody=!!n.document,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],43:[function(t,e){(function(t){"use strict";e.exports.randomBytes=t.crypto&&t.crypto.getRandomValues?function(e){var n=new Uint8Array(e);return t.crypto.getRandomValues(n),n}:function(t){for(var e=new Array(t),n=0;t>n;n++)e[n]=Math.floor(256*Math.random());return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(t,e){(function(t){"use strict";e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(t){return!1}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e){"use strict";var n,r=t("json3"),i=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;e.exports={quote:function(t){var e=r.stringify(t);return i.lastIndex=0,i.test(e)?(n||(n=function(t){var e,n={},r=[];for(e=0;65536>e;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n}(i)),e.replace(i,function(t){return n[t]})):e}}},{json3:55}],46:[function(t,e){(function(n){"use strict";var r=t("./random"),i={},o=!1,s=n.chrome&&n.chrome.app&&n.chrome.app.runtime;e.exports={attachEvent:function(t,e){"undefined"!=typeof n.addEventListener?n.addEventListener(t,e,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+t,e),n.attachEvent("on"+t,e))},detachEvent:function(t,e){"undefined"!=typeof n.addEventListener?n.removeEventListener(t,e,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+t,e),n.detachEvent("on"+t,e))},unloadAdd:function(t){if(s)return null;var e=r.string(8);return i[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}};s||e.exports.attachEvent("unload",function(){o||(o=!0,e.exports.triggerUnloadCallbacks())})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(t,e){(function(n){"use strict";var r=t("./event"),i=t("json3"),o=t("./browser");e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in n||(n[e.exports.WPrefix]={})},postMessage:function(t,r){n.parent!==n&&n.parent.postMessage(i.stringify({windowId:e.exports.currentWindowId,type:t,data:r||""}),"*")},createIframe:function(t,e){var i,o,s=n.document.createElement("iframe"),a=function(){clearTimeout(i);try{s.onload=null}catch(t){}s.onerror=null},u=function(){s&&(a(),setTimeout(function(){s&&s.parentNode.removeChild(s),s=null},0),r.unloadDel(o))},c=function(t){s&&(u(),e(t))};return s.src=t,s.style.display="none",s.style.position="absolute",s.onerror=function(){c("onerror")},s.onload=function(){clearTimeout(i),i=setTimeout(function(){c("onload timeout")},2e3)},n.document.body.appendChild(s),i=setTimeout(function(){c("timeout")},15e3),o=r.unloadAdd(u),{post:function(t,e){try{setTimeout(function(){s&&s.contentWindow&&s.contentWindow.postMessage(t,e)},0)}catch(t){}},cleanup:u,loaded:a}},createHtmlfile:function(t,i){var o,s,a,u=["Active"].concat("Object").join("X"),c=new n[u]("htmlfile"),l=function(){clearTimeout(o),a.onerror=null},A=function(){c&&(l(),r.unloadDel(s),a.parentNode.removeChild(a),a=c=null,CollectGarbage())},h=function(t){c&&(A(),i(t))};c.open(),c.write('<html><script>document.domain="'+n.document.domain+'";<\/script></html>'),c.close(),c.parentWindow[e.exports.WPrefix]=n[e.exports.WPrefix];var p=c.createElement("div");return c.body.appendChild(p),a=c.createElement("iframe"),p.appendChild(a),a.src=t,a.onerror=function(){h("onerror")},o=setTimeout(function(){h("timeout")},15e3),s=r.unloadAdd(A),{post:function(t,e){try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(t,e)},0)}catch(t){}},cleanup:A,loaded:l}}},e.exports.iframeEnabled=!1,n.document&&(e.exports.iframeEnabled=("function"==typeof n.postMessage||"object"==typeof n.postMessage)&&!o.isKonqueror())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:void 0,json3:55}],48:[function(t,e){(function(t){"use strict";var n={};["log","debug","warn"].forEach(function(e){var r;try{r=t.console&&t.console[e]&&t.console[e].apply}catch(t){}n[e]=r?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:n.log}),e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e){"use strict";e.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;i>r;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}},{}],50:[function(t,e){"use strict";var n=t("crypto"),r="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(t){for(var e=r.length,i=n.randomBytes(t),o=[],s=0;t>s;s++)o.push(r.substr(i[s]%e,1));return o.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},{crypto:43}],51:[function(t,e){"use strict";e.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach(function(t){t&&("websocket"!==t.transportName||!1!==n.websocket)&&(e.length&&-1===e.indexOf(t.transportName)||t.enabled(n)&&(r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)))}),r}}}},{debug:void 0}],52:[function(t,e){"use strict";var n=t("url-parse");e.exports={getOrigin:function(t){if(!t)return null;var e=new n(t);if("file:"===e.protocol)return null;var r=e.port;return r||(r="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+r},isOriginEqual:function(t,e){return this.getOrigin(t)===this.getOrigin(e)},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},{debug:void 0,"url-parse":56}],53:[function(t,e){e.exports="1.1.1"},{}],54:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],55:[function(t,e,n){(function(t){(function(){function r(t,e){function n(t){if(n[t]!==d)return n[t];var r;if("bug-string-char-index"==t)r="a"!="a"[0];else if("json"==t)r=n("json-stringify")&&n("json-parse");else{var i,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var u=e.stringify,l="function"==typeof u&&m;if(l){(i=function(){return 1}).toJSON=i;try{l="0"===u(0)&&"0"===u(new o)&&'""'==u(new a)&&u(v)===d&&u(d)===d&&u()===d&&"1"===u(i)&&"[1]"==u([i])&&"[null]"==u([d])&&"null"==u(null)&&"[null,null,null]"==u([d,v,null])&&u({a:[i,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===u(null,i)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new c(-1))}catch(t){l=!1}}r=l}if("json-parse"==t){var A=e.parse;if("function"==typeof A)try{if(0===A("0")&&!A(!1)){var h=5==(i=A(s)).a.length&&1===i.a[0];if(h){try{h=!A('"\t"')}catch(t){}if(h)try{h=1!==A("01")}catch(t){}if(h)try{h=1!==A("1.")}catch(t){}}}}catch(t){h=!1}r=h}}return n[t]=!!r}t||(t=s.Object()),e||(e=s.Object());var o=t.Number||s.Number,a=t.String||s.String,u=t.Object||s.Object,c=t.Date||s.Date,l=t.SyntaxError||s.SyntaxError,A=t.TypeError||s.TypeError,h=t.Math||s.Math,p=t.JSON||s.JSON;"object"==typeof p&&p&&(e.stringify=p.stringify,e.parse=p.parse);var f,g,d,y=u.prototype,v=y.toString,m=new c(-0xc782b5b800cec);try{m=-109252==m.getUTCFullYear()&&0===m.getUTCMonth()&&1===m.getUTCDate()&&10==m.getUTCHours()&&37==m.getUTCMinutes()&&6==m.getUTCSeconds()&&708==m.getUTCMilliseconds()}catch(t){}if(!n("json")){var C="[object Function]",I="[object Number]",_="[object String]",b="[object Array]",w=n("bug-string-char-index");if(!m)var E=h.floor,B=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(t,e){return B[e]+365*(t-1970)+E((t-1969+(e=+(e>1)))/4)-E((t-1901+e)/100)+E((t-1601+e)/400)};if((f=y.hasOwnProperty)||(f=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=v?f=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,f=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,f.call(this,t)}),g=function(t,e){var n,r,o,s=0;for(o in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)f.call(r,o)&&s++;return n=r=null,s?g=2==s?function(t,e){var n,r={},i=v.call(t)==C;for(n in t)i&&"prototype"==n||f.call(r,n)||!(r[n]=1)||!f.call(t,n)||e(n)}:function(t,e){var n,r,i=v.call(t)==C;for(n in t)i&&"prototype"==n||!f.call(t,n)||(r="constructor"===n)||e(n);(r||f.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(t,e){var n,o,s=v.call(t)==C,a=!s&&"function"!=typeof t.constructor&&i[typeof t.hasOwnProperty]&&t.hasOwnProperty||f;for(n in t)s&&"prototype"==n||!a.call(t,n)||e(n);for(o=r.length;n=r[--o];a.call(t,n)&&e(n));}),g(t,e)},!n("json-stringify")){var O={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T=function(t,e){return("000000"+(e||0)).slice(-t)},N=function(t){for(var e='"',n=0,r=t.length,i=!w||r>10,o=i&&(w?t.split(""):t);r>n;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=O[s];break;default:if(32>s){e+="\\u00"+T(2,s.toString(16));break}e+=i?o[n]:t.charAt(n)}}return e+'"'},S=function(t,e,n,r,i,o,s){var a,u,c,l,h,p,y,m,C,w,B,O,M,L,k,F;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if("[object Date]"!=(u=v.call(a))||f.call(a,"toJSON"))"function"==typeof a.toJSON&&(u!=I&&u!=_&&u!=b||f.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&1/0>a){if(x){for(h=E(a/864e5),c=E(h/365.2425)+1970-1;x(c+1,0)<=h;c++);for(l=E((h-x(c,0))/30.42);x(c,l+1)<=h;l++);h=1+h-x(c,l),y=E((p=(a%864e5+864e5)%864e5)/36e5)%24,m=E(p/6e4)%60,C=E(p/1e3)%60,w=p%1e3}else c=a.getUTCFullYear(),l=a.getUTCMonth(),h=a.getUTCDate(),y=a.getUTCHours(),m=a.getUTCMinutes(),C=a.getUTCSeconds(),w=a.getUTCMilliseconds();a=(0>=c||c>=1e4?(0>c?"-":"+")+T(6,0>c?-c:c):T(4,c))+"-"+T(2,l+1)+"-"+T(2,h)+"T"+T(2,y)+":"+T(2,m)+":"+T(2,C)+"."+T(3,w)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(u=v.call(a)))return""+a;if(u==I)return a>-1/0&&1/0>a?""+a:"null";if(u==_)return N(""+a);if("object"==typeof a){for(L=s.length;L--;)if(s[L]===a)throw A();if(s.push(a),B=[],k=o,o+=i,u==b){for(M=0,L=a.length;L>M;M++)O=S(M,a,n,r,i,o,s),B.push(O===d?"null":O);F=B.length?i?"[\n"+o+B.join(",\n"+o)+"\n"+k+"]":"["+B.join(",")+"]":"[]"}else g(r||a,function(t){var e=S(t,a,n,r,i,o,s);e!==d&&B.push(N(t)+":"+(i?" ":"")+e)}),F=B.length?i?"{\n"+o+B.join(",\n"+o)+"\n"+k+"}":"{"+B.join(",")+"}":"{}";return s.pop(),F}};e.stringify=function(t,e,n){var r,o,s,a;if(i[typeof e]&&e)if((a=v.call(e))==C)o=e;else if(a==b){s={};for(var u,c=0,l=e.length;l>c;u=e[c++],((a=v.call(u))==_||a==I)&&(s[u]=1));}if(n)if((a=v.call(n))==I){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==_&&(r=n.length<=10?n:n.slice(0,10));return S("",((u={})[""]=t,u),o,s,r,"",[])}}if(!n("json-parse")){var M,L,k=a.fromCharCode,F={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},P=function(){throw M=L=null,l()},U=function(){for(var t,e,n,r,i,o=L,s=o.length;s>M;)switch(i=o.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=w?o.charAt(M):o[M],M++,t;case 34:for(t="@",M++;s>M;)if(32>(i=o.charCodeAt(M)))P();else if(92==i)switch(i=o.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=F[i],M++;break;case 117:for(e=++M,n=M+4;n>M;M++)(i=o.charCodeAt(M))>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||P();t+=k("0x"+o.slice(e,M));break;default:P()}else{if(34==i)break;for(i=o.charCodeAt(M),e=M;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++M);t+=o.slice(e,M)}if(34==o.charCodeAt(M))return M++,t;P();default:if(e=M,45==i&&(r=!0,i=o.charCodeAt(++M)),i>=48&&57>=i){for(48==i&&((i=o.charCodeAt(M+1))>=48&&57>=i)&&P(),r=!1;s>M&&((i=o.charCodeAt(M))>=48&&57>=i);M++);if(46==o.charCodeAt(M)){for(n=++M;s>n&&((i=o.charCodeAt(n))>=48&&57>=i);n++);n==M&&P(),M=n}if(101==(i=o.charCodeAt(M))||69==i){for((43==(i=o.charCodeAt(++M))||45==i)&&M++,n=M;s>n&&((i=o.charCodeAt(n))>=48&&57>=i);n++);n==M&&P(),M=n}return+o.slice(e,M)}if(r&&P(),"true"==o.slice(M,M+4))return M+=4,!0;if("false"==o.slice(M,M+5))return M+=5,!1;if("null"==o.slice(M,M+4))return M+=4,null;P()}return"$"},D=function(t){var e,n;if("$"==t&&P(),"string"==typeof t){if("@"==(w?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=U());n||(n=!0))n&&(","==t?"]"==(t=U())&&P():P()),","==t&&P(),e.push(D(t));return e}if("{"==t){for(e={};"}"!=(t=U());n||(n=!0))n&&(","==t?"}"==(t=U())&&P():P()),(","==t||"string"!=typeof t||"@"!=(w?t.charAt(0):t[0])||":"!=U())&&P(),e[t.slice(1)]=D(U());return e}P()}return t},R=function(t,e,n){var r=Q(t,e,n);r===d?delete t[e]:t[e]=r},Q=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if(v.call(i)==b)for(r=i.length;r--;)R(i,r,n);else g(i,function(t){R(i,t,n)});return n.call(t,e,i)};e.parse=function(t,e){var n,r;return M=0,L=""+t,n=D(U()),"$"!=U()&&P(),M=L=null,e&&v.call(e)==C?Q(((r={})[""]=n,r),"",e):n}}}return e.runInContext=r,e}var i={function:!0,object:!0},o=i[typeof n]&&n&&!n.nodeType&&n,s=i[typeof window]&&window||this,a=o&&i[typeof e]&&e&&!e.nodeType&&"object"==typeof t&&t;if(!a||a.global!==a&&a.window!==a&&a.self!==a||(s=a),o)r(s,o);else{var u=s.JSON,c=s.JSON3,l=!1,A=r(s,s.JSON3={noConflict:function(){return l||(l=!0,s.JSON=u,s.JSON3=c,u=c=null),A}});s.JSON={parse:A.parse,stringify:A.stringify}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(t,e){"use strict";function n(t){var e=u.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]?e[3]:""}}function r(t,e,u){if(!(this instanceof r))return new r(t,e,u);var l,A,h,p,f=a.test(t),g=typeof e,d=this,y=0;"object"!==g&&"string"!==g&&(u=e,e=null),u&&"function"!=typeof u&&(u=s.parse),e=o(e);var v=n(t);for(d.protocol=v.protocol||e.protocol||"",d.slashes=v.slashes||e.slashes,t=v.rest;y<c.length;y++)l=(A=c[y])[0],p=A[1],l!==l?d[p]=t:"string"==typeof l?~(h=t.indexOf(l))&&("number"==typeof A[2]?(d[p]=t.slice(0,h),t=t.slice(h+A[2])):(d[p]=t.slice(h),t=t.slice(0,h))):(h=l.exec(t))&&(d[p]=h[1],t=t.slice(0,t.length-h[0].length)),d[p]=d[p]||(A[3]||"port"===p&&f)&&e[p]||"",A[4]&&(d[p]=d[p].toLowerCase());u&&(d.query=u(d.query)),i(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(A=d.auth.split(":"),d.username=A[0]||"",d.password=A[1]||""),d.href=d.toString()}var i=t("requires-port"),o=t("./lolcation"),s=t("querystringify"),a=/^\/(?!\/)/,u=/^([a-z0-9.+-]+:)?(\/\/)?(.*)$/i,c=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];r.prototype.set=function(t,e,n){var r=this;return"query"===t?("string"==typeof e&&e.length&&(e=(n||s.parse)(e)),r[t]=e):"port"===t?(r[t]=e,i(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="")):"hostname"===t?(r[t]=e,r.port&&(e+=":"+r.port),r.host=e):"host"===t?(r[t]=e,/\:\d+/.test(e)&&(e=e.split(":"),r.hostname=e[0],r.port=e[1])):"protocol"===t?(r.protocol=e,r.slashes=!n):r[t]=e,r.href=r.toString(),r},r.prototype.toString=function(t){t&&"function"==typeof t||(t=s.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.hostname,n.port&&(i+=":"+n.port),i+=n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(i+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(i+=n.hash),i},r.qs=s,r.location=o,e.exports=r},{"./lolcation":57,querystringify:58,"requires-port":59}],57:[function(t,e){(function(n){"use strict";var r,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o={hash:1,query:1};e.exports=function(e){e=e||n.location||{},r=r||t("./");var s,a={},u=typeof e;if("blob:"===e.protocol)a=new r(unescape(e.pathname),{});else if("string"===u)for(s in a=new r(e,{}),o)delete a[s];else if("object"===u){for(s in e)s in o||(a[s]=e[s]);void 0===a.slashes&&(a.slashes=i.test(e.href))}return a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":56}],58:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;n.stringify=function(t,e){e=e||"";var n=[];for(var i in"string"!=typeof e&&(e="?"),t)r.call(t,i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return n.length?e+n.join("&"):""},n.parse=function(t){for(var e,n=/([^=?&]+)=([^&]*)/g,r={};e=n.exec(t);r[decodeURIComponent(e[1])]=decodeURIComponent(e[2]));return r}},{}],59:[function(t,e){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}]},{},[1])(1)})},function(t,e){(function(){var t,n,r,i,o={}.hasOwnProperty,s=[].slice;t={LF:"\n",NULL:"\0"},r=function(){var e;function n(t,e,n){this.command=t,this.headers=null!=e?e:{},this.body=null!=n?n:""}return n.prototype.toString=function(){var e,r,i,s,a;for(r in e=[this.command],(i=!1===this.headers["content-length"])&&delete this.headers["content-length"],a=this.headers)o.call(a,r)&&(s=a[r],e.push(r+":"+s));return this.body&&!i&&e.push("content-length:"+n.sizeOfUTF8(this.body)),e.push(t.LF+this.body),e.join(t.LF)},n.sizeOfUTF8=function(t){return t?encodeURI(t).match(/%..|./g).length:0},e=function(e){var r,i,o,s,a,u,c,l,A,h,p,f,g,d,y,v,m;for(s=e.search(RegExp(""+t.LF+t.LF)),o=(a=e.substring(0,s).split(t.LF)).shift(),u={},f=function(t){return t.replace(/^\s+|\s+$/g,"")},g=0,y=(v=a.reverse()).length;g<y;g++)l=(h=v[g]).indexOf(":"),u[f(h.substring(0,l))]=f(h.substring(l+1));if(r="",p=s+2,u["content-length"])A=parseInt(u["content-length"]),r=(""+e).substring(p,p+A);else for(i=null,c=d=p,m=e.length;(p<=m?d<m:d>m)&&(i=e.charAt(c))!==t.NULL;c=p<=m?++d:--d)r+=i;return new n(o,u,r)},n.unmarshall=function(n){var r;return function(){var i,o,s,a;for(a=[],i=0,o=(s=n.split(RegExp(""+t.NULL+t.LF+"*"))).length;i<o;i++)(null!=(r=s[i])?r.length:void 0)>0&&a.push(e(r));return a}()},n.marshall=function(e,r,i){return new n(e,r,i).toString()+t.NULL},n}(),n=function(){var e;function n(t){this.ws=t,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={}}return n.prototype.debug=function(t){var e;return"undefined"!==typeof window&&null!==window&&null!=(e=window.console)?e.log(t):void 0},e=function(){return Date.now?Date.now():(new Date).valueOf},n.prototype._transmit=function(t,e,n){var i;for(i=r.marshall(t,e,n),"function"===typeof this.debug&&this.debug(">>> "+i);;){if(!(i.length>this.maxWebSocketFrameSize))return this.ws.send(i);this.ws.send(i.substring(0,this.maxWebSocketFrameSize)),i=i.substring(this.maxWebSocketFrameSize),"function"===typeof this.debug&&this.debug("remaining = "+i.length)}},n.prototype._setupHeartbeat=function(n){var r,o,s,a,u,c,l;if((u=n.version)===i.VERSIONS.V1_1||u===i.VERSIONS.V1_2)return o=(c=function(){var t,e,r,i;for(i=[],t=0,e=(r=n["heart-beat"].split(",")).length;t<e;t++)a=r[t],i.push(parseInt(a));return i}())[0],r=c[1],0!==this.heartbeat.outgoing&&0!==r&&(s=Math.max(this.heartbeat.outgoing,r),"function"===typeof this.debug&&this.debug("send PING every "+s+"ms"),this.pinger=i.setInterval(s,(l=this,function(){return l.ws.send(t.LF),"function"===typeof l.debug?l.debug(">>> PING"):void 0}))),0!==this.heartbeat.incoming&&0!==o?(s=Math.max(this.heartbeat.incoming,o),"function"===typeof this.debug&&this.debug("check PONG every "+s+"ms"),this.ponger=i.setInterval(s,function(t){return function(){var n;if((n=e()-t.serverActivity)>2*s)return"function"===typeof t.debug&&t.debug("did not receive server activity for the last "+n+"ms"),t.ws.close()}}(this))):void 0},n.prototype._parseConnect=function(){var t,e,n,r;switch(r={},(t=1<=arguments.length?s.call(arguments,0):[]).length){case 2:r=t[0],e=t[1];break;case 3:t[1]instanceof Function?(r=t[0],e=t[1],n=t[2]):(r.login=t[0],r.passcode=t[1],e=t[2]);break;case 4:r.login=t[0],r.passcode=t[1],e=t[2],n=t[3];break;default:r.login=t[0],r.passcode=t[1],e=t[2],n=t[3],r.host=t[4]}return[r,e,n]},n.prototype.connect=function(){var n,o,a,u,c;return n=1<=arguments.length?s.call(arguments,0):[],u=this._parseConnect.apply(this,n),a=u[0],this.connectCallback=u[1],o=u[2],"function"===typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=(c=this,function(n){var i,s,a,u,l,A,h,p,f,g,d,y;if(u="undefined"!==typeof ArrayBuffer&&n.data instanceof ArrayBuffer?(i=new Uint8Array(n.data),"function"===typeof c.debug&&c.debug("--- got data length: "+i.length),function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)s=i[t],n.push(String.fromCharCode(s));return n}().join("")):n.data,c.serverActivity=e(),u!==t.LF){for("function"===typeof c.debug&&c.debug("<<< "+u),y=[],f=0,g=(d=r.unmarshall(u)).length;f<g;f++)switch((l=d[f]).command){case"CONNECTED":"function"===typeof c.debug&&c.debug("connected to server "+l.headers.server),c.connected=!0,c._setupHeartbeat(l.headers),y.push("function"===typeof c.connectCallback?c.connectCallback(l):void 0);break;case"MESSAGE":p=l.headers.subscription,(h=c.subscriptions[p]||c.onreceive)?(a=c,A=l.headers["message-id"],l.ack=function(t){return null==t&&(t={}),a.ack(A,p,t)},l.nack=function(t){return null==t&&(t={}),a.nack(A,p,t)},y.push(h(l))):y.push("function"===typeof c.debug?c.debug("Unhandled received MESSAGE: "+l):void 0);break;case"RECEIPT":y.push("function"===typeof c.onreceipt?c.onreceipt(l):void 0);break;case"ERROR":y.push("function"===typeof o?o(l):void 0);break;default:y.push("function"===typeof c.debug?c.debug("Unhandled frame: "+l):void 0)}return y}"function"===typeof c.debug&&c.debug("<<< PONG")}),this.ws.onclose=function(t){return function(){var e;return e="Whoops! Lost connection to "+t.ws.url,"function"===typeof t.debug&&t.debug(e),t._cleanUp(),"function"===typeof o?o(e):void 0}}(this),this.ws.onopen=function(t){return function(){return"function"===typeof t.debug&&t.debug("Web Socket Opened..."),a["accept-version"]=i.VERSIONS.supportedVersions(),a["heart-beat"]=[t.heartbeat.outgoing,t.heartbeat.incoming].join(","),t._transmit("CONNECT",a)}}(this)},n.prototype.disconnect=function(t,e){return null==e&&(e={}),this._transmit("DISCONNECT",e),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"===typeof t?t():void 0},n.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&i.clearInterval(this.pinger),this.ponger)return i.clearInterval(this.ponger)},n.prototype.send=function(t,e,n){return null==e&&(e={}),null==n&&(n=""),e.destination=t,this._transmit("SEND",e,n)},n.prototype.subscribe=function(t,e,n){var r;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=t,this.subscriptions[n.id]=e,this._transmit("SUBSCRIBE",n),r=this,{id:n.id,unsubscribe:function(){return r.unsubscribe(n.id)}}},n.prototype.unsubscribe=function(t){return delete this.subscriptions[t],this._transmit("UNSUBSCRIBE",{id:t})},n.prototype.begin=function(t){var e,n;return n=t||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),e=this,{id:n,commit:function(){return e.commit(n)},abort:function(){return e.abort(n)}}},n.prototype.commit=function(t){return this._transmit("COMMIT",{transaction:t})},n.prototype.abort=function(t){return this._transmit("ABORT",{transaction:t})},n.prototype.ack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("ACK",n)},n.prototype.nack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("NACK",n)},n}(),i={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(t,e){var r;return null==e&&(e=["v10.stomp","v11.stomp"]),r=new(i.WebSocketClass||WebSocket)(t,e),new n(r)},over:function(t){return new n(t)},Frame:r},"undefined"!==typeof e&&null!==e&&(e.Stomp=i),"undefined"!==typeof window&&null!==window?(i.setInterval=function(t,e){return window.setInterval(e,t)},i.clearInterval=function(t){return window.clearInterval(t)},window.Stomp=i):e||(self.Stomp=i)}).call(this)},function(t,e,n){"use strict";var r=n(102);e.a=function(t,e){var n=r.a.map.map;return n.on(t,e),{removeEventListener:function(){n.off(t,e)}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r=n(162),i=(n.n(r),n(104)),o=(n.n(i),n(30)),s=(n.n(o),n(109)),a=(n.n(s),n(24)),u=(n.n(a),n(74)),c=n.n(u),l=n(101),A=n.n(l),h=n(156),p=n(516),f=n(771),g=n(447),d=n(1270),y=n(772),v=n(448),m=n(475),C=n(601),I=n(602),_=function(){function t(e){var n=this;c()(this,t),this.id=Object(h.b)(),this.gbid=e.gbid,this._st=e.startTime,this._et=e.endTime,this.to02=!!Object(p.a)(e.toGcj02)&&e.toGcj02,this.st=new Date(e.startTime).getTime(),this.et=new Date(e.endTime).getTime(),this.sr=Object(p.b)(e.speedRate)?e.speedRate:f.a,this.actorProps=this._buildActorProps(e),this.actorVisible=!0,this.routeProps=this._buildRouteProps(e),this.routeVisible=!0,this.autoDirection=!Object(p.a)(e.autoDirection)||e.autoDirection,this.lifeCircle={oncreated:e.oncreated,onerror:e.onerror,onkeypointchange:e.onkeypointchange},this._buildTrackerViewer(this.gbid).then(function(t){var e;n.model=new C.a(n.st,n.et,n.sr),n.controller=new I.a(n.model),n.viewer=Object(d.a)(t.segmentStore,{actorProps:n.actorProps,actorVisible:n.actorVisible,routeProps:n.routeProps,routeVisible:n.routeVisible,autoDirection:n.autoDirection,st:n.st,et:n.et,rules:n.rules}),n.controller.addViewer(n.viewer),n.viewer.onkeypointchange=(e=n.gbid,function(t){n.lifeCircle.onkeypointchange&&n.lifeCircle.onkeypointchange(e,t.properties)}),n.controller.run(),n.lifeCircle.oncreated&&n.lifeCircle.oncreated(n.id)}).catch(function(t){n.lifeCircle.onerror&&n.lifeCircle.onerror(t)})}return A()(t,[{key:"destroy",value:function(){this.controller.pause(),this.controller.removeViewer(this.viewer),this.viewer.destroy(),this.viewer=null,this.controller.destroy(),this.controller=null,this.model.destroy(),this.model=null}},{key:"pause",value:function(){this.controller.pause()}},{key:"play",value:function(){this.controller.run()}},{key:"replay",value:function(){this.controller.rerun()}},{key:"addActorEvent",value:function(t,e){this.viewer.addActorEvent(t,e)}},{key:"removeActorEvent",value:function(t){this.viewer.removeActorEvent(t)}},{key:"addRouteEvent",value:function(t,e){this.viewer.addRouteEvent(t,e)}},{key:"removeRouteEvent",value:function(t){this.viewer.removeRouteEvent(t)}},{key:"setSpeedRate",value:function(t){this.controller.setSpeedRate(t)}},{key:"setProgressBy",value:function(t){this.controller.setBy(t)}},{key:"setProgressTo",value:function(t){this.controller.setTo(t)}},{key:"_buildTrackerViewer",value:function(t){var e=this;return new Promise(function(n,r){Object(y.a)({st:e._st,et:e._et,gbid:t},function(i,o){if(i)r(i);else{var s=o.map(function(t){return v.a.transform(t,e.to02)}),a=new m.a,u=!0,c=!1,l=void 0;try{for(var A,h=s[Symbol.iterator]();!(u=(A=h.next()).done);u=!0){var p=A.value;a.add(p)}}catch(i){c=!0,l=i}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}0===a.size()?r(new Error("".concat(t,"构建失败..."))):n({gbid:t,segmentStore:a})}})})}},{key:"_buildActorProps",value:function(t){return{actorTemplate:t.actorContent,actorWidth:t.actorWidth,actorHeight:t.actorHeight,actorIcon:t.actorIcon,actorNonBackground:t.actorNonBackground,actorScale:t.actorScale,actorRotation:t.actorRotation,actorOffset:t.actorOffset}}},{key:"_buildRouteProps",value:function(t){var e=[];return this.rules=t.outer?[{field:"__outer__",values:[{value:1,validator:t.outer.filter},{value:0}]}]:[{field:"__outer__",values:[{value:0}]}],t.outer&&(e.push({"line-width":t.trackWidth,"line-color":t.outer.entireTrackColor,"line-pattern":t.outer.entireTrackPattern,filter:["all",["==",g.b.entire.key,g.b.entire.value],["==","__outer__",1]]}),e.push({"line-width":t.trackWidth,"line-color":t.outer.passedTrackColor,"line-pattern":t.outer.passedTrackPattern,filter:["all",["==",g.b.passed.key,g.b.passed.value],["==","__outer__",1]]})),e.push({"line-width":t.trackWidth,"line-color":t.entireTrackColor,"line-pattern":t.entireTrackPattern,filter:["all",["==",g.b.entire.key,g.b.entire.value],["==","__outer__",0]]}),e.push({"line-width":t.trackWidth,"line-color":t.passedTrackColor,"line-pattern":t.passedTrackPattern,filter:["all",["==",g.b.passed.key,g.b.passed.value],["==","__outer__",0]]}),e}}]),t}()},function(t,e,n){"use strict";e.a=function(t,e){return new d({actorProps:e.actorProps,actorVisible:e.actorVisible,routeProps:e.routeProps,routeVisible:e.routeVisible,autoDirection:e.autoDirection,segmentStore:t,st:e.st,et:e.et,rules:e.rules})};var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(157),l=n.n(c),A=n(388),h=n.n(A),p=n(159),f=n.n(p),g=(n(102),n(605)),d=(n(475),n(603),n(604),function(t){function e(t){var n;i()(this,e);var r=t.actorProps,o=t.actorVisible,s=t.routeProps,a=t.routeVisible,c=t.autoDirection,A=t.st,h=(t.et,t.segmentStore),p=t.rules,f=h.getInfo(A,p);return n=u()(this,l()(e).call(this,{actorProps:r,routeProps:s,node:f.node,segments:f.segments,segmentStore:h})),!1===o&&n.hideActor(),!1===a&&n.hideRoute(),n.autoDirection=c,n.rules=p,n}return f()(e,t),s()(e,[{key:"destroy",value:function(){h()(l()(e.prototype),"destroy",this).call(this)}},{key:"render",value:function(t){var n=t.st+t.passed,r=this.segmentStore.getInfo(n,this.rules);h()(l()(e.prototype),"render",this).call(this,r);var i=this.activeIndex;this.activeIndex=r.index,this.onkeypointchange&&i!==r.index&&this.onkeypointchange(r.node)}}]),e}(g.a))},function(t,e,n){"use strict";var r=n(614),i=n(613),o=n(1272),s=n(481),a=n(1273),u=n(1274),c=n(1275),l=n(398),A=n(377),h=n(402);function p(t,e,n){var r="Point"===Object(h.d)(t);return n=function(t,e){void 0!==e&&null!==e||(e="centroid");if(Array.isArray(e)||"object"===typeof e)return Object(h.a)(e);var n=t.bbox?t.bbox:Object(s.a)(t),r=n[0],a=n[1],u=n[2],c=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return Object(A.j)([r,a]);case"se":case"southeast":case"eastsouth":case"bottomright":return Object(A.j)([u,a]);case"nw":case"northwest":case"westnorth":case"topleft":return Object(A.j)([r,c]);case"ne":case"northeast":case"eastnorth":case"topright":return Object(A.j)([u,c]);case"center":return Object(i.a)(t);case void 0:case null:case"centroid":return Object(o.a)(t);default:throw new Error("invalid origin")}}(t,n),1===e||r?t:(Object(l.a)(t,function(t){var r=Object(u.a)(n,t),i=Object(a.a)(n,t),o=r*e,s=Object(h.b)(Object(c.a)(n,o,i));t[0]=s[0],t[1]=s[1],3===t.length&&(t[2]*=e)}),t)}e.a=function(t,e,n){if(n=n||{},!Object(A.g)(n))throw new Error("options is invalid");var i=n.origin,o=n.mutate;if(!t)throw new Error("geojson required");if("number"!==typeof e||0===e)throw new Error("invalid factor");var s=Array.isArray(i)||"object"===typeof i;return!0!==o&&(t=Object(r.a)(t)),"FeatureCollection"!==t.type||s?p(t,e,i):(Object(l.b)(t,function(n,r){t.features[r]=p(n,e,i)}),t)}},function(t,e,n){"use strict";var r=n(398),i=n(377);e.a=function(t,e){var n=0,o=0,s=0;return Object(r.a)(t,function(t){n+=t[0],o+=t[1],s++},!0),Object(i.j)([n/s,o/s],e)}},function(t,e,n){"use strict";var r=n(402),i=n(377);function o(t,e){var n=Object(i.b)(t[1]),r=Object(i.b)(e[1]),o=Object(i.b)(e[0]-t[0]);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);var s=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),a=Math.atan2(o,s);return(Object(i.l)(a)+360)%360}e.a=function(t,e,n){if(n=n||{},!Object(i.g)(n))throw new Error("options is invalid");var s,a=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(s=a?o(Object(r.a)(e),Object(r.a)(t)):o(Object(r.a)(t),Object(r.a)(e)))>180?-(360-s):s}},function(t,e,n){"use strict";var r=n(377),i=n(402);e.a=function(t,e,n){if(n=n||{},!Object(r.g)(n))throw new Error("options is invalid");var o=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var s=Object(i.a)(t),a=Object(i.a)(e);a[0]+=a[0]-s[0]>180?-360:s[0]-a[0]>180?360:0;var u=function(t,e,n){var i=n=void 0===n?r.c:Number(n),o=t[1]*Math.PI/180,s=e[1]*Math.PI/180,a=s-o,u=Math.abs(e[0]-t[0])*Math.PI/180;u>Math.PI&&(u-=2*Math.PI);var c=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),l=Math.abs(c)>1e-11?a/c:Math.cos(o);return Math.sqrt(a*a+l*l*u*u)*i}(s,a);return Object(r.a)(u,"meters",o)}},function(t,e,n){"use strict";var r=n(377),i=n(402);e.a=function(t,e,n,o){if(o=o||{},!Object(r.g)(o))throw new Error("options is invalid");var s=o.units,a=o.properties;if(!t)throw new Error("origin is required");if(void 0===e||null===e)throw new Error("distance is required");if(void 0===n||null===n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var u=Object(r.a)(e,s,"meters"),c=Object(i.a)(t),l=function(t,e,n,i){i=void 0===i?r.c:Number(i);var o=e/i,s=t[0]*Math.PI/180,a=Object(r.b)(t[1]),u=Object(r.b)(n),c=o*Math.cos(u),l=a+c;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var A=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),h=Math.abs(A)>1e-11?c/A:Math.cos(a),p=o*Math.sin(u)/h;return[(180*(s+p)/Math.PI+540)%360-180,180*l/Math.PI]}(c,u,n);return l[0]+=l[0]-c[0]>180?-360:c[0]-l[0]>180?360:0,Object(r.j)(l,a)}},function(t,e,n){var r=n(1277);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0};n(108)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(107)(!1)).push([t.i,".kmap-road-plan-marker-start-img, .kmap-road-plan-marker-middle-img, .kmap-road-plan-marker-end-img {\r\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAAlCAYAAAAKsBTAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAA8PGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxOC0wMS0zMFQxMDo1NzoyOCswODowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE4LTAxLTMwVDExOjEzOjUyKzA4OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOC0wMS0zMFQxMToxMzo1MiswODowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpJQ0NQcm9maWxlPnNSR0IgSUVDNjE5NjYtMi4xPC9waG90b3Nob3A6SUNDUHJvZmlsZT4KICAgICAgICAgPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICAgICA8cmRmOkJhZz4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPue7jzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+57uPPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPue7jzwvcGhvdG9zaG9wOkxheWVyTmFtZT4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllclRleHQ+57uPPC9waG90b3Nob3A6TGF5ZXJUZXh0PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6QmFnPgogICAgICAgICA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjNmYzVjOThlLWVmNGYtNDM0My04MDE3LWM0ZDg2MzZlZmFmODwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmY4NDQ0YjJjLTQ1ZjktMTE3Yi1iN2M2LWM1ODc1YzNjNGEwMDwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjBkZTViMWFkLWUyMGMtNDA0Ni04Yjc1LTRlYjcxZDA0MTM3ZTwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowZGU1YjFhZC1lMjBjLTQwNDYtOGI3NS00ZWI3MWQwNDEzN2U8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDEtMzBUMTA6NTc6MjgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChNYWNpbnRvc2gpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozZmM1Yzk4ZS1lZjRmLTQzNDMtODAxNy1jNGQ4NjM2ZWZhZjg8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDEtMzBUMTE6MTM6NTIrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChNYWNpbnRvc2gpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjc1PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjM3PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz6F8xKsAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAtrSURBVHjatJp/cBXVFccvbQwtY2XGlg6dFltLrKNOZ5yp3LYDatur0gCKldTRieO02wijiPwQRwsOY+qUH3ZQhzFMSanFxCHUTqamdUVCFpSGSNC8PJKQkB8kSAiQ3yFw9r237+1++0d2H3f37fsVw50581527313zyfnnHvuucsAMK84TVHZdEVlixSV7VJU1qyobExRGezPZvv6IkVl06UxLiHBfcVpJPh0EnwRCb6LBG8mwcdIcNifzfb1RSR4fA75WblGmch0rlEB1+gfXKMmrtEY1wj2Z5N9vYBr9PVUv8P8YCkqu05R2TpFZf02nHQyYPfPzRQWCX4dCb6OBO+34aSTAbt/bhawcrhGK7hG52046WSAa/RHrlFuRrAUld2iqCyQISSvBBSV3Sr9VhyOPAcJfgsJHsgQklcCJPityWBJ17/PNQpkCMkrrVyjOxI8zgNqnqKyYRnA2prZeLdlJZoH9mNIPwMyRnDxSgcCF9/Hnqan8MyBb3iBDSsqm5cMFgk+jwQflgHov81HZMdriB2vg3XxAqzxcVjnziJ29BNEtm+G/uAvvMCGSfB5yWBxjX7ONeqXATx0VMdbXQYCoyYGwxYMExgMW2gcNfFWl4GHjupeYONco3t9YSkqm2u7ExSVYfn+6VC7NsMwQ0jVrhjDKG9+Gn9Qp3ndMs8LiwSfa7vThNK/XgBj7x4gEkk5hzV+CZE3t4Hu+6nXLfN83OU2KSbh7sOEvWejiFopp0DUAirORnHPxy5go1yjPBcsRWU5isoaHGWfO/hNnB79FNm0+r4KLN+fKwNrUFSWI8WoHBK8IW5Nv7kfZmtzVnPEDlWDFs6XgTWQ4DkSqFw7YINrhIVHdJwaN7Oa49S4iYVHXFbWzjWaIcNaJVvU6dFjrh8Y1QfQPdKSdqK6c2Vel1wjwVolW5TZ2oLJtGj1h16XXCPBesFRcv5hQsslc1JztFwyseCwy8JeBcCYvYKddxTcf/q1hMEHu8qxpXYZACAUJXSPtLhkVB+I990dfFKGdV5RWS4JnkuCn3cUNP5Z7naz4SHoBfmIBQPxa3pRIcKvb/VVJrL1FRnWeRI81172Bx0FK85GXWN6L5sIDMWgp/NHu1WcjcqwLnGNbmCKypY6yq0/dBOi5tX40dBXg4Nd5dhRvxwbD9+Ng13laOirSVgFD3ZdVX401Od1x4dJ8KVx93v8ISBquJUvLYFeVAhL1yfcLRgACY5Q8QYYVZUwqiphdrRfhTs06HXHh7lGj8rBPOZhsrMtgp1tkTi4jY1hbGwM49njIXCN0D7mtsKYBSx1B32FKSordRSr6ih2DahqK4mDWl09Fzvql+PCeI+rz4765S5YALCzoUCGVUqCl8atqmy3q695rhckOMyOdoSKNyBacwCh4g3QC/InPosKQYLDGh5yjQsXvyTDKuUaveMo9rdu9z9Dj1pYfESHHrUSrGtbcxiVPYavde3uNmRY7zFFZY2OYj1jn/kOcqzLabILbqldlgDrf71vy7CCJHijo5jZ3urqG3p+5QSkutoJa3p+JfSCfJDgiNbVQi/Ih1FVmRi79v9XhhXkGjU7igU9VlLWGUFgKIah0AQ0x4p2tkXANUJlj+Hrnk1jpgyrgykqG3EUi8T0BKvxc7lUbggA3WPH5fsjJPiIoxjCYbeFvL4VoeINIMER2VsGvagQsWAARlVl3BX9mnnqpAxrxM6LwDXCYMSt+BN1etzlDvRGMRSysK05jG3NYQyFLJR1RvBEnZ7gipcMS4ZFzFHq6Y+uT3ig7pEWtPYfQ+2Z96GoLB7Mne9OXPOulIPU7YIZV2rJvf4rXM0B6EWFV0F0tEMvKoRekA+9IB+RvWWumAUA1oU+16ooJ5SGzyLoxCk9aqGyx0hwvdqLUfReThwo/a7JFJVdVlSGog+/CssyE2ApKkNVW0ncgpwA7wAa1QfQ2u9ONfout8iwiAS/TIKD7v8Z4JkjFgxAL8hH+PWtiJSWxONVtOYALF2HUVUZd0s5bpk9p2VYxDW6ksyy9KiFZ4+H0HvZRPuY6QrwjpR1JibGHsu6yBSVnXYUG6RuV+fW/mNQVBYHtKN+eRxc7Zn30T3Sgr8HXsTq6rmuccH+/8iwzpDgpx3FrAt9iVZlB3OjqhLW8BAsXb/qmqUlMM/1wjzX64Zcd0SGdYZr1JYsZlX2TATqjY0Trie3jY3hpOmDJ2Z9zhSVVTqKHT33TkJgV1SG1dVzoajMN5atrp6Lhr4a17j32l6QYX1Aglc6ikWr1cTtjK7D7GiPw4oFAzA72uMrpF+AN3btkGF9wDWqcBTb3W0kBRAYimUMy7MaljC7tAJFZdhe/4Cr85baZahqK8GW2mVQVJbgbnJ27ySmphXFem2ODGudXVoBCY7wi6sS0gZHQsUbYJ7rjVtVqHhDQqyaMKsY9McelMeu4xoVJsuzyjoj8XxqY2M47o7tYyaePR6Kfx8KWanyrAeYorI5isqijnJdI3VxCIrKcGG8B6P6ACqaNqcszzggPzlbKl+PKiqbQ4LPIcGj8fThZJPLDb0u5gR5eZV0ua76bxlUlASfY2fwI34ZvANDDuZOkJdF7rPPncF3co2mOXvDCkfBlz+5A5EYxQO8Kyfy2eo4AgDD+hdYVX2jDKtC2htWxC3o948C4VBme8GaA65tkNV/AfrD98mwKqS94dprtDf8nbyRzlNUFnKUfPOzxYia4awmuBTpx6YjP5ZBhRSV3SzByiPBQ3F33LAWMCJZzWGNjiBU9LgMKkSC3+ypOhyd4qrDEa7RV7z1rBWyW22um49+6sxogq6ROrx0OM/rmit86lkrXDHquadg+bigbxJ6sgn6k494Kw4rfOpZ37PLw+Aa4Z6PCft6owl7xYQwaAH7ehPqWZe4Rj9MVindIyu8fH8u9rWuxcUriUHWgoXusePY1fi4t/AHRWVvp6iU7nEpvHA+IjvfgNX7hY8pWTBPnUT4zy97C38gwd9OUSn9JdcoIieqS4/qKOkyEBw1MRixELWAwYiF4KiJki7DG8zBNbK4Ro+kKivnKirT/AL4em0O/nLsVyhpWIatn96D5w5+K1mw1xSV5aaAlUuCa371df2xBxFe/wzCr7yI0NoV0B95IFkdXnMOLlLU4AtthTFJKU5Zg7cVnKmorH6SBxb1ispmZnBgMZMEr5/kgUU9CT4z3YGFfe+lSYJ6l2s0LS0sW8lZiso6swTVaY/L9ChsFgnemSWoThJ8VqqjMM+9aVyjvVmCquMa5fqep/pdlFbIgSzODfO8oNLAclbIgSzODfO8z5kKln1/BtcomCGoXq7RrGRMksKygS1QVGakAWXY/dgkYDESfAEJbqQBZZDgC/yeMR0su8/tXKNQGlARrtFPUvFICcsGtikNrE3JQGUIi5Hgm9LA2pTs+TKBZff7UxpYq9OxyARWjv1egx+oZvuo/8vCyrHfa/AD1UyCXzcFsGbYbuYH6mO/gD4ZWExR2eIksBanApUFLEaCL04Ca3Gq58sUlt33eR9QBtfotnQcsoHFFJWd8IA6kQ5UlrAYCX7CA+pEuufL8C0aR66Xy8+2/DXT8dnAWumBtfIawFrpgbVyimExrlG5x6puuhawZisqM21Qlv33VMOaTYKbNiiLBJ99DWAtkWD9K5ux2cBiisqCNqymTEBNAhYjwYM2rCZv5j9FsK7nGkVtWIu/FCxv8yi/24ZVfg1h7bZhlctvCHrbl4DFuEafc40u228EThmsHMbYDYyxbzPGvvvoHrZZURkeK2NvMMbmMMZmM8ZuZIx9bbKwvHOcmn/nZhIcnQvuTJhjCmG9xTX6KNtxyWB9hTH2HcbYj2RZsp2tVlSGJdvZGu89xtgPGGMzsnin1HeOQ3fdvpoEx6G7bk86xxTAWsM1ejXbcf8fAOe7eJoNlLFgAAAAAElFTkSuQmCC');\r\n    background-size: cover;\r\n    width: 25px;\r\n    height: 37px;\r\n    cursor: pointer;\r\n    position: relative;\r\n}\r\n\r\n.kmap-road-plan-marker-start-img {\r\n    background-position-x: 0;\r\n}\r\n\r\n.kmap-road-plan-marker-middle-img {\r\n    background-position-x: -50px;\r\n}\r\n\r\n.kmap-road-plan-marker-end-img {\r\n    background-position-x: -25px;\r\n}\r\n\r\n.kmap-road-plan-marker-middle-count {\r\n    width: 16px;\r\n    height: 16px;\r\n    font-size: 12px;\r\n    border-radius: 8px;\r\n    background-color: #36bdf5;\r\n    line-height: 16px;\r\n    text-align: center;\r\n    position: absolute;\r\n    right: -6px;\r\n    bottom: 24px;\r\n    font-weight: bold;\r\n    color: white;\r\n}\r\n\r\n.kmap-road-plan-marker-number {\r\n    width: 20px;\r\n    height: 20px;\r\n    background: red;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    color: #fff;\r\n}",""])},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAASCAYAAABM8m7ZAAAAAXNSR0IArs4c6QAAAqpJREFUSA29lm1IU1Ecxp97J77MF5IIHVuzlOXoDQuswLci+yJkEElgQQQFFvQlCiv60pdIgj6WUCB9kYYRROKnRc4UfPlQaS/a2CK3lSkoOM2Kttt9rjTv3T1zEOEfNs55znP+P8655/zvlSAI+672g4oSOw5ItQoUu2rJE9hWkxYkSBFA6ZMkiyfyquV5slnSC46KdldMit8vLy2saz66Ffv3bYTdlg9rTobelrb9fek3Il+j6B0MofPJe0wE53wWRT4bft3iN0227b5b46y8N9vhGVPiceW/BXMxJ3OTYQBzpRzoHw6vCpwIRBXf4IzJ0zs4rUwEoyZdLzA3GWQRLvOP23vjUnVhVSUfZ+oYfjMLT3fIZHj0LISR0VmTrheYmwyyqMs8SHymp5q2632J9s9fcbzzzyf66RrjgSiWfsSENjLIIlPm6eVBkgzHbGXelbYxfAxGV4Q0rcDnRVy+OYp43Gwkgywy1a2Wanl6RXHngR/e/m+ioVU139AM2trHhZ5lllSbwXvKK5Mcj3vC6Oj6pMk9L6bUVS/gQ2AeuSmulvflNMJflhAMLWpzOp9Owmm34sQRpyE1WWRqh8sw8o8dNRnUm6PO5i99yKwwvOzJcazBgdNNmzW54UAxWs+Vo76qKNmW6B+qKcLV82401i/fjGZ1pcmrpZksMtUVK32sMKK4eMaF+urUMNEcanV7N6C1xS0cXmYpfTJrKcuatksC663WHdhSaj4DAqsmlZXk4va1nZAFD5EMssiUWcBZSx92vRXmysqUsc1VIBwTie6yfORkW0RDIIMsMjXHuuLDA76hyZN7Kmw5TntqSHaWBZscuShxWA2J86wZcJcWYH1hpkHXdwZGIrhw3TsnxeTG+anulTK31i8JQ71ay9eiAfx3a9biQ+AP6SsRofqAbnYAAAAASUVORK5CYII="},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SpecificLayerMVT",function(){return I});var r=n(74),i=n.n(r),o=n(101),s=n.n(o),a=n(158),u=n.n(a),c=n(163),l=n.n(c),A=n(157),h=n.n(A),p=n(388),f=n.n(p),g=n(159),d=n.n(g),y=n(395),v=n(102),m=n(156),C=n(1280),I=function(t){function e(t,n){var r;if(i()(this,e),(r=u()(this,h()(e).call(this)))._callback=n,m.a.bindAll(["_onData","_updateSource"],l()(r)),m.a.objectAssign(l()(r),t),r.vectorLayerName=r.sourceId,r.map=v.a.map.map,r.userTerms=t.mixTerms||null,r.clusterType="backend",r.clustered||(r.clustered=!1),r.isPoiLayer&&(r.clustered=!0,r.isPublic=!0,r.icons=C.a),r.buildVectorSource(),r.buildVectorLayer(),r.dynamic){var o=null;o=(r.clustered,function(){r._updateSource()}),r._addTimerDevice(o)}return r.map.on("data",r._onData),r.addCollect(),r}return d()(e,t),s()(e,[{key:"_updateSource",value:function(){v.a.map.map.getSource(this.sourceId).tiles=[this.reqUrl],this.map.style.sourceCaches[this.sourceId].clearTiles(),this.map.style.sourceCaches[this.sourceId].update(this.map.transform),this.map.triggerRepaint()}},{key:"_onData",value:function(t){t.sourceId===this.sourceId&&t.isSourceLoaded&&(this._callback&&this._callback(this.layerId),delete this._callback)}},{key:"buildVectorSource",value:function(){var t="",e="",n="";this.isPoiLayer?(t="".concat(v.a.config.POI_AGGS_MVT),n="device_base",e="&appName=".concat(v.a.config.PUBLIC_APPNAME)):(t="".concat(v.a.config.SERVICE_AGGS_MVT),n=this.serviceName||this.serviceNames[0],e="&appName=".concat(v.a.config.BUSINESS_APPNAME)),this.isPublic&&(n="device_base",e="&appName=".concat(v.a.config.PUBLIC_APPNAME));var r=v.a.config.CLUSTERED_RADIUS||40,i=e+"&serviceNames=".concat(n)+"&layerName=".concat(this.vectorLayerName)+"&aggTag=".concat(this.clustered)+"&radius="+r;this.userTerms&&(i+="&filterMvtTerms="+JSON.stringify(this.userTerms)),t+=i=encodeURI(i),this.reqUrl=t,v.a.map.map.addSource(this.sourceId,{type:"vector",tiles:[t]})}},{key:"buildVectorLayer",value:function(){this.buildLayer(this.vectorLayerName)}},{key:"removeLayer",value:function(){this.map.off("moveend",this._onmoveend),this._removeTimerDevice(),f()(h()(e.prototype),"remove",this).call(this)}},{key:"_getBasicLayer",value:function(){return this.clustered?this.layerId+"circle":this.symbolLayerId}},{key:"reloadData",value:function(){}}]),e}(y.a)},function(t,e,n){"use strict";e.a=[{iconName:"car-15",filter:["010000","010400","010401","010500","010600","010700","010800","010900","010901","011000","020000","020100","020101","020102","020103","020104","020105","020106","020200","020201","020202","020203","020300","020301","020400","020401","020402","020403","020404","020405","020406","020407","020408","020600","020601","020602","020700","020701","020702","020703","020800","020900","020904","020905","021000","021001","021002","021003","021004","021100","021200","021201","021202","021203","021300","021301","021400","021401","021500","021501","021600","021601","021602","021700","021701","021702","021800","021802","021803","021804","021900","022000","022100","022200","022300","022301","022400","022500","022501","022502","022600","022700","022800","022900","023000","023100","023200","023300","023301","023400","023500","025000","025100","025200","025300","025400","025500","025600","025700","025800","025900","026000","026100","026200","026300","029900"]},{iconName:"poi_code_230215_16",filter:["010100","010101","010102","010103","010104","010105","010107","010108","010109","010110","010111","010112","180301"]},{iconName:"point-11",filter:["010200","180000","180103"]},{iconName:"poi_code_230217_16",filter:["010300"]},{iconName:"repair",filter:["030000","030100","030200","030201","030202","030203","030204","030205","030206","030300","030301","030302","030303","030400","030401","030500","030501","030502","030503","030504","030505","030506","030507","030508","030700","030701","030702","030800","030801","030802","030803","030900","031000","031004","031005","031100","031101","031102","031103","031104","031200","031300","031301","031302","031303","031400","031401","031500","031501","031600","031601","031700","031701","031702","031800","031801","031802","031900","031902","031903","031904","032000","032100","032200","032300","032400","032401","032500","032600","032601","032602","032700","032800","032900","033000","033100","033200","033300","033400","033401","033500","033600","035000","035100","035200","035300","035400","035500","035600","035700","035800","035900","036000","036100","036200","036300","039900","040200","040201","071200"]},{iconName:"poi_code_130106_16",filter:["040000","040100","040101"]},{iconName:"restaurant-15",filter:["050000","050100","050101","050102","050103","050104","050105","050106","050107","050108","050109","050110","050111","050112","050113","050114","050115","050116","050117","050118","050119","050120","050121","050122","050123","050200","050201","050202","050203","050204","050205","050206","050207","050208","050209","050210","050211","050212","050213","050214","050215","050216","050217","050300","050306","050307","050308","050309","050310","050311"]},{iconName:"KFC",filter:["050301"]},{iconName:"McDonald",filter:["050302"]},{iconName:"pizza-hut",filter:["050303"]},{iconName:"yonghe",filter:["050304"]},{iconName:"poi_code_110304_16",filter:["050305"]},{iconName:"poi_code_110200_16",filter:["050400"]},{iconName:"poi_code_110303_16",filter:["050500","050502","050503","050504"]},{iconName:"starbucks",filter:["050501"]},{iconName:"poi_code_110304_16",filter:["050600"]},{iconName:"poi_code_110302_16",filter:["050700"]},{iconName:"poi_code_130201_16",filter:["050800","050900"]},{iconName:"poi_code_130102_16",filter:["060000","060100","060101","060102","060103","060200","060201","060202","061200","061201","061202","061203","061204","061205","061206","061207","061208","061209","061210","061211","061212","061213","061214","061300","061301","061302","061400","061401"]},{iconName:"building-type-190000-18",filter:["060300","060301","060302","060303","060304","060305","060306","060307","060308"]},{iconName:"building-type-199999-18",filter:["060400","060403","060404","060405","060406","060407","060408","060409","060413","060414","060415"]},{iconName:"carrefour",filter:["060401"]},{iconName:"Wal-Mart",filter:["060402"]},{iconName:"poi_code_130202_16",filter:["060500","060501","060502","060600","060601","060602","060603","060604","060605","060606","060700","060701","060702","060703","060704","060705","060706","071800","071801","071903"]},{iconName:"watsons",filter:["060411"]},{iconName:"poi_code_130101_16",filter:["060800","060900","060901","060902","060903","060904","060905","060906","060907","061000","061001","061100","061101","061102","061103","061104","070600","070605","070606","070607","070608","070609","070610"]},{iconName:"space-type-6-18",filter:["070000"]},{iconName:"poi_code_160201_16",filter:["070100","070700","070701","070702","070703","070704","070705","070706","170000","170100","170200","170201","170202","170203","170204","170205","170206","170207","170208","170209","170300","170400","170401","170402","170403","170404","170405","170406","170407","170408","141103","141104","141105"]},{iconName:"space-type-9-18",filter:["070200","070201","070202","070203"]},{iconName:"ticket_center",filter:["070300","070301","070302","070303","070304","070305","070306"]},{iconName:"post-office",filter:["070400"]},{iconName:"dianxin",filter:["070601"]},{iconName:"yidong",filter:["070603"]},{iconName:"logistics",filter:["070401","070500","070501"]},{iconName:"liantong",filter:["070604"]},{iconName:"building-15",filter:["070800","070900","071000"]},{iconName:"hairdressing",filter:["071100"]},{iconName:"photography-and-printing",filter:["071300"]},{iconName:"bath",filter:["071400"]},{iconName:"space-type-4-18",filter:["071500"]},{iconName:"zhong-jie",filter:["071600"]},{iconName:"moving-company",filter:["071700"]},{iconName:"funeral",filter:["071900"]},{iconName:"poi_code_180400_16",filter:["071901","071902"]},{iconName:"poi_code_130303_16",filter:["072000","072001"]},{iconName:"building-type-130000-18",filter:["080000","080100","080101","080108","080109","080110","080111","080112","080113","080114","080115","080116","080117","080119"]},{iconName:"poi_code_180103_16",filter:["080102"]},{iconName:"poi_code_180102_16",filter:["080103"]},{iconName:"basketball",filter:["080104"]},{iconName:"poi_code_180106_16",filter:["080105"]},{iconName:"poi_code_180104_16",filter:["080106"]},{iconName:"poi_code_180110_16",filter:["080107"]},{iconName:"poi_code_180101_16",filter:["080118"]},{iconName:"poi_code_110301_16",filter:["080304"]},{iconName:"Internet",filter:["080308"]},{iconName:"poi_code_180105_16",filter:["080200","080201","080202"]},{iconName:"poi_code_180201_16",filter:["080300","080301","080302","080303"]},{iconName:"poi_code_180307_16",filter:["080305","080306","080307","080501"]},{iconName:"leisure_centre",filter:["080400","080401","080402","080500","080502","080503","080504","080505"]},{iconName:"poi_code_180209_16",filter:["080600","080601"]},{iconName:"poi_code_180210_16",filter:["080602","080603"]},{iconName:"poi_code_170100_16",filter:["090000","090100","090101","090102","090200","090201","090203","090204","090205","090206","090207","090208","090209","090210","090211","090300"]},{iconName:"poi_code_170107_16",filter:["090202"]},{iconName:"poi_code_170105_16",filter:["090400"]},{iconName:"hospital-15",filter:["090500"]},{iconName:"poi_code_130502_16",filter:["090600","090602"]},{iconName:"poi_code_130501_16",filter:["090601"]},{iconName:"poi_code_210105_16",filter:["090700","090701","090702"]},{iconName:"poi_code_120102_16",filter:["100000","100100","100101","100102","100103","100104","100105","100200","100201"]},{iconName:"landscape-15",filter:["110000","110200","110201","110202","110203","180500"]},{iconName:"garden-15",filter:["110100","110101","110105","110208","110209"]},{iconName:"poi_code_180308_16",filter:["110102"]},{iconName:"poi_code_180309_16",filter:["110103"]},{iconName:"poi_code_180310_16",filter:["110104"]},{iconName:"point-11",filter:["110106","141000","140201","150000","150101","150106","150107","150201","150202","150203","150204","150205","150206","150207","150208","150209","150210","150301","150302","150303","150304","150501","150600","150800","151000","151100","151200","151300","190000","190100","190101","190102","190103","190104","190105","190106","190107","190108","190109","190200","190201","190202","190204","190205","190300","190301","190302","190303","190306","190307","190308","190309","190310","190311","190400","190401","190402","190403","190500","190600","190700","200000","600001","600002","600003","600004","600006","600007","600008","600009","600010","600013","600121","600122","600123","600125","6001ff","600124","600201","970000"]},{iconName:"inner-poi-type-8-16",filter:["110205"]},{iconName:"poi_code_190403_16",filter:["110206"]},{iconName:"poi_code_190404 _16",filter:["110207"]},{iconName:"poi_code_120103_16",filter:["120000"]},{iconName:"building-type-990000-18",filter:["120100"]},{iconName:"building-type-600000-18",filter:["120200","120201","120202","120203"]},{iconName:"poi_code_120201_16",filter:["120300","120301","120302","120303","120304"]},{iconName:"poi_code_190100_16",filter:["130000","130100","130102","130103","130104","130105","130106","130107","130300","130500","130502","130503","130504","130505","130506","130600","130601","130602","130603","130604","130605","130606","130700","130701","130702","130703"]},{iconName:"poi_code_190101_16",filter:["130101"]},{iconName:"foreign_embassies",filter:["130200","130201","130202"]},{iconName:"social_groups",filter:["130400","130401","130402","130403","130404","130405","130406","130407","130408","130409"]},{iconName:"poi_code_190200_16",filter:["130501"]},{iconName:"kejiao",filter:["140000","140600","140700","140800","140900"]},{iconName:"building-type-140000-18",filter:["140100","140101","140102","140200"]},{iconName:"poi_code_160205_16",filter:["140300","140400","110204"]},{iconName:"poi_code_160203_16",filter:["140500"]},{iconName:"poi_code_160202_16",filter:["141100","141101","141102"]},{iconName:"poi_code_160102_16",filter:["141200","141400","141500"]},{iconName:"poi_code_160101_16",filter:["141202","141203","141204"]},{iconName:"poi_code_160105_16",filter:["141205","141206","141201"]},{iconName:"poi_code_160106_16",filter:["141207"]},{iconName:"poi_code_240100_16",filter:["141300"]},{iconName:"airport-15",filter:["150100","150104"]},{iconName:"poi_code_230100_16",filter:["150102","150700","150701","150702","150703"]},{iconName:"airport_hall",filter:["150105"]},{iconName:"poi_code_230103_16",filter:["150200"]},{iconName:"harbor-15",filter:["150300"]},{iconName:"poi_code_230108_16",filter:["150400"]},{iconName:"metro-station",filter:["150500"]},{iconName:"building-type-400000-18",filter:["150900","150903","150904","150905","150906"]},{iconName:"entry_and_exit",filter:["150907","150908","150909"]},{iconName:"inner-poi-type-4-16",filter:["160000"]},{iconName:"bank-15",filter:["160100","160102","160103","160114","160117","160119","160121","160122","160123","160124","160125","160126","160127","160128","160129","160130","160131","160132","160133","160134","160135","160136","160137","160138","160140","160141","160142","160143","160144","160145","160146","160147","160148","160149","160150","160151","160152","160200"]},{iconName:"people_bank_of_china",filter:["160101"]},{iconName:"bank_of_china",filter:["160104"]},{iconName:"ICBC",filter:["160105"]},{iconName:"china-construction-bank",filter:["160106"]},{iconName:"bank_of_communications",filter:["160108"]},{iconName:"china_merchants_bank",filter:["160109"]},{iconName:"huaxia_bank",filter:["160110"]},{iconName:"CITIC",filter:["160111"]},{iconName:"minsheng_bank",filter:["160112"]},{iconName:"guangda_bank",filter:["160113"]},{iconName:"pufa_bank",filter:["160115"]},{iconName:"guangfa_bank",filter:["160120"]},{iconName:"postal_savings_bank",filter:["160139"]},{iconName:"atm",filter:["160300","160301","160302","160303","160304","160305","160306","160307","160308","160309","160310","160311","160312","160314","160315","160316","160317","160318","160319","160320","160321","160322","160323","160324","160325","160326","160327","160328","160329","160330","160331","160332","160333","160334","160335","160336","160337","160338","160339","160340","160341","160342","160343","160344","160345","160346","160347","160348","160349"]},{iconName:"finance",filter:["160400","160401","160402","160403","160404","160405","160406","160407","160408","160500","160501","160600"]},{iconName:"event-app-1000-18",filter:["180100"]},{iconName:"road-camera-18",filter:["180101"]},{iconName:"event-app-1506-18",filter:["180102"]},{iconName:"illegal_parking",filter:["180104"]},{iconName:"toll",filter:["180200","180201","180202","180203"]},{iconName:"poi_code_230206_16",filter:["180300"]},{iconName:"poi_code_230207_16",filter:["180302"]},{iconName:"traffic-light-15",filter:["180400"]},{iconName:"mountain",filter:["190203"]},{iconName:"highSpeedExport",filter:["190304"]},{iconName:"Entrance",filter:["190305"]},{iconName:"newsstand",filter:["200100"]},{iconName:"inner-poi-type-5-16",filter:["200200"]},{iconName:"emergency_shelter",filter:["200400"]},{iconName:"event_activity",filter:["220000"]},{iconName:"inner-poi-type-1-16",filter:["200300","200301","200302","200303","200304"]},{iconName:"public_activities",filter:["220100"]},{iconName:"festival_celebration",filter:["220101"]},{iconName:"exhibition",filter:["220102"]},{iconName:"sports_events",filter:["220103"]},{iconName:"theatrical_performances",filter:["220104"]},{iconName:"large_conference",filter:["220105"]},{iconName:"operation_activities",filter:["220106"]},{iconName:"shopping_malls",filter:["220107"]},{iconName:"emergencies",filter:["220200"]},{iconName:"natural_disaster",filter:["220201"]},{iconName:"accident_disaster",filter:["220202"]},{iconName:"city_news",filter:["220203"]},{iconName:"public_health_events",filter:["220204"]},{iconName:"public_social_events",filter:["220205"]},{iconName:"access_facilities",filter:["990000"]},{iconName:"poi_door_16",filter:["991000","991001","991400","991401","991500"]},{iconName:"yingye_bank",filter:["160118"]}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"GeojsonLayer",function(){return w});var r=n(161),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(158),c=n.n(u),l=n(163),A=n.n(l),h=n(157),p=n.n(h),f=n(388),g=n.n(f),d=n(159),y=n.n(d),v=n(395),m=n(102),C=n(156),I=n(420),_=n(386),b=n(415),w=function(t){function e(t,n){var r;if(o()(this,e),(r=c()(this,p()(e).call(this)))._callback=n,C.a.bindAll(["_loadData","_onmoveend","_onxhrerror","_onLoadSuccess"],A()(r)),C.a.objectAssign(A()(r),t),r.map=m.a.map.map,r.isTypicalLayer)if(r.searchOpts)switch(r.searchOpts.type){case"geometry":r.typicalPolygon=r.searchOpts.value;break;case"annular":r.typicalPolygon=r.analysisToMultiPolygon(r.searchOpts.value.center,r.searchOpts.value.levels)}else!r.adcode&&r.polygon&&(r.typicalPolygon={type:"Polygon",coordinates:[r.polygon]});else r.requestPolygon=_.a.getCurrentBoundsByScreen(r.map,b.a.REQUEST_POLYGON_BUFFER).geometry;return r._zoom=Math.floor(r.map.getZoom()),r.request=null,r.layerRemoved=!1,r.userTerms=t.mixTerms||[],r.clustered?I.a.loadData(A()(r),r._onLoadSuccess):I.a.loadUnClusterData(A()(r),r._onLoadSuccess),r.map.on("moveend",r._onmoveend),r.addCollect(),r}return y()(e,t),a()(e,[{key:"analysisToMultiPolygon",value:function(t,e){var n={type:"MultiPolygon",coordinates:[]};return e.map(function(e){var r=Math.max(e[0],e[1]),i=Math.min(e[0],e[1]),o=_.a.circle(t,r,{units:"kilometers",steps:128});if(0==i)n.coordinates.push(o.geometry.coordinates);else{var s=_.a.circle(t,i,{units:"kilometers",steps:128});n.coordinates.push([o.geometry.coordinates[0],s.geometry.coordinates[0]])}}),n}},{key:"_onLoadSuccess",value:function(t){var e=this;if(!this.layerRemoved&&t&&t.result){var n=t.code,r=t.result.data;100==n?(this.clusterType="frontend",r=r.map(function(t){return e._toGeojson(t)})):101==n&&(this.clusterType="backend"),this.setLayerData(r),this._callback&&this._callback(this.layerId),delete this._callback,this.resetRequest()}}},{key:"_onxhrerror",value:function(t){console.error(t.message),this.resetRequest()}},{key:"_onmoveend",value:function(){var t=Number(this.map.getZoom().toFixed(1)),e=_.a.getCurrentBoundsByScreen(this.map);if(!(this._zoom&&this.requestPolygon&&Math.abs(10*t-10*this._zoom)<3&&_.a.booleanWithin(e,this.requestPolygon))){var n=null;n=this.clustered?I.a.loadData:I.a.loadUnClusterData,this.request?this.nextRequest=function(){n(this,this._onLoadSuccess)}:(this.requestPolygon=_.a.getCurrentBoundsByScreen(this.map,b.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Math.floor(this.map.getZoom().toFixed(1)),n(this,this._onLoadSuccess))}}},{key:"resetRequest",value:function(){this.request=null,this.nextRequest&&(this.requestPolygon=_.a.getCurrentBoundsByScreen(this.map,b.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Math.floor(this.map.getZoom()),this.nextRequest(),this.nextRequest=null)}},{key:"removeLayer",value:function(){this.layerRemoved=!0,this.request&&(this.request.abort(),this.request=null),this.map.off("moveend",this._onmoveend),g()(p()(e.prototype),"remove",this).call(this)}}]),e}(v.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"RegionLayer",function(){return p});var r=n(161),i=(n.n(r),n(74)),o=n.n(i),s=n(101),a=n.n(s),u=n(102),c=n(156),l=n(420),A=n(386),h=n(415),p=function(){function t(e,n){o()(this,t),c.a.bindAll(["_onmoveend","_onxhrerror","_onLoadSuccess"],this),this.before=n,c.a.objectAssign(this,e),this.map=u.a.map.map,this.sourceId=Object(c.b)(),this.requestPolygon=A.a.getCurrentBoundsByScreen(this.map,h.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Math.floor(this.map.getZoom()),this.request=null,this.layerRemoved=!1,this.userTerms=e.mixTerms||[],l.a.loadRegionData(this,this._onLoadSuccess),this.map.on("moveend",this._onmoveend)}return a()(t,[{key:"_onLoadSuccess",value:function(t){if(!this.layerRemoved&&t&&t.result){var e=t.result,n=[];for(var r in e)n.push({type:"Feature",geometry:e[r]});var i={type:"FeatureCollection",features:n};this.addRegionSource(i),this.resetRequest()}}},{key:"addRegionSource",value:function(t){this.regionSource=t;var e=this.map.getSource(this.sourceId);e?e.setData(this.regionSource):(this.map.addSource(this.sourceId,{type:"geojson",data:this.regionSource,maxzoom:24}),this.addLineLayer(),this.addPolygonLayer())}},{key:"addLineLayer",value:function(){this.regionLinLayerId=Object(c.b)();var t={id:this.regionLinLayerId,type:"line",source:this.sourceId,layout:{},paint:{"line-width":2,"line-color":"#1A62A5"}};this.geometryStyle&&(t.paint["line-width"]=this.geometryStyle.lineWidth,t.paint["line-color"]=this.geometryStyle.lineColor),this.before?this.map.addLayer(t,this.before):this.map.addLayer(t)}},{key:"addPolygonLayer",value:function(){this.regionPolygonLayerId=Object(c.b)();var t={id:this.regionPolygonLayerId,type:"fill",source:this.sourceId,layout:{},paint:{"fill-color":"rgba(69,185,124,0.7)"},filter:["in","$type","Polygon"]};this.geometryStyle&&(t.paint["fill-color"]=this.geometryStyle.fillColor),this.map.addLayer(t,this.regionLinLayerId)}},{key:"_onxhrerror",value:function(t){console.error(t.message),this.resetRequest()}},{key:"_onmoveend",value:function(){var t=Number(this.map.getZoom().toFixed(1)),e=A.a.getCurrentBoundsByScreen(this.map);this._zoom&&this.requestPolygon&&Math.abs(10*t-10*this._zoom)<3&&A.a.booleanWithin(e,this.requestPolygon)||(this.request?this.nextRequest=function(){l.a.loadRegionData(this,this._onLoadSuccess)}:(this.requestPolygon=A.a.getCurrentBoundsByScreen(this.map,h.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Math.floor(this.map.getZoom().toFixed(1)),l.a.loadRegionData(this,this._onLoadSuccess)))}},{key:"resetRequest",value:function(){this.request=null,this.nextRequest&&(this.requestPolygon=A.a.getCurrentBoundsByScreen(this.map,h.a.REQUEST_POLYGON_BUFFER).geometry,this._zoom=Math.floor(this.map.getZoom()),this.nextRequest(),this.nextRequest=null)}},{key:"removeRegionLayer",value:function(){this.layerRemoved=!0,this.request&&(this.request.abort(),this.request=null),this.map.off("moveend",this._onmoveend),this.regionLinLayerId&&this.map.removeLayer(this.regionLinLayerId),this.regionPolygonLayerId&&this.map.removeLayer(this.regionPolygonLayerId)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"HeatMapLayer",function(){return b});var r=n(503),i=(n.n(r),n(504)),o=(n.n(i),n(161)),s=(n.n(o),n(74)),a=n.n(s),u=n(101),c=n.n(u),l=n(158),A=n.n(l),h=n(163),p=n.n(h),f=n(157),g=n.n(f),d=n(388),y=n.n(d),v=n(159),m=n.n(v),C=n(395),I=n(102),_=n(156),b=(n(420),n(386),n(415),function(t){function e(t,n){var r;return a()(this,e),(r=A()(this,g()(e).call(this))).layerType="heatMap",r._callback=n,_.a.bindAll(["_onData","_updateSource"],p()(r)),_.a.objectAssign(p()(r),t),r.vectorLayerName=r.sourceId,r._zoom=Number(r.map.getZoom().toFixed(1)),r.maxZoom=t.maxZoom||19,r.minZoom=t.minZoom||4,r.maxValue=t.maxValue||7e5,r.minValue=t.minValue||0,r.minRadius=t.minRadius||12,r.maxRadius=t.maxRadius||30,r.minIntensity=t.minIntensity||1,r.maxIntensity=t.maxIntensity||30,r.map=I.a.map.map,r.buildVectorSource(),r.buildVectorLayer(),r.map.on("data",r._onData),r.addCollect(),r}return m()(e,t),c()(e,[{key:"_updateSource",value:function(){I.a.map.map.getSource(this.sourceId).tiles=[this.reqUrl],this.map.style.sourceCaches[this.sourceId].clearTiles(),this.map.style.sourceCaches[this.sourceId].update(this.map.transform),this.map.triggerRepaint()}},{key:"_onData",value:function(t){t.sourceId===this.sourceId&&t.isSourceLoaded&&(this._callback&&this._callback(this.layerId),delete this._callback)}},{key:"buildVectorSource",value:function(){var t="";t="".concat(I.a.config.HEAT_MAP_DATA);var e="&appName=kircp_name&serviceNames=".concat(this.serviceName,"&radius=60&pageNo=0&mvtTag=1&zoomLevel=").concat(this._zoom,"&pageSize=100000&layerName=").concat(this.vectorLayerName);e=this.includes.reduce(function(t,e){return t+"&includes=".concat(e)},e),e+="&filterMvtTerms=".concat(JSON.stringify(this.filterTerms)),t+=e=encodeURI(e),I.a.map.map.addSource(this.sourceId,{type:"vector",tiles:[t]})}},{key:"buildVectorLayer",value:function(){this.buildLayer(this.vectorLayerName)}},{key:"removeLayer",value:function(){this.map.off("moveend",this._onmoveend),this._removeTimerDevice(),y()(g()(e.prototype),"remove",this).call(this)}},{key:"_getBasicLayer",value:function(){return this.clustered?this.layerId+"circle":this.symbolLayerId}}]),e}(C.a))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"MixedClusterLayerMVT",function(){return T});var r=n(165),i=(n.n(r),n(160)),o=(n.n(i),n(74)),s=n.n(o),a=n(101),u=n.n(a),c=n(158),l=n.n(c),A=n(163),h=n.n(A),p=n(157),f=n.n(p),g=n(388),d=n.n(g),y=n(159),v=n.n(y),m=n(395),C=n(102),I=n(156),_=n(708),b=n(431),w=n(707),E=n(432),B=n(408),x=n(452),O=n(746),T=(n.n(O),function(t){function e(t,n){var r;return s()(this,e),(r=l()(this,f()(e).call(this)))._callback=n,r.map=C.a.map.map,r.vectorLayerName=r.sourceId,r.layerVisible=!0,I.a.bindAll(["_clusterItemMouseoverCb","_onData","updateMarkers"],h()(r)),I.a.objectAssign(h()(r),t),r.userTerms=t.mixTerms||null,r.spriteIconConf=C.a.spriteManager.getSpriteImg(r.clusterIcon),r.spriteIconConf||console.error("找不到"+r.clusterIcon+"对应的雪碧图"),r.clusterType="backend",r.buildVectorSource(),r.buildVectorLayer(),r.OverlayGroup=new b.b("marker",[],r.layerId),r.map.on("data",r._onData),r}return v()(e,t),u()(e,[{key:"buildVectorSource",value:function(){var t="".concat(C.a.config.SERVICE_AGGS_MVT),e=this.serviceName||this.serviceNames[0],n="&appName=".concat(C.a.config.BUSINESS_APPNAME);this.isPublic&&(e="device_base",n="&appName=".concat(C.a.config.PUBLIC_APPNAME));var r=C.a.config.CLUSTERED_RADIUS||40,i=n+"&serviceNames=".concat(e)+"&layerName=".concat(this.vectorLayerName)+"&aggTag=true&radius="+r;this.userTerms&&(i+="&filterMvtTerms="+JSON.stringify(this.userTerms)),t+=i=encodeURI(i),C.a.map.map.addSource(this.sourceId,{type:"vector",tiles:[t]})}},{key:"buildVectorLayer",value:function(){this.buildUnClusterLayer(this.vectorLayerName),this.iconTextStyle&&this.buildIconTextLayer(this.vectorLayerName)}},{key:"_onData",value:function(t){t.sourceId===this.sourceId&&t.isSourceLoaded&&(this.map.on("moveend",this.updateMarkers),this.updateMarkers(),this._callback&&this._callback(this.layerId),delete this._callback)}},{key:"updateMarkers",value:function(){var t=C.a.map.map.querySourceFeatures(this.sourceId,{sourceLayer:this.vectorLayerName,filter:["all",["any",[">","aggsCount",1],[">","point_count",1]]]});this.renderMarkers(t,"backend")}},{key:"renderMarkers",value:function(t,e){var n=this;if(this._removeBounds(),0!==t.length&&(t.map(function(t){return n._createMarker(t,e),t}),this.customMarkerType)){var r={clusterLayer:this,type:this.customMarkerType,mapCache:C.a};this.clusterSpreadMouseoverHandler&&(r.clusterSpreadMouseoverHandler=this._clusterItemMouseoverCb),this.clusterSpreadMouseleaveHandler&&(r.clusterSpreadMouseleaveHandler=this.clusterSpreadMouseleaveHandler),r.DOMDelegateEvent=x.a,Object(_.a)(r)}}},{key:"_clusterItemMouseoverCb",value:function(t){var e=t.currentTarget,n=JSON.parse(e.getAttribute("_info_"));this.clusterSpreadMouseoverHandler(t,n)}},{key:"_removeBounds",value:function(){b.a.getGroupDepts("marker",this.layerId).clearOverlays()}},{key:"_createMarker",value:function(t,e){var n=t.geometry.coordinates,r=t.properties;"string"==typeof r.aggsValue&&(r.aggsValue.indexOf("[")>-1?r.aggsValue=JSON.parse(r.aggsValue):r.aggsValue.indexOf(",")>-1&&(r.aggsValue=r.aggsValue.split(",")));var i=document.createElement("div"),o="";this.customMarkerType&&w.a[this.customMarkerType]&&(o=w.a[this.customMarkerType]),o=o.replace("{{COUNT}}",r.sum||r.aggsCount||1),i.innerHTML=o,i.setAttribute("_anchor","translate(-50%,-50%)"),i.style.pointerEvents="none",r.layerId=this.layerId,r.clusterType=e,r.coordinates=n,r.userTerms=this.mixTerms||[];var s=i.getElementsByClassName("sprite-icon");this.spriteIconConf&&(s[0].setAttribute("src",this.spriteIconConf.spriteURL),s[0].style.width=this.spriteIconConf.width/this.spriteIconConf.pixelRatio+"px",s[0].style.height=this.spriteIconConf.height/this.spriteIconConf.pixelRatio+"px");var a=new E.a({element:i});return this.layerVisible||(i.style.display="none"),a.setProperty(JSON.stringify(r)),a.setLngLat(n),this.OverlayGroup.addOverlay(a),a}},{key:"addEvent",value:function(t,n,r){d()(f()(e.prototype),"addEvent",this).call(this,t,n),this.addMarkerLayerEvent(r,t,n)}},{key:"addMarkerLayerEvent",value:function(t,e,n){var r=this,i=b.a.getGroupDepts("marker",t);i&&i.addEvent(e,function(e){var i=e.currentTarget;if(e.target.matches(".cluster-img")){var o=i.getAttribute("__customProps__"),s=JSON.parse(o),a=s.coordinates,u=s.bbox,c=s.userTerms,l=s.clusterType,A={type:"aggs",data:[],location:a,bbox:u,userTerms:c||[],isPublic:r.isPublic},h=s.cluster_id;if("101"===l||"backend"===l)A.data=[{aggsName:s.aggsName,aggsValue:s.aggsValue}];else if("100"===l||"frontend"===l){var p=C.a.mixClusterSuperIndex[t].getLeaves(+h,1/0);A.type="details",delete A.bbox,A.data=p.map(function(t){return t.properties})}n(e,A)}})}},{key:"removeEvent",value:function(t){B.b.off(this.map)(t,this.layerId),this.removeMarkerLayerEvent(t)}},{key:"removeMarkerLayerEvent",value:function(t){var e=b.a.getGroupDepts("marker",this.layerId);e&&e.removeEvent(t)}},{key:"removeLayer",value:function(){this.map.off("moveend",this.updateMarkers);var t=b.a.getGroupDepts("marker",this.layerId);t.clearOverlays(),t.clearEvents(),Object(_.b)(this.layerId,this.customMarkerType,x.a),this._removeTimerDevice(),d()(f()(e.prototype),"remove",this).call(this)}}]),e}(m.a))}]));